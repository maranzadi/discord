(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[76022],{799050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(47354),a=r(377371),o=u(r(636602)),l=u(r(351772)),i=r(770348);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,a,o,l){try{var i=e[o](l),u=i.value}catch(e){r(e);return}i.done?t(u):Promise.resolve(u).then(n,a)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function l(e){s(o,n,a,l,i,"next",e)}function i(e){s(o,n,a,l,i,"throw",e)}l(void 0)}))}}var d={signup:function(e,t){return l.default.post({url:i.Endpoints.HUB_WAITLIST_SIGNUP,body:{email:e,school:t},trackedActionData:{event:n.NetworkActionNames.HUB_WAITLIST_SIGNUP,properties:function(e){var t,r=!1,n=null==e||null===(t=e.body)||void 0===t?void 0:t.email_domain;if(null!=n){r=-1!==n.split(".").indexOf("edu")}return(0,a.exact)({is_edu_email:r})}}})},
sendVerificationEmail:function(e,t,r){return f(regeneratorRuntime.mark((function o(){var u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:o.next=2;return l.default.post({url:i.Endpoints.HUB_EMAIL_VERIFY_SEND,body:{email:e,guild_id:r,allow_multiple_guilds:t,use_verification_code:!0},trackedActionData:{event:n.NetworkActionNames.HUB_EMAIL_VERIFY_SEND,properties:function(e){var t,r=null==e||null===(t=e.body)||void 0===t?void 0:t.has_matching_guild;return(0,a.exact)({has_matching_guild:r})}}});case 2:u=o.sent;return o.abrupt("return",u.body);case 4:case"end":return o.stop()}}),o)})))()},verify:function(e){return f(regeneratorRuntime.mark((function t(){var r,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=12;break}t.prev=1;t.next=4;return l.default.post({url:i.Endpoints.HUB_EMAIL_VERIFY,body:{token:e},trackedActionData:{event:n.NetworkActionNames.HUB_EMAIL_VERIFY}});case 4:a=t.sent
;u=null===(r=a.body.guild)||void 0===r?void 0:r.id;o.default.dispatch({type:i.ActionTypes.HUB_VERIFY_EMAIL_SUCCESS,guildId:u});t.next=12;break;case 9:t.prev=9;t.t0=t.catch(1);o.default.dispatch({type:i.ActionTypes.HUB_VERIFY_EMAIL_FAILURE,errors:t.t0.body});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},verifyCode:function(e,t,r){return f(regeneratorRuntime.mark((function a(){var u,s,f;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(null==e){a.next=14;break}a.prev=1;a.next=4;return l.default.post({url:i.Endpoints.HUB_EMAIL_VERIFY_CODE,body:{code:e,guild_id:t,email:r},trackedActionData:{event:n.NetworkActionNames.HUB_EMAIL_VERIFY}});case 4:s=a.sent;f=null===(u=s.body.guild)||void 0===u?void 0:u.id;o.default.dispatch({type:i.ActionTypes.HUB_VERIFY_EMAIL_SUCCESS,guildId:f});return a.abrupt("return",s.body);case 10:a.prev=10;a.t0=a.catch(1);o.default.dispatch({type:i.ActionTypes.HUB_VERIFY_EMAIL_FAILURE,errors:a.t0.body});throw a.t0;case 14:
case"end":return a.stop()}}),a,null,[[1,10]])})))()}};t.default=d},948027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=(0,r(373505).createExperiment)({kind:"user",id:"2021-06_hub_email_connection",label:"Hub Email Connection",defaultConfig:{showModal:!1,showTab:!1,forceShowModal:!1},treatments:[{id:1,label:"Show email connection modal",config:{showModal:!0,showTab:!0,forceShowModal:!1}},{id:2,label:"Force show email connection modal",config:{showModal:!0,showTab:!0,forceShowModal:!0}}]});t.default=n},218813:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=p(r(730381)),a=r(923387),o=p(r(737863)),l=r(203847),i=p(r(30098)),u=p(r(728429)),s=r(42031),f=p(r(71636)),d=p(r(948027)),c=r(770348);function p(e){return e&&e.__esModule?e:{default:e}}var v={init:function(e){var t=e.hasModalOpen,r=e.openModal;s.ProcessArgs.isDisallowPopupsSet()||o.default.call((function(){
var e=u.default.getCurrentUser(),o=null!=e&&(0,n.default)().diff((0,n.default)(f.default.extractTimestamp(e.id)),"days")<3,s=null!=Object.values(i.default.getGuilds()).find((function(e){return e.hasFeature(c.GuildFeatures.HUB)})),p=!(0,l.isDismissibleContentDismissed)(a.DismissibleContent.HUB_WAITLIST_UPSELL);if(o||t()||s||!p){d.default.getCurrentConfig({}).forceShowModal&&r()}else{d.default.trackExposure({});if(d.default.getCurrentConfig({}).showModal){r();(0,l.markDismissibleContentAsShown)(a.DismissibleContent.HUB_WAITLIST_UPSELL)}}}))},hideHubUpsell:function(){(0,l.markDismissibleContentAsDismissed)(a.DismissibleContent.HUB_WAITLIST_UPSELL)}};t.default=v},612076:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(667294)),o=E(r(294184)),l=E(r(799050)),i=r(327269),u=E(r(644263)),s=E(r(956117)),f=E(r(279950)),d=r(354479),c=r(688388),p=E(r(971639)),v=E(r(776360)),m=r(485280),_=E(r(247001)),y=E(r(404029));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function N(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,
props:t,_owner:null}}function I(e,t,r,n,a,o,l){try{var i=e[o](l),u=i.value}catch(e){r(e);return}i.done?t(u):Promise.resolve(u).then(n,a)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done);l=!0){o.push(n.value);if(t&&o.length===t)break}}catch(e){i=!0;a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=(0,d.uid)(),C=function(e){var t=e.setStep,r=e.setGuildsInfo,n=e.email,d=e.setEmail,E=e.setGuildId,S=e.invite,g=e.onClose,C=e.isNUXFlow,O=b(a.useState(null),2),A=O[0],w=O[1],M=b(a.useState(!1),2),T=M[0],R=M[1],U=function(){var e,a=(e=regeneratorRuntime.mark((function e(a){var o,s,f,d,c,p,v,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault();w(null);R(!0);e.prev=3;(p=null!==(o=null!==(s=null==S||null===(f=S.guild)||void 0===f?void 0:f.id)&&void 0!==s?s:null===(d=u.default.getChannel(null==S||null===(c=S.channel)||void 0===c?void 0:c.id))||void 0===d?void 0:d.getGuildId())&&void 0!==o?o:void 0)===m.INVITE_ROUTING_HUB_GUILD_ID&&(p=void 0);e.next=8
;return l.default.sendVerificationEmail(n,!0,p);case 8:v=e.sent;_=v.guilds_info;if(!v.has_matching_guild){e.next=16;break}E(p);t(m.HubEmailConnectionSteps.VERIFY_PIN);e.next=29;break;case 16:if(0!==_.length){e.next=20;break}t(m.HubEmailConnectionSteps.SUBMIT_SCHOOL);e.next=29;break;case 20:if(1!==_.length){e.next=27;break}E(_[0].id);e.next=24;return l.default.sendVerificationEmail(n,!0,_[0].id);case 24:t(m.HubEmailConnectionSteps.VERIFY_PIN);e.next=29;break;case 27:r(_);t(m.HubEmailConnectionSteps.SELECT_SCHOOL);case 29:e.next=34;break;case 31:e.prev=31;e.t0=e.catch(3);w(new i.APIError(e.t0));case 34:e.prev=34;R(!1);return e.finish(34);case 37:case"end":return e.stop()}}),e,null,[[3,31,34,37]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function l(e){I(o,n,a,l,i,"next",e)}function i(e){I(o,n,a,l,i,"throw",e)}l(void 0)}))});return function(e){return a.apply(this,arguments)}
}(),L=_.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_HEADER,P=_.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_DESCRIPTION;if(C){L=_.default.Messages.HUB_EMAIL_CONNECTION_NUX_HEADER;P=_.default.Messages.HUB_EMAIL_CONNECTION_NUX_CONTENT_DESCRIPTION}else if(null!=(null==S?void 0:S.guild)&&S.guild.id!==m.INVITE_ROUTING_HUB_GUILD_ID&&null!=(null==S?void 0:S.approximate_member_count)){var H=S.guild.name;L=_.default.Messages.HUB_EMAIL_CONNECTION_INVITE_HEADER.format({guildName:H,count:S.approximate_member_count})}return N("div",{className:y.default.container},void 0,N("div",{className:y.default.topImage}),N(p.default,{className:(0,o.default)(y.default.centerText,y.default.header),size:v.default.Sizes.SIZE_24},void 0,L),N("div",{className:y.default.descriptionWidth},void 0,N(v.default,{className:y.default.centerText,size:v.default.Sizes.SIZE_14,color:v.default.Colors.HEADER_SECONDARY},void 0,P)),N("form",{className:y.default.formContent,onSubmit:U
},void 0,N(c.FormItem,{},void 0,N(c.FormTitle,{id:h},void 0,_.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_INPUT_HEADER),N(f.default,{placeholder:_.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_INPUT_PLACEHOLDER,onChange:function(e){d(e)},error:null==A?void 0:A.getAnyErrorMessage(),"aria-labelledby":h})),N(v.default,{color:v.default.Colors.HEADER_SECONDARY,className:y.default.formDescription,size:v.default.Sizes.SIZE_14},void 0,_.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_INPUT_DESCRIPTION),N(s.default,{type:"submit",size:s.default.Sizes.LARGE,color:s.default.Colors.BRAND,className:y.default.submitButton,submitting:T},void 0,N(v.default,{className:y.default.submitText,size:v.default.Sizes.SIZE_14},void 0,_.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_BUTTON)),C&&N(s.default,{look:s.default.Looks.LINK,color:y.default.cancelButton,onClick:g,className:y.default.cancelButton},void 0,_.default.Messages.HUB_EMAIL_CONNECTION_CANCEL)))};C.displayName="HubEmailConnectionContent";var O=C
;t.default=O},71283:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(667294)),o=d(r(612076)),l=d(r(10467)),i=d(r(703932)),u=d(r(663916)),s=d(r(88428)),f=r(485280);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function p(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={
children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done);l=!0){o.push(n.value);if(t&&o.length===t)break}}catch(e){i=!0;a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _=function(e){var t=e.onClose,r=e.invite,n=e.forceGuildScrollHeight,d=void 0===n||n,c=e.isNUXFlow,m=v(a.useState([f.HubEmailConnectionSteps.VERIFY_EMAIL]),2),_=m[0],y=m[1],E=v(a.useState(""),2),S=E[0],N=E[1],I=v(a.useState(""),2),b=I[0],g=I[1],h=v(a.useState(void 0),2),C=h[0],O=h[1],A=v(a.useState([]),2),w=A[0],M=A[1],T=function(e){var t=_.concat(e);y(t.slice(-4))};switch(_[_.length-1]){case f.HubEmailConnectionSteps.VERIFY_EMAIL:return p(o.default,{setGuildsInfo:M,setStep:T,email:S,setEmail:N,setGuildId:O,invite:r,onClose:t,isNUXFlow:c});case f.HubEmailConnectionSteps.SELECT_SCHOOL:return p(l.default,{guildsInfo:w,setStep:T,email:S,setGuildId:O,forceGuildScrollHeight:d});case f.HubEmailConnectionSteps.SUBMIT_SCHOOL:
return p(i.default,{onBack:function(){if(_.length>1){var e=_.slice(0,-1);y(e.slice(-4))}},setStep:T,email:S,school:b,setSchool:g});case f.HubEmailConnectionSteps.VERIFY_PIN:return p(u.default,{email:S,onClose:t,guildId:C});case f.HubEmailConnectionSteps.EMAIL_WAITLIST:return p(s.default,{setStep:T,school:b});default:return null}};t.default=_},10467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n
}(r(667294)),o=g(r(294184)),l=g(r(824390)),i=g(r(799050)),u=r(327269),s=g(r(539563)),f=g(r(16941)),d=g(r(380439)),c=g(r(535813)),p=g(r(80828)),v=g(r(971639)),m=g(r(272544)),_=g(r(776360)),y=r(582945),E=g(r(692711)),S=r(485280),N=g(r(247001)),I=g(r(696481)),b=g(r(489893));function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function C(e,t,r,n,a,o,l){try{var i=e[o](l),u=i.value}catch(e){r(e);return}i.done?t(u):Promise.resolve(u).then(n,a)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function l(e){C(o,n,a,l,i,"next",e)}function i(e){C(o,n,a,l,i,"throw",e)}l(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{
for(r=r.call(e);!(l=(n=r.next()).done);l=!0){o.push(n.value);if(t&&o.length===t)break}}catch(e){i=!0;a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){
for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function T(e){var t,r=e.guildInfo,n=e.onClick,a=e.submitting,o=null!==(t=E.default.getGuildIconURL({id:r.id,icon:r.icon,size:40}))&&void 0!==t?t:void 0;return M(f.default,{className:I.default.clickableGuildInfoRow,onClick:n},void 0,M(m.default,{mask:m.default.Masks.AVATAR_DEFAULT,width:40,height:40},void 0,M(d.default,{className:I.default.guildIcon,iconSrc:o,guild:new s.default(r),size:d.default.Sizes.MEDIUM})),M(_.default,{className:I.default.guildName,size:_.default.Sizes.SIZE_16},void 0,r.name),a?M(p.default,{type:p.default.Type.PULSING_ELLIPSIS}):M("img",{className:I.default.arrow,alt:"",src:b.default}))}T.displayName="GuildInfoRow";var R=function(e){
var t,r=e.setStep,n=e.email,s=e.guildsInfo,f=e.setGuildId,d=e.forceGuildScrollHeight,p=A(a.useState(null),2),m=p[0],E=p[1],b=A(a.useState(void 0),2),g=b[0],h=b[1],C=A(a.useState(null),2),w=C[0],R=C[1],U=function(){return r(S.HubEmailConnectionSteps.SUBMIT_SCHOOL)},L=s;null!=g&&""!==g&&(L=s.filter((function(e){return(0,l.default)(g.toLowerCase(),e.name.toLowerCase())})));return M("div",{className:I.default.container},void 0,M(v.default,{className:(0,o.default)(I.default.centerText,I.default.header),size:_.default.Sizes.SIZE_24},void 0,N.default.Messages.HUB_EMAIL_CONNECTION_GUILD_SELECT_HEADER),M("div",{className:I.default.description},void 0,M(_.default,{className:I.default.centerText,size:_.default.Sizes.SIZE_14,color:_.default.Colors.HEADER_SECONDARY},void 0,N.default.Messages.HUB_EMAIL_CONNECTION_GUILD_SELECT_SUBHEADER.format({onJoinWaitlist:U}))),M("div",{className:(0,o.default)(I.default.guildList,(t={},t[I.default.forcedHeight]=d,t))},void 0,M("div",{
className:I.default.searchContainer},void 0,M(c.default,{placeholder:N.default.Messages.SEARCH,className:I.default.searchBox,inputClassName:I.default.searchBoxInput,searchIconClassName:I.default.searchBoxIcon,closeIconClassName:I.default.searchBoxIcon,onChange:function(e){h(e)},label:N.default.Messages.SEARCH,searchTerm:g,onClear:function(){h(void 0)}}),M(_.default,{color:_.default.Colors.ERROR,size:_.default.Sizes.SIZE_12},void 0,null==m?void 0:m.getAnyErrorMessage())),L.length>0?M(y.ScrollerThin,{className:I.default.scroller},void 0,L.map((function(e){return void 0===e?null:M(T,{guildInfo:e,onClick:(t=e.id,O(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(null);f(t);R(t);e.prev=3;e.next=6;return i.default.sendVerificationEmail(n,!0,t);case 6:r(S.HubEmailConnectionSteps.VERIFY_PIN);e.next=12;break;case 9:e.prev=9;e.t0=e.catch(3);E(new u.APIError(e.t0));case 12:e.prev=12;R(null);return e.finish(12);case 15:
case"end":return e.stop()}}),e,null,[[3,9,12,15]])})))),submitting:w===e.id},e.id);var t}))):M("div",{className:I.default.noResultsContainer},void 0,M("div",{className:I.default.noResultsContent},void 0,M("div",{className:I.default.noResultsImage}),M(v.default,{className:(0,o.default)(I.default.centerText,I.default.header),size:_.default.Sizes.SIZE_24},void 0,N.default.Messages.HUB_EMAIL_CONNECTION_GUILD_SELECT_NO_RESULTS_HEADER),M(_.default,{className:I.default.centerText,size:_.default.Sizes.SIZE_16},void 0,N.default.Messages.HUB_EMAIL_CONNECTION_GUILD_SELECT_NO_RESULTS_SUBHEADER.format({onJoinWaitlist:U}))))))};R.displayName="HubEmailConnectionGuildSelect";var U=R;t.default=U},376022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HubEmailConnectionModalView=void 0;t.default=E;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e)
;var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(667294)),o=r(47354),l=v(r(885986)),i=r(3400),u=v(r(218813)),s=v(r(71283)),f=v(r(380600)),d=r(33989),c=v(r(247001)),p=v(r(110643));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function _(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,
ref:null,props:t,_owner:null}}var y=_(f.default,{});function E(e){var t=e.transitionState,r=e.onClose,n=e.isNUXFlow;a.useEffect((function(){u.default.hideHubUpsell();n&&l.default.flowStep(d.FlowType.ORGANIC,d.RegistrationSteps.HUB_CONNECTION)}),[n]);return _(i.ModalRoot,{className:p.default.modalRoot,transitionState:t,"aria-label":c.default.Messages.HUB_WAITLIST_MODAL_JOIN_HEADER,impressionName:o.ImpressionNames.HUB_EMAIL_SIGNUP},void 0,_(i.ModalContent,{style:{overflow:"hidden",paddingRight:"0px"},paddingFix:!1,className:p.default.modalContent},void 0,_("div",{className:p.default.container},void 0,_("div",{className:p.default.sidebarContainer},void 0,y),_("div",{className:p.default.contentContainer},void 0,_(i.ModalCloseButton,{onClick:r,className:p.default.closeButton}),_(s.default,{isNUXFlow:n,onClose:r})))))}E.displayName="HubEmailConnectionModal";var S=_(f.default,{}),N=function(e){var t=e.invite;return _("div",{className:p.default.container},void 0,_("div",{
className:p.default.sidebarContainer},void 0,S),_("div",{className:p.default.contentContainer},void 0,_(s.default,{invite:t})))};t.HubEmailConnectionModalView=N;N.displayName="HubEmailConnectionModalView"},380600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n)}(r(667294));var n,a=i(r(776360)),o=i(r(247001)),l=i(r(870472));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function s(e,t,r,a){
n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=function(){return s("div",{className:l.default.container},void 0,s("div",{className:l.default.iconContainer},void 0,s("div",{className:l.default.icon})),s(a.default,{strong:!0,color:a.default.Colors.HEADER_PRIMARY,size:a.default.Sizes.SIZE_20,className:l.default.header},void 0,o.default.Messages.HUB_EMAIL_CONNECTION_SIDEBAR_HEADER),s(a.default,{color:a.default.Colors.HEADER_SECONDARY,size:a.default.Sizes.SIZE_14,className:l.default.description},void 0,o.default.Messages.HUB_EMAIL_CONNECTION_SIDEBAR_DESCRIPTION.format()))};f.displayName="HubEmailConnectionSidebar";var d=f
;t.default=d},703932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(667294)),o=E(r(294184)),l=E(r(799050)),i=r(327269),u=E(r(956117)),s=E(r(279950)),f=r(354479),d=r(688388),c=E(r(971639)),p=E(r(776360)),v=r(485280),m=r(770348),_=E(r(247001)),y=E(r(971932));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function N(e,t,r,a){
n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function I(e,t,r,n,a,o,l){try{var i=e[o](l),u=i.value}catch(e){r(e);return}i.done?t(u):Promise.resolve(u).then(n,a)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function l(e){I(o,n,a,l,i,"next",e)}function i(e){I(o,n,a,l,i,"throw",e)}l(void 0)}))}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done);l=!0){o.push(n.value)
;if(t&&o.length===t)break}}catch(e){i=!0;a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=(0,f.uid)(),O=function(e){var t=e.email,r=e.setStep,n=e.onBack,f=e.school,E=e.setSchool,S=g(a.useState(null),2),I=S[0],h=S[1],O=g(a.useState(!1),2),A=O[0],w=O[1],M=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:h(null);w(!0);e.prev=2;e.next=5;return l.default.signup(t,f);case 5:r(v.HubEmailConnectionSteps.EMAIL_WAITLIST);e.next=11;break;case 8:e.prev=8;e.t0=e.catch(2);h(new i.APIError(e.t0));case 11:e.prev=11;w(!1);return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=b(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==f||""===f||t.charCode!==m.KeyboardKeys.ENTER){e.next=3;break}e.next=3;return M();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return N("div",{className:y.default.container},void 0,N("div",{className:y.default.topImage}),N(c.default,{className:(0,o.default)(y.default.centerText,y.default.header),size:p.default.Sizes.SIZE_24},void 0,_.default.Messages.HUB_EMAIL_CONNECTION_SCHOOL_SUBMIT_HEADER),N("div",{
className:y.default.descriptionWidth},void 0,N(p.default,{className:y.default.centerText,size:p.default.Sizes.SIZE_14,color:p.default.Colors.HEADER_SECONDARY},void 0,_.default.Messages.HUB_EMAIL_CONNECTION_SCHOOL_SUBMIT_DESCRIPTION)),N(d.FormItem,{className:y.default.formItem},void 0,N(d.FormTitle,{id:C},void 0,_.default.Messages.HUB_EMAIL_CONNECTION_SCHOOL_SUBMIT_INPUT_HEADER),N(s.default,{onKeyPress:T,placeholder:_.default.Messages.HUB_EMAIL_CONNECTION_SCHOOL_SUBMIT_INPUT_PLACEHOLDER,onChange:function(e){E(e)},error:null==I?void 0:I.getAnyErrorMessage(),"aria-labelledby":C})),N("div",{className:y.default.footer},void 0,N(u.default,{className:y.default.backButton,onClick:n,look:u.default.Looks.LINK,size:u.default.Sizes.NONE,color:u.default.Colors.PRIMARY},void 0,_.default.Messages.BACK),N(u.default,{onClick:M,size:u.default.Sizes.MEDIUM,color:u.default.Colors.BRAND,className:y.default.submitButton,submitting:A},void 0,N(p.default,{className:y.default.submitText,
size:p.default.Sizes.SIZE_14},void 0,_.default.Messages.JOIN_WAITLIST))))};O.displayName="HubEmailConnectionSubmitSchool";var A=O;t.default=A},663916:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=N(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(667294)),o=S(r(294184)),l=S(r(496486)),i=S(r(799050)),u=r(327269),s=r(139982),f=S(r(956117)),d=S(r(279950)),c=r(354479),p=r(688388),v=S(r(971639)),m=S(r(776360)),_=r(770348),y=S(r(247001)),E=S(r(286458));function S(e){return e&&e.__esModule?e:{default:e}}function N(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(N=function(e){return e?r:t})(e)}function I(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function b(e,t,r,n,a,o,l){try{var i=e[o](l),u=i.value}catch(e){r(e);return}i.done?t(u):Promise.resolve(u).then(n,a)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function l(e){b(o,n,a,l,i,"next",e)}function i(e){b(o,n,a,l,i,"throw",e)}l(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done);l=!0){o.push(n.value);if(t&&o.length===t)break}}catch(e){i=!0;a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=(0,c.uid)(),A=function(e){
var t=e.email,r=e.guildId,n=e.onClose,c=h(a.useState(""),2),S=c[0],N=c[1],b=h(a.useState(null),2),C=b[0],A=b[1],w=a.useCallback(g(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==r){e.next=11;break}e.prev=1;e.next=4;return i.default.verifyCode(S,r,t);case 4:if((a=e.sent).guild){null==n||n();(0,s.transitionTo)(_.Routes.CHANNEL(a.guild.id))}e.next=11;break;case 8:e.prev=8;e.t0=e.catch(1);A(new u.APIError(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[S,t,r,n]),M=l.default.throttle((function(){i.default.sendVerificationEmail(t,!0,r)}),1e3),T=function(){var e=g(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==S||""===S||t.charCode!==_.KeyboardKeys.ENTER){e.next=3;break}e.next=3;return w();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return I("div",{
className:E.default.container},void 0,I("div",{className:E.default.topImage}),I(v.default,{className:(0,o.default)(E.default.centerText,E.default.header),size:m.default.Sizes.SIZE_24},void 0,y.default.Messages.HUB_VERIFY_EMAIL_ADDRESS),I("div",{className:E.default.descriptionWidth},void 0,I(m.default,{className:E.default.centerText,size:m.default.Sizes.SIZE_14,color:m.default.Colors.HEADER_SECONDARY},void 0,y.default.Messages.HUB_PIN_DESCRIPTION.format({email:t,onClick:M}))),I(p.FormItem,{className:E.default.formItem},void 0,I(p.FormTitle,{id:O},void 0,y.default.Messages.HUB_ENTER_PIN),I(d.default,{onKeyPress:T,label:y.default.Messages.HUB_ENTER_PIN,onChange:function(e){null!=e&&""!==e&&N(e)},error:null==C?void 0:C.getAnyErrorMessage(),"aria-labelledby":O})),I(f.default,{fullWidth:!0,onClick:w,size:f.default.Sizes.LARGE,color:f.default.Colors.BRAND},void 0,I(m.default,{className:E.default.submitText,size:m.default.Sizes.SIZE_14},void 0,y.default.Messages.SUBMIT)))}
;A.displayName="HubEmailConnectionVerifyCode";var w=A;t.default=w},88428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n)}(r(667294));var n,a=d(r(294184)),o=d(r(956117)),l=d(r(971639)),i=d(r(776360)),u=r(485280),s=d(r(247001)),f=d(r(404029));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function p(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t=e.school,r=e.setStep;return p("div",{className:f.default.container},void 0,p("div",{className:f.default.topImage}),p(l.default,{className:(0,a.default)(f.default.centerText,f.default.header),size:i.default.Sizes.SIZE_24},void 0,s.default.Messages.HUB_WAITLIST_MODAL_JOINED_HEADER),p("div",{className:f.default.descriptionWidth},void 0,p(i.default,{className:f.default.centerText,size:i.default.Sizes.SIZE_14,color:i.default.Colors.HEADER_SECONDARY},void 0,s.default.Messages.HUB_WAITLIST_MODAL_JOINED_DESCRIPTION.format({school:t}))),p(o.default,{look:o.default.Looks.LINK,size:o.default.Sizes.SMALL,color:o.default.Colors.LINK,onClick:function(){
r(u.HubEmailConnectionSteps.VERIFY_EMAIL)},className:f.default.resendLink},void 0,s.default.Messages.HUB_EMAIL_CONFIRMATION_DIFFERENT_EMAIL))};v.displayName="HubEmailConnectionWaitlist";var m=v;t.default=m},33989:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RegistrationSteps=t.FlowType=t.CreateGuildSteps=t.ClaimAccountSteps=t.AgeGateSteps=void 0;var r,n,a,o,l;t.FlowType=r;!function(e){e.UNKNOWN="unknown";e.ANY="any";e.INVITE="invite";e.ORGANIC="organic_registration";e.ORGANIC_MARKETING="organic_marketing";e.ORGANIC_GUILD_TEMPLATES="organic_guild_template";e.CREATE_GUILD="create_guild"}(r||(t.FlowType=r={}));t.AgeGateSteps=n;!function(e){e.AGE_GATE="age_gate";e.AGE_GATE_UNDERAGE="age_gate_underage"}(n||(t.AgeGateSteps=n={}));t.ClaimAccountSteps=a;!function(e){e.CLAIM_ACCOUNT="claim_account";e.CLAIM_ACCOUNT_SUCCESS="claim_account_success"}(a||(t.ClaimAccountSteps=a={}));t.CreateGuildSteps=o;!function(e){e.GUILD_TEMPLATES="guild_templates"
;e.GUILD_CREATE="guild_create";e.CREATION_INTENT="creation_intent";e.CHANNEL_PROMPT="channel_prompt";e.JOIN_GUILD="join_guild";e.SUCCESS="create_success"}(o||(t.CreateGuildSteps=o={}));t.RegistrationSteps=l;!function(e){e.NUF_STARTED="nuf_started";e.AGE_GATE="age_gate";e.NUF_COMPLETE="nuf_complete";e.HUB_CONNECTION="hub_connection"}(l||(t.RegistrationSteps=l={}))},885986:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=f(r(219548)),a=f(r(972247)),o=f(r(791548)),l=f(r(308920)),i=r(33989),u=r(770348),s=["version"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function c(){c=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return c.apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++){r=o[n];t.indexOf(r)>=0||(a[r]=e[r])}return a}var v="UserFlowAnalyticsStore_current",m="UserFlowAnalyticsStore";new o.default("UserFlowAnalytics");function _(e){if(e===i.FlowType.UNKNOWN)return null;var t=a.default.get(m+"-"+e);if(null==t)return null;var r=t.version,n=p(t,s);return 1!==r?null:n}var y=(0,n.default)((function(e,t){return{flows:{},currentFlow:null,activeFlow:function(){var e,r=null!==(e=t().currentFlow)&&void 0!==e?e:a.default.get(v);if(null==r)return null;var n=t().flows[r],o=null!=n?n:_(r);return null!=(null==o?void 0:o.currentStep)?r:null}}}));y.subscribe((function(e){var t;if(null!=e){!function(e){if(e.type!==i.FlowType.UNKNOWN){var t=m+"-"+e.type;if(e.ended){a.default.remove(t);a.default.remove(v)}else{
a.default.set(m+"-"+e.type,c({},e,{version:1}));a.default.set(v,e.type)}}}(e);l.default.track(u.AnalyticEvents.NUO_TRANSITION,{flow_type:e.type,from_step:e.lastStep,to_step:e.currentStep,seconds_on_from_step:"function"!=typeof(null===(t=e.lastTimestamp)||void 0===t?void 0:t.getTime)?0:(e.currentTimestamp.getTime()-e.lastTimestamp.getTime())/1e3},{flush:!0});if(e.ended){var r=c({},y.getState().flows);delete r[e.type];y.setState({flows:r,currentFlow:null})}}}),(function(e){return null!=e.currentFlow?e.flows[e.currentFlow]:void 0}));function E(e,t){var r,n=y.getState().flows,a=n[e],o=p(n,[e].map(d)),l=null!=a?a:_(e);if(null!=(null==l?void 0:l.currentStep)){if(l.currentStep===t)return;0}y.setState({flows:c({},o,(r={},r[e]={type:e,lastStep:null,lastTimestamp:null,currentStep:t,currentTimestamp:new Date,skipped:!1},r)),currentFlow:e})}function S(e,t,r){var n;void 0===r&&(r=!1);var a=e;if(e===i.FlowType.ANY){var o;a=null!==(o=y.getState().activeFlow())&&void 0!==o?o:i.FlowType.UNKNOWN}
var l=y.getState().flows,u=l[a],s=p(l,[a].map(d)),f=null!=u?u:_(a);null!=f&&null!=f.currentStep&&f.currentStep!==t&&y.setState({flows:c({},s,(n={},n[a]=c({},f,{lastStep:f.currentStep,lastTimestamp:f.currentTimestamp,currentStep:t,currentTimestamp:new Date,ended:r}),n)),currentFlow:a})}function N(){return null!=y.getState().activeFlow()}var I={flowStart:E,flowStepOrStart:function(e,t){N()?S(e,t):E(e,t)},flowStep:S,hasActiveFlow:N};t.default=I},489893:(e,t,r)=>{e.exports=r.p+"dea5252276408a8bfca6dda585ca5216.svg"}}]);
//# sourceMappingURL=efb278e1216055e3d1a8.js.map