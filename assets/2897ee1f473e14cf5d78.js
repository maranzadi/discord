/*! For license information please see 2897ee1f473e14cf5d78.js.LICENSE.txt */
(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[59859,99999,50807,11315,9352,40856,13557,95835],{478717:(e,t,n)=>{var r={"./2017-11-16.mp4":684795,"./2019-12-17.mp4":662325,"./channel-following.png":15176,"./discovery.jpg":788557,"./discriminator.mp4":22625,"./g250k-cl.mp4":603628,"./header.mp4":879334,"./hypesquad-hack-week/header.png":133650,"./hypesquad-hack-week/paladins-loot.png":631896,"./ko-new-year.jpg":931806,"./league-rp-cl.mp4":425058,"./polish-week.png":428915,"./special-template/desktop-cta.png":561323,"./special-template/desktop-cta.svg":949223,"./special-template/header-left.svg":412466,"./special-template/header-right.svg":226586,"./special-template/mobile-cta.svg":373135,"./special-template/update-badge.svg":361850,"./stickers-launch/2020_PMM_STICKERS_Mrkt_BlogHdr_2500x1000.png":15808,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Left_180x220.png":227227,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Right_180x220.png":999455,
"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_Changelog_658X220.png":678811,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_FooterCTA_238x220.png":236340,"./stickers-launch/2020_PMM_STICKERS_Mrkt_MobileHero_375x190.png":359546,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Mobile_FooterCTA_343x78.png":35448,"./store.jpg":404252};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}a.keys=function(){return Object.keys(r)};a.resolve=o;e.exports=a;a.id=478717},259477:(e,t,n)=>{"use strict";n(984752);n(303798);n(373265);n(117883);n(473517);n(572935);n(825724);n(124778);n(86298);n(408643);n(179401);n(962935);n(677520);n(735592);n(84402);n(173101);n(943819);n(828339);n(330321);n(507794);n(930409);n(915574);n(864062);n(523946);n(805799);n(359342);n(86031);n(146411);n(897191);n(258079);n(187360);n(217964);n(82572);n(19566);n(782270);n(612548);n(730451);n(698099);n(864061);n(979674)
;n(282619);n(421010);n(960441);n(737931);n(887328);n(748762);n(607209);n(423046);n(743237);n(27245);n(881454);n(908463);n(493897);n(778548);n(882832);n(484024);n(644263);n(752996);n(917515);n(513266);n(8549);n(776115);n(909243);n(687549);n(433385);n(956704);n(126208);n(330445);n(23535);n(202904);n(811672);n(528429);n(250650);n(140868);n(517286);n(311492);n(737483);n(876874);n(680804);n(30098);n(832721);n(178504);n(958698);n(729748);n(226720);n(319111);n(361585);n(635014);n(847819);n(201292);n(144050);n(386716);n(950446);n(689389);n(662183);n(186798);n(788739);n(958281);n(220592);n(893160);n(191391);n(290629);n(205982);n(211136);n(790597);n(690445);n(121441);n(887609);n(397228);n(758602);n(359973);n(859024);n(946447);n(563621);n(257867);n(728429);n(189434);n(387692);n(535711);n(735653);n(905505);n(125150);n(417501);n(487372);n(106605);n(432310);n(693399);n(527501);n(81636)},588136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setHomeLink=function(e){
a.default.dirtyDispatch({type:o.ActionTypes.APP_VIEW_SET_HOME_LINK,link:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},360307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setCertifiedDevices=function(e,t){a.default.dispatch({type:o.ActionTypes.CERTIFIED_DEVICES_SET,applicationId:e,devices:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},241165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={showChangeLog:function(e){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_OPEN,query:e})},hideChangeLog:function(){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_CLOSE})}};t.default=i},642230:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchConsents=function(){return r.default.get({url:o.Endpoints.SETTINGS_CONSENT,oldFormErrors:!0}).then(s,(function(e){
return Promise.reject(new Error(e.body.message))}))};t.setConsents=function(e,t){return r.default.post({url:o.Endpoints.SETTINGS_CONSENT,body:{grant:e,revoke:t},oldFormErrors:!0}).then(s,d)};var r=u(n(118915)),a=u(n(636602)),o=n(770348),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e){null!=e&&null!=e.body&&a.default.dispatch({type:o.ActionTypes.UPDATE_CONSENTS,consents:l({},e.body)});return e.body}function d(e){var t;t=e.status>=500&&e.status<=599?i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED:null!=e&&null!=e.body&&null!=e.body.message?e.body.message:i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED;throw new Error(t)}},319076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dismiss=function(e){
a.default.dispatch({type:o.ActionTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS,skuId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},988754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.uninstallBranchPrompt=function(e,t,u){!function(e,t){var i=a.default.getGame(e);if(null==i){new r.default("DispatchUninstallActionCreators").log("Application not found for game "+e);return}(0,o.openModalLazy)(d(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(78530).then(n.bind(n,478530));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return a(l({game:i,onConfirmUninstall:t},e))}));case 5:case"end":return e.stop()}}),e)}))))}(e,(function(){return(0,i.uninstallApplication)(e,t,u)}))};var r=u(n(791548)),a=u(n(288356)),o=n(194322),i=n(27555);function u(e){return e&&e.__esModule?e:{default:e}}function l(){l=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},785460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sortList=function(e,t){a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_SORT_UPDATE,key:e,direction:t})};t.updateActiveRowKey=function(e,t){void 0===t&&(t=!1);a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE,key:e,isKeyboardEvent:t})};t.updateLibraryFilter=function(e){a.default.dispatch({type:o.ActionTypes.LIBRARY_APPLICATION_FILTER_UPDATE,query:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r
},o=n(770348)},229474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildAffinities=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}t.fetchGuildAffinities=function(){return r.default.get({url:o.Endpoints.GUILD_AFFINITIES,oldFormErrors:!0}).then((function(e){var t=e.body.guild_affinities;a.default.dispatch({type:o.ActionTypes.LOAD_GUILD_AFFINITIES_SUCCESS,guildAffinities:t})}),(function(){a.default.dispatch({type:o.ActionTypes.LOAD_GUILD_AFFINITIES_FAILURE})}))}},72690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={move:function(e,t){a.default.dispatch({type:o.ActionTypes.INCOMING_CALL_MOVE,x:e,y:t})}};t.default=i},668471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addInstallLocation=function(e){a.default.queryDirectory(e,(function(t,n){
null==t&&null!=n&&r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_ADD,path:e,metadata:n})}))};t.fetchMetadata=function(e){for(var t,n={},i=0,l=function(){var u=t.value;if(null==u||"string"!=typeof u)return"continue";a.default.queryDirectory(u,(function(t,a){++i;null==t&&null!=a&&(n[u]=a);i===e.length&&r.default.dirtyDispatch({type:o.ActionTypes.INSTALLATION_LOCATION_FETCH_METADATA,metadataPayload:n})}))},s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=s()).done;)l()};t.removeInstallLocation=function(e){r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_REMOVE,path:e})};t.updateInstallLocation=function(e,t){var n=t.label,a=t.isDefault;r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_UPDATE,path:e,label:n,isDefault:a})};var r=i(n(636602)),a=i(n(643868)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},671694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createTestModeLibraryApplications=function(e){return c.apply(this,arguments)};t.fetchLibrary=function(){return f.apply(this,arguments)};t.setActiveLaunchOptionId=function(e,t,n){a.default.dispatch({
type:u.ActionTypes.LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE,applicationId:e,branchId:t,launchOptionId:n})};var r=l(n(118915)),a=l(n(636602)),o=l(n(329297)),i=n(204785),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(){return(f=d(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,i.httpGetWithCountryCodeQuery)({url:u.Endpoints.LIBRARY,oldFormErrors:!0},!1);case 3:t=e.sent;a.default.dispatch({type:u.ActionTypes.LIBRARY_FETCH_SUCCESS,libraryApplications:t.body});e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);a.default.dispatch({
type:u.ActionTypes.LIBRARY_FETCH_FAIL,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function c(){return(c=d(regeneratorRuntime.mark((function e(t){var n,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.primarySkuId)){e.next=3;break}return e.abrupt("return");case 3:e.next=5;return r.default.get({url:u.Endpoints.APPLICATION_BRANCH_LIST(t.id),oldFormErrors:!0}).then((function(e){return e.body}));case 5:i=e.sent;l=i.map((function(e){return o.default.createForTestMode({id:t.id,skuId:n,branch:e})}));a.default.dispatch({type:u.ActionTypes.LIBRARY_APPLICATIONS_TEST_MODE_ENABLED,libraryApplications:l});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},297279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchActivityStatistics=function(){return f.apply(this,arguments)};var r=u(n(118915)),a=u(n(636602)),o=u(n(194198)),i=n(770348);function u(e){
return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))}}var d=216e5;function f(){return(f=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=o.default.lastFetched)&&Date.now()-t<d)){e.next=3;break}return e.abrupt("return");case 3:e.prev=3;e.next=6;return r.default.get({url:i.Endpoints.USER_ACTIVITY_STATISTICS,oldFormErrors:!0});case 6:n=e.sent;a.default.dispatch({type:i.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body});e.next=13;break;case 10:e.prev=10;e.t0=e.catch(3);return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}},
24794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.connect=l;t.createLobby=function(e,t,n){return r.default.post({url:o.Endpoints.LOBBIES,body:u({application_id:t},n),retries:1,oldFormErrors:!0}).then((function(t){var n=t.body;return l(e,n.id,n.secret)}))};t.deleteLobby=function(e){return r.default.delete({url:o.Endpoints.LOBBY(e),body:{},retries:1,oldFormErrors:!0}).then(o.NOOP)};t.disconnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_DISCONNECT,lobbyId:e})};t.search=function(e){return r.default.post({url:o.Endpoints.LOBBY_SEARCH,body:e,oldFormErrors:!0}).then((function(e){return e.body}))};t.send=function(e,t){return r.default.post({url:o.Endpoints.LOBBY_SEND(e),body:{data:t},oldFormErrors:!0}).then(o.NOOP)};t.updateLobby=function(e,t){return r.default.patch({url:o.Endpoints.LOBBY(e),body:u({},t),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.updateLobbyMember=function(e,t,n){return r.default.patch({url:o.Endpoints.LOBBY_MEMBER(e,t),
body:u({},n),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.voiceConnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_VOICE_CONNECT,lobbyId:e})};t.voiceDisconnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_VOICE_DISCONNECT,lobbyId:e})};var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}function l(e,t,n){return new Promise((function(r,i){a.default.dispatch({type:o.ActionTypes.LOBBY_CONNECT,socketId:e,lobbyId:t,lobbySecret:n,resolve:r,reject:i})}))}},720409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_CLOSE,id:e})};t.hide=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_HIDE,id:e})}
;t.moveTo=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_MOVE,id:e,position:t})};t.open=function(e,t,n){void 0===n&&(n={});a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_OPEN,id:e,component:t,props:n})};t.show=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_SHOW,id:e})};t.switchPIPFocus=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW,id:e})};t.updateRect=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_UPDATE_RECT,id:e,rect:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},597362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={clearRemoteDisconnectVoiceChannelId:function(){a.default.dispatch({type:o.ActionTypes.CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID})}};t.default=i},221185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetchRegions:function(e){r.default.get({url:o.Endpoints.REGIONS(e),retries:1,oldFormErrors:!0}).then((function(t){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:t.body,guildId:e})}),(function(){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:[],guildId:e})}))},changeCallRegion:function(e,t){r.default.patch({url:o.Endpoints.CALL(e),body:{region:t},oldFormErrors:!0})}};t.default=u},105988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={setEnabled:function(e){this.update({enabled:e})},update:function(e){for(var t,n=i(Object.keys(e));!(t=n()).done;){var r=t.value;a.default.dispatch({type:o.ActionTypes.STREAMER_MODE_UPDATE,key:r,value:e[r]})}}};t.default=l},446637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.authorizeAndSetTestModeApplication=function(e,t){return m.apply(this,arguments)};t.reset=function(){
r.default.dispatch({type:f.ActionTypes.DEVELOPER_TEST_MODE_RESET})};t.resetError=function(){r.default.dispatch({type:f.ActionTypes.DEVELOPER_TEST_MODE_RESET_ERROR})};var r=v(n(636602)),a=v(n(331119)),o=v(n(288356)),i=n(685677),u=v(n(608417)),l=v(n(234161)),s=p(n(671694)),d=p(n(723420)),f=n(770348);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(){return(m=h(regeneratorRuntime.mark((function e(t,n){var c,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.default.dispatch({applicationId:t,type:f.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_START});e.prev=1;e.next=4;return d.fetchSKUsForApplication(t,!1);case 4:if(null!=e.sent){e.next=7;break}throw new Error("Did not get a successful response from endpoint.");case 7:if(null!=(c=o.default.getGame(t))){e.next=14;break}e.t0=a.default;e.next=12;return l.default.fetchApplication(t);case 12:e.t1=e.sent;c=e.t0.createFromServer.call(e.t0,e.t1);case 14:if(!(p=(0,i.hasFlag)(c.flags,f.ApplicationFlags.EMBEDDED))||null!=n&&u.default.URL_REGEX.test(n)){e.next=17;break}
throw new Error("Invalid Origin URL for embedded application");case 17:p||s.createTestModeLibraryApplications(c);r.default.dispatch({type:f.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS,applicationId:t,originURL:p?n:null});return e.abrupt("return",c);case 22:e.prev=22;e.t2=e.catch(1);r.default.dispatch({type:f.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL,applicationId:t,error:e.t2.message});return e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[1,22]])})))).apply(this,arguments)}},94047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(423046)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={setUserAchievement:function(e,t,n){var i=a.default.getId();return r.default.put({url:o.Endpoints.USER_ACHIEVEMENTS_FOR_USER(i,e,t),body:{percent_complete:n},oldFormErrors:!0})},fetchForApplication:function(e){return r.default.get({url:o.Endpoints.USER_ACHIEVEMENTS(e),retries:1,
oldFormErrors:!0}).then((function(e){return e.body}))}};t.default=u},306902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.markView=function(e){a.default.dispatch({type:o.ActionTypes.VIEW_HISTORY_MARK_VIEW,key:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},184608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=g(n(294184)),i=g(n(441143)),u=g(n(237923)),l=g(n(314234)),s=g(n(956117)),d=g(n(279950)),f=n(354479),c=n(688388),p=n(626863),v=n(770348),y=n(697984),h=g(n(247001)),m=g(n(241618)),_=g(n(380203));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return I.apply(this,arguments)}var C={canSend:!1,hint:null,success:null,error:null},T=(0,f.uid)(),A=T+"-decription",P=T+"-error";function M(e,t){switch(t.type){case"RESET":return C;case"SUCCESS":return I({},C,{success:t.text});case"HINT":return I({},C,{canSend:!0,hint:t.text});case"ERROR":return I({},e,{canSend:!0,error:t.text})}}function N(){var e,t=a.createRef(),n=a.createRef(),r=O(a.useReducer(M,C),2),f=r[0],g=r[1],E=f.canSend,b=f.hint,I=f.success,N=f.error;a.useEffect((function(){if(null!=I){(0,i.default)(null!=t.current,"Input is submitting when not mounted");t.current.value="";t.current.focus()}}),[I,t]);return S("form",{onSubmit:function(e){e.preventDefault();(0,i.default)(null!=t.current,"Input is submitted when not mounted");var n=t.current.value.trim(),r=(0,p.validateDiscordTag)(n);null==r?u.default.sendRequest(n,{location:"Add Friend"}).then((function(){return g({type:"SUCCESS",text:h.default.Messages.ADD_FRIEND_SUCCESS.format({discordTag:n})})}),(function(e){return g({
type:"ERROR",text:(0,p.humanizeAbortCode)(e.body.code,n)})})):g({type:"ERROR",text:r})},autoComplete:"off"},void 0,S(c.FormText,{id:A,type:c.FormText.Types.DESCRIPTION},void 0,h.default.Messages.ADD_FRIEND_DESCRIPTION),S(l.default,{focusTarget:t,ringTarget:n,ringClassName:m.default.ring},void 0,a.createElement("div",{ref:n,className:(0,o.default)(m.default.addFriendInputWrapper,(e={},e[m.default.success]=I,e[m.default.error]=N,e))},S(d.default,{id:T,inputRef:t,className:m.default.addFriendInput,inputClassName:m.default.input,onKeyPress:function(e){var n=e.currentTarget.value;if(e.key!==y.KeyboardEventKey.Enter&&n.includes("#")){(0,i.default)(null!=t.current,"Input is handling keypress when not mounted");var r=n.indexOf("#"),a=t.current.selectionStart,o=e.key===y.KeyboardEventKey.Backspace||e.key===y.KeyboardEventKey.ArrowRight||e.key===y.KeyboardEventKey.ArrowLeft,u=e.which>=48&&e.which<=57;(null!=a&&a>r&&/^(.+?#\d{4})$/.test(n)&&!o||null!=a&&a>r&&!u&&!o)&&e.preventDefault()}},
onChange:function(e){if(e.length<=0)g({type:"RESET"});else{var t=O(e.split("#"),2)[1];g({type:"HINT",text:e+v.PLACEHOLDER_TAG.slice(null!=t?t.length+1:0)})}},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-lpignore":!0,placeholder:h.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-label":h.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-invalid":null!=N||void 0,"aria-describedby":null!=N?P:A}),null!=b&&S("div",{className:m.default.addFriendHint,"aria-hidden":!0},void 0,b),S(s.default,{size:s.default.Sizes.SMALL,disabled:!E,type:"submit"},void 0,h.default.Messages.ADD_FRIEND_BUTTON))),null!=N&&S(c.FormText,{role:"alert",id:P,type:c.FormText.Types.ERROR,className:_.default.marginTop8},void 0,N),null!=I&&S(c.FormText,{role:"status",type:c.FormText.Types.SUCCESS,className:_.default.marginTop8},void 0,I))}N.displayName="AddFriendInput"},593878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(479049)),o=v(n(131795)),i=v(n(536211)),u=v(n(680804)),l=v(n(919935)),s=v(n(290629)),d=v(n(931411)),f=n(864489),c=v(n(922629)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var m=new Set(["Blink","Gecko","WebKit"]),_=p.NOOP;if(f.isPlatformEmbedded)_=function(e){return c.default.setBadge(e)
};else if(m.has(o.default.layout)){var g=new a.default({animation:"none"});_=function(e){try{g.badge(-1===e?"•":e)}catch(e){}}}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).cancelBounce=null;return t}var n=t.prototype;n.componentDidMount=function(){this.componentDidUpdate()};n.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;_(t);if(n&&null==this.cancelBounce)this.cancelBounce=c.default.bounceDock("critical");else if(!n&&null!=this.cancelBounce){this.cancelBounce();this.cancelBounce=null}};n.componentWillUnmount=function(){_(0);if(null!=this.cancelBounce){this.cancelBounce();this.cancelBounce=null}};n.render=function(){return null};return t}(r.PureComponent);E.displayName="AppBadge";var S=function(){return null}
;_!==p.NOOP&&(S=i.default.connectStores([u.default,d.default,s.default,l.default],(function(){var e=u.default.getTotalMentionCount(),t=s.default.getPendingCount(),n=u.default.hasAnyUnread(),r=l.default.getDisableUnreadBadge(),a=e+t;0===a&&n&&!r&&(a=-1);return{badge:a,hasIncomingCalls:d.default.hasIncomingCalls()}}))(E));var O=S;t.default=O},969940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=m(n(213192)),o=m(n(536211)),i=m(n(740207)),u=m(n(226800)),l=m(n(680804)),s=m(n(635014)),d=m(n(919935)),f=m(n(893160)),c=m(n(290629)),p=m(n(397228)),v=n(864489),y=m(n(922629)),h=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=(0,a.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),S=(0,v.isOSX)()?null:E.DEFAULT,O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).getIcon=function(){var e=t.props,n=e.deafened,r=e.muted,a=e.speaking,o=e.connected,i=e.unread,u=S;if((0,v.isOSX)()&&!o)return u;if((0,v.isLinux)()||!o){
i&&(u=E.UNREAD);return u}return u=n?E.DEAFENED:r?E.MUTED:a?E.SPEAKING:E.CONNECTED};return t}var n=t.prototype;n.componentDidMount=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentDidUpdate=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentWillUnmount=function(){y.default.setSystemTrayIcon(S)};n.render=function(){return null};return t}(r.PureComponent);O.displayName="AppTray";var b=function(){return null};if(v.isPlatformEmbedded){y.default.on("SYSTEM_TRAY_TOGGLE_MUTE",(function(){return i.default.toggleSelfMute()}));y.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",(function(){return i.default.toggleSelfDeaf()}));y.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",(function(){u.default.open(h.UserSettingsSections.VOICE)}));b=o.default.connectStores([f.default,s.default,p.default,l.default,c.default,d.default],(function(){var e=l.default.getTotalMentionCount(),t=l.default.hasAnyUnread(),n=c.default.getPendingCount(),r=!d.default.getDisableUnreadBadge()&&!!(t||e+n>0)
;return{connected:f.default.isConnected(),speaking:p.default.isCurrentUserSpeaking(),muted:s.default.isSelfMute()||s.default.isSelfMutedTemporarily(),deafened:s.default.isSelfDeaf(),unread:r}}))(O)}var I=b;t.default=I},421651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Te;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=$(n(294184)),i=n(505977),u=n(473727),l=n(47354),s=n(536211),d=$(n(235879)),f=$(n(400225)),c=$(n(825724)),p=$(n(252566)),v=$(n(928205)),y=$(n(545130)),h=$(n(710483)),m=$(n(594807)),_=$(n(14638)),g=$(n(212635)),E=$(n(529295)),S=$(n(547403)),O=$(n(136798)),b=$(n(329697)),I=$(n(644263)),C=$(n(211136)),T=$(n(296005)),A=n(71246),P=n(518802),M=$(n(721536)),N=$(n(701391)),R=$(n(41234)),w=$(n(25202)),D=$(n(272356)),L=$(n(284382)),j=$(n(115370)),k=$(n(63818)),U=$(n(629195)),G=$(n(869333)),F=$(n(605807)),x=$(n(57663)),B=$(n(916205)),V=$(n(52505)),W=$(n(883901)),H=n(770348),z=n(173652),Y=$(n(247001)),K=$(n(734733));function $(e){return e&&e.__esModule?e:{default:e}}function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(){Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return Q.apply(this,arguments)}function J(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ee=J(M.default,{}),te=function(e){var t=e.match,n=(0,s.useStateFromStores)([I.default,C.default],(function(){var e=C.default.getChannelId();return I.default.getChannel(e)})),r=t.params,a=r.guildId,o=r.channelId;if(null!=a&&null!=o&&(0,z.isStaticChannelRoute)(o))switch(o){case z.StaticChannelRoute.ROLE_SUBSCRIPTIONS:return J(m.default,{guildId:a});case z.StaticChannelRoute.MEMBER_APPLICATIONS:return J(h.default,{guildId:a});case z.StaticChannelRoute.GUILD_HOME:return J(v.default,{guildId:a});default:(0,A.assertNever)(o)}
if((null==n?void 0:n.type)===H.ChannelTypes.GUILD_STORE){var i=t.params.messageId;return J(N.default,{channel:n,inputSkuId:i},n.id)}return ee};te.displayName="ChannelRenderer";var ne=J(G.default,{}),re=J(D.default,{}),ae=a.memo((function(){var e=(0,O.default)(),t=e.guildId,n=e.channelId;return window.location.pathname.startsWith(H.Routes.GUILD_DISCOVERY)?ne:null!=t?J(_.default,{selectedChannelId:n,guildId:t},t):re}));function oe(e){var t=(0,O.default)((function(e){return e.guildId}));return a.createElement(B.default,Q({},e,{guildId:t}))}oe.displayName="ConnectedActivityPanelGameCard";var ie=function(e){return a.createElement(te,e)};ie.displayName="renderChannel";var ue=function(e){var t=null!=e&&e.length>0&&e.startsWith("?")?e.split("?")[1]:null;return J(U.default,{searchRoute:t})};ue.displayName="renderGuildDiscovery";var le=function(e){var t=e.match;return null!=t.params.guildId?J(y.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},se=function(e){var t=e.match
;return null!=t.params.guildId?J(E.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},de=J(j.default,{}),fe=function(){return de};fe.displayName="renderApplicationLibrary";var ce=J(k.default,{}),pe=function(){return ce};pe.displayName="renderLazyApplicationStore";var ve=J(S.default,{}),ye=function(){return ve};ye.displayName="renderPeople";var he=function(e){switch(e.match.params.feature){case"addFriends":return J(S.default,{initialSection:H.FriendsSections.ADD_FRIEND});case"pendingFriends":return J(S.default,{initialSection:H.FriendsSections.PENDING});default:return J(u.Redirect,{to:H.Routes.ME})}};function me(){return window.location.pathname.startsWith(H.Routes.APPLICATION_STORE)}var _e=J(ae,{}),ge=J(V.default,{}),Ee=J(W.default,{}),Se=J(x.default,{}),Oe=J(R.default,{});function be(e){var t,n=e.hasNotice,r=e.sidebarTheme,a=e.hideSidebar,i=(0,s.useStateFromStores)([c.default],(function(){return c.default.isFullscreenInContext()}));if(a)return null
;var u=me()?K.default.hiddenOnMobileStore:null;return J("div",{className:(0,o.default)(K.default.sidebar,u,(0,P.getThemeClass)(r),(t={},t[K.default.hasNotice]=n,t[K.default.hidden]=i,t))},void 0,_e,J("section",{className:K.default.panels,"aria-label":Y.default.Messages.ACCOUNT_A11Y_LABEL},void 0,ge,J(L.default,{section:H.AnalyticsSections.ACTIVITY_PANEL},void 0,J(oe,{className:K.default.activityPanel})),J(L.default,{section:H.AnalyticsSections.RTC_CONNECTION_PANEL},void 0,Ee),J(L.default,{section:H.AnalyticsSections.ACCOUNT_PANEL},void 0,Se)),Oe)}be.displayName="ChannelSidebar";var Ie=J(w.default,{}),Ce=J(F.default,{});function Te(){var e=(0,s.useStateFromStores)([T.default],(function(){return T.default.hasNotice()})),t=(0,s.useStateFromStores)([d.default],(function(){return d.default.darkSidebar?H.ThemeTypes.DARK:void 0})),n=function(){var e=Z(a.useState((function(){return window.location.pathname.startsWith(H.Routes.GUILD_MEMBER_VERIFICATION(""))})),2),t=e[0],n=e[1]
;a.useEffect((function(){return b.default.addRouteChangeListener((function(e){n(e.pathname.startsWith(H.Routes.GUILD_MEMBER_VERIFICATION("")))}))}),[]);return t}(),r=function(){var e=Z(a.useState((function(){return window.location.pathname.startsWith(H.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(""))})),2),t=e[0],n=e[1];a.useEffect((function(){return b.default.addRouteChangeListener((function(e){n(e.pathname.startsWith(H.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}))}),[]);return t}(),c=function(){var e,t=(0,u.useLocation)();return!0===(null===(e=(0,i.matchPath)(t.pathname,H.Routes.GUILD_BOOSTING_MARKETING(":guildId")))||void 0===e?void 0:e.isExact)}(),v=n||r||c,y=(0,u.useRouteMatch)([H.Routes.CHANNEL(H.ME,":channelId"),H.Routes.CHANNEL(":guildId",":channelId?",":messageId?")]);return J("div",{className:K.default.container},void 0,J(g.default,{className:(0,o.default)(K.default.guilds,me()?K.default.hiddenOnMobileStore:void 0),themeOverride:t}),J(p.default.Provider,{
value:(null==y?void 0:y.params.guildId)===H.ME||null==y?void 0:y.params.guildId},void 0,J("div",{className:K.default.base},void 0,Ie,J("div",{className:K.default.content},void 0,a.createElement(be,{hasNotice:e,sidebarTheme:t,hideSidebar:v}),J(u.Switch,{},void 0,J(f.default,{path:H.Routes.ACTIVITY,disableTrack:!0},void 0,J(u.Redirect,{to:H.Routes.ME})),J(f.default,{path:H.Routes.APPLICATION_LIBRARY,render:fe,impressionName:l.ImpressionNames.APPLICATION_LIBRARY,disableTrack:!0}),J(f.default,{path:H.Routes.APPLICATION_STORE,render:pe,impressionName:l.ImpressionNames.APPLICATION_STORE,disableTrack:!0}),J(f.default,{path:H.Routes.ME,exact:!0,render:ye,impressionName:l.ImpressionNames.FRIENDS,disableTrack:!0}),J(f.default,{path:[H.Routes.CHANNEL(H.ME,":channelId"),H.Routes.CHANNEL(":guildId",":channelId?",":messageId?")],render:ie,impressionName:l.ImpressionNames.GUILD_CHANNEL,disableTrack:!0}),J(f.default,{path:H.Routes.GUILD_DISCOVERY,render:function(e){var t=e.location;return ue(t.search)
},impressionName:l.ImpressionNames.GUILD_DISCOVERY,disableTrack:!0}),J(f.default,{path:H.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),render:le,impressionName:l.ImpressionNames.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),J(f.default,{path:H.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),render:se,impressionName:l.ImpressionNames.HUB_EMAIL_SIGNUP,impressionProperties:function(e){return{has_invite:void 0!==e.computedMatch.params.inviteCode}}}),J(f.default,{path:H.Routes.FEATURE(":feature"),exact:!0,render:he,disableTrack:!0}))))),Ce)}Te.displayName="AppView"},818685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=x;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=D(n(234161)),i=D(n(200738)),u=n(844784),l=D(n(504010)),s=n(939027),d=D(n(825724)),f=D(n(791548)),c=D(n(967523)),p=D(n(330321)),v=D(n(217964)),y=n(894826),h=D(n(644263)),m=D(n(288356)),_=D(n(23535)),g=D(n(876874)),E=D(n(30098)),S=D(n(635014)),O=D(n(893160)),b=D(n(834162)),I=D(n(211136)),C=D(n(790597)),T=D(n(690445)),A=D(n(728429)),P=D(n(311256)),M=D(n(106605)),N=D(n(308920)),R=n(71246),w=n(770348);function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t){
G=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return G(e,t)}var F=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;G(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.connected,r=e.isNSFWChannel,a=e.channelParentId,o=e.isTextInVoice;if(n&&null!=t){(0,u.trackWithMetadata)(w.AnalyticEvents.CHANNEL_OPENED,{channel_is_nsfw:r,parent_id:a});o&&(0,u.trackWithMetadata)(w.AnalyticEvents.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:r})}};n.componentDidUpdate=function(e){
var t=this.props,n=t.voiceChannelId,r=t.voiceChannelIdJoined,a=t.voiceChannelGuildId,i=t.voiceChannelType,c=t.voiceChannelBitrate,_=t.videoEnabled,g=t.isScreenSharing,S=t.runningGame,I=t.runningGamePid,T=t.selectedChannelId,A=t.selectedGuildId,P=t.channelParentId,M=t.connected,D=t.homeLink,L=t.friendsTabSection,j=t.isNSFWChannel,k=t.isMemberPending,G=t.hasPreviewEnabled,F=t.rtcConnectionId,x=t.postableChannelCount,B=t.isTextInVoice;if(e.voiceChannelId!==n&&null!=e.voiceChannelId){var V=b.default.getCurrentGame(),W=null!=V?V.name:"",H=v.default.getStageInstanceByChannel(e.voiceChannelId),z=p.default.getActiveEventByChannel(e.voiceChannelId);N.default.track(w.AnalyticEvents.LEAVE_VOICE_CHANNEL,U({channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:e.rtcConnectionId,game_name:W,duration:O.default.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,
media_session_id:e.mediaSessionId,stage_instance_id:null==H?void 0:H.id,guild_scheduled_event_id:null==z?void 0:z.id},(0,u.getVoiceStateMetadata)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),{},O.default.getVoiceStateStats(),{},d.default.getSelectedParticipantStats(e.voiceChannelId)))}if(e.voiceChannelIdJoined!==r&&null!=r){var Y=b.default.getCurrentGame(),K=null!=Y?Y.name:"";if(null!=r&&null!=n){var $=v.default.getStageInstanceByChannel(n),q=p.default.getActiveEventByChannel(n);N.default.track(w.AnalyticEvents.JOIN_VOICE_CHANNEL,U({channel_id:n,channel_type:i,channel_bitrate:c,guild_id:a,rtc_connection_id:F,game_name:K,game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==$?void 0:$.id,guild_scheduled_event_id:null==q?void 0:q.id},(0,u.getCustomStatusMetadata)(a,n),{},(0,u.getVoiceStateMetadata)(a,n,_)))}}if(e.runningGame!==S&&null!=S&&!S.isLauncher){var Z=m.default.getGameByName(S.name);N.default.track(w.AnalyticEvents.LAUNCH_GAME,{
game:S.name,game_id:null==Z?null:Z.id,verified:null!=Z,elevated:S.elevated,game_platform:w.ActivityGamePlatforms.DESKTOP,distributor:S.distributor});if(null!=S.name&&null!=I&&m.default.shouldReport(S.name)){var X=S.name,Q=I;o.default.identifyGame(Q,X).then((function(e){return o.default.reportUnverifiedGame(e)})).catch((function(e){return new f.default("AutoAnalytics").error("Cannot identify game",e)}))}}if((e.videoEnabled!==_||e.isScreenSharing!==g)&&null!=n){var J="none",ee=[g?"screen":null,_?"camera":null].filter(R.isNotNullish),te=null;if(g){J="screen";te=(0,s.getDesktopSourceMetadata)()}else _&&(J="camera");N.default.track(w.AnalyticEvents.VIDEO_INPUT_TOGGLED,U({video_input_type:J,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:ee,preview_enabled:y.AlwaysPreviewVideo.getSetting()},te,{},this.getGameMetadata(),{},(0,u.collectVoiceAnalyticsMetadata)(n)))}if(M&&null!=A&&(A!==e.selectedGuildId||!e.connected||k&&!e.isMemberPending)){var ne,re,ae=U({},k?{is_pending:k,
preview_enabled:G}:{},{postable_channels:x,premium_progress_bar_enabled:null!==(ne=null===(re=E.default.getGuild(C.default.getGuildId()))||void 0===re?void 0:re.premiumProgressBarEnabled)&&void 0!==ne&&ne});(0,u.trackWithMetadata)(w.AnalyticEvents.GUILD_VIEWED,ae)}else!M||null!=A||D!==w.Routes.FRIENDS||e.connected&&L===e.friendsTabSection&&D===e.homeLink||N.default.track(w.AnalyticEvents.FRIENDS_LIST_VIEWED,U({tab_opened:L},(0,l.default)()));if(M&&null!=T&&(!e.connected||T!==e.selectedChannelId||A!==e.selectedGuildId)){var oe=(0,u.collectThreadMetadata)(h.default.getChannel(T),!0);(0,u.trackWithMetadata)(w.AnalyticEvents.CHANNEL_OPENED,U({channel_is_nsfw:j,parent_id:P},oe));B&&(0,u.trackWithMetadata)(w.AnalyticEvents.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:j})}};n.getGameMetadata=function(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}};n.render=function(){return null};return t}(r.PureComponent)
;F.displayName="AutoAnalytics";function x(){var e,t=j((0,a.useStateFromStoresArray)([I.default],(function(){return[I.default.getVoiceChannelId(),I.default.getChannelId()]}),[]),2),n=t[0],o=t[1],u=(0,a.useStateFromStores)([h.default],(function(){return h.default.getChannel(o)}),[o]),l=(0,a.useStateFromStores)([d.default],(function(){return null!=(null==u?void 0:u.id)&&d.default.getChatOpen(u.id)}),[u]),s=null==u?void 0:u.nsfw,f=null!==(e=null==u?void 0:u.parent_id)&&void 0!==e?e:void 0,p=(0,a.useStateFromStores)([h.default],(function(){return h.default.getChannel(n)}),[n]),v=(0,a.useStateFromStores)([C.default],(function(){return C.default.getGuildId()}),[]),y=(0,a.useStateFromStores)([E.default],(function(){return E.default.getGuild(v)}),[v]),m=(0,a.useStateFromStores)([A.default],(function(){return A.default.getCurrentUser()}),[]),N=(0,a.useStateFromStores)([g.default],(function(){var e,t
;return null!=m&&null!=v&&(null!==(e=null===(t=g.default.getMember(v,m.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)}),[m,v]),R=(0,a.useStateFromStores)([M.default],(function(){return M.default.getState().section}),[]),D=(0,a.useStateFromStores)([P.default],(function(){return P.default.getHomeLink()}),[]),L=(0,a.useStateFromStores)([_.default],(function(){return _.default.isConnected()}),[]),k=j((0,a.useStateFromStoresArray)([S.default],(function(){return[S.default.isVideoEnabled(),S.default.isScreenSharing()]}),[]),2),U=k[0],G=k[1],x=(0,a.useStateFromStores)([O.default],(function(){return O.default.getChannelId()}),[]),B=(0,a.useStateFromStores)([T.default],(function(){return T.default.getPrimaryActivity()}),[]),V=(0,a.useStateFromStores)([b.default],(function(){return b.default.getCurrentGame()}),[]),W=(0,a.useStateFromStores)([O.default],(function(){return O.default.getMediaSessionId()}),[]),H=(0,a.useStateFromStores)([O.default],(function(){
return O.default.getRTCConnectionId()}),[]),z=(0,c.default)(v),Y={selectedChannelId:o,channelParentId:f,isNSFWChannel:s,selectedGuildId:v,friendsTabSection:R,homeLink:D,connected:L,videoEnabled:U,isScreenSharing:G,voiceChannelId:null==p?void 0:p.id,voiceChannelIdJoined:x,voiceChannelGuildId:null==p?void 0:p.getGuildId(),voiceChannelType:null==p?void 0:p.type,voiceChannelBitrate:null==p?void 0:p.bitrate,runningGame:V,runningGamePid:null!=V?V.pid:null,gamePlatform:(0,i.default)(B),gameName:null!=B?B.name:null,gameId:null!=B?B.application_id:null,gameExeName:null!=V?V.exeName:null,hasPreviewEnabled:null==y?void 0:y.features.has(w.GuildFeatures.PREVIEW_ENABLED),isMemberPending:N,mediaSessionId:W,rtcConnectionId:H,postableChannelCount:z,isTextInVoice:l};return r.createElement(F,Y)}x.displayName="ConnectedAutoAnalytics"},721536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Re(n(667294)),o=Me(n(294184)),i=Me(n(441143)),u=n(370405),l=n(473727),s=n(536211),d=n(378158),f=Me(n(864345)),c=Me(n(825724)),p=Me(n(803121)),v=Me(n(678928)),y=n(573285),h=n(329117),m=Me(n(63608)),_=n(596271),g=Me(n(324935)),E=Me(n(57697)),S=Me(n(689626)),O=Me(n(141776)),b=Me(n(540330)),I=Me(n(542322)),C=Me(n(818378)),T=Me(n(764423)),A=Me(n(463024)),P=n(451115),M=Me(n(92332)),N=Me(n(992634)),R=Me(n(241813)),w=n(57449),D=Me(n(930409)),L=n(139982),j=n(391869),k=Me(n(225379)),U=n(637356),G=Me(n(551619)),F=Me(n(861370)),x=Me(n(556250)),B=Me(n(73942)),V=Me(n(627900)),W=Me(n(252283)),H=n(887299),z=n(910992),Y=n(518180),K=n(508079),$=Me(n(131629)),q=n(567186),Z=Re(n(502546)),X=Me(n(644263)),Q=n(687549),J=Me(n(250650)),ee=Me(n(137438)),te=Me(n(30098)),ne=Me(n(788739)),re=Me(n(205982)),ae=Me(n(211136)),oe=Me(n(728429)),ie=Me(n(387692)),ue=Me(n(956117)),le=Me(n(80828)),se=n(194322),de=Me(n(528175)),fe=n(319986),ce=n(71246),pe=n(518802),ve=Me(n(914789)),ye=Re(n(174851)),he=Me(n(416274)),me=Me(n(448702)),_e=Me(n(43233)),ge=Me(n(200574)),Ee=Me(n(424670)),Se=Me(n(805918)),Oe=Me(n(300399)),be=n(770348),Ie=n(859089),Ce=n(460703),Te=n(808961),Ae=Me(n(247001)),Pe=Me(n(149563))
;function Me(e){return e&&e.__esModule?e:{default:e}}function Ne(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ne=function(e){return e?n:t})(e)}function Re(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ne(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(){Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Le.apply(this,arguments)}function je(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ke(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){je(o,r,a,i,u,"next",e)}function u(e){je(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ue(e,t){Ue=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ue(e,t)}function Ge(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Fe=Ge(le.default,{}),xe=(0,h.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(46422)]).then(n.bind(n,646422))},webpackId:646422,renderLoader:function(){return Ge("div",{className:Pe.default.loader},void 0,Fe)},name:"ForumChannel"}),Be=Ge(me.default,{}),Ve=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ue(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).state={topicExpanded:!1,threadSidebarWidth:void 0,isThreadSidebarFloating:!1};t.handleTitleParentClick=function(){var e=t.props.parentChannel;null!=e&&(0,j.transitionToChannel)(e.id)};t._handleContextMenu=function(e,n){switch(n.type){case be.ChannelTypes.GUILD_VOICE:case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:case be.ChannelTypes.GUILD_FORUM:t.openChannelContextMenu(e,n);break;case be.ChannelTypes.ANNOUNCEMENT_THREAD:case be.ChannelTypes.PUBLIC_THREAD:case be.ChannelTypes.PRIVATE_THREAD:t.openThreadContextMenu(e,n);break;case be.ChannelTypes.DM:t.openDMContextMenu(e,n)}};t.handleContextMenu=function(e){(0,i.default)(null!=t.props.channel,"Missing channel in Channel.handleContextMenu");t._handleContextMenu(e,t.props.channel)}
;t.handleParentContextMenu=function(e){(0,i.default)(null!=t.props.parentChannel,"Missing parentChannel in Channel.handleParentContextMenu");t._handleContextMenu(e,t.props.parentChannel)};t.handleThreadSidebarResize=function(e,n){t.setState({threadSidebarWidth:e,isThreadSidebarFloating:n})};t.openUserProfile=function(){var e=t.props.channel;(0,i.default)(null!=e,"Missing channel in Channel.openUserProfile");(0,z.openUserProfileModal)({userId:e.getRecipientId(),guildId:e.guild_id,analyticsLocation:{section:be.AnalyticsSections.CHANNEL_HEADER}})};t.renderStreamQualityLiveIndicatorToolbarItem=function(){var e=t.props.selectedParticipant;return(null==e?void 0:e.type)!==Ie.ParticipantTypes.STREAM?null:Ge(E.default,{size:de.default.Sizes.LARGE,participant:e,showQuality:!0},"live-indicator")};t.renderHeaderToolbar=function(){var e=t.props,n=e.channel,r=e.parentChannel,a=e.isLurking;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderToolbar");var o=[];if(n.isSystemDM())return o
;switch(n.type){case be.ChannelTypes.GUILD_STAGE_VOICE:case be.ChannelTypes.GUILD_VOICE:return o;case be.ChannelTypes.DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(Ge(M.default,{channel:n},"calls"));o.push(Ge(T.default,{channel:n},"pins"));o.push(Ge(N.default,{channel:n,tooltip:Ae.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case be.ChannelTypes.GROUP_DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(Ge(M.default,{channel:n},"calls"));o.push(Ge(T.default,{channel:n},"pins"));if(!n.isManaged()){var u=Ae.default.Messages.GROUP_DM_ADD_FRIENDS;o.push(Ge(N.default,{channel:n,tooltip:u},"invite"))}o.push(Ge(I.default,{channelId:n.id},"members"));break;case be.ChannelTypes.ANNOUNCEMENT_THREAD:case be.ChannelTypes.PRIVATE_THREAD:case be.ChannelTypes.PUBLIC_THREAD:null!=r&&(r.isForumChannel()||o.push(Ge(x.default,{channel:r},"browser")));n.isArchivedThread()||o.push(Ge(B.default,{channel:n},"notifications"));o.push(Ge(T.default,{channel:n},"pins"))
;n.isArchivedThread()||o.push(Ge(I.default,{channelId:n.id},"members"));o.push(Ge(V.default,{channel:n},"threads-overflow"));break;case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:o.push(Ge(x.default,{channel:n},"browser"));a||o.push(Ge(C.default,{channel:n},"notifications"));o.push(Ge(T.default,{channel:n},"pins"));o.push(Ge(I.default,{channelId:n.id},"members"));break;case be.ChannelTypes.GUILD_FORUM:a||o.push(Ge(C.default,{channel:n},"notifications"));o.push(Ge(I.default,{channelId:n.id},"members"));break;case be.ChannelTypes.GUILD_DIRECTORY:o.push(Ge(I.default,{channelId:n.id},"members"))}return o};t.renderFollowButton=function(){var e=t.props,r=e.showFollowButton,o=e.channel;return r?Ge(ue.default,{size:ue.default.Sizes.MIN,color:ue.default.Colors.PRIMARY,className:Pe.default.followButton,onClick:function(){return(0,se.openModalLazy)(ke(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return Promise.all([n.e(40532),n.e(35753)]).then(n.bind(n,735753));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,Le({channel:o},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,Ae.default.Messages.FOLLOW):null};t.renderHeaderBar=function(){var e=t.props,n=e.channel,r=e.channelName,a=e.parentChannel,u=e.guild,l=e.guildId,s=e.showCall,d=e.hasVideo,f=e.isMobile;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderBar");(0,i.default)(null!=r,"Should not be null if channel is not null.");var c=n.isDM()&&!n.isSystemDM()?t.openUserProfile:void 0,p=null!=(null==a?void 0:a.guild_id)&&null!=(null==a?void 0:a.id)?t.handleTitleParentClick:void 0;return Ge(A.default,{guildId:l,channelId:n.id,hideSearch:n.isDirectory(),toolbar:t.renderHeaderToolbar(),className:(0,o.default)(Pe.default.title,d&&s?(0,pe.getThemeClass)(be.ThemeTypes.DARK):null),transparent:s,"aria-label":Ae.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL
},"header-"+n.id,(0,P.renderTitle)({channel:n,channelName:r,parentChannel:a,guild:u,hasVideo:d,isMobile:f,handleContextMenu:t.handleContextMenu,handleParentContextMenu:t.handleParentContextMenu,handleClick:c,handleParentClick:p,renderFollowButton:t.renderFollowButton}),Ge(P.HeaderGuildBreadcrumb,{channel:n,guild:u}),(0,P.renderTopic)(n,u))};return t}var r=t.prototype;r.componentDidMount=function(){(0,H.trackAppUIViewed)("guild_channel")};r.componentDidUpdate=function(e){null!=this.props.channel&&null!=e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1})};r.openChannelContextMenu=function(e,t){var r=this.props.guild;(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,i.default)(null!=r,"Missing guild in Channel.openChannelContextMenu");(0,d.openContextMenuLazy)(e,ke(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(14560),n.e(32318)]).then(n.bind(n,532318));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,Le({},e,{channel:t,guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};r.openThreadContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,d.openContextMenuLazy)(e,ke(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,Le({},e,{channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.openDMContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openDMContextMenu");var r=oe.default.getUser(t.getRecipientId());(0,i.default)(null!=r,"Missing user in Channel.openDMContextMenu");(0,
d.openContextMenuLazy)(e,ke(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,Le({},e,{user:r,channelSelected:!0,channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderCall=function(){var e=this.props,t=e.channel,n=e.showCall,r=e.nsfwAllowed,a=e.nsfwAgree;(0,i.default)(null!=t,"Missing channel in Channel.renderCall");if((null==t?void 0:t.isNSFW())&&(!r||!a))return null;if(!n)return null;switch(t.type){case be.ChannelTypes.GUILD_STAGE_VOICE:return Ge(G.default,{channel:t},t.id);case be.ChannelTypes.GUILD_VOICE:case be.ChannelTypes.DM:case be.ChannelTypes.GROUP_DM:var o=this.props.height-200;return Ge(p.default,{channel:t,renderExternalHeader:this.renderHeaderBar,maxHeight:o},"call-"+t.id);default:return null}}
;r.renderChat=function(){var e=this.props,t=e.channel,n=e.nsfwAgree,r=e.guild,a=e.nsfwAllowed,o=e.needSubscriptionToAccess;(0,i.default)(null!=t,"Missing channel in Channel.renderChat");if(o){(0,i.default)(null!=r,"premium channels must exist within a guild");return Ge(b.default,{channelId:t.id,guildId:r.id})}if(t.isNSFW()&&(!a||!n))return Ge(Oe.default,{guild:r});if(t.isVocal())return null;if(t.isDirectory()){(0,i.default)(null!=r,"directory channels must exist within a guild");return Ge(m.default,{channel:t,guild:r})}if(t.type===be.ChannelTypes.GUILD_FORUM){(0,i.default)(null!=r,"forum channels must exist within a guild");return Ge(xe,{channel:t,guild:r},t.id)}return Ge(ve.default,{channel:t,guild:r,renderThreadNotice:t.isThread(),chatInputType:y.ChatInputTypes.NORMAL},null!=r?r.id:"home")};r.renderSidebar=function(){var e=this.props,t=e.searchId,n=e.channel,r=e.parentChannel,a=e.guild,o=e.needSubscriptionToAccess,u=e.section;(0,
i.default)(null!=n,"Missing channel in Channel.renderSidebar");if(o)return null;if(u===be.ChannelSections.MEMBERS)switch(n.type){case be.ChannelTypes.GROUP_DM:return Ge(ge.default,{channel:n},"private-channel-recipients-"+n.id);case be.ChannelTypes.GUILD_DIRECTORY:case be.ChannelTypes.GUILD_FORUM:case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:return Ge(he.default,{channel:n},"channel-members-"+n.id);case be.ChannelTypes.ANNOUNCEMENT_THREAD:if(null!=r)return Ge(he.default,{channel:r},"channel-members-"+r.id);break;case be.ChannelTypes.PUBLIC_THREAD:case be.ChannelTypes.PRIVATE_THREAD:if(!n.isArchivedThread()&&null!=a)return Ge(Ee.default,{channel:n,guild:a},"channel-members-"+n.id)}else if(u===be.ChannelSections.SEARCH&&null!=t)return Ge(k.default,{searchId:t});return null};r.renderChannelModal=function(){var e=this.props,t=e.guildId,r=e.showWelcomeModal,o=e.isLurking,i=e.showRealNameModal;if(null==t)return null;i&&(0,
se.openModalLazy)(ke(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74302)]).then(n.bind(n,474302));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,Le({},e,{guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return S.default.viewPrompt(Ce.GuildPrompts.REAL_NAME_PROMPT,t)},modalKey:"Guild Hub Real Name Modal"});r&&(0,se.openModalLazy)(ke(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,Le({},e,{guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return(0,K.welcomeScreenViewed)(t,o)},modalKey:"Guild Welcome Screen Modal"});return null}
;r.renderThreadSidebar=function(){var e,t=this.props,n=t.channel,r=t.section,a=t.threadSidebarState,o=t.nsfwAgree,i=t.nsfwAllowed,u=t.width;if(r!==be.ChannelSections.SIDEBAR_CHAT||null==a)return null;if((null==n?void 0:n.isNSFW())&&(!i||!o))return null;switch(a.type){case Z.SidebarType.CREATE:if(null==n?void 0:n.isForumChannel())return null;e=Ge(F.default,{parentChannelId:a.parentChannelId,parentMessageId:a.parentMessageId,location:a.location});break;case Z.SidebarType.VIEW_THREAD:e=Ge((null==n?void 0:n.isForumChannel())?g.default:W.default,{channelId:a.channelId});break;case Z.SidebarType.VIEW_CHANNEL:return null;default:(0,ce.assertNever)(a)}var l=u-be.CHANNEL_SIDEBAR_WIDTH-450;return Ge(ye.default,{sidebarType:(null==n?void 0:n.type)===be.ChannelTypes.GUILD_FORUM?ye.ChatSidebarType.PostSidebar:ye.ChatSidebarType.ThreadSidebar,maxWidth:l,onWidthChange:this.handleThreadSidebarResize},void 0,e)};r.render=function(){
var e,t,n=this.props,r=n.channel,s=n.channelName,d=n.showCall,f=n.inCall,c=n.voiceChannel,p=n.isUnavailable,v=n.hasModalOpen,y=n.layout,h=n.section,m=n.needSubscriptionToAccess,g=n.textInVoiceEnabled,E=this.state,S=E.threadSidebarWidth,O=E.isThreadSidebarFloating;if(p)return Be;if(null==r)return Ge(_e.default,{channelId:this.props.channelId});if(!m&&!g&&(null==r?void 0:r.isVocal())&&!f){var b=r.getGuildId(),I=null==c?void 0:c.getGuildId();(0,i.default)(null!=b,"Guild voice channel without guild id.");if(!(null==c?void 0:c.isVocal())||I!==b||r.id===(null==c?void 0:c.id)){var C=(0,_.getGuildIdForGenericRedirect)(r);return Ge(l.Redirect,{to:(0,fe.previousTextChannelRouteForGuild)(null!=C?C:b)})}var T=(0,_.getGuildIdForGenericRedirect)(c);return Ge(l.Redirect,{to:be.Routes.CHANNEL(T,c.id)})}var A=h===be.ChannelSections.SIDEBAR_CHAT,P=!r.isForumChannel()&&(!r.isGuildVoice()||g);return a.createElement(a.Fragment,null,Ge(u.Helmet,{title:s}),Ge("div",{className:(0,
o.default)(Pe.default.chat,(e={},e[Pe.default.threadSidebarOpen]=A,e[Pe.default.threadSidebarFloating]=A&&O,e))},void 0,P?Ge(Se.default,{style:{right:A?S:void 0},className:Pe.default.uploadArea,channel:r,draftType:Q.DraftType.ChannelMessage}):null,d?null:this.renderHeaderBar(),this.renderCall(),Ge("div",{className:(0,o.default)(Pe.default.content,(t={},t[Pe.default.noChat]=y===be.ChannelLayouts.NO_CHAT,t))},void 0,this.renderChat(),this.renderSidebar()),v?null:this.renderChannelModal()),this.renderThreadSidebar())};return t}(a.PureComponent);Ve.displayName="Channel";var We=(0,f.default)(Ve),He=a.memo((function(){var e,t=we(a.useState(null),2),n=t[0],r=t[1],o=(0,s.useStateFromStores)([ae.default],(function(){return ae.default.getChannelId()})),i=(0,s.useStateFromStores)([ae.default],(function(){return ae.default.getVoiceChannelId()})),u=(0,s.useStateFromStores)([c.default],(function(){return null!=o&&c.default.getParticipants(o).length>0}),[o]),d=(0,
s.useStateFromStores)([X.default],(function(){return X.default.getChannel(o)}),[o]),f=(0,s.useStateFromStores)([X.default],(function(){return X.default.getChannel(i)}),[i]),p=null==d?void 0:d.parent_id,y=(0,s.useStateFromStores)([X.default],(function(){return X.default.getChannel(p)}),[p]),h=(0,s.useStateFromStores)([te.default],(function(){return te.default.getGuild(null==d?void 0:d.guild_id)}),[d]),m=(0,O.default)(null!==(e=null==d?void 0:d.id)&&void 0!==e?e:void 0).needSubscriptionToAccess,_=(0,Y.useIsTextInVoiceEnabled)(null==d?void 0:d.guild_id),g=_&&(null==d?void 0:d.isVocal())||u,E=(0,l.useLocation)().welcomeModalChannelId,S=(0,s.useStateFromStores)([D.default],(function(){return null!=d&&D.default.isLurking(d.guild_id)}),[d]),b=(0,s.useStateFromStores)([$.default],(function(){return $.default.hasSeen(null==d?void 0:d.guild_id,S)}),[d,S]),I=(0,s.useStateFromStores)([c.default],(function(){return null!=o?c.default.getLayout(o):be.ChannelLayouts.NORMAL}),[o]),C=(0,
s.useStateFromStores)([c.default],(function(){return null!=d?c.default.getSelectedParticipant(d.id):null})),T=(0,s.useStateFromStores)([oe.default],(function(){return oe.default.getCurrentUser()})),A=(0,R.default)(h),P=E===o&&null!=d&&d.getGuildId()===(null==h?void 0:h.id)&&(0,q.isGuildTextChannelType)(d.type)&&(null==h?void 0:h.hasFeature(be.GuildFeatures.WELCOME_SCREEN_ENABLED))&&(null==h?void 0:h.hasFeature(be.GuildFeatures.COMMUNITY)),M=(0,s.useStateFromStoresObject)([Z.default],(function(){return{section:Z.default.getSection(o),threadSidebarState:Z.default.getSidebarState(o)}})),N=M.section,j=M.threadSidebarState,k=(0,v.default)(d),G=null!=d&&i===d.id,F=null!=d&&d.isGuildStageVoice();a.useEffect((function(){var e,t=(0,L.getHistory)();if((null==t||null===(e=t.location)||void 0===e?void 0:e.state)===Te.STAGE_INVITE_STATE_KEY){var n,a,o=(null!==(n=(0,w.tryParseChannelPath)(null==t||null===(a=t.location)||void 0===a?void 0:a.pathname))&&void 0!==n?n:{}).channelId;null!=o&&r(o)}}),[])
;a.useEffect((function(){if(null!=n&&null!=d&&F&&d.id===n&&!G){(0,U.connectAndOpen)(d);r(null)}}),[n,F]);return a.createElement(We,Le({guildId:null==d?void 0:d.guild_id,channelId:o,channel:d,channelName:k,parentChannel:y,voiceChannel:f,layout:I,needSubscriptionToAccess:m,isLurking:S,hasModalOpen:(0,se.hasAnyModalOpen)(),section:N,threadSidebarState:j,guild:h,searchId:(0,s.useStateFromStores)([re.default],(function(){return re.default.getCurrentSearchId()})),showCall:!m&&g,nsfwAgree:(0,s.useStateFromStores)([ee.default],(function(){return ee.default.didAgree(null==d?void 0:d.guild_id)})),isMobile:(0,s.useStateFromStores)([ne.default],(function(){return(null==d?void 0:d.type)===be.ChannelTypes.DM&&ne.default.isMobileOnline(d.getRecipientId())}),[d]),isUnavailable:(0,s.useStateFromStores)([J.default],(function(){return null!=(null==d?void 0:d.guild_id)&&J.default.isUnavailable(d.guild_id)}),[d]),showRealNameModal:A,showWelcomeModal:!b&&P,
showFollowButton:(null==d?void 0:d.type)===be.ChannelTypes.GUILD_ANNOUNCEMENT&&(null==h?void 0:h.hasFeature(be.GuildFeatures.NEWS))||!1},(0,s.useStateFromStoresObject)([ie.default],(function(){return{hasVideo:null!=d&&ie.default.hasVideo(d.id)}}),[d]),{inCall:G,selectedParticipant:C,nsfwAllowed:!0===(null==T?void 0:T.nsfwAllowed),textInVoiceEnabled:_}))}));t.default=He},914789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Ee(n(667294)),o=_e(n(441143)),i=n(723360),u=n(536211),l=_e(n(186705)),s=_e(n(786345)),d=_e(n(55189)),f=_e(n(413546)),c=_e(n(274710)),p=n(81069),v=n(354575),y=_e(n(235879)),h=_e(n(844784)),m=_e(n(400704)),_=n(375543),g=n(65621),E=_e(n(462936)),S=_e(n(906682)),O=n(573285),b=n(424527),I=_e(n(668339)),C=_e(n(440214)),T=_e(n(271180)),A=n(207052),P=n(192071),M=n(838574),N=n(105149),R=n(250916),w=n(457676),D=n(514756),L=n(62017),j=_e(n(614293)),k=_e(n(803069)),U=n(808484),G=n(886090),F=_e(n(359342)),x=n(770755),B=_e(n(734239)),V=_e(n(527820)),W=_e(n(502546)),H=Ee(n(687549)),z=_e(n(409205)),Y=_e(n(201292)),K=_e(n(689389)),$=_e(n(211136)),q=_e(n(680873)),Z=n(644105),X=_e(n(160629)),Q=n(221656),J=n(194322),ee=_e(n(308920)),te=n(993442),ne=n(956506),re=n(871382),ae=n(245838),oe=n(247726),ie=n(738326),ue=_e(n(695519)),le=_e(n(576967)),se=_e(n(756873)),de=_e(n(786630)),fe=_e(n(284382)),ce=_e(n(626341)),pe=n(770348),ve=n(963804),ye=_e(n(247001)),he=_e(n(149563)),me=["isSidebar"]
;function _e(e){return e&&e.__esModule?e:{default:e}}function ge(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ge=function(e){return e?n:t})(e)}function Ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ge(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ie(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ie(o,r,a,i,u,"next",e)}function u(e){Ie(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Te(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ae(e,t)}function Ae(e,t){Ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ae(e,t)}function Pe(){Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Pe.apply(this,arguments)}function Me(e){e.preventDefault()}var Ne=/^\+(?!\w+):?(?!:)(\w+)?:?$/;function Re(e){var t=e.isSidebar,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}
return a}(e,me);return t?a.createElement("section",Pe({},n,{role:"complementary"})):a.createElement("main",n)}var we=function(e){Te(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isFirstChange=!0;t.state=Pe({},(0,b.createState)(H.default.getDraft(t.props.channel.id,H.DraftType.ChannelMessage)),{contentWarningProps:null});t.draftDidChange=function(e){void 0===e&&(e=t.props);var n=t.state.textValue,r=H.default.getDraft(e.channel.id,H.DraftType.ChannelMessage);n===r||""!==r&&""!==n||t.setState((0,b.createState)(r),(function(){if(n!==r){var e=t.props.onFocus;null==e||e()}}))};t.handleKeyDown=function(e){var n=t.props,r=n.keyboardModeEnabled,a=n.onKeyDown,o=n.channel,i=e.shiftKey||e.altKey||e.ctrlKey||e.metaKey,u=0!==t.state.textValue.length;switch(e.which){case pe.KeyboardKeys.ARROW_UP:if(i)return;if(u)return;e.preventDefault()
;if(r)q.default.getUploadCount(o.id,H.DraftType.ChannelMessage)>0?ne.ComponentDispatch.dispatchToLastSubscribed(pe.ComponentActions.FOCUS_ATTACHMENT_AREA):ne.ComponentDispatch.dispatchToLastSubscribed(pe.ComponentActions.FOCUS_MESSAGES,{atEnd:!0});else{var l=t.props.channel,d=Y.default.getLastEditableMessage(l.id);if(null!=d){s.default.startEditMessage(l.id,d.id,d.content);h.default.trackWithMetadata(pe.AnalyticEvents.MESSAGE_EDIT_UP_ARROW)}}return;case pe.KeyboardKeys.ESCAPE:if(i)return;if(e.target!==e.currentTarget)return;e.preventDefault();if(r){(0,v.disableKeyboardMode)();return}if(q.default.getUploadCount(o.id,H.DraftType.ChannelMessage)>0){f.default.clearAll(o.id,H.DraftType.ChannelMessage);return}}null==a||a(e,u)};t.handleTextareaChange=function(e,n,r){var a=t.props,o=a.keyboardModeEnabled,i=a.channel.id;l.default.changeDraft(i,n,H.DraftType.ChannelMessage);var u=""!==n&&r!==t.state.richValue,s=u&&!Ne.test(n)&&!n.startsWith("/")&&(!t.isFirstChange||n!==t.state.textValue)
;t.isFirstChange=!1;s?d.default.startTyping(i):""===n&&d.default.stopTyping(i);u&&o&&(0,v.disableKeyboardMode)();t.setState({textValue:n,richValue:r})};t.handleSendMessage=function(){var e=Ce(regeneratorRuntime.mark((function e(n,r,a,o,i,u){var l,d,v,y,h,_,S,O,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=n;if(0!==(n=n.trim()).length||null!=a&&0!==a.length||null!=r&&0!==r.length){e.next=4;break}return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 4:d=t.props,v=d.guild,y=d.channel,h=d.pendingReply,_=d.chatInputType;S=!1;if(null==o){e.next=18;break}if(o.inputType!==g.ApplicationCommandInputType.BUILT_IN_INTEGRATION){e.next=10;break}ne.ComponentDispatch.dispatch(pe.ComponentActions.SHAKE_APP,{duration:200,intensity:2});return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 10:e.next=12;return(0,E.default)(o,null!=i?i:{},{guild:v,channel:y});case 12:O=e.sent
;if(o.inputType!==g.ApplicationCommandInputType.BUILT_IN_TEXT){e.next=17;break}if(null!=O){n=null!=O.content&&""!==O.content?O.content:n;S=!0===O.tts}e.next=18;break;case 17:return e.abrupt("return",Promise.resolve({shouldClear:!0,shouldRefocus:!0}));case 18:if(null!==o||null==v||!l.startsWith(ve.COMMAND_SENTINEL)){e.next=23;break}if((I=l.substring(1))!==I.trimStart()||m.default.hasResults(I,p.ApplicationCommandType.CHAT)){e.next=23;break}ne.ComponentDispatch.dispatch(pe.ComponentActions.SHAKE_APP,{duration:200,intensity:2});return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 23:return e.abrupt("return",(0,re.applyChatRestrictions)({openWarningPopout:function(e){return t.setState({contentWarningProps:e})},type:t.props.chatInputType,content:n,stickers:a,uploads:r,channel:y}).then((function(e){var o=e.valid,i=e.failureReason;if(!o){if(i===pe.MessageRestrictionTypes.SLOWMODE_COOLDOWN){ne.ComponentDispatch.dispatch(pe.ComponentActions.SHAKE_APP,{duration:200,
intensity:2});ne.ComponentDispatch.dispatch(pe.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN);return{shouldClear:!1,shouldRefocus:!0}}return{shouldClear:!1,shouldRefocus:!1}}var l=s.default.getSendMessageOptionsForReply(h),d=j.default.parse(y,n);d.tts=d.tts||S;if(u){s.default.sendMessage(y.id,d,void 0,l);(0,G.deletePendingReply)(y.id);return{shouldClear:!1,shouldRefocus:!0}}if(null!=r&&r.length>0){var p=(0,ie.getWebUploadFiles)(r);if((0,ie.filesExceedUploadLimits)(p,null==v?void 0:v.id)){(0,oe.showUploadFileSizeExceededError)(y,p);return{shouldClear:!1,shouldRefocus:!1}}c.default.uploadFiles(y.id,r,H.DraftType.ChannelMessage,d,Pe({},l,{stickerIds:a}));f.default.clearAll(y.id,H.DraftType.ChannelMessage)}else null!=a&&a.length>0?""!==n?s.default.sendMessage(y.id,d,void 0,Pe({},l,{stickerIds:a})):s.default.sendStickers(y.id,a,n,l,d.tts):s.default.sendMessage(y.id,d,void 0,l);t.setState((0,b.createEmptyState)());(0,G.deletePendingReply)(y.id);(0,x.clearStickerPreview)(y.id,_.drafts.type)
;return{shouldClear:!0,shouldRefocus:!0}})));case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}();t.renderAttachButton=function(e){return be(C.default,{className:e,channel:t.props.channel,draftType:H.DraftType.ChannelMessage,editorTextContent:t.state.textValue,setValue:function(e){return t.handleTextareaChange(null,e,(0,b.toRichValue)(e))}})};t.renderApplicationCommandIcon=function(e,n){var r;return be(I.default,{className:n,command:e,channel:t.props.channel,section:null===(r=_.SearchManagerStore.getApplicationSections(t.props.channel.id))||void 0===r?void 0:r.find((function(t){return t.id===e.applicationId}))})};return t}var n=t.prototype;n.componentDidMount=function(){H.default.addChangeListener(this.draftDidChange)};n.componentWillUnmount=function(){H.default.removeChangeListener(this.draftDidChange)};n.componentDidUpdate=function(e,t){var n=this.props.channel,r=this.state.textValue;if(e.channel.id===n.id){
if(e.hasModalOpen&&!this.props.hasModalOpen){var a=H.default.getDraft(n.id,H.DraftType.ChannelMessage);a!==r&&this.setState((0,b.createState)(a))}t.textValue.length<pe.MAX_MESSAGE_LENGTH&&r.length>=pe.MAX_MESSAGE_LENGTH&&ee.default.track(pe.AnalyticEvents.MESSAGE_LENGTH_LIMIT_REACHED,{})}else this.draftDidChange(this.props)};n.render=function(){var e=this,t=this.props,n=t.channel,r=t.focused,i=t.onResize,u=t.onBlur,l=t.onFocus,s=t.highlighted,d=t.pendingReply,f=t.chatInputType,c=t.placeholder,p=this.state.contentWarningProps;return be(X.default,{position:X.default.Positions.TOP,onRequestClose:function(){var t;null==p||null===(t=p.onCancel)||void 0===t||t.call(p);e.setState({contentWarningProps:null})},shouldShow:null!=p,renderPopout:function(e){var t=e.closePopout;(0,o.default)(null!=p,"ChannelTextAreaForm > Popout > renderPopout: contentWarningProps cannot be null");return a.createElement(ce.default,Pe({onClose:t},p))}},void 0,(function(){return be(T.default,{
textValue:e.state.textValue,richValue:e.state.richValue,focused:r,className:he.default.channelTextArea,channel:n,placeholder:c,pendingReply:d,type:f,onChange:e.handleTextareaChange,onSubmit:e.handleSendMessage,onResize:i,onFocus:l,onBlur:u,onKeyDown:e.handleKeyDown,renderAttachButton:e.renderAttachButton,renderApplicationCommandIcon:e.renderApplicationCommandIcon,promptToUpload:oe.promptToUpload,highlighted:s})}))};return t}(a.PureComponent);we.displayName="ChannelTextAreaForm";var De=be(Q.ChatLayerContainer,{}),Le=function(e){Te(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).inputFormRef=a.createRef();t.state={textAreaFocused:!1,textAreaHighlighted:!1,currentChannelId:t.props.channel.id};t.dispatchGroupRef=a.createRef();t.handleRequestFocus=function(e){e.channelId===t.props.channel.id&&t.setState({textAreaFocused:!0})};t.getAnalyticsPage=function(){var e=t.props.channel;if(null==e)return null
;switch(e.type){case pe.ChannelTypes.GUILD_ANNOUNCEMENT:case pe.ChannelTypes.GUILD_TEXT:case pe.ChannelTypes.GUILD_FORUM:return fe.default.Pages.GUILD_CHANNEL;case pe.ChannelTypes.GROUP_DM:case pe.ChannelTypes.DM:return fe.default.Pages.DM_CHANNEL;default:return null}};t.handleInputFocus=function(e){var n;null===(n=t.dispatchGroupRef.current)||void 0===n||n.bumpDispatchPriority();(0,ae.isFullScreen)()||(null!=(null==e?void 0:e.highlight)?t.setState({textAreaFocused:!0,textAreaHighlighted:null==e?void 0:e.highlight}):t.setState({textAreaFocused:!0}))};t.handleInputBlur=function(){(document.hasFocus()||t.props.hasModalOpen)&&t.setState({textAreaFocused:!1,textAreaHighlighted:!1})};t.handleInputKeyDown=function(e,n){t.state.textAreaHighlighted&&t.setState({textAreaHighlighted:!1});n||t._handleMoveToPane(e)};t.handleKeyDown=function(e){var n;(null===(n=t.inputFormRef.current)||void 0===n?void 0:n.contains(e.target))||t._handleMoveToPane(e)};t._handleMoveToPane=function(e){
var n=t.props,r=n.keyboardModeEnabled,a=n.chatInputType,o=n.channel;if(r)switch(e.which){case pe.KeyboardKeys.ARROW_LEFT:a===O.ChatInputTypes.SIDEBAR&&ne.ComponentDispatch.dispatch(pe.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:$.default.getChannelId()});return;case pe.KeyboardKeys.ARROW_RIGHT:a===O.ChatInputTypes.NORMAL&&ne.ComponentDispatch.dispatch(pe.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:W.default.getCurrentSidebarChannelId(o.id)})}};t.handleOpenExpressionPicker=function(e){var n=e.activeView;(0,R.openExpressionPicker)(n,t.props.chatInputType)};t.handleChatInteract=function(){var e;null===(e=t.dispatchGroupRef.current)||void 0===e||e.bumpDispatchPriority()};t.renderMessageBanner=function(e,t,n,r,a){if(e.type===pe.ChannelTypes.DM){if(t)return be(N.SenderSpammerBanner,{channel:e});if(n)return be(M.FirstDMReportSpamBanner,{channel:e})}return null!=a&&(0,w.isCommunicationDisabled)(a)&&null!=r?be(L.CommunicationDisabledBanner,{guild:r,disabledUntil:a}):null}
;return t}t.getDerivedStateFromProps=function(e,t){var n=e.channel,r=t.currentChannelId;return n.id!==r?{textAreaFocused:null!=n&&K.default.can(pe.Permissions.SEND_MESSAGES,n),currentChannelId:n.id}:null};var n=t.prototype;n.componentDidMount=function(){ne.ComponentDispatch.subscribe(pe.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.componentDidUpdate=function(e){this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus())};n.componentWillUnmount=function(){ne.ComponentDispatch.unsubscribe(pe.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.render=function(){
var e,t,n=this.props,r=n.channel,o=n.guild,u=n.keyboardModeEnabled,l=n.hasModalOpen,s=n.pendingReply,d=n.chatInputType,f=n.renderThreadNotice,c=n.placeholder,p=n.showNonFriendDMAcceptBanner,v=n.filterAfterTimestamp,y=n.showSpamBanner,h=n.communicationDisabledUntil,m=this.state,_=m.textAreaFocused,g=m.textAreaHighlighted,E=r.isPrivate()?le.default:se.default,S=d===O.ChatInputTypes.SIDEBAR;t=S&&r.type===pe.ChannelTypes.GUILD_VOICE?ye.default.Messages.TEXT_IN_VOICE_A11Y_LABEL:i.ChannelTypesSets.THREADS.has(r.type)?ye.default.Messages.THREAD_A11Y_LABEL:ye.default.Messages.CHANNEL_A11Y_LABEL;return be(fe.default,{page:this.getAnalyticsPage()},"messages-"+r.id,be(Q.ChatLayerProvider,{},void 0,a.createElement(te.ComponentDispatchGroupProvider,{ref:this.dispatchGroupRef},be(te.ComponentAction,{event:pe.ComponentActions.TEXTAREA_FOCUS,handler:this.handleInputFocus}),be(te.ComponentAction,{event:pe.ComponentActions.TEXTAREA_BLUR,handler:this.handleInputBlur}),be(te.ComponentAction,{
event:pe.ComponentActions.OPEN_EXPRESSION_PICKER,handler:this.handleOpenExpressionPicker}),be(Re,{isSidebar:S,className:he.default.chatContent,"aria-label":t.format({channelName:r.name}),onMouseDown:this.handleChatInteract,onKeyDown:this.handleKeyDown,onFocus:this.handleChatInteract},void 0,f?be(B.default,{channel:r}):null,(0,U.isReadStateStaffExperimentEnabled)()?be(ue.default,{guild:o,channel:r}):null,be(k.default,{channel:r,showingFirstMessageBanner:p,filterAfterTimestamp:v,showingSpamBanner:y}),null!==(e=this.renderMessageBanner(r,y,p,o,h))&&void 0!==e?e:a.createElement("form",{ref:this.inputFormRef,onSubmit:Me,className:he.default.form},be(E,{channel:r},void 0,be(V.default,{tutorialId:"writing-messages",position:Z.PopoutPositions.LEFT,offsetX:75},void 0,be(we,{focused:_,highlighted:g,channel:r,guild:o,keyboardModeEnabled:u,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,hasModalOpen:l,pendingReply:s,chatInputType:d,placeholder:c
}))),be(de.default,{channel:r})),De))))};return t}(a.PureComponent);Le.displayName="ChannelChat";var je=a.memo((function(e){var t=e.channel,n=e.guild,r=e.chatInputType,a=e.renderThreadNotice,o=e.filterAfterTimestamp,i=(0,S.default)(t),l=(0,P.useAndTrackNonFriendDMAccept)(t).showBanner,s=(0,A.useAndTrackDMSpamAccept)(t).showSpamBanner,d=Se((0,D.useCurrentUserCommunicationDisabled)(null==n?void 0:n.id),1)[0];return be(Le,{channel:t,isEditing:null!=(0,u.useStateFromStores)([z.default],(function(){return z.default.getEditingMessageId(t.id)})),hasModalOpen:(0,J.useModalsStore)(J.hasAnyModalOpenSelector),guild:n,keyboardModeEnabled:(0,u.useStateFromStores)([y.default],(function(){return y.default.keyboardModeEnabled})),pendingReply:(0,u.useStateFromStores)([F.default],(function(){return F.default.getPendingReply(t.id)})),chatInputType:r,renderThreadNotice:a,placeholder:i,showNonFriendDMAcceptBanner:l,filterAfterTimestamp:o,showSpamBanner:s,communicationDisabledUntil:d})}));t.default=je},
695519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=h(n(770549)),i=h(n(678928)),u=n(567186),l=h(n(644263)),s=h(n(563621)),d=h(n(956117)),f=h(n(811198)),c=h(n(776360)),p=n(770348),v=h(n(247001)),y=h(n(36656));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.guild,n=e.channel,r=(0,a.useStateFromStoresObject)([l.default,s.default],(function(){return{category:null!=n.parent_id?l.default.getChannel(n.parent_id):null,isGuildMuted:s.default.isMuted(n.getGuildId()),isCategoryMuted:null!=n.parent_id&&s.default.isChannelMuted(n.getGuildId(),n.parent_id),isChannelMuted:s.default.isChannelMuted(n.getGuildId(),n.id),messageNotifications:s.default.resolvedMessageNotifications(n)}})),h=r.category,m=r.isGuildMuted,g=r.isCategoryMuted,E=r.isChannelMuted,S=r.messageNotifications,O=(0,i.default)(n,!0);if(!(0,u.isTextChannel)(n.type)||n.isThread())return null;var b,I,C,T=m||g||E;if(T){var A;if(m){var P
;A=null!==(P=null==t?void 0:t.name)&&void 0!==P?P:"???";C=function(){return o.default.updateGuildNotificationSettings(n.getGuildId(),{muted:!1})}}else if(g){var M;A=null!==(M=null==h?void 0:h.name)&&void 0!==M?M:"???";C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.parent_id,{muted:!1})}}else{A=O;C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.id,{muted:!1})}}b=v.default.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_MUTED.format({name:A});I=v.default.Messages.UNMUTE}else{if(S===p.UserNotificationSettings.ALL_MESSAGES)return null;b=v.default.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_ONLY_MENTIONS.format({name:O});I=v.default.Messages.ENABLE_NOTIFICATIONS_TITLECASE;C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.id,{message_notifications:p.UserNotificationSettings.ALL_MESSAGES})}}return _("div",{className:y.default.chatHeaderBar},void 0,_(f.default,{className:y.default.chatHeaderBarIcon,
foreground:T?y.default.chatHeaderBarIconStrikethrough:void 0}),_(c.default,{className:y.default.chatHeaderBarText,size:c.default.Sizes.SIZE_14,color:c.default.Colors.HEADER_SECONDARY},void 0,b),_(d.default,{size:d.default.Sizes.TINY,color:d.default.Colors.PRIMARY,className:y.default.chatHeaderBarButton,onClick:C},void 0,I))}g.displayName="ChannelChatNotificationSettingsNotice"},174851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MIN_CHAT_SIDEBAR_WIDTH=t.ChatSidebarType=void 0;t.default=function(e){var t,n,r=e.sidebarType,l=e.maxWidth,d=e.onWidthChange,c=e.children,p=e.floatingLayer,v=a.useRef(null),S=function(e){switch(e){case _.PostSidebar:return"postSidebarWidth";case _.ThreadSidebar:return"threadSidebarWidth";case _.CallChatSidebar:return"callChatSidebarWidth"}}(r),O=(M=a.useState(s.default[S]),N=2,function(e){if(Array.isArray(e))return e}(M)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(M,N)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(M,N)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=O[0],I=O[1],C=a.useCallback((function(e){var t;u.default.updatedUnsyncedSettings(((t={})[S]=e,t))}),[S]),T=l<=m,A=(0,i.clamp)(b,m,l),P=T?A:A+g;var M,N;a.useEffect((function(){null==d||d(A,T)}),[A,d,T]);var R=a.createElement(a.Fragment,null,h("div",{className:(0,o.default)(f.default.chatTarget,(t={},
t[f.default.floating]=T,t[f.default.notFloating]=!T,t)),style:{width:P}}),!T&&h(E,{maxWidth:l,resizableNode:v,onResize:I,onResizeEnd:C}),a.createElement("div",{ref:v,className:(0,o.default)(f.default.container,(n={},n[f.default.floating]=T,n)),style:{width:A}},c));if(T){return h(null!=p?p:a.Fragment,{},void 0,h("div",{className:f.default.chatLayerWrapper},void 0,R))}return a.createElement(a.Fragment,null,R)};var r,a=v(n(667294)),o=c(n(294184)),i=n(496486),u=c(n(929031)),l=v(n(33273)),s=c(n(174508)),d=n(8916),f=c(n(542709));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=400;t.MIN_CHAT_SIDEBAR_WIDTH=m;var _,g=(0,d.cssValueToNumber)(f.default.resizeHandleWidth);t.ChatSidebarType=_;!function(e){e[e.PostSidebar=0]="PostSidebar";e[e.ThreadSidebar=1]="ThreadSidebar";e[e.CallChatSidebar=2]="CallChatSidebar"
}(_||(t.ChatSidebarType=_={}));function E(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxWidth;return h("div",{onMouseDown:(0,l.default)({minDimension:m,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:l.ResizeOrientation.HORIZONTAL}),className:f.default.resizeHandle})}E.displayName="ResizeHandle"},416274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=re
;var r,a=x(n(667294)),o=G(n(294184)),i=G(n(496486)),u=x(n(798628)),l=n(536211),s=G(n(389726)),d=n(378158),f=n(911574),c=G(n(55189)),p=G(n(235879)),v=G(n(843314)),y=G(n(844784)),h=n(632123),m=n(75639),_=n(252404),g=G(n(527820)),E=G(n(711195)),S=G(n(414068)),O=x(n(778548)),b=G(n(663303)),I=G(n(946447)),C=G(n(160629)),T=G(n(325908)),A=G(n(827436)),P=G(n(521358)),M=n(956506),N=n(71246),R=G(n(922629)),w=G(n(810332)),D=n(770348),L=G(n(247001)),j=G(n(645320)),k=["colorString","isOwner","nick","user","activities","applicationStream","status","channel","guildId","isTyping","isMobileOnline","premiumSince"],U=["ref","role"];function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])
}return e};return z.apply(this,arguments)}function Y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Y(o,r,a,i,u,"next",e)}function u(e){Y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function $(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;q(e,t)}function q(e,t){q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return q(e,t)}var Z=R.default.getEnableHardwareAcceleration(),X={origin:{x:38,y:11},targetWidth:232,targetHeight:40,offset:{x:0,y:0}},Q=function(e){$(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).renderUserContextMenu=function(e){(0,d.openContextMenuLazy)(e,K(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,z({},e,{user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleShiftClick=function(){var e=t.props,n=e.user,r=n.id,a=n.username,o=n.tag,i=e.channel.id,u="@"+(b.default.hidePersonalInformation?a:o),l="<@!"+r+">";M.ComponentDispatch.dispatchToLastSubscribed(D.ComponentActions.INSERT_TEXT,{plainText:u,rawText:l});c.default.startTyping(i)};t.openGuildSubscriptionModal=function(e){var n=t.props.guildId;if(null!=n){e.stopPropagation();(0,m.openGuildBoostingMarketingModal)({guildId:n,location:{section:D.AnalyticsSections.MEMBER_LIST,object:D.AnalyticsObjects.BOOST_GEM_ICON}})}};t.renderUserPopout=function(e){return a.createElement(S.default,z({},e,{userId:t.props.user.id,
guildId:t.props.guildId,channelId:t.props.channel.id}))};return t}var r=t.prototype;r.shouldComponentUpdate=function(e){return!(0,s.default)(this.props,e,["channelId"])};r.render=function(){var e=this,t=this.props,n=t.colorString,r=t.isOwner,o=t.nick,i=t.user,u=t.activities,l=t.applicationStream,s=t.status,d=t.channel,f=t.guildId,c=t.isTyping,p=t.isMobileOnline,v=t.premiumSince,y=H(t,k),h=null!=v?new Date(v):null;return W(C.default,{preload:function(){return(0,E.default)(i.id,i.getAvatarURL(f,80),{guildId:f})},renderPopout:this.renderUserPopout,position:C.default.Positions.LEFT,spacing:16,onShiftClick:this.handleShiftClick},void 0,(function(t,v){var m=v.isShown;return a.createElement(w.default,z({onContextMenu:e.renderUserContextMenu,shouldAnimateStatus:Z,user:i,nick:o,status:s,activities:u,applicationStream:l,isOwner:r,premiumSince:h,colorString:n,isTyping:c,channel:d,guildId:f,isMobile:p,onClickPremiumGuildIcon:e.openGuildSubscriptionModal,selected:m,itemProps:y},t))}))};return t
}(a.Component);Q.displayName="ChannelMember";var J=a.memo((function(e){var t=e.channel,n=e.user,r=e.index,o=(0,u.useListItem)(""+r),i=(0,l.useStateFromStores)([I.default],(function(){return I.default.isTyping(t.id,n.id)}));return a.createElement(Q,z({},e,o,{isTyping:i}))})),ee=a.memo((function(e){var t=e.id,n=e.title,r=e.count,o=e.guildId,i=(0,_.useRoleIcon)({roleId:t,guildId:o,size:16});return t===D.StatusTypes.UNKNOWN?W("div",{className:j.default.membersGroup},void 0,W("div",{className:j.default.memberGroupsPlaceholder})):W(T.default,{className:j.default.membersGroup},void 0,W(v.default,{},void 0,L.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r})),W("span",{"aria-hidden":!0},void 0,null!=i?a.createElement(A.default,z({className:j.default.roleIcon},i)):null,n," — ",r))}));function te(e){var t=e.index,n=(0,u.useListItem)(""+t);return W(w.default,{itemProps:n})}te.displayName="ChannelMemberPlaceholder";var ne=function(e){$(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._list=null;t.setList=function(e){t._list=e;t.props.listRef.current=e};t.renderSection=function(e){var n=e.section,r=t.props,o=r.groups,i=r.channel,u=o[n];return 0===n?W(g.default,{tutorialId:"whos-online",position:C.default.Positions.LEFT,inlineSpecs:X},"section-"+n,a.createElement(ee,z({},u,{guildId:i.guild_id}))):a.createElement(ee,z({},u,{key:"section-"+n,guildId:i.guild_id}))};t.getRowProps=function(e){var n=t.props,r=n.groups,a=n.rows,o=r[e.section];if(null==o)return null;var i=o.index;return null==i||"row"!==e.type?null:a[i+1+e.row]};t.renderRow=function(e){var n=e.section,r=e.row,a=e.rowIndex,o=t.props.channel,i=t.getRowProps(e);if(null!=i&&i.type===O.MemberListRowTypes.MEMBER&&"user"in i){var u=i.colorString,l=i.user,s=i.status,d=i.isOwner,f=i.isMobileOnline,c=i.nick,p=i.activities,v=i.applicationStream,y=i.premiumSince;return W(J,{colorString:u,user:l,status:s,
isOwner:d,nick:c,activities:p,applicationStream:v,channel:o,guildId:o.guild_id,premiumSince:y,isMobileOnline:f,index:a},"member-"+i.user.id)}return W(te,{index:a},"placeholder-"+n+":"+r)};t.handleScroll=function(){t.updateSubscription()};t.updateSubscription=i.default.debounce((function(){if(null!=t._list){var e=t.props.channel,n=t.getDimensions(),r=n.rowHeight,a=n.y,o=n.height;(0,f.subscribeChannelDimensions)(e.guild_id,e.id,a,o,r)}}),50);t.trackMemberListViewed=function(){var e;if(t.lastReportedAnalyticsChannel!==t.props.channel.id){var n=null===(e=t._list)||void 0===e?void 0:e.getItems(),r=t.getDimensions().rowsVisible;if(void 0!==r&&0!==r&&null!=n){var a=n.map((function(e){return t.getRowProps(e)})).slice(0,r+1).filter(N.isNotNullish);if(0!==a.length){var o=a.reduce((function(e,t){if(t.type!==O.MemberListRowTypes.MEMBER)return e;e.num_users_visible++;t.isMobileOnline&&e.num_users_visible_with_mobile_indicator++;if(null!=t.activities&&t.activities.length>0){
e.num_users_visible_with_activity++;t.activities.some((function(e){return e.type===D.ActivityTypes.PLAYING}))&&e.num_users_visible_with_game_activity++}return e}),{num_users_visible:0,num_users_visible_with_mobile_indicator:0,num_users_visible_with_game_activity:0,num_users_visible_with_activity:0});t.lastReportedAnalyticsChannel=t.props.channel.id;y.default.trackWithMetadata(D.AnalyticEvents.MEMBER_LIST_VIEWED,z({},o))}}}};return t}var n=t.prototype;n.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version||e.groups.length!==this.props.groups.length};n.componentDidMount=function(){this.updateSubscription();this.trackMemberListViewed()};n.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription();this.trackMemberListViewed()};n.getDimensions=function(){var e=this._list;if(null==e)return{y:0,height:0,rowHeight:0};var t=e.getScrollerState(),n=t.offsetHeight,r=t.scrollTop;return{height:n,
rowHeight:44,rowsVisible:Math.floor(n/44),y:r}};n.render=function(){var e=this,t=this.props,n=t.groups,r=t.listId,i=t.channel;return W(h.FocusJumpSection,{},void 0,(function(t){return W("aside",{className:(0,o.default)(j.default.membersWrap,j.default.hiddenMembers),"aria-label":L.default.Messages.MEMBERS_LIST_LANDMARK_LABEL.format({channel:i.name})},void 0,W(u.ListNavigatorContainer,{},void 0,(function(o){var i=o.ref,u=o.role,l=H(o,U);return a.createElement(P.default,z({key:r,innerRole:u,innerAriaLabel:L.default.Messages.MEMBERS,ref:function(t){var n;e._list=t;e.props.listRef.current=t;i.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},className:j.default.members,paddingTop:0,sectionHeight:40,rowHeight:44,renderSection:e.renderSection,renderRow:e.renderRow,sections:n.map((function(e){return e.count})),onScroll:e.handleScroll,fade:!0},l,t))})))}))};return t}(a.Component);ne.displayName="ChannelMembers";function re(e){var t=e.channel,n=e.className,r=(0,
l.useStateFromStores)([p.default],(function(){return p.default.keyboardModeEnabled})),i=(0,l.useStateFromStoresObject)([O.default],(function(){return O.default.getProps(t.guild_id,t.id)})),s=i.rows,d=i.groups,f=a.useRef(null),c=a.useCallback((function(e,t){var n=f.current;if(null!=n){var r=parseInt(t,10),a=B(n.getSectionRowFromIndex(r),2),o=a[0],i=a[1],u=0===o&&0===i?44:0;n.scrollToIndex({section:o,row:i,padding:u,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[]),v=a.useCallback((function(){return new Promise((function(e){var t=f.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),y=a.useCallback((function(){return new Promise((function(e){var t=f.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]),h=(0,
u.default)({id:"members-"+t.id,setFocus:c,isEnabled:r,scrollToStart:v,scrollToEnd:y});return W("div",{className:(0,o.default)(j.default.container,n)},void 0,W(u.ListNavigatorProvider,{navigator:h},void 0,a.createElement(ne,z({},e,i,{groups:d,rows:s,listRef:f}))))}re.displayName="ConnectedChannelMembers"},83887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=m(n(667294)),o=n(536211),i=y(n(56911)),u=y(n(882832)),l=y(n(191391)),s=y(n(728429)),d=y(n(265851)),f=m(n(80212)),c=y(n(836943)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=[];function E(e){var t=e.channel,r=e.onJump,y=(0,o.useStateFromStoresObject)([u.default],(function(){var e=u.default.getPinnedMessages(t.id),n=null!=e?e.messages:g;return{messages:n,loading:null==n||null!=e&&e.loading}})),h=y.messages,m=y.loading,E=(0,o.useStateFromStores)([l.default],(function(){return l.default.hasUnreadPins(t.id)})),S=(0,
o.useStateFromStores)([s.default],(function(){var e=s.default.getUser(t.getRecipientId());return null!=e?e.username:null}));a.useEffect((function(){E&&i.default.ackPins(t.id)}),[E,t.id]);return _(d.default,{"aria-label":v.default.Messages.PINNED_MESSAGES},void 0,_(f.default,{onFetch:function(){i.default.ackPins(t.id);i.default.fetchPins(t.id)},channel:t,messages:h,loading:m,analyticsName:"Channel Pins",onCloseMessage:function(e,n){null!=e&&(n.shiftKey?i.default.unpinMessage(t,e.id):c.default.confirmUnpin(t,e))},onJump:r,getProTip:function(){return t.isPrivate()?t.type===p.ChannelTypes.DM?v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:S}):v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM:v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL},renderHeader:function(){return _(f.Header,{title:v.default.Messages.PINNED_MESSAGES})},renderEmptyState:function(e){var r=v.default.Messages.NO_PINS_IN_CHANNEL;t.isPrivate()&&(r=v.default.Messages.NO_PINS_IN_DM)
;var a=e===p.ThemeTypes.LIGHT?n(937849):n(772144);return _(f.EmptyStateCenter,{msg:r,image:a},"emptystate")},listName:"pins"}))}E.displayName="ChannelPins"},701391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(473727),i=h(n(536211)),u=h(n(709403)),l=h(n(864345)),s=n(887299),d=h(n(484024)),f=h(n(284382)),c=n(858267),p=h(n(390491)),v=n(770348),y=h(n(492036));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).fetchStoreListing=function(e){var n=t.props,r=n.channel,a=n.inputSkuId
;return null!=e?u.default.fetchChannelStoreListing(r.id,e):null!=a?u.default.fetchChannelStoreListing(r.id,a):u.default.fetchChannelStoreListing(r.id)};t.renderApplicationListing=function(e){var n=e.location,r=t.props,a=r.channel,o=r.skuId,i=r.width;return _(p.default,{channel:a,inputSkuId:o,fetchStoreListing:t.fetchStoreListing,location:n,pageSize:(0,c.getPageSize)(i)})};return t}var n=t.prototype;n.componentDidMount=function(){this.fetchStoreListing();(0,s.trackAppUIViewed)("channel_store_listing")};n.render=function(){return null!=this.props.skuId?_(f.default,{page:v.AnalyticsPages.CHANNEL_STORE_LISTING,root:!0},void 0,_("div",{className:y.default.applicationStore},void 0,_(o.Route,{path:"*",render:this.renderApplicationListing}))):null};return t}(a.Component);E.displayName="ChannelStoreListing";var S=(0,l.default)(i.default.connectStores([d.default],(function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:d.default.getSkuIdForChannel(t.id)}}))(E));t.default=S},
448702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=h(n(213847)),u=h(n(844784)),l=h(n(463024)),s=h(n(562796)),d=h(n(776360)),f=n(770348),c=h(n(247001)),p=h(n(361751)),v=h(n(192941)),y=h(n(232353));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=((r={})[f.ThemeTypes.DARK]=v.default,r[f.ThemeTypes.LIGHT]=y.default,r),E=_(o.Fragment,{}),S=_(l.default.Icon,{icon:s.default,"aria-hidden":!0}),O=function(){var e=(0,i.default)();o.useEffect((function(){u.default.trackWithMetadata(f.AnalyticEvents.GUILD_OUTAGE_VIEWED,{})}),[]);return _("div",{className:p.default.container},void 0,_(l.default,{toolbar:E},void 0,S,_(l.default.Title,{},void 0,c.default.Messages.GUILD_UNAVAILABLE_HEADER)),_("div",{className:p.default.content},void 0,_("img",{alt:"",className:p.default.splashImage,src:g[e]}),_(d.default,{className:p.default.splashHeader,size:d.default.Sizes.SIZE_24
},void 0,c.default.Messages.GUILD_UNAVAILABLE_TITLE),_(d.default,{className:p.default.splashText,size:d.default.Sizes.SIZE_16},void 0,c.default.Messages.GUILD_UNAVAILABLE_BODY)))};O.displayName="ChannelUnavailable";var b=O;t.default=b},825469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=b(n(441143)),i=b(n(294398)),u=b(n(726485)),l=b(n(14096)),s=b(n(235879)),d=b(n(916239)),f=b(n(364172)),c=n(956506),p=b(n(593878)),v=b(n(969940)),y=b(n(421651)),h=b(n(818685)),m=b(n(323019)),_=b(n(396201)),g=b(n(229108)),E=b(n(742234)),S=n(770348),O=b(n(542729));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var T=C(y.default,{}),A=C(g.default,{}),P=C(p.default,{}),M=C(v.default,{}),N=C(i.default,{}),R=C(h.default,{}),w=C(f.default,{}),D=C(d.default,{}),L=C(m.default,{});function j(){var e=a.useRef(null),t=a.useCallback((function(t){var n=t.duration,r=t.intensity;if(!s.default.useReducedMotion){var a=e.current;(0,o.default)(null!=a,"Shakeable is shaken when not mounted");a.shake(n,r)}}),[]);a.useEffect((function(){l.default.setLayout(u.default);l.default.enable();return function(){return l.default.disable()}}),[]);a.useEffect((function(){c.ComponentDispatch.subscribe(S.ComponentActions.SHAKE_APP,t);return function(){c.ComponentDispatch.unsubscribe(S.ComponentActions.SHAKE_APP,t)}}),[t]);return a.createElement(E.default,{ref:e,className:O.default.app},C(_.default,{className:O.default.layers},void 0,T,A),P,M,N,R,w,D,L)}j.displayName="Chat";var k=a.memo(j);t.default=k},678306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=A(n(294184)),i=A(n(496486)),u=A(n(74854)),l=A(n(536211)),s=A(n(972247)),d=A(n(761537)),f=A(n(235879)),c=A(n(749666)),p=A(n(805764)),v=A(n(796608)),y=A(n(23535)),h=A(n(758602)),m=A(n(151097)),_=A(n(934297)),g=A(n(637853)),E=A(n(962314)),S=n(864489),O=n(179379),b=A(n(922629)),I=n(770348),C=A(n(247001)),T=A(n(678114));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t){M=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return M(e,t)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(t){var n,r;(n=e.call(this,t)||this).videoRef=null;n._noProblemsTimeout=null;n._problemsTimeout=null;n._connectedSound=n.createSound()
;n._loadingText=(r=[C.default.Messages.LOADING_LINE_1,C.default.Messages.LOADING_LINE_2,C.default.Messages.LOADING_LINE_3,C.default.Messages.LOADING_LINE_4,C.default.Messages.LOADING_LINE_5,C.default.Messages.LOADING_LINE_6,C.default.Messages.LOADING_LINE_7,C.default.Messages.LOADING_LINE_8,C.default.Messages.LOADING_LINE_10,C.default.Messages.LOADING_LINE_11,C.default.Messages.LOADING_LINE_12,C.default.Messages.LOADING_LINE_13,C.default.Messages.LOADING_LINE_14,C.default.Messages.LOADING_LINE_15,C.default.Messages.LOADING_TIP_1,C.default.Messages.LOADING_TIP_2,C.default.Messages.LOADING_TIP_3,C.default.Messages.LOADING_TIP_4,C.default.Messages.LOADING_TIP_5,C.default.Messages.LOADING_TIP_6,C.default.Messages.LOADING_TIP_7,C.default.Messages.LOADING_TIP_8,C.default.Messages.LOADING_TIP_9,C.default.Messages.LOADING_TIP_10,C.default.Messages.LOADING_TIP_11,C.default.Messages.LOADING_TIP_12,C.default.Messages.LOADING_TIP_13,C.default.Messages.LOADING_TIP_14,C.default.Messages.LOADING_TIP_15,C.default.Messages.LOADING_TIP_16,C.default.Messages.LOADING_TIP_17,C.default.Messages.LOADING_TIP_18,C.default.Messages.LOADING_TIP_19,C.default.Messages.LOADING_TIP_20,C.default.Messages.LOADING_TIP_21,C.default.Messages.LOADING_TIP_22,C.default.Messages.LOADING_TIP_23,C.default.Messages.LOADING_TIP_24,C.default.Messages.LOADING_TIP_25,C.default.Messages.LOADING_TIP_26,C.default.Messages.LOADING_TIP_27.format({
asterisks:"**"}),C.default.Messages.LOADING_KEYBIND_TIP_1.format({quickSwitcherHook:function(e,t){return N(c.default,{shortcut:"mod+k",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_2.format({markUnreadHook:function(e,t){return N(c.default,{shortcut:"alt+click",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_3.format({markServerUnreadHook:function(e,t){return N(c.default,{shortcut:"shift+esc",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_4.format({navigateUnreadHook:function(e,t){return N(c.default,{shortcut:"shift+alt+up",className:T.default.keybind},t)},downHook:function(e,t){return N(c.default,{shortcut:"down",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_5.format({keyboardShortcutsHook:function(e,t){return N(c.default,{shortcut:"mod+/",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_6.format({messageNewlineHook:function(e,t){return N(c.default,{
shortcut:"shift+return",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_7.format({shiftHook:function(e,t){return N(c.default,{shortcut:"shift",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_8.format({upHook:function(e,t){return N(c.default,{shortcut:"up",className:T.default.keybind},t)}})])[i.default.random(r.length-1)];n.handleReady=function(){n.setState({ready:!0});if((0,S.isDesktop)()){b.default.send("UPDATED_QUOTES",["Hold Tight — Loading Discord"]);b.default.send("UPDATE_OPEN_ON_STARTUP")}};n.setVideoRef=function(e){n.videoRef=e};n.setProblemsTimeout=function(){null==n._problemsTimeout&&(n._problemsTimeout=setTimeout((function(){return n.setState({problems:!0})}),1e4))};n.clearProblemsTimeout=function(){clearTimeout(n._problemsTimeout);n._problemsTimeout=null};var a=t.connected;n.state={ready:a,hide:a,problems:!1,shouldRender:!a,opacity:new u.default.Value(a?0:1)};n._connectedSound.volume=1;return n}var n=t.prototype
;n.createSound=function(){var e=this.props.soundpack,t=(0,O.createSoundForPack)("discodo",e);t.volume=1;return t};n.componentDidMount=function(){this.setProblemsTimeout()};n.componentDidUpdate=function(e,t){var n=this,r=this.state,a=r.ready,o=r.hide,i=r.problems,l=r.opacity,f=this.props,c=f.connected,p=f.soundpack,v=f.reducedMotion,y=c&&a&&!o&&!i;e.soundpack!==p&&(this._connectedSound=this.createSound());if(e.connected!==c||y)if(c&&null!=this.videoRef){var h=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout);s.default.get(I.DISCODO_STORAGE_KEY)&&this._connectedSound.play();v?this.setState({problems:!1,hide:c}):this._noProblemsTimeout=setTimeout((function(){n.setState({problems:!1,hide:c})}),h)}else this.setState({problems:!1,hide:c});else if(t.hide!==o){o?this.clearProblemsTimeout():this.setProblemsTimeout();this.setState({shouldRender:!0});u.default.timing(l,{toValue:o?0:1,duration:200}).start((function(){
return n.setState({shouldRender:!o})}))}else t.problems!==i&&i&&d.default.checkIncidents()};n.componentWillUnmount=function(){this.clearProblemsTimeout();clearTimeout(this._noProblemsTimeout)};n.render=function(){if(this.state.shouldRender){var e,t=this._loadingText,n=null;if(null!=this.props.incident){t=this.props.incident.name;n=this.props.incident.incident_updates[0].body}return N(u.default.div,{className:T.default.container,style:{opacity:this.state.opacity}},void 0,N("div",{className:T.default.content},void 0,N(E.default,{autoPlay:!0,loop:!this.props.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?T.default.ready:""}),N("div",{className:T.default.text},void 0,null!=this.props.incident?null:N("div",{className:T.default.tipTitle},void 0,C.default.Messages.LOADING_DID_YOU_KNOW),N("div",{className:null!=this.props.incident?T.default.title:T.default.tip},void 0,t),N("div",{className:T.default.body},void 0,n))),N("div",{className:(0,
o.default)(T.default.problems,(e={},e[T.default.slideIn]=this.state.problems,e))},void 0,N("div",{className:T.default.problemsText},void 0,C.default.Messages.CONNECTING_PROBLEMS_CTA),N("div",{},void 0,N(m.default,{className:T.default.twitterLink,href:(0,p.default)(I.LocalizedLinks.TWITTER),target:"_blank"},void 0,N(g.default,{className:T.default.icon}),C.default.Messages.TWEET_US),N(m.default,{className:T.default.statusLink,href:I.Links.STATUS,target:"_blank"},void 0,N(_.default,{className:T.default.icon}),C.default.Messages.SERVER_STATUS))))}return null};return t}(a.PureComponent);R.displayName="ConnectingModal";var w=l.default.connectStores([y.default,h.default,v.default,f.default],(function(){return{isTryingToConnect:y.default.isTryingToConnect(),connected:y.default.isConnected(),incident:h.default.getIncident(),soundpack:v.default.getSoundpack(),reducedMotion:f.default.useReducedMotion}}))((function(e){
var t=e.isTryingToConnect,n=e.connected,r=e.incident,a=e.soundpack,o=e.reducedMotion;return t?N(R,{reducedMotion:o,soundpack:a,connected:n,incident:r}):null}));t.default=w},41234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(972247)),u=c(n(16941)),l=c(n(259530)),s=c(n(934297)),d=c(n(247001)),f=c(n(9007));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){
return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m="isHideDevBanner",_=function(){var e,t=y((0,a.useState)("true"===(null===(e=i.default.get(m,"false"))||void 0===e?void 0:e.toString())),2),n=t[0],r=t[1];if(n)return null;var c=function(){i.default.set(m,!0);r(!0)},p=function(){return v(u.default,{onClick:c,className:f.default.closeButton,"aria-label":d.default.Messages.DISMISS},void 0,v(l.default,{className:f.default.closeIcon}))};0;if("staging"===window.GLOBAL_ENV.RELEASE_CHANNEL){return v("div",{className:(0,o.default)(f.default.devBanner,f.default.staging)
},void 0,v(s.default,{className:f.default.icon}),d.default.Messages.DEV_NOTICE_STAGING.format({buildNumber:"122222"}),v(p,{}))}return null};t.default=_},43233:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=h(n(667294)),o=n(536211),i=v(n(772145)),u=v(n(790597)),l=v(n(871778)),s=h(n(737705)),d=v(n(80828)),f=n(770348),c=v(n(247001)),p=v(n(591701));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.channelId;a.useEffect((function(){i.default.loadThread(t)}));var r,v=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuildId()}))===f.FAVORITES,y=(0,o.useStateFromStores)([l.default],(function(){return l.default.theme}));r=v?m(s.EmptyStateText,{note:c.default.Messages.FAVORITES_EMPTY_BODY},void 0,c.default.Messages.FAVORITES_EMPTY_TITLE):null!=t?m(d.default,{type:d.default.Type.SPINNING_CIRCLE}):m(s.EmptyStateText,{note:c.default.Messages.CHANNELS_UNAVAILABLE_BODY
},void 0,c.default.Messages.CHANNELS_UNAVAILABLE_TITLE);return m("div",{className:p.default.noChannel},void 0,m(s.default,{theme:y},void 0,m(s.EmptyStateImage,{darkSrc:n(v?128112:16697),lightSrc:n(v?876406:105045),width:272,height:222}),r))}_.displayName="EmptyChannel"},323019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=y(n(496486)),o=n(143544),i=n(248088),u=n(536211),l=y(n(297452)),s=y(n(796608)),d=y(n(919935)),f=y(n(663303)),c=y(n(931411)),p=n(179379),v=n(340038);function y(e){
return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var _={transform:"scale(0.7)",opacity:0},g={transform:"scale(1)",opacity:1},E=function(){var e=(0,u.useStateFromStoresArray)([c.default],(function(){return c.default.getIncomingCalls()})),t=(0,u.useStateFromStores)([c.default],(function(){return c.default.hasIncomingCalls()})),n=(0,u.useStateFromStores)([d.default],(function(){return d.default.isSoundDisabled("call_ringing")})),y=(0,u.useStateFromStores)([f.default],(function(){return f.default.disableSounds})),h=(0,u.useStateFromStores)([s.default],(function(){return s.default.getSoundpack()})),E=r.useRef(!1),S=(0,o.useStableMemo)((function(){
return h===v.Soundpacks.CLASSIC?(0,p.createSound)(500===a.default.random(1,1e3)?"call_ringing_beat":"call_ringing"):(0,p.createSoundForPack)("call_ringing",h)}),[h]);r.useEffect((function(){return function(){S.stop()}}),[S]);r.useEffect((function(){if(y||n){if(E.current){S.stop();E.current=!1}}else if(t&&!E.current){S.loop();E.current=!0}else if(!t&&E.current){S.stop();E.current=!1}}),[n,y,t,S]);return(0,i.useTransition)(e,{keys:function(e){var t;return null===(t=e.channel)||void 0===t?void 0:t.id},enter:{from:_,to:g},leave:_,config:{mass:1,tension:500,friction:18,clamp:!0}})((function(e,t){return r.createElement(l.default,m({},t,{animatedStyle:e}))}))};t.default=E},396201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=K
;var r,a,o=A(n(667294)),i=C(n(294184)),u=C(n(74854)),l=A(n(536211)),s=C(n(550024)),d=n(264720),f=n(246049),c=C(n(14096)),p=n(836233),v=C(n(235879)),y=n(329117),h=C(n(68625)),m=C(n(122913)),_=C(n(728526)),g=n(378444),E=n(956506),S=n(518802),O=n(770348),b=C(n(785535)),I=["mode","children","baseLayer"];function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(1429),n.e(93198),n.e(72936),n.e(92782),n.e(54313)]).then(n.bind(n,64721))},webpackId:64721,name:"UserSettings"}),D=(0,
y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(97621)]).then(n.bind(n,437897))},webpackId:437897,name:"ChannelSettings"}),L=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(76885)]).then(n.bind(n,261236))},webpackId:261236,name:"RTCDebug"}),j=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(92782),n.e(86955)]).then(n.bind(n,799017))},webpackId:799017,name:"GuildIdentitySettingsPage"}),k=P(w,{}),U=P(D,{}),G=P(h.default,{}),F=P(L,{}),x=P(j,{}),B=((r={})[O.Layers.USER_SETTINGS]=function(){return k},r[O.Layers.CHANNEL_SETTINGS]=function(){return U},r[O.Layers.GUILD_SETTINGS]=function(){return G},r[O.Layers.RTC_DEBUG]=function(){return F},r[O.Layers.GUILD_IDENTITY_SETTINGS]=function(){return x},r),V="SHOWN",W="HIDDEN",H={friction:10,tension:100},z=function(e){N(t,e);t.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null};function t(t){var n
;(n=e.call(this,t)||this).containerRef=o.createRef();var r=1,a=1;if(t.mode===W){r=.93;a=0}n.state={animating:!1,scale:new u.default.Value(r),opacity:new u.default.Value(a),mode:t.mode};return n}var n=t.prototype;n.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return t===V&&n===W?this.animateIn():t===W&&n===V?this.animateUnder():void 0};n.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1);r.setValue(0);e();this.setState({animating:!0},(function(){return t.animateIn()}))};n.componentWillLeave=function(e){var t=this;this.setState({animating:!0},(function(){return t.animateOut(e)}))};n.animateIn=function(e){var t=this;l.default.Store.pauseEmittingChanges(500);var n=this.state,r=n.opacity,a=n.scale;u.default.parallel([u.default.spring(r,M({toValue:1},H)),u.default.spring(a,M({toValue:1},H))]).start((function(){return t.animateComplete(e)}))};n.animateOut=function(e){l.default.Store.pauseEmittingChanges(500)
;var t=this.state,n=t.opacity,r=t.scale;E.ComponentDispatch.dispatch(O.ComponentActions.LAYER_POP_START);u.default.parallel([u.default.spring(n,M({toValue:0},H)),u.default.spring(r,M({toValue:1.1},H))]).start((function(){e();E.ComponentDispatch.dispatch(O.ComponentActions.LAYER_POP_COMPLETE)}))};n.animateUnder=function(){var e=this;l.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;u.default.parallel([u.default.spring(n,M({toValue:0},H)),u.default.spring(r,M({toValue:.93},H))]).start((function(){return e.animateComplete()}))};n.animateComplete=function(e){this.setState({animating:!1},e)};n.render=function(){var e,t=this,n=this.state.animating,r=this.props,a=r.mode,l=r.children,s=r.baseLayer,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(r,I),f=n||a===W?this.getAnimatedStyle():null,c=o.createElement(u.default.div,M({ref:function(e){
return t.containerRef.current=null!=e?e.refs.node:void 0},"aria-hidden":a===W,className:(0,i.default)(b.default.layer,(e={},e[b.default.baseLayer]=s,e[b.default.animating]=n,e["stop-animations"]=a===W,e)),style:f},d),l);return s?c:P(_.default,{containerRef:this.containerRef},void 0,c)};n.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return{opacity:t,transform:this.context.reducedMotion.enabled?void 0:[{scale:n},{translateZ:0}]}};return t}(o.PureComponent);z.displayName="Layer";z.defaultProps={baseLayer:!1};z.contextType=p.AccessibilityPreferencesContext;var Y=function(e){N(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){var e=this.props.layers;if(e[e.length-1]===O.Layers.USER_SETTINGS){c.default.enable();c.default.enableTemp(f.SETTINGS_LAYERS_LAYOUT)}E.ComponentDispatch.subscribe(O.ComponentActions.LAYER_POP_ESCAPE_KEY,d.popLayer)};n.componentDidUpdate=function(e){
var t=this.props,n=t.layers,r=t.hasFullScreenLayer,a=e.layers.length>0||e.hasFullScreenLayer,o=n.length>0||r;!a&&o||o&&n===e.layers&&n[0]===O.Layers.USER_SETTINGS?c.default.enableTemp(f.SETTINGS_LAYERS_LAYOUT):a&&!o&&c.default.disableTemp()};n.componentWillUnmount=function(){E.ComponentDispatch.unsubscribe(O.ComponentActions.LAYER_POP_ESCAPE_KEY,d.popLayer)};n.renderLayers=function(){var e=this,t=this.props,n=t.children,r=t.layers,a=t.hasFullScreenLayer,o=r.length,i=[];i.push(P(z,{mode:0!==o||a?W:V,baseLayer:!0},"layer-base",n));r.forEach((function(t,n){return i.push(e.renderComponent(t,n,o))}));return i};n.renderComponent=function(e,t,n){var r,a=t===n-1;r="string"==typeof e?B[e]():P(e,{});return P(z,{mode:a?V:W},"layer-"+t,r)};n.renderArtisanalHack=function(){return P("div",{className:(0,i.default)(b.default.bg,(0,S.getThemeClass)(this.props.sidebarTheme))})};n.render=function(){return o.createElement(o.Fragment,null,this.renderArtisanalHack(),P(s.default,{component:"div",
className:(0,i.default)(b.default.layers,this.props.className)},void 0,this.renderLayers()))};return t}(o.PureComponent);Y.displayName="Layers";function K(e){var t=(0,l.useStateFromStores)([v.default],(function(){return v.default.darkSidebar}))?O.ThemeTypes.DARK:void 0,n=(0,l.useStateFromStores)([m.default],(function(){return m.default.getLayers()})),r=(0,g.useFullScreenLayerStore)((function(e){return e.fullScreenLayers.length>0}));return o.createElement(Y,M({},e,{sidebarTheme:t,layers:n,hasFullScreenLayer:r}))}K.displayName="ConnectedLayers"},712283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"NotchBackground",{enumerable:!0,get:function(){return c.NotchBackground}});t.default=void 0;var r,a=b(n(667294)),o=S(n(496486)),i=S(n(536211)),u=n(91817),l=S(n(740207)),s=S(n(635014)),d=S(n(893160)),f=S(n(956117)),c=b(n(358255)),p=S(n(730977)),v=S(n(37241)),y=b(n(662197)),h=S(n(308920)),m=n(770348),_=n(376293),g=S(n(247001)),E=S(n(502258))
;function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var T=-100,A=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._initTimeout=new u.Timeout;t._silenceTimeout=new u.Timeout;t._messageTimeout=new u.Timeout;t.state={volume:T,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1};t.setupVoiceActivity=function(){s.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity)};t.handleVoiceActivity=function(e){if(t.state.isMicTesting&&e<=T){t._silenceTimeout.isStarted()||t._silenceTimeout.start(2e3,(function(){t.setState({isDetectingInput:!1})}));t.setState({volume:T})}else{t._silenceTimeout.stop();t.setState({volume:e,isDetectingInput:!0})}};t.handleToggleMicTest=function(){
t.state.isMicTesting?t._micTestStop():t._micTestStart()};return t}var n=t.prototype;n.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)};n.componentWillUnmount=function(){this._initTimeout.stop();this._silenceTimeout.stop();this._micTestStop();s.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity)};n._micTestStart=function(){var e=this.props,t=e.isVoiceConnected,n=e.inputDeviceName,r=e.inputVolume,a=e.outputDeviceName,o=e.outputVolume,i=e.inputMode,u=e.vadAutoThreshold,s=e.vadThreshold,d=e.location,f=e.isDeafened,c=!1;if(t&&!f){l.default.toggleSelfDeaf(_.MediaEngineContextTypes.DEFAULT);c=!0}l.default.setLoopback(!0);this._micTestStartTime=Date.now();this.setState({isMicTesting:!0,isDetectingInput:!0,didDeafenUser:c});h.default.track(m.AnalyticEvents.MIC_TESTING_STARTED,{input_device_name:n,input_device_volume:r,output_device_name:a,output_device_volume:o,input_mode:i,input_sensitivity_is_automatic:u,
input_sensitivity_threshold:Math.round(s),location:d})};n._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,a=r.isVoiceConnected,o=r.isDeafened;if(n){a&&o&&t&&l.default.toggleSelfDeaf(_.MediaEngineContextTypes.DEFAULT);l.default.setLoopback(!1);this.setState({isMicTesting:!1,didDeafenUser:!1});null!=this._micTestStartTime&&h.default.track(m.AnalyticEvents.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)})}};n.renderCaption=function(){var e=this.props,t=e.captionVoice,n=e.captionNoVoice,r=this.state,a=r.isMicTesting,o=r.isDetectingInput;return I(v.default,{className:E.default.micTestCaption,type:v.default.Types.DESCRIPTION},void 0,a?o?t:n:null)};n.render=function(){
var e=this,t=this.props,n=t.isVoiceConnected,r=t.title,a=t.description,o=t.notchBackground,i=t.buttonTest,u=t.buttonStop,l=t.buttonClassName,s=t.buttonColor,d=t.isDeafened,h=this.state,m=h.isMicTesting,_=h.volume,S=n&&!m?g.default.Messages.MIC_TEST_VOICE_CHANNEL_WARNING:null;m&&n&&!d&&this._micTestStop();return I("div",{className:E.default.container},void 0,I(y.default,{tag:y.Tags.H5,className:E.default.title},void 0,r),null!=a&&I(v.default,{type:v.default.Types.DESCRIPTION,className:E.default.description},void 0,a),I("div",{className:E.default.micTest},void 0,I(p.default,{text:S},void 0,(function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return I(f.default,{grow:!1,onClick:e.handleToggleMicTest,onMouseEnter:n,onMouseLeave:r,size:f.default.Sizes.SMALL,className:l,color:s},void 0,m?u:i)})),I(c.default,{progress:m?_+100:0,notchBackground:o}),this.renderCaption()))};return t}(a.PureComponent);A.displayName="MicTester";var P=i.default.connectStores([d.default,s.default],(function(){
var e=s.default.getInputDeviceId(),t=s.default.getInputDevices(),n=o.default.find(t,(function(t){return t.id===e})),r=s.default.getOutputDeviceId(),a=s.default.getOutputDevices(),i=o.default.find(a,(function(e){return e.id===r})),u=s.default.getModeOptions();return{isVoiceConnected:d.default.isConnected(),inputVolume:s.default.getInputVolume(),outputVolume:s.default.getOutputVolume(),inputMode:s.default.getMode(),vadThreshold:u.threshold,isDeafened:s.default.isSelfDeaf(),vadAutoThreshold:u.autoThreshold,inputDeviceName:null!=n?n.name:"",outputDeviceName:null!=i?i.name:""}}))(A);t.default=P},25202:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=se(n(667294)),o=ue(n(730381)),i=n(473727),u=n(536211),l=ue(n(190040)),s=ue(n(740207)),d=ue(n(939949)),f=se(n(319076)),c=n(264720),p=ue(n(445377)),v=ue(n(597362)),y=ue(n(136873)),h=ue(n(761537)),m=se(n(376543)),_=ue(n(105988)),g=n(622349),E=se(n(446637)),S=ue(n(226800)),O=ue(n(155502)),b=se(n(583490)),I=n(802922),C=n(283894),T=ue(n(796015)),A=ue(n(678875)),P=n(191868),M=ue(n(778885)),N=ue(n(655205)),R=ue(n(745108)),w=ue(n(542402)),D=ue(n(119152)),L=ue(n(644263)),j=ue(n(288356)),k=ue(n(876874)),U=ue(n(30098)),G=ue(n(635014)),F=ue(n(893160)),x=ue(n(790597)),B=ue(n(728429)),V=ue(n(399561)),W=ue(n(424099)),H=se(n(296005)),z=ue(n(151097)),Y=ue(n(530250)),K=ue(n(80828)),$=ue(n(41024)),q=n(194322),Z=se(n(177101)),X=ue(n(308920)),Q=ue(n(550270)),J=n(42031),ee=n(168558),te=se(n(215850)),ne=n(259880),re=n(770348),ae=n(376293),oe=ue(n(247001)),ie=ue(n(202192));function ue(e){return e&&e.__esModule?e:{default:e}}function le(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(le=function(e){return e?n:t})(e)}function se(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=le(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function de(){de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return de.apply(this,arguments)}function fe(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){fe(o,r,a,i,u,"next",e)}
function u(e){fe(o,r,a,i,u,"throw",e)}i(void 0)}))}}function pe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ve=function(){return pe(Z.default,{color:Z.NoticeColors.DANGER},void 0,pe(Z.NoticeCloseButton,{onClick:function(){he();(0,ne.open)()}}),oe.default.Messages.NOTICE_NO_INPUT_DETECTED,pe(Z.NoticeButtonAnchor,{href:Q.default.getArticleURL(re.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,oe.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))};ve.displayName="AudioIssueNoticeHelpdesk";var ye=function(){return pe(Z.default,{color:Z.NoticeColors.DANGER},void 0,pe(Z.NoticeCloseButton,{onClick:function(){he();(0,
ne.open)()}}),oe.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,pe(Z.NoticeButton,{onClick:function(){(0,c.pushLayer)(re.Layers.USER_SETTINGS);S.default.setSection(re.UserSettingsSections.VOICE)}},void 0,oe.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT))};ye.displayName="AudioIssueNoticeMicTester";function he(e){p.default.dismiss(null!=e?{untilAtLeast:(0,o.default)(e)}:void 0)}var me=pe(M.default,{}),_e=pe(T.default,{}),ge=pe(w.default,{}),Ee=pe(ve,{}),Se=pe(ye,{}),Oe=pe(D.default,{}),be=a.memo((function(){var e,t,r,o,p,T,M=(0,u.useStateFromStores)([B.default],(function(){return B.default.getCurrentUser()})),w=(0,u.useStateFromStores)([x.default],(function(){return x.default.getGuildId()})),D=(0,u.useStateFromStores)([U.default],(function(){return U.default.getGuild(w)})),ne=(0,u.useStateFromStores)([H.default],(function(){return H.default.getNotice()})),ue=(0,u.useStateFromStores)([k.default],(function(){var e,t
;return null!=w&&null!=M&&(null!==(e=null===(t=k.default.getMember(w,M.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)})),le=null==ne?void 0:ne.type,se=ue&&(null==D?void 0:D.hasVerificationGate());a.useEffect((function(){null!=le&&function(e){X.default.track(re.AnalyticEvents.APP_NOTICE_VIEWED,{notice_type:e})}(le)}),[le]);a.useEffect((function(){if(null!=ne&&ne.type===re.NoticeTypes.SURVEY&&null!=ne.metadata){var e=ne.metadata,t=C.ExperimentStore.getUserExperimentDescriptor(e.id);null!=t&&(0,C.trackExposureToExperiment)(e.id,t)}}),[ne]);if(null==ne)return null;if(J.ProcessArgs.isDisallowPopupsSet())return null;var fe=H.typeToDismissibleContent[ne.type];if(null!=fe)return pe(I.DismissibleContentNotices,{dismissibleContent:fe,noticeType:ne.type});switch(ne.type){case re.NoticeTypes.LURKING_GUILD:return me;case re.NoticeTypes.PENDING_MEMBER:return _e;case re.NoticeTypes.INVITED_TO_SPEAK:return ge;case re.NoticeTypes.GENERIC:return pe(Z.default,{},void 0,pe(Z.NoticeCloseButton,{
onClick:function(){return he()},noticeType:re.NoticeTypes.GENERIC}),ne.message,null!=ne.buttonText?pe(Z.PrimaryCTANoticeButton,{onClick:ne.callback,noticeType:re.NoticeTypes.GENERIC},void 0,ne.buttonText):null);case re.NoticeTypes.VOICE_DISABLED:return pe(Z.default,{},void 0,pe(Z.NoticeCloseButton,{onClick:function(){v.default.clearRemoteDisconnectVoiceChannelId();he()},noticeType:re.NoticeTypes.VOICE_DISABLED}),oe.default.Messages.NOTICE_CONNECTION_CONFLICT,pe(Z.PrimaryCTANoticeButton,{onClick:function(){var e=F.default.getRemoteDisconnectVoiceChannelId();if(null!=e){null!=L.default.getChannel(e)&&y.default.selectVoiceChannel(e)}},noticeType:re.NoticeTypes.VOICE_DISABLED},void 0,oe.default.Messages.RECONNECT));case re.NoticeTypes.SPOTIFY_AUTO_PAUSED:var ve=O.default.get(re.PlatformTypes.SPOTIFY);return pe(Z.default,{color:Z.NoticeColors.DANGER},void 0,pe(Z.NoticeCloseButton,{onClick:function(){return he()},noticeType:re.NoticeTypes.SPOTIFY_AUTO_PAUSED}),pe("img",{alt:"",
className:ie.default.platformIcon,src:ve.icon.whiteSVG}),oe.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,pe(Z.PrimaryCTANoticeButton,{onClick:function(){return S.default.open(re.UserSettingsSections.VOICE)},noticeType:re.NoticeTypes.SPOTIFY_AUTO_PAUSED},void 0,oe.default.Messages.VOICE_SETTINGS),pe(z.default,{className:ie.default.textLinkSmall,href:Q.default.getArticleURL(re.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,oe.default.Messages.NOTICE_WHATS_THIS));case re.NoticeTypes.UNCLAIMED_ACCOUNT:return pe(Z.default,{},void 0,oe.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,pe(Z.PrimaryCTANoticeButton,{noticeType:re.NoticeTypes.UNCLAIMED_ACCOUNT,onClick:function(){return se&&null!=w?(0,A.default)(w):b.openClaimAccountModal()}},void 0,oe.default.Messages.CLAIM_ACCOUNT));case re.NoticeTypes.UNVERIFIED_ACCOUNT:return pe(Z.default,{},void 0,oe.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,pe(Z.PrimaryCTANoticeButton,{noticeType:re.NoticeTypes.UNVERIFIED_ACCOUNT,onClick:function(){
d.default.verifyResend();l.default.show({title:oe.default.Messages.VERIFICATION_EMAIL_TITLE,body:oe.default.Messages.VERIFICATION_EMAIL_BODY.format({email:null==M?void 0:M.email}),minorText:oe.default.Messages.CHANGE_EMAIL,onConfirmSecondary:b.openClaimAccountModal})}},void 0,oe.default.Messages.RESEND));case re.NoticeTypes.SCHEDULED_MAINTENANCE:return null==ne.metadata?null:pe(Z.default,{color:Z.NoticeColors.NOTIFICATION},void 0,pe(Z.NoticeCloseButton,{onClick:function(){return h.default.ackScheduledMaintenance()},noticeType:re.NoticeTypes.SCHEDULED_MAINTENANCE}),oe.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(ne.metadata),pe(Z.NoticeButtonAnchor,{href:re.Links.STATUS+"/incidents/"+ne.metadata.id},void 0,oe.default.Messages.LEARN_MORE));case re.NoticeTypes.NO_INPUT_DETECTED:return G.default.supports(ae.Features.LOOPBACK)?Se:Ee;case re.NoticeTypes.HARDWARE_MUTE:if(null==ne.metadata)return null;var ye=ne.metadata,be=ye.vendor,Ie=ye.model;return pe(Z.default,{
color:Z.NoticeColors.DANGER},void 0,oe.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:be.name,modelName:Ie.name}),pe(Z.NoticeButtonAnchor,{href:Ie.url,target:"_blank",rel:"noreferrer noopener"},void 0,oe.default.Messages.SUPPORT));case re.NoticeTypes.STREAMER_MODE:return pe(Z.default,{color:Z.NoticeColors.STREAMER_MODE},void 0,pe(Z.NoticeCloseButton,{onClick:function(){return he()},noticeType:re.NoticeTypes.STREAMER_MODE}),oe.default.Messages.NOTICE_STREAMER_MODE_TEXT,pe(Z.PrimaryCTANoticeButton,{onClick:function(){return _.default.setEnabled(!1)},noticeType:re.NoticeTypes.STREAMER_MODE},void 0,oe.default.Messages.DISABLE));case re.NoticeTypes.H264_DISABLED:return pe(Z.default,{color:Z.NoticeColors.DANGER},void 0,pe(Z.NoticeCloseButton,{onClick:function(){he()}}),oe.default.Messages.NOTICE_H264_DISABLED_SETTINGS,pe(Z.NoticeButton,{onClick:function(){(0,c.pushLayer)(re.Layers.USER_SETTINGS);S.default.setSection(re.UserSettingsSections.VOICE)}
},void 0,oe.default.Messages.NOTICE_H264_DISABLED_SETTINGS_LINK_TEXT));case re.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==ne.metadata)return null;var Ce=ne.metadata,Te=Ce.skuId,Ae=Ce.applicationId,Pe=V.default.get(Te),Me=j.default.getGame(Ae);if(null==Pe||null==Me)return null;var Ne={page:re.AnalyticsPages.IN_APP};return pe(Z.default,{color:Z.NoticeColors.PREMIUM_TIER_1},void 0,pe(Z.NoticeCloseButton,{onClick:function(){return f.dismiss(Pe.id)},noticeType:re.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK}),pe($.default,{className:ie.default.premiumIcon}),oe.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:Me.name,skuName:Pe.name}),pe(Z.PrimaryCTANoticeButton,{noticeType:re.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK,onClick:function(){return(0,ee.openIAPPurchaseModal)(Me.id,Pe.id,(function(){(0,N.default)({initialPlanId:null,subscriptionTier:re.PremiumSubscriptionSKUs.TIER_2,analyticsObject:Ne})
}),Ne,__OVERLAY__?re.AppContext.OVERLAY:re.AppContext.APP).then((function(){return f.dismiss(Pe.id)}))}},void 0,oe.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON));case re.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==ne.metadata)return null;var Re=ne.metadata,we=Re.skuId,De=Re.applicationId,Le=V.default.get(we),je=j.default.getGame(De);return null==Le||null==je?null:pe(Z.default,{color:Z.NoticeColors.PREMIUM_TIER_1},void 0,pe(Z.NoticeCloseButton,{onClick:function(){return he()},noticeType:re.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL}),pe($.default,{className:ie.default.premiumIcon}),oe.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:je.name,skuName:Le.name}),pe(Z.NoticeButton,{},void 0,pe(i.Link,{onClick:function(){return he()},to:{pathname:re.Routes.APPLICATION_STORE_LISTING_SKU(Le.id),state:{scrollRestoration:!1}}},void 0,oe.default.Messages.LEARN_MORE)));case re.NoticeTypes.SURVEY:
var ke=ne.metadata;if(null==ke)return null;var Ue=ke.key,Ge=ke.prompt,Fe=ke.cta,xe=ke.url;return pe(Z.default,{color:Z.NoticeColors.CUSTOM},void 0,pe(Z.NoticeCloseButton,{noticeType:re.NoticeTypes.SURVEY,onClick:function(){(0,g.surveyHide)(Ue,!0)}}),Ge,pe(Z.PrimaryCTANoticeButton,{noticeType:re.NoticeTypes.SURVEY,onClick:function(){window.open(xe,"_blank");(0,g.surveyHide)(Ue,!1)}},void 0,Fe));case re.NoticeTypes.CORRUPT_INSTALLATION:return pe(Z.default,{color:Z.NoticeColors.DANGER},void 0,oe.default.Messages.NOTICE_CORRUPT_INSTALLATION,pe(Z.NoticeButtonAnchor,{href:Q.default.getArticleURL(re.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,oe.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT));case re.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return pe(Z.default,{},void 0,pe(Z.NoticeCloseButton,{onClick:function(){return he()},noticeType:re.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER}),oe.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,pe(Z.PrimaryCTANoticeButton,{
noticeType:re.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,onClick:function(){(0,q.openModalLazy)(ce(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,de({source:"Video unsupported browser"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,oe.default.Messages.DOWNLOAD));case re.NoticeTypes.DISPATCH_ERROR:if(null==ne.metadata)return null;var Be=ne.metadata.error;return pe(Z.default,{color:Z.NoticeColors.DANGER},void 0,pe(Z.NoticeCloseButton,{onClick:function(){return he()},noticeType:re.NoticeTypes.DISPATCH_ERROR}),null==Be?void 0:Be.displayMessage,pe(Z.PrimaryCTANoticeButton,{noticeType:re.NoticeTypes.DISPATCH_ERROR,onClick:function(){return(0,q.openModalLazy)(ce(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(91965)]).then(n.bind(n,191965));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,oe.default.Messages.LEARN_MORE));case re.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==ne.metadata)return null;var Ve=ne.metadata,We=Ve.progress,He=Ve.total,ze=Ve.name;return pe(Z.default,{color:Z.NoticeColors.NOTIFICATION},void 0,pe(Z.NoticeCloseButton,{onClick:function(){return he()},noticeType:re.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS}),pe(Y.default,{justify:Y.default.Justify.CENTER},void 0,null!=ze?oe.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+ze,progress:""+We,total:""+He}):oe.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+We,total:""+He}),pe(K.default,{type:K.default.Type.PULSING_ELLIPSIS,className:ie.default.ellipsis})))
;case re.NoticeTypes.APPLICATION_TEST_MODE:return null==ne.metadata?null:null!=W.default.testModeEmbeddedApplicationId?pe(Z.default,{},void 0,pe(Y.default,{justify:Y.default.Justify.CENTER,align:Y.default.Align.CENTER},void 0,pe("div",{},void 0,oe.default.Messages.NOTICE_EMBEDDED_APPLICATION_TEST_MODE.format({applicationName:ne.metadata.applicationName})),pe(Z.NoticeCloseButton,{onClick:E.reset,noticeType:re.NoticeTypes.APPLICATION_TEST_MODE}))):pe(Z.default,{},void 0,pe(Y.default,{justify:Y.default.Justify.CENTER,align:Y.default.Align.CENTER},void 0,pe("div",{},void 0,oe.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:ne.metadata.applicationName})),pe(te.default,{dropdownSize:te.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:ie.default.testModeSKUSelector,color:te.TestModeSKUButtonEnums.Colors.WHITE,look:te.TestModeSKUButtonEnums.Looks.OUTLINED,size:te.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return m.goToSKUStoreListing(e.id,{
analyticsSource:{page:null,section:re.AnalyticsSections.NOTIFICATION_BAR,object:re.AnalyticsObjects.NAVIGATION_LINK}})},applicationId:ne.metadata.applicationId},void 0,oe.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),pe(Z.NoticeCloseButton,{onClick:E.reset,noticeType:re.NoticeTypes.APPLICATION_TEST_MODE})));case re.NoticeTypes.OUTBOUND_PROMOTION:return pe(Z.default,{color:Z.NoticeColors.PREMIUM_TIER_2},void 0,pe(Z.NoticeCloseButton,{noticeType:re.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){R.default.dismissOutboundPromotionNotice()}}),pe($.default,{className:ie.default.premiumIcon}),oe.default.Messages.OUTBOUND_PROMOTION_NOTICE,pe(Z.PrimaryCTANoticeButton,{noticeType:re.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){X.default.track(re.AnalyticEvents.OUTBOUND_PROMOTION_NOTICE_CLICKED);S.default.open(re.UserSettingsSections.INVENTORY);R.default.dismissOutboundPromotionNotice()}},void 0,oe.default.Messages.TAKE_ME_THERE));case re.NoticeTypes.VIEWING_ROLES:return Oe
;case re.NoticeTypes.NOISE_DETECTED:return pe(Z.default,{color:Z.NoticeColors.INFO},void 0,pe(Z.NoticeCloseButton,{onClick:function(){return he()},noticeType:re.NoticeTypes.NOISE_DETECTED}),oe.default.Messages.NOTICE_NOISE_DETECTED,pe(Z.PrimaryCTANoticeButton,{noticeType:re.NoticeTypes.NOISE_DETECTED,onClick:function(){he();s.default.setNoiseCancellation(!0,{section:re.AnalyticsSections.NOTIFICATION_BAR})}},void 0,oe.default.Messages.ENABLE_NOISE_CANCELLATION));case re.NoticeTypes.PREMIUM_UNCANCEL:return pe(Z.default,{color:(null===(e=ne.metadata)||void 0===e?void 0:e.premiumType)===re.PremiumTypes.TIER_1?Z.NoticeColors.PREMIUM_TIER_1:Z.NoticeColors.PREMIUM_TIER_2},void 0,pe(Z.NoticeCloseButton,{noticeType:re.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;he(null===(e=ne.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),pe($.default,{className:ie.default.premiumIcon
}),(null===(t=ne.metadata)||void 0===t?void 0:t.premiumType)===re.PremiumTypes.TIER_1?oe.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_TEXT.format({daysLeft:ne.metadata.daysLeft}):oe.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_TEXT.format({daysLeft:ne.metadata.daysLeft}),pe(Z.PrimaryCTANoticeButton,{noticeType:re.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;he(null===(e=ne.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);(0,q.openModalLazy)(ce(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(36923),n.e(25306),n.e(82287)]).then(n.bind(n,782287));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){var t;return a.createElement(r,de({},e,{daysLeft:ne.metadata.daysLeft,premiumType:null===(t=ne.metadata)||void 0===t?void 0:t.premiumType,analyticsSource:"Nag Bar",
premiumSubscription:ne.metadata.premiumSubscription}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,(null===(r=ne.metadata)||void 0===r?void 0:r.premiumType)===re.PremiumTypes.TIER_1?oe.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_BUTTON_TEXT:oe.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_BUTTON_TEXT));case re.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT:return pe(Z.default,{color:Z.NoticeColors.DANGER},void 0,pe(Z.NoticeCloseButton,{noticeType:re.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;he(null===(e=ne.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),oe.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_TEXT,pe(Z.PrimaryCTANoticeButton,{noticeType:re.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;he(null===(e=ne.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)
;S.default.open(re.UserSettingsSections.SUBSCRIPTIONS)}},void 0,oe.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_BUTTON_TEXT));case re.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT:return pe(Z.default,{color:Z.NoticeColors.WARNING},void 0,pe(Z.NoticeCloseButton,{noticeType:re.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;he(null===(e=ne.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),oe.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_TEXT,pe(Z.PrimaryCTANoticeButton,{noticeType:re.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;he(null===(e=ne.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);S.default.open(re.UserSettingsSections.SUBSCRIPTIONS)}},void 0,oe.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));case re.NoticeTypes.PREMIUM_MISSING_PAYMENT:
return pe(Z.default,{color:Z.NoticeColors.WARNING},void 0,pe(Z.NoticeCloseButton,{noticeType:re.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t;he(null===(e=ne.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),(null===(o=ne.metadata)||void 0===o?void 0:o.premiumType)===re.PremiumTypes.TIER_1?oe.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_TEXT.format({daysLeft:ne.metadata.daysLeft}):oe.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_TEXT.format({daysLeft:ne.metadata.daysLeft}),pe(Z.PrimaryCTANoticeButton,{noticeType:re.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t;he(null===(e=ne.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);S.default.open(re.UserSettingsSections.SUBSCRIPTIONS)}
},void 0,(null===(p=ne.metadata)||void 0===p?void 0:p.premiumType)===re.PremiumTypes.TIER_1?oe.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_BUTTON_TEXT:oe.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));case re.NoticeTypes.BACK_TO_PREVIOUS_SCREEN:return pe(P.BackToPreviousScreenNotice,{buttonText:null!==(T=ne.buttonText)&&void 0!==T?T:oe.default.Messages.GO_BACK,onGoBack:ne.callback,onDismiss:function(){return he()},showCloseButton:!0});default:return null}}));t.default=be},229108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=_(n(667294)),i=h(n(536211)),u=_(n(720409)),l=h(n(321405)),s=h(n(902305)),d=h(n(603218)),f=h(n(218843)),c=h(n(871778)),p=h(n(949898)),v=h(n(365561)),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}
function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}
var S=((r={})[y.PictureInPictureComponents.VIDEO]=d.default,r[y.PictureInPictureComponents.EMBED_IFRAME]=l.default,r),O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleWindowMove=function(e,t){u.moveTo(e,t)};return t}t.prototype.render=function(){var e=this.props,t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,a=e.maxY,o=e.theme,i=e.dockedRect,u=e.appContext;return g(v.default,{pictureInPictureComponents:S,selectedPIPWindow:t,pipWindows:n,maxX:r,maxY:a,dockedRect:i,theme:o,onWindowMove:this.handleWindowMove,appContext:u})};return t}(o.PureComponent);O.displayName="PictureInPictureContainer";var b=i.default.connectStores([f.default,s.default,p.default,c.default],(function(e){
var t=e.showInPopoutWindow,n=void 0!==t&&t,r=s.default.getWindowOpen(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT),a=p.default.windowSize();if(r){var o=s.default.getWindow(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT);a=null==o?a:{width:o.innerWidth,height:o.innerHeight}}var i=f.default.pipWindows,u=r&&!n?null:f.default.pipWindow;return{selectedPIPWindow:u,pipWindows:i,maxX:a.width,maxY:a.height,theme:c.default.theme,dockedRect:null!=u?f.default.getDockedRect(u.id):null,appContext:n?y.AppContext.POPOUT:void 0}}))(O);t.default=b},200574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=O(n(711195)),l=O(n(414068)),s=O(n(788739)),d=O(n(290629)),f=O(n(946447)),c=O(n(728429)),p=O(n(870461)),v=O(n(160629)),y=O(n(325908)),h=O(n(582945)),m=n(951530),_=O(n(922629)),g=O(n(810332)),E=O(n(247001)),S=O(n(645320));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)
}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return A.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}var N=_.default.getEnableHardwareAcceleration();function R(e){var t=e.user,r=e.channel,p=(0,o.useStateFromStoresObject)([d.default,c.default,s.default],(function(){return d.default.isFriend(t.id)||t===c.default.getCurrentUser()?{status:s.default.getStatus(t.id),activities:s.default.getActivities(t.id)}:{}})),y=p.status,h=p.activities,m=(0,o.useStateFromStores)([f.default],(function(){return null!=f.default.getTypingUsers(r.id)[t.id]})),_=(0,o.useStateFromStores)([s.default],(function(){return s.default.isMobileOnline(t.id)})),S=(0,o.useStateFromStores)([d.default],(function(){return d.default.getNickname(t.id)})),O=function(e){(0,
i.openContextMenuLazy)(e,M(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,A({},e,{user:t,channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};return T(v.default,{preload:function(){return(0,u.default)(t.id,t.getAvatarURL(void 0,80))},renderPopout:function(e){return a.createElement(l.default,A({},e,{userId:t.id,channelId:r.id}))},position:v.default.Positions.LEFT},void 0,(function(e){return a.createElement(g.default,A({key:t.id,user:t,isOwner:t.id===r.ownerId,ownerTooltipText:E.default.Messages.GROUP_OWNER,shouldAnimateStatus:N,isTyping:m,status:y,activities:h,channel:r,onContextMenu:O,isMobile:_,nick:S},e))}))}R.displayName="PrivateChannelRecipient";function w(e){
var t=e.channel,n=c.default.getCurrentUser(),r=null==n?void 0:n.isStaff(),i=(0,o.useStateFromStoresArray)([c.default],(function(){return(0,m.getRecipients)(t.recipients,c.default)}),[t.recipients]);a.useEffect((function(){if(r)for(var e,t=I(i);!(e=t()).done;){var n=e.value;(0,u.default)(n.id,n.getAvatarURL(void 0,80),{dispatchWait:!0})}}),[r,i]);var l=r&&i.every((function(e){return e.isStaff()}));return T("div",{className:S.default.membersWrap},void 0,T(h.default,{className:S.default.members,fade:!0},void 0,T(y.default,{className:S.default.membersGroup},void 0,E.default.Messages.MEMBERS+"—"+i.length+" ",l?T(p.default,{className:S.default.decorator,type:p.default.Types.STAFF_ONLY_DM}):null),i.map((function(e){return T(R,{user:e,channel:t},e.id)}))))}w.displayName="PrivateChannelRecipients"},272356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ee;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=B(n(294184)),i=B(n(193747)),u=n(798628),l=n(536211),s=n(660065),d=n(933601),f=n(467428),c=n(835282),p=B(n(136798)),v=B(n(527820)),y=n(894826),h=B(n(191839)),m=B(n(290629)),_=B(n(871778)),g=B(n(728429)),E=B(n(146771)),S=B(n(314355)),O=B(n(840771)),b=B(n(399561)),I=B(n(311256)),C=n(644105),T=B(n(262134)),A=B(n(41024)),P=B(n(652047)),M=n(598671),N=n(838583),R=n(820134),w=n(517880),D=B(n(51079)),L=B(n(983551)),j=n(770348),k=B(n(247001)),U=B(n(177790)),G=["selected"],F=["selected","hideGameUpdateProgressIndicator"],x=["selected","route","locationState"];function B(e){
return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return z.apply(this,arguments)}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function K(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){
n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}var $=function(e){var t=e.selected,n=K(e,G),r=(0,u.useListItem)("friends"),o=(0,l.useStateFromStores)([m.default],(function(){return m.default.getPendingCount()}));return a.createElement(w.LinkButton,z({selected:t,route:j.Routes.FRIENDS,icon:P.default,text:k.default.Messages.FRIENDS},n,r),o>0?Y(M.NumberBadge,{count:o}):null)};$.displayName="FriendsButton";var q=function(e){var t,n=e.selected,r=e.hideGameUpdateProgressIndicator,i=K(e,F),l=(0,u.useListItem)("library");return a.createElement(w.LinkButton,z({selected:n,route:j.Routes.APPLICATION_LIBRARY,icon:T.default,text:k.default.Messages.LIBRARY},i,l),Y(L.default,{className:(0,o.default)(U.default.downloadProgressCircle,(t={},t[U.default.hideGameUpdateProgressIndicator]=r,t))}))};q.displayName="LibraryButton";var Z=function(e){var t=e.selected,n=e.route,r=e.locationState,o=K(e,x),i=(0,u.useListItem)("nitro"),c=Object.keys(j.SubscriptionTrials),p=(0,
l.useStateFromStores)([S.default],(function(){return S.default.getUnacknowledgedOffers(c).length})),v=(0,d.useIsPromoEnabled)(s.LocalizedPricingPromoEntryPoint.Badge),y=(0,f.LocalizedPricingBadgeIcon)(f.BadgeEntryPoint.PrivateMessages);return a.createElement(w.LinkButton,z({selected:t,route:n,icon:A.default,text:k.default.Messages.PREMIUM,locationState:r},o,i,{className:U.default.linkButton}),p>0?Y(M.NumberBadge,{count:p}):null,v&&y)};Z.displayName="NitroButton";var X=function(){return(0,c.show)("DM_SEARCH")};function Q(e){switch(e){case j.Routes.APPLICATION_LIBRARY:return j.AnalyticsPages.LIBRARY;case j.Routes.FRIENDS:return j.AnalyticsPages.FRIENDS_LIST}return e.startsWith(j.Routes.APPLICATION_STORE)?e===j.Routes.APPLICATION_STORE?j.AnalyticsPages.STORE_DIRECTORY_HOME:e.startsWith(j.Routes.APPLICATION_STORE)?j.AnalyticsPages.STORE_DIRECTORY_BROWSE:j.AnalyticsPages.STORE_LISTING:j.AnalyticsPages.DM_CHANNEL}var J=function(e){
var t=e.showLibrary,n=e.hasLibraryApplication,r=e.homeLink,o=e.storeLink,u=e.premiumTabSelected,l=e.showNitroTab,s=W((0,p.default)((function(e){return[e.channelId,e.path]}),i.default),2),d=s[0],f=s[1];return Y("nav",{className:U.default.privateChannels,"aria-label":k.default.Messages.PRIVATE_CHANNELS_A11Y_LABEL},void 0,Y(v.default,{tutorialId:"direct-messages",position:C.PopoutPositions.RIGHT,offsetX:-52},void 0,Y("div",{className:U.default.searchBar},void 0,Y("button",{type:"button",className:U.default.searchBarComponent,onClick:X},void 0,k.default.Messages.DM_SEARCH_PLACEHOLDER))),a.createElement(D.default,z({},e,{version:f,selectedChannelId:d,showDMHeader:!0}),Y($,{selected:null!=f?f===j.Routes.FRIENDS:r===j.Routes.FRIENDS},"friends"),n&&t?Y(q,{selected:null==f?null!=r&&r.startsWith(j.Routes.APPLICATION_LIBRARY):f.startsWith(j.Routes.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:r===j.Routes.APPLICATION_LIBRARY},"library"):null,l?Y(Z,{
selected:null==f?u:f.startsWith(j.Routes.APPLICATION_STORE),route:null==o||location.pathname.startsWith(j.Routes.APPLICATION_STORE)?j.Routes.APPLICATION_STORE:o,locationState:{analyticsSource:{page:Q(r),section:j.AnalyticsSections.NAVIGATION,object:j.AnalyticsObjects.NAVIGATION_LINK}}},"premium"):null))};J.displayName="PrivateChannels";function ee(){var e=(0,l.useStateFromStores)([I.default],(function(){return I.default.getHomeLink()})),t=(0,l.useStateFromStores)([b.default],(function(){if(e===j.Routes.APPLICATION_STORE)return!0;var t=(0,R.getSKUIdFromURL)(e);if(null!=t){var n,r;return null!==(n=null===(r=b.default.get(t))||void 0===r?void 0:r.premium)&&void 0!==n&&n}return!1}),[e]),n=(0,l.useStateFromStores)([g.default],(function(){return g.default.getCurrentUser()})),r=(0,l.useStateFromStores)([E.default],(function(){return E.default.getPremiumTypeSubscription()})),a=Object.keys(j.SubscriptionTrials),o=(0,l.useStateFromStores)([S.default],(function(){
return S.default.getUnacknowledgedOffers(a).length>0})),i=!y.DisableGamesTab.useSetting(),u=(0,l.useStateFromStoresObject)([_.default],(function(){return{theme:_.default.theme}})).theme,s=o||null!=n&&Date.now()-n.createdAt.getTime()>7776e6||(0,N.hasPremiumSubscriptionToDisplay)(n,r),d=(0,l.useStateFromStores)([h.default],(function(){return h.default.hasLibraryApplication()})),f=(0,l.useStateFromStores)([O.default],(function(){return O.default.getCurrentPath()}));return Y(J,{theme:u,showLibrary:i,showNitroTab:s,hasLibraryApplication:d,storeLink:f,homeLink:e,premiumTabSelected:t})}ee.displayName="PrivateChannelsConnected"},989418:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(536211)),u=v(n(221185)),l=v(n(534930)),s=v(n(530250)),d=n(160629),f=v(n(358696)),c=v(n(247001)),p=v(n(949391));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g={position:d.Positions.BOTTOM,autoInvert:!1},E=function(e){var t=e.region,n=e.className;return _("div",{className:void 0===n?p.default.regionSelectName:n},void 0,t.name.replace(/ \(VIP\)$/,""))};E.displayName="RegionName";var S=function(e){h(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return _(s.default,{align:s.default.Align.CENTER,className:(0,o.default)({selected:n})},void 0,_(E,{region:t,className:p.default.regionSelectName}),n?_("i",{className:p.default.check}):null)};return t}(a.PureComponent);S.displayName="RegionItem";var O=function(e){h(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderOption=function(e,t){return _(S,{region:e.value,selected:t
},e.value.id)};t.getSelectedRegion=function(){var e,n=t.props,r=n.regions,a=n.call;return a.regionUpdated&&null!=r&&null!=a.region?null!==(e=r.find((function(e){return e.id===a.region})))&&void 0!==e?e:{name:a.region,id:a.region}:{id:"automatic",name:c.default.Messages.AUTOMATIC_REGION,vip:!1,deprecated:!1,hidden:!1}};t.handleChangeVoiceRegion=function(e){var n=e.value,r=t.props.call.channelId;u.default.changeCallRegion(r,n.id)};return t}var n=t.prototype;n.componentDidMount=function(){null==this.props.regions&&u.default.fetchRegions(null)};n.render=function(){var e=this.props.regions;if(null==e)return null;var t=this.getSelectedRegion(),n={label:t.name,value:t},r=e.filter((function(e){return!e.deprecated&&!e.hidden})).map((function(e){return{label:e.name,value:e,key:e.id}}));return _(f.default,{label:c.default.Messages.REGION,options:r,value:n,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:g,popoutClassName:p.default.regionSelectPopout})};return t
}(a.PureComponent);O.displayName="QuickRegionSelect";var b=i.default.connectStores([l.default],(function(){return{regions:l.default.getRegions(null)}}))(O);t.default=b},686923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=P(n(294184)),i=n(536211),u=P(n(929031)),l=P(n(257175)),s=P(n(133464)),d=N(n(145122)),f=P(n(812371)),c=P(n(915574)),p=P(n(241505)),v=n(678620),y=P(n(423086)),h=P(n(871778)),m=P(n(956117)),_=P(n(730977)),g=P(n(930600)),E=P(n(12713)),S=n(194322),O=n(660590),b=P(n(308920)),I=n(873838),C=n(770348),T=P(n(247001)),A=P(n(830332));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){var t=e.status,n=e.description,r=e.focused;return L("div",{className:A.default.statusItem},void 0,L(O.Status,{status:t,className:A.default.icon,size:10,color:r?"currentColor":void 0}),L("div",{className:A.default.status},void 0,(0,I.humanizeStatus)(t)),null!=n&&L("div",{className:A.default.description},void 0,n))}j.displayName="StatusMenuItem";function k(e){var t=e.customStatus,n=function(e){e.stopPropagation();u.default.updateRemoteSettings({customStatus:null})};return null!=t?L("div",{"aria-label":T.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER},void 0,L(s.default,{className:null!=t.emoji?A.default.customStatusWithEmoji:A.default.customStatusItem,activity:t,emojiClassName:A.default.customEmoji,
textClassName:A.default.customText,placeholderText:T.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER},void 0,L(_.default,{text:T.default.Messages.CUSTOM_STATUS_CLEAR_CUSTOM_STATUS},void 0,(function(e){return a.createElement(m.default,D({},e,{className:A.default.clearStatusButton,onClick:n,look:m.default.Looks.BLANK,size:m.default.Sizes.NONE,tabIndex:-1,"aria-hidden":!0}),L(g.default,{className:A.default.clearStatusIcon}))})))):L("div",{className:(0,o.default)(A.default.statusItem,A.default.customStatusContentIcon),"aria-label":T.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS},void 0,L("div",{className:A.default.customEmojiPlaceholder}),L("div",{className:A.default.status},void 0,T.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS))}function U(e){var t=e.focused;return L("div",{className:(0,o.default)(A.default.statusItem,A.default.statusItemNoPadding,A.default.customStatusContentIcon,A.default.switchAccountsItem),
"aria-label":T.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE},void 0,L(E.default,{width:18,height:18,className:A.default.switchAccountsIcon,color:t?C.Colors.WHITE:"currentColor"}),L("div",{className:A.default.status},void 0,T.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE))}U.displayName="SwitchAccountsMenuItem";var G=L(d.MenuSeparator,{}),F=L(d.MenuSeparator,{}),x=L(d.MenuSeparator,{}),B=function(e){var t=e.customStatus,r=e.onClose,o=e.analyticsContext,l=e.onSelect,s=(0,i.useStateFromStores)([c.default],(function(){return c.default.getIsMultiAccountPreviouslyEnabled()})),y=(0,v.useMultiAccountMenuItems)();a.useEffect((function(){f.default.trackExposure({})}),[]);a.useEffect((function(){b.default.track(C.AnalyticEvents.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=t,location:o.location})}),[]);var h=function(e){u.default.updateRemoteSettings({status:e})},m=L(k,{customStatus:t});return L(d.default,{navId:"status-picker",style:d.MenuStyle.FIXED,
"aria-label":T.default.Messages.SET_STATUS,onClose:r,onSelect:l},void 0,L(d.MenuItem,{id:"online",keepItemStyles:!0,render:function(e){var t=e.isFocused;return L(j,{status:O.StatusTypes.ONLINE,focused:t})},action:function(){return h(O.StatusTypes.ONLINE)}}),G,L(d.MenuItem,{id:"idle",keepItemStyles:!0,render:function(e){var t=e.isFocused;return L(j,{status:O.StatusTypes.IDLE,focused:t})},action:function(){return h(O.StatusTypes.IDLE)}}),L(d.MenuItem,{id:"dnd",keepItemStyles:!0,render:function(e){var t=e.isFocused;return L(j,{status:O.StatusTypes.DND,description:T.default.Messages.STATUS_DND_HELP,focused:t})},action:function(){return h(O.StatusTypes.DND)}}),L(d.MenuItem,{id:"invisible",keepItemStyles:!0,render:function(e){var t=e.isFocused;return L(j,{status:O.StatusTypes.INVISIBLE,description:T.default.Messages.STATUS_INVISIBLE_HELPER,focused:t})},action:function(){return h(O.StatusTypes.INVISIBLE)}}),F,L(d.MenuItem,{id:"custom-status",keepItemStyles:!0,render:function(){return m},
action:function(){(0,S.openModalLazy)(w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74213)]).then(n.bind(n,793954));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,D({},e,{sourceAnalyticsContext:o}))}));case 5:case"end":return e.stop()}}),e)}))))}}),s&&a.createElement(a.Fragment,null,x,L(d.MenuItem,{id:"switch-account",action:p.default,label:function(e){return L(U,{focused:e.isFocused})}},"switch-account",y)))};B.displayName="StatusPickerPopout";var V=(0,l.default)((function(e){var t=(0,i.useStateFromStores)([y.default],(function(){return y.default.getCustomStatusActivity()})),n=(0,i.useStateFromStores)([h.default],(function(){return h.default.status}));return a.createElement(B,D({},e,{customStatus:t,status:n}))}));t.default=V},424670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=re
;var r,a=H(n(667294)),o=V(n(294184)),i=V(n(496486)),u=H(n(798628)),l=n(536211),s=n(378158),d=V(n(55189)),f=V(n(235879)),c=n(632123),p=n(75639),v=n(252404),y=n(84902),h=V(n(698099)),m=V(n(711195)),_=V(n(414068)),g=V(n(607209)),E=V(n(876874)),S=V(n(788739)),O=V(n(690445)),b=V(n(663303)),I=V(n(946447)),C=V(n(728429)),T=V(n(160629)),A=V(n(571830)),P=V(n(999720)),M=V(n(547282)),N=V(n(971639)),R=V(n(325908)),w=V(n(827436)),D=V(n(776360)),L=V(n(521358)),j=n(956506),k=V(n(922629)),U=V(n(810332)),G=n(770348),F=V(n(247001)),x=V(n(645320)),B=V(n(160957));function V(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function $(){$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return $.apply(this,arguments)}function q(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){q(o,r,a,i,u,"next",e)}function u(e){q(o,r,a,i,u,"throw",e)}i(void 0)}))}}var X=k.default.getEnableHardwareAcceleration();function Q(e){var t=e.channel,r=e.sectionId,o=e.userId,i=(0,l.useStateFromStores)([I.default],(function(){return I.default.isTyping(t.id,o)})),f=(0,l.useStateFromStores)([E.default],(function(){return E.default.getMember(t.guild_id,o)})),c=(0,l.useStateFromStores)([C.default],(function(){return C.default.getUser(o)})),v=(0,l.useStateFromStores)([C.default],(function(){return C.default.getCurrentUser()})),y=(null==c?void 0:c.id)===(null==v?void 0:v.id),A=(0,l.useStateFromStores)([S.default,O.default],(function(){return y?O.default.getStatus():S.default.getStatus(o,t.guild_id)})),P=(0,l.useStateFromStores)([S.default],(function(){return S.default.isMobileOnline(o)})),M=(0,
l.useStateFromStores)([S.default,O.default],(function(){return y?O.default.getActivities():S.default.getActivities(o,t.guild_id)})),N=(0,l.useStateFromStores)([g.default],(function(){return g.default.getStreamForUser(o)})),R=(0,u.useListItem)(o),w=(0,l.useStateFromStores)([h.default],(function(){return h.default.canUserViewChannel(t.id,r,o)})),D=a.useCallback((function(e){null!=c&&(0,s.openContextMenuLazy)(e,Z(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(50690),n.e(46537)]).then(n.bind(n,863893));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,$({},e,{user:c,guildId:t.guild_id,channelId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))))}),[c,t]),L=a.useCallback((function(){if(null!=c){var e="@"+(b.default.hidePersonalInformation?c.username:c.tag),n="<@!"+c.id+">"
;j.ComponentDispatch.dispatchToLastSubscribed(G.ComponentActions.INSERT_TEXT,{plainText:e,rawText:n});d.default.startTyping(t.id)}}),[c,t]),k=a.useCallback((function(e){e.stopPropagation();(0,p.openGuildBoostingMarketingModal)({guildId:t.guild_id,location:{section:G.AnalyticsSections.THREAD_MEMBER_LIST,object:G.AnalyticsObjects.BOOST_GEM_ICON}})}),[t.guild_id]);if(null==c)return null;var x=null==f?void 0:f.premiumSince;return K(T.default,{preload:function(){return(0,m.default)(c.id,c.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){return a.createElement(_.default,$({},e,{userId:c.id,guildId:t.guild_id,channelId:t.id}))},position:T.default.Positions.LEFT,spacing:16,onShiftClick:L},void 0,(function(e,n){var r=n.isShown;return a.createElement(U.default,$({onContextMenu:D,shouldAnimateStatus:X,user:c,nick:null==f?void 0:f.nick,status:A,activities:M,colorString:null==f?void 0:f.colorString,isTyping:i,channel:t,guildId:t.guild_id,isMobile:P,selected:r,
applicationStream:N,premiumSince:null==x?null:new Date(x),onClickPremiumGuildIcon:k,itemProps:R,lostPermissionTooltipText:w?void 0:F.default.Messages.THREAD_MEMBER_WITHOUT_ACCESS},e))}))}Q.displayName="ThreadMember";var J=K(P.default,{width:12,height:12});var ee=a.memo(Q),te=a.memo((function(e){var t=e.id,n=e.label,r=e.count,o=e.guildId,i=(0,v.useRoleIcon)({roleId:t,guildId:o,size:16});return t===G.StatusTypes.UNKNOWN?K("div",{className:x.default.membersGroup},void 0,K("div",{className:x.default.memberGroupsPlaceholder})):K(R.default,{className:x.default.membersGroup,"aria-label":F.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r})},void 0,null!=i?a.createElement(w.default,$({className:x.default.roleIcon},i)):null,K("span",{"aria-hidden":!0},void 0,n," — ",r))})),ne=a.memo((function(e){return e.channel.type===G.ChannelTypes.PRIVATE_THREAD?a.createElement(a.Fragment,null,K("div",{className:B.default.divider}),K(D.default,{size:D.default.Sizes.SIZE_12,
color:D.default.Colors.HEADER_SECONDARY,className:B.default.private},void 0,J," ",F.default.Messages.THREAD_BROWSER_PRIVATE),K(D.default,{size:D.default.Sizes.SIZE_14,color:D.default.Colors.HEADER_SECONDARY,className:B.default.instructions},void 0,F.default.Messages.MEMBER_LIST_PRIVATE_THREAD_INSTRUCTIONS)):null}));function re(e){var t=e.channel,n=e.guild,r="members-"+t.id,s=(0,y.useThreadMemberListSections)(t.id,n),d=s.filter((function(e){return e.userIds.length>0})).reverse()[0],p=function(e){var t=(0,l.useStateFromStores)([f.default],(function(){return f.default.keyboardModeEnabled})),n=a.useRef(null),r=a.useCallback((function(e,t){var r=n.current;if(null!=r){var a=parseInt(t,10),o=z(r.getSectionRowFromIndex(a),2),i=o[0],u=o[1],l=0===i&&0===u?44:0;r.scrollToIndex({section:i,row:u,padding:l,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[]),o=a.useCallback((function(){
return new Promise((function(e){var t=n.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),i=a.useCallback((function(){return new Promise((function(e){var t=n.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]);return{navigator:(0,u.default)({id:e,setFocus:r,isEnabled:t,scrollToStart:o,scrollToEnd:i}),listRef:n}}(r),v=p.navigator,h=p.listRef;if(0===s.length||s.every((function(e){return 0===e.userIds.length})))return K(oe,{channel:t});var m=i.default.omit(v.containerProps,["ref"]),_=K(ne,{channel:t},"footer");return K(u.ListNavigatorProvider,{navigator:v},void 0,K(c.FocusJumpSection,{},void 0,(function(e){return K("div",{className:(0,o.default)(x.default.membersWrap,x.default.hiddenMembers)},void 0,a.createElement(L.default,$({key:r,ref:h,className:x.default.members,paddingTop:0,sectionHeight:40,
renderSection:function(e){var t=e.section,r=s[t];return K(te,{id:r.id,label:r.label,count:r.userIds.length,guildId:n.id},r.id)},rowHeight:44,renderRow:function(e){var n=e.section,r=e.row,a=s[n],o=a.userIds,i=a.id;return K(ee,{channel:t,sectionId:i,userId:o[r]},o[r])},footerHeight:function(e){return s[e]===d&&t.type===G.ChannelTypes.PRIVATE_THREAD?80:0},renderFooter:function(e){return s[e.section]===d?_:null},"aria-label":F.default.Messages.MEMBERS,sections:s.map((function(e){return e.userIds.length})),fade:!0},m,e)))})))}re.displayName="ThreadMembers";var ae=K(M.default,{width:32,height:32});function oe(e){var t=e.channel;return K("div",{className:(0,o.default)(x.default.membersWrap,x.default.hiddenMembers,x.default.members,B.default.emptyState)},void 0,K(D.default,{className:B.default.emptyStateHeader,size:D.default.Sizes.SIZE_12,color:D.default.Colors.INTERACTIVE_NORMAL},void 0,F.default.Messages.MEMBERS),K("div",{className:B.default.emptyStateIconContainer},void 0,K("div",{
className:B.default.emptyStateIcon},void 0,ae),K(A.default,{className:B.default.emptyStateStars})),K(N.default,{size:N.default.Sizes.SIZE_16},void 0,t.isForumPost()?F.default.Messages.FORUM_POST_MEMBER_LIST_EMPTY_STATE_HEADER:F.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_HEADER),K(D.default,{className:B.default.emptyStateSubtext,size:D.default.Sizes.SIZE_14,color:D.default.Colors.HEADER_SECONDARY},void 0,F.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_SUBTEXT))}oe.displayName="EmptyState"},998872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=at(n(667294)),o=n(517563),i=n(505977),u=n(473727),l=nt(n(536211)),s=nt(n(939949)),d=nt(n(241165)),f=n(988754),c=nt(n(415275)),p=nt(n(737863)),v=nt(n(136873)),y=at(n(446637)),h=nt(n(226800)),m=nt(n(235879)),_=nt(n(178235)),g=nt(n(206566)),E=nt(n(967160)),S=nt(n(600198)),O=nt(n(765304)),b=nt(n(676817)),I=nt(n(375543)),C=n(621287),T=nt(n(694450)),A=nt(n(316309)),P=nt(n(235398)),M=nt(n(121791)),N=nt(n(200092)),R=n(177634),w=nt(n(730034)),D=nt(n(480519)),L=nt(n(697786)),j=nt(n(344368)),k=nt(n(735592)),U=nt(n(829392)),G=nt(n(519386)),F=nt(n(782950)),x=nt(n(100223)),B=nt(n(873113)),V=nt(n(1110)),W=nt(n(701593)),H=n(452453),z=nt(n(789620)),Y=nt(n(218813)),K=nt(n(936747)),$=nt(n(419523)),q=nt(n(476115)),Z=nt(n(316200)),X=nt(n(171627)),Q=nt(n(486030)),J=n(520310),ee=nt(n(900996)),te=nt(n(885159)),ne=nt(n(554147)),re=nt(n(496357)),ae=nt(n(110210)),oe=nt(n(231765)),ie=nt(n(216920)),ue=nt(n(764517)),le=nt(n(348612)),se=nt(n(329697)),de=n(923604),fe=n(139982),ce=nt(n(804135)),pe=nt(n(478910)),ve=nt(n(394444)),ye=nt(n(954500)),he=nt(n(342716)),me=nt(n(525339)),_e=nt(n(965484)),ge=nt(n(340877)),Ee=n(910992),Se=nt(n(418968)),Oe=nt(n(77670)),be=nt(n(409501)),Ie=nt(n(594506)),Ce=nt(n(859566)),Te=nt(n(474628)),Ae=nt(n(555325)),Pe=nt(n(350539)),Me=nt(n(423046)),Ne=nt(n(908463)),Re=nt(n(644263)),we=nt(n(544196)),De=nt(n(23535)),Le=nt(n(30098)),je=nt(n(122913)),ke=nt(n(191839)),Ue=nt(n(211136)),Ge=nt(n(790597)),Fe=nt(n(52694)),xe=nt(n(474261)),Be=nt(n(424099)),Ve=nt(n(797512)),We=nt(n(96978)),He=nt(n(944537)),ze=nt(n(432310)),Ye=nt(n(853068)),Ke=n(194322),$e=n(864489),qe=nt(n(922629)),Ze=at(n(409873)),Xe=nt(n(825469)),Qe=nt(n(678306)),Je=n(770348),et=n(173652),tt=n(754949)
;n(259477);n(203855);n(730655);n(101820);n(913955);n(438312);n(455286);n(433512);n(937035);n(399561);n(625424);n(359973);n(587840);n(516818);n(816624);n(350957);n(243336);n(491462);n(42398);n(847583);function nt(e){return e&&e.__esModule?e:{default:e}}function rt(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(rt=function(e){return e?n:t})(e)}function at(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=rt(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ot(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function it(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ot(o,r,a,i,u,"next",e)}function u(e){ot(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ut(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=lt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lt(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function dt(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ft(e,t)}function ft(e,t){ft=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ft(e,t)}function ct(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();ce.default.loadServer();if($e.isPlatformEmbedded){qe.default.on("USER_SETTINGS_OPEN",(function(){je.default.getLayers().includes(Je.Layers.USER_SETTINGS)||h.default.open(Je.UserSettingsSections.ACCOUNT)}));qe.default.on("LAUNCH_APPLICATION",(function(e,t){var n=ke.default.getActiveLibraryApplication(t);Ze.playApplication(t,n,{analyticsParams:{location:{
page:Je.AnalyticsPages.DIRECT,object:Je.AnalyticsObjects.WEB_URL}}})}))}function pt(e){var t=e.match,n=e.location,r=(0,o.parse)(n.search).friend_token,a=t.params.id;p.default.call((function(){return(0,Ee.openUserProfileModal)({userId:a,guildId:Je.ME,friendToken:r,analyticsLocation:{section:Je.AnalyticsSections.DIRECT_ROUTE_ACCESS}})}));return ct(u.Redirect,{to:we.default.defaultRoute})}pt.displayName="renderUserProfileRedirector";function vt(e){var t=e.match.params,n=t.guildId,r=t.guildEventId;p.default.call((function(){(0,H.openGuildEventDetails)(r)}));return ct(u.Redirect,{to:Je.Routes.CHANNEL(n)})}vt.displayName="renderGuildEventRedirector";function yt(e){var t,n,r=e.match,a=/-/g,o=null===(t=r.params.section)||void 0===t?void 0:t.toUpperCase().replace(a,"_"),i=null===(n=r.params.subsection)||void 0===n?void 0:n.toUpperCase().replace(a,"_");Je.UserSettingsSections.hasOwnProperty(o)&&(null==i||""===i||Je.UserSettingsSections.hasOwnProperty(i))&&p.default.call((function(){
return h.default.open(Je.UserSettingsSections[o],i)}));return ct(u.Redirect,{to:we.default.defaultRoute})}yt.displayName="renderUserSettingsRedirector";function ht(){p.default.call((function(){return h.default.open(Je.UserSettingsSections.INVENTORY)}));return ct(u.Redirect,{to:we.default.defaultRoute})}ht.displayName="renderGiftInventoryRedirector";function mt(e){var t=e.match.params.date,n=Ne.default.changeLog,r=(0,o.parse)(location.search);if(null!=t&&null!=n){if(new Date(t)>new Date(n.date)){var a=r.utm_campaign_current,i=r.utm_content_current,l=r.utm_medium_current,s=r.utm_source_current,f=r.utm_term_current,c=(0,o.stringify)({utm_campaign_current:a,utm_content_current:i,utm_medium_current:l,utm_source_current:s,utm_term_current:f});window.location=Je.Routes.CHANGELOGS()+"?"+c}}p.default.call((function(){return d.default.showChangeLog(r)}));return ct(u.Redirect,{to:we.default.defaultRoute})}mt.displayName="renderChangeLogRedirector";function _t(){p.default.call((function(){
return N.default.openCreateGuildModal({location:"External link"})}));return ct(u.Redirect,{to:we.default.defaultRoute})}_t.displayName="createGuildModalRedirector";function gt(e){var t=e.match.params,n=t.guildId,r=t.channelId;(0,J.setNewUser)(tt.NewUserTypes.MARKETING_UNCLAIMED);var a=Je.Routes.CHANNEL(n,r);return ct(u.Redirect,{to:a})}gt.displayName="renderWelcomeRedirector";var Et=l.default.connectStores([De.default,we.default,Me.default],(function(){return{isConnected:De.default.isConnected(),defaultRoute:we.default.defaultRoute,defaultRouteFallback:we.default.fallbackRoute,token:Me.default.getToken()}}))(function(e){dt(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute,r=e.token,a=e.defaultRouteFallback;if(null==r)return ct(u.Redirect,{to:Je.Routes.DEFAULT_LOGGED_OUT});if(t){var o=Mt(n)
;return null==o||(o.params.guildId===Je.ME||null!=Le.default.getGuild(o.params.guildId))&&null!=Re.default.getChannel(o.params.channelId)?ct(u.Redirect,{to:n}):ct(R.DiscoveryLandingExperimentRedirect,{defaultRouteFallback:a})}return null};return t}(a.Component));function St(e){var t=e.match.params,n=t.gameId,r=t.action;ze.default.whenInitialized((function(){ke.default.whenInitialized((function(){switch(r){case"launch":var e=ke.default.getActiveLibraryApplication(n);if(null==e)return;Ze.playApplication(e.id,e,{analyticsParams:{location:{page:Je.AnalyticsPages.DIRECT,object:Je.AnalyticsObjects.WEB_URL}}});break;case"test-mode":Be.default.whenInitialized((function(){return y.authorizeAndSetTestModeApplication(n)}));break;case"uninstall":var t=ke.default.getActiveLibraryApplication(n);if(null==t)return;(0,f.uninstallBranchPrompt)(t.id,t.branchId,Je.AnalyticsLocations.URI_SCHEME)}}))}));return ct(u.Redirect,{to:Je.Routes.APPLICATION_LIBRARY})}St.displayName="gameLibraryActionRedirector"
;var Ot,bt=(0,C.makeAuthenticated)(Xe.default,null,{passProps:!1}),It=[Je.Routes.GUILD_BOOSTING_MARKETING(":guildId")].concat(function(e){if(Array.isArray(e))return st(e)}(Ot=et.StaticChannelRoutes.map((function(e){return Je.Routes.CHANNEL(":guildId",e)})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Ot)||lt(Ot)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var Ct=ct(Et,{}),Tt=[{path:[Je.Routes.APP],render:function(){return Ct},isSessionRequired:!0},{path:[Je.Routes.USERS(":id")],render:pt},{path:[Je.Routes.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:St},{path:[Je.Routes.GUILD_CREATE],render:_t},{path:[Je.Routes.CHANGELOGS(":date?")],render:mt,isSessionRequired:!0},{path:[Je.Routes.SETTINGS(":section",":subsection?")],render:yt,isSessionRequired:!0},{
path:[Je.Routes.APPLICATION_LIBRARY_INVENTORY],render:ht,isSessionRequired:!0},{path:[Je.Routes.WELCOME(":guildId?",":channelId?")],render:gt,isSessionRequired:!0},{path:[Je.Routes.GUILD_EVENT_DETAILS(":guildId?",":guildEventId")],render:vt,isSessionRequired:!0},{path:[Je.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),Je.Routes.ACTIVITY,Je.Routes.APPLICATION_LIBRARY,Je.Routes.APPLICATION_STORE,Je.Routes.GUILD_DISCOVERY,Je.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),Je.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),Je.Routes.GUILD_BOOSTING_MARKETING(":guildId"),Je.Routes.FEATURE(":feature")],render:bt,isSessionRequired:!0,isChatRoute:!0}];function At(e){if(!De.default.isConnected()&&!De.default.isTryingToConnect()){var t=Me.default.getToken();if(null!=t){var n=function(e){for(var t,n=ut(Tt);!(t=n()).done;){var r=t.value,a=r.path;if(r.isSessionRequired){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}(e)
;null!=n&&s.default.startSession(t)}}}function Pt(e){var t=Mt(e);if(null!=t){var n=function(e){var t=e.params,n=t.guildId,r=t.channelId,a=void 0===r?null:r,o=t.messageId,i=void 0===o?null:o;return{guildId:null!=n?n:Je.ME,channelId:a,messageId:i}}(t),r=n.guildId,a=n.channelId,o=n.messageId,u=(0,de.isValidGuildId)(r),l=(0,de.isValidChannelId)(a),s=Ge.default.getGuildId(),d=s!==r;u&&d&&c.default.selectGuild(r);if(u&&l){var f=Ue.default.getChannelId(s);(d||f!==a||null!=o)&&v.default.selectChannel(r,a,o)}else(function(e){return It.some((function(t){var n;return!0===(null===(n=(0,i.matchPath)(e,t))||void 0===n?void 0:n.isExact)}))})(e)||(0,fe.replaceWith)(we.default.fallbackRoute)}}function Mt(e){for(var t,n=ut(Tt);!(t=n()).done;){var r=t.value,a=r.path;if(r.isChatRoute){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}var Nt=ct(u.Redirect,{exact:!0,from:"/channels",to:"/"}),Rt=ct(u.Redirect,{to:"/"}),wt=ct(Qe.default,{}),Dt=function(e){dt(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).historyUnlisten=function(){};return t}var r=t.prototype;r.componentDidMount=function(){qe.default.setZoomFactor(m.default.zoom);ce.default.init();T.default.initialize();A.default.initialize();M.default.initialize();P.default.initialize();L.default.initialize();ne.default.initialize();k.default.initialize();j.default.initialize();Pe.default.initialize();U.default.initialize();oe.default.initialize();$.default.initialize();Q.default.initialize();_.default.init();le.default.init();pe.default.init();F.default.init();xe.default.init();G.default.init();X.default.init();ee.default.initialize();b.default.initialize();ve.default.initialize();ie.default.initialize();Ae.default.initialize();O.default.initialize();Te.default.initialize();te.default.initialize();S.default.initialize();x.default.init();z.default.init();He.default.init();Ye.default.init();Z.default.initialize()
;E.default.initialize();_e.default.init();ge.default.init();We.default.init();Ve.default.init();Oe.default.init();Ie.default.init();W.default.initialize();he.default.initialize();me.default.initialize();B.default.initialize();Se.default.initialize();ae.default.initialize();re.default.initialize();Ce.default.init();D.default.initialize();be.default.init();K.default.init();g.default.initialize();V.default.initialize();I.default.initialize();ye.default.initialize();Fe.default.init();Y.default.init({hasModalOpen:Ke.hasAnyModalOpen,openModal:function(){return(0,Ke.openModalLazy)(it(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}});w.default.init();q.default.initialize();ue.default.initialize()
;this.handleHistoryChange(n.g.location);this.historyUnlisten=se.default.addRouteChangeListener(this.handleHistoryChange)};r.componentWillUnmount=function(){k.default.terminate();Pe.default.terminate();oe.default.terminate();ne.default.terminate();Q.default.terminate();T.default.terminate();A.default.terminate();M.default.terminate();P.default.terminate();L.default.terminate();Z.default.terminate();O.default.terminate();Te.default.terminate();S.default.terminate();ve.default.terminate();ie.default.terminate();te.default.terminate();Se.default.terminate();E.default.terminate();W.default.terminate();ae.default.terminate();re.default.terminate();D.default.terminate();K.default.terminate();q.default.terminate();g.default.terminate();ue.default.terminate();V.default.terminate();I.default.terminate();ye.default.terminate()};r.handleHistoryChange=function(e){var t=e.pathname;At(t);Pt(t)};r.render=function(){return ct(a.Fragment,{},void 0,ct(u.Switch,{},void 0,Nt,Tt.map((function(e){
var t=e.path,n=e.render;return ct(u.Route,{path:t,render:n},t[0])})),Rt),wt)};return t}(a.PureComponent);Dt.displayName="ViewsWithMainInterface";var Lt=Dt;t.default=Lt},61689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(770348);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}
var s,d,f=Math.pow(3,2);!function(e){e[e.DISABLED=0]="DISABLED";e[e.DEFAULT=1]="DEFAULT";e[e.OFFSET=2]="OFFSET"}(s||(s={}));!function(e){e.TOP="TOP";e.BOTTOM="BOTTOM";e.RIGHT="RIGHT";e.LEFT="LEFT"}(d||(d={}));function c(e,t,n,r,a){var o=e.top,i=e.bottom,u=e.left,l=e.right;if(null==o&&null==i){o=0;i=n-a}else null==o&&null!=i?o=n-(i+a):null!=o&&(i=n-(o+a));if(null==u&&null==l){u=0;l=t-r}else null==u&&null!=l?u=t-(l+r):null==l&&null!=u&&(l=t-(u+r));if(null==o||null==i||null==u||null==l)throw new Error("Logically this can never happen based on our if/else statements");return{top:o,left:u,bottom:i,right:l}}function p(e){return[null==e.bottom?d.TOP:d.BOTTOM,null==e.right?d.LEFT:d.RIGHT]}function v(e){var t=e,n=t.top,r=t.left,a=t.bottom,o=t.right;0===n||n<=a?a=null:n=null;0===r||r<=o?o=null:r=null;return{top:n,left:r,bottom:a,right:o}}function y(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;if(r<0){t+=r;r=0}if(t<0){r+=t;t=0}if(a<0){n+=a;a=0}if(n<0){a+=n;n=0}return{top:t,left:n,bottom:r,right:a
}}function h(e){return null!=e?e+"px":"auto"}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).draggableRef=r.createRef();n._dragStart={x:0,y:0};n.handleMouseDown=function(e){var t=n.position,r=t.top,o=t.left,i=t.bottom,u=t.right,l=n.props,s=l.dragAnywhere,d=l.selector,f=l.maxX,p=l.maxY,v=e.target,y=n.draggableRef.current;if(null!=y&&e.button===a.MouseButtons.PRIMARY&&(s||null!=v&&null!=d&&""!==d&&null!=v.closest(d))){var h=function(e){var t=e.top;return{x:e.left,y:t}}(c({top:r,left:o,bottom:i,right:u},f,p,y.clientWidth,y.clientHeight)),m=h.x,_=h.y;n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-m;n._offsetY=e.clientY-_;window.addEventListener("mousemove",n.handleMouseMove);window.addEventListener("mouseup",n.handleMouseUp)}};n.handleMouseMove=function(e){e.preventDefault()
;var t=e.clientX,r=e.clientY,a=n.draggableRef.current,o=n.props,i=o.maxX,u=o.maxY,l=o.flipVertical,d=o.flipHorizontal,h=o.onDragStart,m=o.onDrag,_=o.onFlip,g=o.snapOrientation,E=n.state,S=E.dragging,O=E.dragging,b=E.verticalOrientation,I=E.horizontalOrientation,C=!1;if(!(null==a||!S&&(T=n._dragStart,A={x:t,y:r},P=T.x,M=T.y,N=A.x,R=A.y,Math.pow(P-N,2)+Math.pow(M-R,2))<f)){var T,A,P,M,N,R;S=!0;var w=a.clientWidth,D=a.clientHeight,L=y(c({top:r-n._offsetY,left:t-n._offsetX},i,u,w,D));if(g){var j=p(L=v(L));b=j[0];I=j[1]}else L={top:L.top,left:L.left};if(d===s.OFFSET&&I!==n.state.horizontalOrientation){n._offsetX=w-n._offsetX;C=!0}if(l===s.OFFSET&&b!==n.state.verticalOrientation){n._offsetY=D-n._offsetY;C=!0}n.setDOMPositions(L);O||null==h||h(L,a);null==m||m(L,a);C&&(null==_||_([b,I]));n.setState({dragging:S,verticalOrientation:b,horizontalOrientation:I,atTopEdge:0===L.top})}};n.handleMouseUp=function(){window.removeEventListener("mousemove",n.handleMouseMove)
;window.removeEventListener("mouseup",n.handleMouseUp);n.state.dragging&&n.setState({dragging:!1},(function(){var e=n.props.onDragEnd,t=n.draggableRef.current;null!=t&&null!=e&&e(n.position,t)}))};n._checkBoundsRAF=null;n.checkBounds=function(){null!=n._checkBoundsRAF&&cancelAnimationFrame(n._checkBoundsRAF);n._checkBoundsRAF=requestAnimationFrame(n._performCheckBounds)};n._performCheckBounds=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.position,r=e.state,a=e.draggableRef.current,o=e.props,i=o.maxX,u=o.maxY,l=o.onRelocated,s=o.snapOrientation,d=n.state,f=d.verticalOrientation,h=d.horizontalOrientation;if(null!=a){var m,_=a.clientHeight,g=c(t,i,u,a.clientWidth,_);g=y(g);if(s){var E=p(m=v(g));f=E[0];h=E[1]}else m={top:g.top,left:g.left,right:null,bottom:null};if(t.left!==m.left||t.right!==m.right||t.top!==m.top||t.bottom!==m.bottom){null==l||l(m,a);n.setDOMPositions(m);var S=0===m.top
;f===r.verticalOrientation&&h===r.horizontalOrientation&&S===r.atTopEdge||n.setState({verticalOrientation:f,horizontalOrientation:h,atTopEdge:S})}}};var o=i(p(t.initialPosition),2),u=o[0],l=o[1];n.position=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;null==n&&null==a&&(n=0);null!=n&&null!=a&&(a=null);null==t&&null==r&&(t=0);null!=t&&null!=r&&(r=null);return{top:t,left:n,bottom:r,right:a}}(t.initialPosition);n.state={dragging:!1,verticalOrientation:u,horizontalOrientation:l,atTopEdge:0===n.position.top};return n}var n=t.prototype;n.componentDidMount=function(){this.checkBounds();this.setDOMPositions(this.position)};n.componentDidUpdate=function(e,t){var n=this.state,r=n.verticalOrientation,a=n.horizontalOrientation,o=n.atTopEdge,i=this.props,u=i.maxX,l=i.maxY,s=i.onRelocated,d=i.snapOrientation;(e.maxX!==u||e.maxY!==l||e.onRelocated!==s||e.snapOrientation!==d||t.verticalOrientation!==r||t.horizontalOrientation!==a||t.atTopEdge!==o)&&this.checkBounds()}
;n.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove);window.removeEventListener("mouseup",this.handleMouseUp)};n.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right,o=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:a};if(null!=o){o.style.top=h(t);o.style.bottom=h(r);o.style.left=h(n);o.style.right=h(a)}};n.render=function(){var e=this.props,t=e.children,n=e.className,a=this.state,o=a.dragging,i=a.verticalOrientation,u=a.horizontalOrientation,l=a.atTopEdge,s=this.position,f=s.top,c=s.left,p=s.right,v={pointerEvents:o?"none":"auto",position:"absolute",top:f,left:c,bottom:s.bottom,right:p};return r.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:v},r.cloneElement(r.Children.only(t),{flipped:u===d.RIGHT,verticalFlipped:i===d.BOTTOM,checkBounds:this.checkBounds,atTopEdge:l}))};return t}(r.PureComponent);t.default=m;m.displayName="Draggable";m.FlipTypes=s
;m.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:s.DISABLED,flipHorizontal:s.DISABLED,dragAnywhere:!1}},358696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(667294)),o=l(n(16941)),i=l(n(160629)),u=d(n(519390));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){
var n=e.closePopout,r=t.props,a=r.options,o=r.value,i=r.renderOption,l=r.popoutClassName,s=r.scroller;return c(u.QuickSelectPopout,{scroller:Boolean(s),className:l,options:a,value:o,renderOption:i,onChange:function(e){t.handleChange(e);n()}})};t.handleChange=function(e){var n=t.props.onChange;null==n||n(e)};return t}t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,l=e.className,s=e.popoutProps,d=c(u.default,{label:t,value:n,renderValue:r});return a.createElement(i.default,f({},s,{renderPopout:this.renderPopout}),(function(e,t){var n=t.isShown;return a.createElement(o.default,f({},e,{className:l,"aria-haspopup":"listbox","aria-expanded":n}),d)}))};return t}(a.PureComponent);v.displayName="QuickSelectWrapper";var y=v;t.default=y},887140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T
;var r,a=S(n(667294)),o=g(n(294184)),i=n(536211),u=g(n(636602)),l=S(n(785460)),s=g(n(122913)),d=g(n(191013)),f=g(n(37679)),c=g(n(665759)),p=n(194322),v=n(310170),y=S(n(409873)),h=n(770348),m=g(n(247001)),_=g(n(517628));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).searchBarRef=null;t.state={focused:!1};t.setRef=function(e){t.searchBarRef=e};t.handleKeyDown=function(e){var n,r=t.props,a=r.activeRowKey,o=r.hasModalOpen,i=r.applicationViewItems,u=b(t).searchBarRef;if(!(o||e.ctrlKey||e.altKey||e.metaKey||null==u)){
var l=null===(n=(0,v.eventOwnerDocument)(e))||void 0===n?void 0:n.activeElement;if(l===u.inputRef.current||!(0,v.isInputLikeElement)(l))switch(e.which){case h.KeyboardKeys.ESCAPE:e.target!==u.inputRef.current?t.reset():null!=u.inputRef.current&&u.blur();break;case h.KeyboardKeys.ENTER:if(null!=a){e.preventDefault();var s=i.find((function(e){return e.key===a}));if(null==s)return;var d=s.libraryApplication;y.performDefaultLibraryApplicationAction(d,{analyticsParams:{source:h.AnalyticsLocations.APPLICATION_LIBRARY,location:{page:h.AnalyticsPages.LIBRARY,section:h.AnalyticsSections.LIBRARY_APPLICATION_LIST,object:h.AnalyticsObjects.BUTTON_CTA}}})}break;case h.KeyboardKeys.ARROW_DOWN:case h.KeyboardKeys.ARROW_UP:e.preventDefault();e.stopPropagation();t.updateActiveRow(e.which===h.KeyboardKeys.ARROW_DOWN?1:-1);break;default:null!=u.inputRef.current&&e.target!==u.inputRef.current&&u.focus()}}};return t}var n=t.prototype;n.componentDidMount=function(){
document.addEventListener("keydown",this.handleKeyDown)};n.componentWillUnmount=function(){u.default.wait((function(){return l.updateActiveRowKey(null)}));document.removeEventListener("keydown",this.handleKeyDown)};n.reset=function(){l.updateActiveRowKey(null);l.updateLibraryFilter("")};n.focusInput=function(){var e=this.searchBarRef;null!=e&&e.focus()};n.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,a=n.findIndex((function(e){return e.key===r})),o=0;a>=0&&(o=(a+e)%n.length)<0&&(o=n.length-1);var i=n[o];l.updateActiveRowKey(null!=i?i.key:null,!0)};n.render=function(){var e,t=this,n=this.props.filterQuery,r=this.state.focused;return O("div",{className:(0,o.default)((e={},e[_.default.libraryFilter]=!0,e[_.default.focused]=r,e))},void 0,a.createElement(c.default,{className:_.default.searchBar,ref:this.setRef,onChange:l.updateLibraryFilter,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},
name:"filter",onClear:function(){t.reset();t.focusInput()},maxLength:100,query:n,placeholder:m.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}))};return t}(a.Component);C.displayName="ApplicationLibraryFilter";function T(){var e=(0,i.useStateFromStores)([s.default],(function(){return s.default.hasLayers()})),t=(0,p.useModalsStore)(p.hasAnyModalOpenSelector);return O(C,{activeRowKey:(0,i.useStateFromStores)([f.default],(function(){return f.default.activeRowKey})),hasModalOpen:t||e,filterQuery:(0,i.useStateFromStores)([d.default],(function(){return d.default.applicationFilterQuery})),applicationViewItems:(0,i.useStateFromStores)([d.default],(function(){return d.default.sortedFilteredLibraryApplicationViewItems}))})}T.displayName="ApplicationLibraryFilterConnected"},870380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(463024)),i=n(139982),u=v(n(186465)),l=v(n(262134)),s=n(308920),d=n(539331),f=n(770348),c=v(n(247001)),p=v(n(541302));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var _=(0,d.isSupportedPlatform)()||!1,g=h(o.default.Icon,{icon:l.default,"aria-hidden":!0}),E=h(o.default.Divider,{});function S(e){var t=e.currentRoute,n=e.renderToolbar,r=a.useContext(s.AnalyticsContext);var l=_||t===f.Routes.APPLICATION_LIBRARY_SETTINGS;return h(o.default,{className:p.default.libraryHeader,toolbar:null==n?void 0:n()},void 0,g,h(o.default.Title,{},void 0,c.default.Messages.LIBRARY),E,h(u.default,{type:u.default.Types.TOP_PILL,selectedItem:t,onItemSelect:function(e){e!==t&&(0,i.transitionTo)(e,{state:{analyticsSource:m({},r.location,{section:f.AnalyticsSections.TABS,object:f.AnalyticsObjects.NAVIGATION_LINK})}})}},void 0,h(u.default.Item,{id:f.Routes.APPLICATION_LIBRARY
},void 0,c.default.Messages.APPLICATION_LIBRARY_MY_GAMES),l?h(u.default.Item,{id:f.Routes.APPLICATION_LIBRARY_SETTINGS},void 0,c.default.Messages.SETTINGS):null))}S.displayName="ApplicationLibraryHeader";var O=a.memo(S);t.default=O},115370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(370405),i=n(473727),u=v(n(284382)),l=v(n(400225)),s=n(887299),d=v(n(539903)),f=v(n(364527)),c=n(770348),p=v(n(854686));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=h(f.default,{}),_=h(d.default,{});function g(){return h(i.Switch,{},void 0,h(l.default,{path:c.Routes.APPLICATION_LIBRARY_SETTINGS,exact:!0},void 0,h(u.default,{page:c.AnalyticsPages.LIBRARY_SETTINGS,root:!0},void 0,m)),h(l.default,{path:c.Routes.APPLICATION_LIBRARY},void 0,h(u.default,{page:c.AnalyticsPages.LIBRARY,root:!0},void 0,_)))}g.displayName="ApplicationLibrarySwitch";var E=h(o.Helmet,{title:"Discord"}),S=h(g,{});function O(){
a.useEffect((function(){(0,s.trackAppUIViewed)("application_library")}),[]);return h("div",{className:p.default.container},void 0,E,S)}O.displayName="ApplicationLibraryPage";var b=a.memo(O);t.default=b},949294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=h(n(536211)),u=n(91817),l=h(n(223367)),s=h(n(730977)),d=h(n(955310)),f=h(n(989983)),c=h(n(635114)),p=h(n(809898)),v=n(770348),y=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var S=new Set([v.CloudSyncStateTypes.PUSHING,v.CloudSyncStateTypes.PULLING]),O=Object.freeze(((r={})[v.CloudSyncStateTypes.DONE]=d.default,
r[v.CloudSyncStateTypes.PLANNING]=d.default,r[v.CloudSyncStateTypes.PREPARING]=d.default,r[v.CloudSyncStateTypes.PUSHING]=p.default,r[v.CloudSyncStateTypes.PULLING]=c.default,r[v.CloudSyncStateTypes.CONFLICT]=d.default,r[v.CloudSyncStateTypes.ERROR]=d.default,r)),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._doneTimer=new u.Timeout;return t}var n=t.prototype;n.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()};n.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==v.CloudSyncStateTypes.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())};n.componentWillUnmount=function(){this._doneTimer.stop()}
;n.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,(function(){return e.forceUpdate()}))};n.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===v.CloudSyncStateTypes.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1};n.getStop=function(e,t){if(t)return 1;if(e.type===v.CloudSyncStateTypes.PUSHING||e.type===v.CloudSyncStateTypes.PULLING){return e.progress/e.total}return 0};n.getTooltip=function(e,t){switch(e.type){case v.CloudSyncStateTypes.DONE:return t?y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.CONFLICT:case v.CloudSyncStateTypes.ERROR:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.PLANNING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case v.CloudSyncStateTypes.PREPARING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case v.CloudSyncStateTypes.PUSHING:
return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case v.CloudSyncStateTypes.PULLING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING;default:return null}};n.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,r=e.className,a=null==t?{type:v.CloudSyncStateTypes.DONE}:t,i=this.getIsRecentlySynced(),u={};(S.has(a.type)||i)&&(u.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(a,i)});var l=i?f.default:O[a.type];return _(s.default,{text:this.getTooltip(a,i)},void 0,(function(e){return o.createElement(l,g({className:r},u,e))}))};return t}(o.PureComponent);b.displayName="CloudSyncIcon";var I=i.default.connectStores([l.default],(function(e){var t=e.libraryApplication;return{cloudSyncState:l.default.getState(t.id,t.branchId)}}))(b);t.default=I},328715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=T(n(536211)),i=n(668471),u=T(n(979285)),l=T(n(956117)),s=T(n(558402)),d=T(n(789446)),f=T(n(895108)),c=T(n(530250)),p=T(n(618993)),v=T(n(279950)),y=n(688388),h=T(n(502197)),m=n(194322),_=T(n(971639)),g=T(n(776360)),E=n(771855),S=n(864489),O=T(n(922629)),b=T(n(247001)),I=T(n(591523)),C=T(n(380203));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={label:void 0,isDefault:null};t.handleStartEditing=function(){
var e=t.props,n=e.path,r=e.label,a=e.isDefault;(0,e.onToggleEditing)(n);t.setState({label:r,isDefault:a})};t.handleStopEditing=function(){(0,t.props.onToggleEditing)(null);t.setState({label:void 0,isDefault:null})};t.handleRemoveLocation=function(){(0,m.openModal)((function(e){return a.createElement(h.default,P({},e,{header:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:b.default.Messages.CANCEL,onConfirm:function(){t.handleStopEditing();(0,i.removeInstallLocation)(t.props.path)}}),M(g.default,{size:g.default.Sizes.SIZE_16},void 0,b.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))}))};t.handleSaveChanges=function(){(0,i.updateInstallLocation)(t.props.path,{label:null!=t.state.label?t.state.label:t.props.label,isDefault:null!=t.state.isDefault?t.state.isDefault:t.props.isDefault});t.handleStopEditing()};t.handleLabelChange=function(e){t.setState({label:e})}
;t.handleToggleDefault=function(){t.setState({isDefault:!t.state.isDefault})};return t}var n=t.prototype;n.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?M(f.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null};n.renderViewing=function(){var e,t,n=this.props,r=n.path,a=n.label,o=n.editingPath,i=n.isDefault,s=n.metadata;if(null!=s){e=null!=s.availableKB?(0,E.formatSize)(s.availableKB,{useKibibytes:!0}):null;t=null!=s.totalKB?(0,E.formatSize)(s.totalKB,{useKibibytes:!0}):null}return M(c.default,{className:I.default.installationPath,align:c.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),M(c.default,{direction:c.default.Direction.VERTICAL,className:I.default.descriptionWrapper},void 0,M(c.default,{align:c.default.Align.CENTER},void 0,M(_.default,{className:I.default.rowTitle,size:_.default.Sizes.SIZE_16},void 0,null!=a?a:u.default.getLabelFromPath(r)),i?M("span",{className:I.default.defaultIndicator
},void 0,b.default.Messages.DEFAULT):null),null!=s&&null!=e&&null!=t?M(p.default,{className:I.default.rowBody,hoverText:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t})},void 0,r):M(g.default,{className:I.default.rowBody,size:g.default.Sizes.SIZE_12},void 0,r)),M(l.default,{size:l.default.Sizes.SMALL,disabled:null!=o,color:l.default.Colors.PRIMARY,onClick:this.handleStartEditing},void 0,b.default.Messages.EDIT))};n.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,r=this.state,a=r.label,o=r.isDefault;return M(s.default,{editable:!0,className:I.default.installationPathEditing},void 0,M(c.default,{},void 0,this.renderDiskUsageCircle(),M(c.default.Child,{},void 0,M(y.FormItem,{title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,M(v.default,{value:a,placeholder:u.default.getLabelFromPath(t),onChange:this.handleLabelChange})),M(y.FormItem,{
title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:C.default.marginTop20},void 0,M(v.default,{disabled:!0,value:t})),M(d.default,{type:d.default.Types.INVERTED,value:null!=o?o:this.props.isDefault,disabled:this.props.isDefault,className:I.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),M(y.FormDivider,{className:I.default.separator}),M(c.default,{},void 0,M(l.default,{disabled:n||this.props.isDefault,size:l.default.Sizes.SMALL,color:l.default.Colors.RED,look:l.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),M(c.default,{justify:c.default.Justify.END},void 0,M(l.default,{size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:this.handleStopEditing},void 0,b.default.Messages.CANCEL),M(l.default,{
disabled:t===this.props.path&&a===this.props.label&&o===this.props.isDefault,size:l.default.Sizes.SMALL,color:l.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,b.default.Messages.SAVE))))))};n.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()};return t}(a.PureComponent);w.displayName="PathItem";var D=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={editingPath:null};t.handleAddInstallationLocation=function(){O.default.showOpenDialog(["openDirectory"]).then((function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,i.addInstallLocation)(e[0])}))};t.handleToggleEditing=function(e){t.setState({editingPath:e})};return t}var n=t.prototype;n.componentDidMount=function(){(0,i.fetchMetadata)(this.props.installationPaths.map((function(e){return e.path})))};n.render=function(){
var e=this,t=this.props,n=t.installationPaths,r=t.installationPathsMetadata,a=t.defaultInstallationPath,o=this.state.editingPath;return M(y.FormSection,{className:I.default.wrapper,title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map((function(t){var n=t.path,i=t.label;return M(w,{path:n,label:i,metadata:r[n],isDefault:a===n,editingPath:o,hasGamesInstalledInPath:u.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)})),M("div",{className:I.default.buttonRowWrapper},void 0,M(l.default,{disabled:!S.isPlatformEmbedded,onClick:this.handleAddInstallationLocation,size:l.default.Sizes.SMALL},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))};return t}(a.PureComponent);D.displayName="GameInstallLocations";var L=o.default.connectStores([u.default],(function(){return{installationPaths:u.default.installationPaths,installationPathsMetadata:u.default.installationPathsMetadata,
defaultInstallationPath:u.default.defaultInstallationPath}}))(D);t.default=L},539903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=S(n(667294)),o=g(n(294184)),i=g(n(636602)),u=S(n(588136)),l=n(881100),s=n(297279),d=g(n(284382)),f=n(235742),c=n(656710),p=g(n(887140)),v=g(n(870380)),y=g(n(845905)),h=g(n(351345)),m=n(770348),_=g(n(993846));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var I=O(p.default,{}),C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scrollerRef=a.createRef();t._scrollToPadding=0;t.state={includeUpdatesInScroller:!1};t.handleHeightTallerThanHalfViewportChange=function(e){t.setState({includeUpdatesInScroller:e})}
;t.scrollToRow=function(e,n){var r=t._scrollerRef.current;if(null!=r){e.focus();r.scrollIntoViewRect({start:n,end:n});t._scrollToOnMount=null}else{t._scrollToOnMount=e;t._scrollToPadding=n}};return t}var n=t.prototype;n.componentDidMount=function(){u.setHomeLink(m.Routes.APPLICATION_LIBRARY);(0,c.deepLinkRouteIfLanded)(m.RPCDeepLinks.LIBRARY);i.default.wait((function(){return(0,l.fetchBranches)()}));(0,s.fetchActivityStatistics)();null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)};n.renderToolbar=function(){return I};n.render=function(){var e,t=this.state.includeUpdatesInScroller,n=O("div",{},void 0,O(d.default,{section:m.AnalyticsSections.LIBRARY_INSTALL_MODULE},void 0,O(h.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})));return O(a.Fragment,{},void 0,O(v.default,{currentRoute:m.Routes.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar
}),t?null:n,a.createElement(f.AdvancedScrollerAuto,{className:(0,o.default)(_.default.container,_.default.scroller,(e={},e[_.default.stickyScroller]=!t,e)),ref:this._scrollerRef},t?n:null,O(d.default,{section:m.AnalyticsSections.LIBRARY_APPLICATION_LIST},void 0,O(y.default,{stickyHeader:!t,scrollToRow:this.scrollToRow}))))};return t}(a.PureComponent);t.default=C;C.displayName="GameLibrary"},364527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=C(n(667294)),o=n(536211),i=C(n(252247)),u=n(894826),l=b(n(191013)),s=b(n(16941)),d=b(n(530250)),f=b(n(567668)),c=n(688388),p=b(n(259530)),v=n(582945),y=b(n(308920)),h=C(n(685677)),m=n(539331),_=b(n(870380)),g=b(n(328715)),E=n(770348),S=b(n(247001)),O=b(n(218522));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var r=t.map((function(e){var t=e.libraryApplication.getDistributor();return P("div",{className:O.default.hiddenLibraryApplication},e.key,P(d.default,{direction:d.default.Direction.VERTICAL,className:O.default.hiddenLibraryApplicationContent},void 0,P("div",{className:O.default.applicationName},void 0,e.libraryApplication.getBranchedName(e.application)),null!=t?P("div",{className:O.default.applicationSubText},void 0,E.DistributorNames[t]):null),P(s.default,{className:O.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,P(p.default,{className:O.default.restoreIcon})))}));return P(c.FormSection,{className:O.default.hiddenLibraryApplications},void 0,P(c.FormTitle,{className:O.default.hiddenLibraryApplicationsTitle
},void 0,S.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),r)}M.displayName="HiddenLibraryApplications";var N=P(g.default,{}),R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleRestoreHiddenLibraryApplication=function(e){var n=h.toggleFlag(e.getFlags(),E.LibraryApplicationFlags.HIDDEN);i.updateFlags(e.id,e.branchId,n);t.trackRestoreApplication(e,h.hasFlag(n,E.LibraryApplicationFlags.HIDDEN))};return t}var n=t.prototype;n.handleToggleShortcutDesktop=function(e){u.InstallShortcutDesktop.updateSetting(e)};n.handleToggleShortcutStartMenu=function(e){u.InstallShortcutStartMenu.updateSetting(e)};n.trackRestoreApplication=function(e,t){y.default.track(E.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,T({hidden_enabled:t},e.getAnalyticsData()))};n.renderBody=function(){
var e=this.props,t=e.hiddenLibraryApplicationViewItems,n=e.installShortcutDesktop,r=e.installShortcutStartMenu;return P("div",{className:O.default.body},void 0,(0,m.isSupportedPlatform)()?P(a.Fragment,{},void 0,P(f.default,{value:n,onChange:this.handleToggleShortcutDesktop,note:S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),P(f.default,{value:r,onChange:this.handleToggleShortcutStartMenu,note:S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),N):null,P(M,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:t}))};n.render=function(){return a.createElement(a.Fragment,null,P(_.default,{currentRoute:E.Routes.APPLICATION_LIBRARY_SETTINGS}),P(v.ScrollerAuto,{className:O.default.scroller},void 0,this.renderBody()))};return t}(a.PureComponent);R.displayName="GameLibrarySettings";function w(){var e={
installShortcutDesktop:u.InstallShortcutDesktop.useSetting(),installShortcutStartMenu:u.InstallShortcutStartMenu.useSetting(),hiddenLibraryApplicationViewItems:(0,o.useStateFromStores)([l.default],(function(){return l.default.hiddenLibraryApplicationViewItems}))};return a.createElement(R,e)}w.displayName="ConnectedGameLibrarySettings"},845905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=X;var r,a,o=k(n(667294)),i=L(n(294184)),u=n(473727),l=n(536211),s=n(91817),d=L(n(636602)),f=n(378158),c=k(n(785460)),p=L(n(25952)),v=L(n(758269)),y=L(n(191013)),h=L(n(37679)),m=L(n(956117)),_=L(n(530250)),g=L(n(562475)),E=L(n(73393)),S=L(n(425991)),O=L(n(730977)),b=L(n(420303)),I=L(n(41024)),C=L(n(330998)),T=k(n(308920)),A=n(811076),P=n(8916),M=L(n(949294)),N=n(770348),R=L(n(247001)),w=L(n(312935)),D=["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"];function L(e){return e&&e.__esModule?e:{default:e}}
function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,u,"next",e)}function u(e){F(o,r,a,i,u,"throw",e)}i(void 0)}))}}function B(e,t){B=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return B(e,t)}function V(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(){W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return W.apply(this,arguments)}var H=(0,P.cssValueToNumber)(w.default.rowMinHeight),z=(0,P.cssValueToNumber)(w.default.linkedToGlowDuration),Y=Object.freeze(((r={})[N.GameTableListKeys.PLATFORM]="Platform",r[N.GameTableListKeys.LAST_PLAYED]="Last Played",r[N.GameTableListKeys.NAME]="Name",r));var K=function(e){var t=e.flag,n=e.icon,r=e.item,a=e.tooltip,u=r.libraryApplication.hasFlag(t);return V(O.default,{text:a},void 0,(function(e){var t;return o.createElement(n,W({className:(0,
i.default)(w.default.settingIcon,(t={},t[w.default.hidden]=!u,t))},e))}))};K.displayName="FlagIcon";var $=[{key:N.GameTableListKeys.NAME,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:w.default.nameCell,bodyCellClassName:w.default.nameBodyCell,render:function(e){return V(_.default,{align:_.default.Align.CENTER},void 0,V(g.default,{game:e.application,size:g.default.Sizes.SMALL,className:w.default.gameIcon}),V("div",{className:w.default.nameCellInfo},void 0,V("div",{className:w.default.nameCellText},void 0,e.libraryApplication.getBranchedName(e.application)),e.libraryApplication.hasFlag(N.LibraryApplicationFlags.PREMIUM)?V(O.default,{text:R.default.Messages.PREMIUM_GAME},void 0,(function(e){return o.createElement(I.default,W({className:w.default.nitroIcon},e))})):null))}},{key:N.GameTableListKeys.PLATFORM,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,
cellClassName:w.default.platformCell,bodyCellClassName:w.default.textCell,render:function(e){var t=e.libraryApplication.getDistributor();return V(_.default,{align:_.default.Align.CENTER},void 0,null!=t?N.DistributorNames[t]:R.default.Messages.GAME_LIBRARY_NOT_APPLICABLE)}},{key:N.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:w.default.lastPlayedCell,bodyCellClassName:w.default.textCell,render:function(e){var t,n;n=e.isRunning?R.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?R.default.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?V(E.default,{end:e.lastPlayed,location:E.default.Locations.GAME_LIBRARY_LAST_PLAYED}):R.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE;return V(_.default,{align:_.default.Align.CENTER,className:(0,i.default)((t={},t[w.default.lastPlayedCellNew]=e.isNew,t))},void 0,n)}},{key:N.GameTableListKeys.ACTIONS,renderHeader:function(){return null},
cellClassName:w.default.actionsCell,render:function(e,t,n){var r;if(null==t)throw new Error("No cell props defined.");var a,u,l=e.key===t.activeRowKey;return V(o.Fragment,{},void 0,V("div",{className:w.default.settingIcons},void 0,V(K,{flag:N.LibraryApplicationFlags.PRIVATE,item:e,icon:b.default,tooltip:R.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),V(K,{flag:N.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,icon:C.default,tooltip:R.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),V(M.default,{className:(0,i.default)(w.default.settingIcon,(r={},r[w.default.hidden]=!e.supportsCloudSync,r)),libraryApplication:e.libraryApplication})),(0,A.isUserEntitledToLibraryApplication)(e.libraryApplication)?V(v.default,{analyticsListSort:(a=t.sortKey,u=t.sortDirection,Y[a]+" "+(u===N.TableSortDirections.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:N.AnalyticsLocations.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,
color:l?m.default.Colors.GREEN:m.default.Colors.PRIMARY,isPlayShiny:l&&e.defaultAction===N.LibraryApplicationActions.PLAY,size:w.default.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}):V(p.default,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:l?m.default.Colors.GREEN:m.default.Colors.PRIMARY,customDisabledColor:m.default.Colors.PRIMARY,size:w.default.actionButtonSize}))}}],q=function(e){var t,n=e.item,r=e.activeRowKey,a=e.highlightedApplicationKey,u=e.onMouseEnter,l=e.onMouseLeave,s=e.onContextMenu,d=e.setRef,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,D),c=n.key===r,p=n.key===a;return o.createElement("div",{className:(0,i.default)((t={},t[w.default.rowWrapperActive]=c&&!p,t[w.default.rowWrapperGlow]=p,t[w.default.rowWrapper]=!c&&!p,
t[w.default.rowWrapperDim]=!c&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}((function(e){return d(e,n.key)})),onMouseEnter:function(){return u(n)},onMouseLeave:l,onContextMenu:function(e){return s(e,n)}},o.createElement("div",f))};q.displayName="Row";var Z=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;B(e,t)}(t,e);function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];(t=e.call.apply(e,[this].concat(a))||this)._didUnmount=!1;t._rowRefs={};t.state={overflowMenuRowKey:null,highlightedApplicationKey:null!=t.props.location.state?t.props.location.state.applicationId:null};t.setActiveRowKey=function(e){t.setState({overflowMenuRowKey:e.key})};t.clearActiveRowKey=function(){t._didUnmount||t.setState({overflowMenuRowKey:null})};t.handleRowMouseEnter=function(e){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(e.key)}
;t.handleRowMouseLeave=function(){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(null)};t.setRowRef=function(e,n){t._rowRefs[n]=e};t.handleApplicationContextMenu=function(e,r){t.setActiveRowKey(r);var a=t.props.analyticsContext;(0,f.openContextMenuLazy)(e,x(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:t=e.sent;i=t.default;return e.abrupt("return",(function(e){return o.createElement(i,W({},e,{applicationId:r.libraryApplication.id,branchId:r.libraryApplication.branchId,analyticsContext:a}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:t.clearActiveRowKey})};return t}var r=t.prototype;r.componentDidMount=function(){if(this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}};r.componentWillUnmount=function(){this._didUnmount=!0};r.componentDidUpdate=function(e){if(!e.fetched&&this.props.fetched){
this.handleHighlightedApplicationKey();this.trackViewed()}var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];if(null!=n){d.default.wait(f.closeContextMenu);this.props.scrollToRow(n,H)}}};r.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;if(null!=t&&null!=this._rowRefs[t]){this.props.scrollToRow(this._rowRefs[t],H);(new s.Timeout).start(z,(function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))}};r.trackViewed=function(){for(var e,t={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},n=this.props,r=n.analyticsContext,a=U(n.applicationViewItems);!(e=a()).done;){switch(e.value.libraryApplication.getDistributor()){case N.Distributors.DISCORD:t.num_applications_discord++;break
;case N.Distributors.STEAM:t.num_applications_steam++;break;case N.Distributors.BATTLENET:t.num_applications_battlenet++;break;case N.Distributors.TWITCH:t.num_applications_twitch++;break;case N.Distributors.UPLAY:t.num_applications_uplay++;break;case N.Distributors.ORIGIN:t.num_applications_origin++;break;case N.Distributors.GOG:t.num_applications_gog++;break;case N.Distributors.EPIC:t.num_applications_epic++}t.num_applications_total++}T.default.track(N.AnalyticEvents.LIBRARY_VIEWED,W({},t,{load_id:r.loadId}))};r.handleSort=function(e,t){c.sortList(e,t)};r.renderImportHelp=function(){var e,t=this.props,n=t.applicationViewItems,r=t.filterQuery,a=n.length>0;if(a)return null;e=""!==r?R.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:r}):R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT;return V("div",{className:a?w.default.emptyStateSmall:w.default.emptyStateLarge},void 0,V("div",{className:w.default.emptyWumpus}),V(_.default,{grow:0,
shrink:a?1:0,direction:_.default.Direction.VERTICAL},void 0,V("div",{className:w.default.emptyStateText},void 0,V("h5",{className:w.default.emptyStateHeader},void 0,R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),V("div",{className:w.default.emptyStateDescription},void 0,e))))};r.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,r=e.applicationViewItems,a=e.activeRowKey,i=e.stickyHeader,u=this.state,l=u.overflowMenuRowKey,s=u.highlightedApplicationKey;return V(o.Fragment,{},void 0,r.length>0?V(S.default,{columns:$,data:r,sortData:!1,rowComponent:q,className:w.default.table,headerClassName:i?w.default.stickyHeader:w.default.header,headerCellClassName:w.default.headerCell,sortedHeaderCellClassName:w.default.headerCellSorted,bodyCellClassName:w.default.bodyCell,rowClassName:w.default.row,sortKey:t,sortDirection:n,stickyHeader:i,rowProps:{activeRowKey:null!=l?l:a,highlightedApplicationKey:s,onMouseEnter:this.handleRowMouseEnter,
onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=l?l:a,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp())};return t}(o.PureComponent);Z.displayName="GameList";Z.defaultProps={stickyHeader:!1};function X(e){var t=o.useContext(T.AnalyticsContext),n=(0,u.useLocation)(),r=(0,l.useStateFromStoresObject)([y.default],(function(){return{applicationViewItems:y.default.sortedFilteredLibraryApplicationViewItems,filterQuery:y.default.applicationFilterQuery,fetched:y.default.hasFetchedApplications}})),a=r.applicationViewItems,i=r.filterQuery,s=r.fetched,d=(0,l.useStateFromStoresObject)([h.default],(function(){return{sortKey:h.default.sortKey,sortDirection:h.default.sortDirection,activeRowKey:h.default.activeRowKey,
isNavigatingByKeyboard:h.default.isNavigatingByKeyboard}})),f=d.sortKey,c=d.sortDirection,p=d.activeRowKey,v=d.isNavigatingByKeyboard;return o.createElement(Z,W({},e,{analyticsContext:t,location:n,applicationViewItems:a,filterQuery:i,fetched:s,sortKey:f,sortDirection:c,activeRowKey:p,isNavigatingByKeyboard:v}))}X.displayName="ConnectedGameList"},46059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(530250)),u=f(n(409236)),l=f(n(872705)),s=f(n(247001)),d=f(n(997050))
;function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(e){return e>1e3?s.default.Messages.FILE_RATE_MB.format({size:Math.round(e/1e3)}):s.default.Messages.FILE_RATE_KB.format({size:Math.round(e)})}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderBody=function(e,n,r){var a=t.props,l=a.title,s=a.className,f=a.color,c=a.animate,v=a.gradientStopColor;return p("div",{className:(0,o.default)(d.default.monitor,s)},void 0,p(i.default,{align:i.default.Align.CENTER},void 0,p(i.default,{className:d.default.text,direction:i.default.Direction.VERTICAL},void 0,p("div",{className:d.default.title},void 0,l),p("div",{className:d.default.rate},void 0,y(e[e.length-1]/n*1e3))),p("div",{className:d.default.overflowContainer},void 0,p(u.default,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:d.default.sparkChart,updateInterval:n,color:f,gradientStopColor:v,numUpdatesToShow:r,animate:c,pixelWidth:600,pixelHeight:48,lineWidth:4}))))};return t}t.prototype.render=function(){return p(l.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)};return t}(a.PureComponent)
;h.displayName="GameUpdateActivityMonitor";var m=h;t.default=m},351345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l=z(n(667294)),s=W(n(294184)),d=W(n(496486)),f=W(n(536211)),c=W(n(636602)),p=z(n(378158)),v=z(n(27555)),y=W(n(758269)),h=W(n(257175)),m=W(n(864345)),_=W(n(288356)),g=W(n(191839)),E=W(n(871778)),S=W(n(432310)),O=W(n(693399)),b=W(n(949898)),I=W(n(956117)),C=W(n(530250)),T=W(n(562475)),A=n(73393),P=W(n(791931)),M=W(n(961664)),N=W(n(425991)),R=W(n(730977)),w=W(n(495526)),D=W(n(259530)),L=W(n(339759)),j=W(n(118138)),k=n(771855),U=z(n(811076)),G=W(n(872705)),F=W(n(46059)),x=n(770348),B=W(n(247001)),V=W(n(118343));function W(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Y(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Z(e,t)}function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}function X(){X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return X.apply(this,arguments)}function Q(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,u,"next",e)}function u(e){Q(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ee(e,t,n,r){
u||(u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:u,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te=function(e){var t=e.className,n=e.children,r=e.onContextMenu,a=e.item;return ee("div",{className:t,onContextMenu:function(e){return r(e,a)}},void 0,n)};te.displayName="Row";var ne=[x.Colors.LINK,"var(--interactive-normal)"],re=function(e){var t=e.tooltip,n=e.onClick,r=e.icon;return ee(R.default,{text:t},void 0,(function(e){var a=e.onMouseEnter,o=e.onMouseLeave;return ee(I.default,{"aria-label":t,className:V.default.actionButton,innerClassName:V.default.actionButtonContents,color:I.default.Colors.PRIMARY,size:I.default.Sizes.ICON,onClick:n,onMouseEnter:a,onMouseLeave:o
},void 0,ee(r,{className:V.default.actionIcon}))}))};re.displayName="ActionButton";function ae(e,t){switch(t){case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case x.DispatchApplicationStages.PLANNING:case x.DispatchApplicationStages.FINALIZING:case x.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,k.formatSize)(e,{useKibibytes:!0})}}var oe=((i={})[x.LocalDispatchApplicationStates.INSTALLING]=((r={})[A.TimeUnits.NONE]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[A.TimeUnits.SECONDS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.MINUTES]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.HOURS]=function(e,t,n,r){
return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},r),i[x.LocalDispatchApplicationStates.UPDATING]=((a={})[A.TimeUnits.NONE]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},a[A.TimeUnits.SECONDS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.MINUTES]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.HOURS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},a),i[x.LocalDispatchApplicationStates.REPAIRING]=((o={})[A.TimeUnits.NONE]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,
total:n})},o[A.TimeUnits.SECONDS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.MINUTES]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.HOURS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},o),i);function ie(e,t,n,r,a){var o=null!=e?e/60:null,i=oe[t],u=null!=i?Object.keys(i):[],l=(0,A.getTimeAndUnit)(o,u),s=l.unit,d=l.time;if(null!=i&&null!=s){var f=i[s];return null!=f?f(n,r,a,d):null}return null}function ue(e,t,n,r,a,o){var i=ae(a,t),u=ae(r,t);switch(t){case x.DispatchApplicationStages.QUEUED:return 0===r?B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:n,progress:u,
total:i});case x.DispatchApplicationStages.PLANNING:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:n});case x.DispatchApplicationStages.ALLOCATING_DISK:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:n});case x.DispatchApplicationStages.PATCHING:return ie(o,e,n,u,i);case x.DispatchApplicationStages.FINALIZING:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:n});case x.DispatchApplicationStages.PAUSING:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:n,progress:u,total:i});case x.DispatchApplicationStages.VERIFYING:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:n,progress:u,total:i});case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:n,progress:u,total:i});case x.DispatchApplicationStages.REPAIRING:
return e===x.LocalDispatchApplicationStates.REPAIRING?ie(o,e,n,u,i):B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:n,progress:u,total:i})}throw new Error("Invalid Dispatch stage")}var le="name",se="progress",de="actions",fe=function(e){q(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderProgressPatchingBody=function(e,n){var r=t.props.item.state;if(null==r)return null;var a=r.stage,o=r.progress,i=r.total,u=r.type,l=r.readerProgress;if(null==o||null==i||null==a)return null;var s=U.calculateProgressPercentage(o,i),d=U.calculateProgressPercentage(null!=l?l:0,i),f=e[e.length-1]/n*1e3,c=i-o,p=0!==f?Math.max(1,c/f):null,v=ue(u,a,Math.floor(s),o,i,p);return t.renderStackedProgress({percents:[s,d],message:v})};return t}var n=t.prototype;n.renderBody=function(e){var t=e.percent,n=e.foregroundColor,r=e.foregroundGradientColor,a=e.message;return ee(C.default,{
direction:C.default.Direction.VERTICAL},void 0,ee(P.default,{percent:t,size:P.default.Sizes.SMALL,foregroundColor:n,foregroundGradientColor:r,animate:this.isFocused}),ee("div",{className:V.default.progressCellText},void 0,null!=a?a:""))};n.renderStackedProgress=function(e){var t=e.percents,n=e.message;return ee(C.default,{direction:C.default.Direction.VERTICAL},void 0,ee(M.default,{percents:t,size:P.default.Sizes.SMALL,foregroundColors:ne,animate:this.isFocused}),ee("div",{className:V.default.progressCellText},void 0,null!=n?n:""))};n.renderFinished=function(){var e=this.props.item;return this.renderBody({message:B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return v.removeFinished(e.applicationId,e.branchId)}}),foregroundColor:e.theme===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:100})};n.renderQueued=function(){var e,t,n=this.props.item,r=n.state,a=n.theme;if(null!=r){var o=r.progress,i=r.total,u=r.stage
;if(null!=o&&null!=i){var l=ae(i,u),s=ae(o,u);t=U.calculateProgressPercentage(o,i);var d=Math.floor(t);e=u===x.DispatchApplicationStages.PAUSING?B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:d,progress:s,total:l}):B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:d,progress:s,total:l})}}if(null==t||null==e){t=0;e=B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION}return this.renderBody({percent:t,foregroundColor:a===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,message:e})};n.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,a=t.total;if(null==r||null==a)return null;var o=U.calculateProgressPercentage(r,a),i=Math.floor(o),u=0===r&&1===a?B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:i,progress:(0,k.formatSize)(r),total:(0,k.formatSize)(a)})
;return this.renderBody({message:u,foregroundColor:n===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:o})};n.renderProgressPatching=function(){return ee(G.default,{getHistoricalTotalBytes:S.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)};n.renderProgressDefault=function(){var e=this.props.item.state;if(null==e)return null;var t=e.total,n=e.progress,r=e.stage,a=e.type;if(null==t||null==n||null==r)return null;var o=U.calculateProgressPercentage(n,t),i=Math.floor(o);return this.renderBody({percent:o,message:ue(a,r,i,n,t),foregroundColor:x.Colors.LINK})};n.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){case x.DispatchApplicationStages.PATCHING:case x.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}};n.render=function(){var e=this.props,t=e.item,n=e.cellProps
;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==x.LocalDispatchApplicationStates.UPDATING&&t.state.type!==x.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==x.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()};!function(e,t,n){t&&$(e.prototype,t);n&&$(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]);return t}(l.PureComponent);fe.displayName="ProgressCell";var ce=function(){return ee(re,{icon:j.default,tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){return v.resume()}})};ce.displayName="ResumeButton";var pe=function(){return ee(re,{icon:L.default,tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return v.pause()}})};pe.displayName="PauseButton";var ve=function(e){var t=e.item;return ee(re,{icon:w.default,
tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return v.moveUp(t.applicationId,t.branchId)}})};ve.displayName="MoveUpButton";var ye=function(e){var t=e.item;return ee(re,{icon:D.default,tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return v.cancel(t.applicationId,t.branchId)}})};ye.displayName="CancelButton";var he=ee(ce,{}),me=[{key:le,cellClassName:V.default.nameCell,render:function(e){return ee(C.default,{align:C.default.Align.CENTER},void 0,ee(T.default,{game:e.application,className:V.default.gameIcon,size:T.default.Sizes.SMALL}),ee("div",{className:V.default.nameCellText},void 0,e.application.name))}},{key:se,cellClassName:V.default.progressCell,headerCellClassName:V.default.progressCellHeader,bodyCellClassName:V.default.progressCellBody,render:function(e,t){return ee(fe,{item:e,cellProps:t})}},{key:de,cellClassName:V.default.actionsCell,render:function(e,t){var n,r
;if(e.finished)n=null!=e.libraryApplication?ee(y.default,{libraryApplication:e.libraryApplication,size:I.default.Sizes.SMALL,className:V.default.gameActionButton,source:x.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null;else if(null!=e.state){if(e.state.type!==x.LocalDispatchApplicationStates.UP_TO_DATE){n=e.index>0?ee(ve,{item:e}):null!=t&&t.paused?he:ee(pe,{item:e});r=ee(ye,{item:e})}}else r=ee(ye,{item:e});return ee(C.default,{justify:C.default.Justify.END},void 0,n,r)}}],_e=function(e){q(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isUnmounted=!1;t.isTallerThanHalfViewport=!1;t.throttledUpdateHeight=d.default.throttle((function(){if(!t.isUnmounted){var e=t.props,n=e.height,r=e.onHeightTallerThanHalfViewportChange,a=n>window.innerHeight/2;if(t.isTallerThanHalfViewport!==a){t.isTallerThanHalfViewport=a;r(a)}}}),1e3);return t}var r=t.prototype;r.componentDidMount=function(){
window.addEventListener("resize",this.throttledUpdateHeight)};r.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()};r.componentWillUnmount=function(){this.props.applications.forEach((function(e){e.finished&&c.default.wait((function(){v.removeFinished(e.applicationId,e.branchId)}))}));window.removeEventListener("resize",this.throttledUpdateHeight);this.isUnmounted=!0};r.render=function(){var e=this.props,t=e.applications,r=e.paused,a=e.isFocused,o=e.theme,i=e.analyticsContext;return 0===t.length?null:ee("div",{className:V.default.gameUpdates},void 0,ee("div",{className:V.default.headerRow},void 0,ee(F.default,{className:(0,s.default)(V.default.headerCell,V.default.networkProgress),title:B.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:S.default.getHistoricalTotalBytesDownloaded,color:x.Colors.STATUS_GREEN_600,animate:a}),ee(F.default,{className:(0,s.default)(V.default.headerCell,V.default.diskProgress),
title:B.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:S.default.getHistoricalTotalBytesWritten,color:x.Colors.LINK,animate:a})),ee(N.default,{hasHeader:!1,columns:me,data:t,className:V.default.table,rowClassName:V.default.row,rowComponent:te,cellProps:{paused:r,isFocused:a,theme:o},rowProps:{onContextMenu:function(e,t){return function(e,t,r){p.openContextMenuLazy(e,J(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return l.createElement(o,X({},e,{applicationId:t.applicationId,branchId:t.branchId,analyticsContext:r}))}));case 5:case"end":return e.stop()}}),e)}))))}(e,t,i)}},bodyCellClassName:V.default.cell}))};return t}(l.PureComponent);_e.displayName="GameUpdates";function ge(e,t,n,r){return e.reduce((function(e,a,o){
var i=a.applicationId,u=a.branchId,l=n.getGame(i),s=r.getState(i,u);null!=l&&e.push({key:i+":"+u,applicationId:i,branchId:u,state:s,application:l,libraryApplication:g.default.getLibraryApplication(i,u),finished:t,index:o});return e}),[])}var Ee=(0,m.default)(f.default.connectStores([O.default,E.default,b.default,_.default,S.default],(function(){var e=ge(O.default.activeItems,!1,_.default,S.default),t=ge(O.default.finishedItems,!0,_.default,S.default);return{applications:[].concat(Y(e),Y(t)),paused:O.default.paused,isFocused:b.default.isFocused(),theme:E.default.theme}}))((0,h.default)(_e)));t.default=Ee},168558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.openIAPPurchaseModal=function(e,t,n,a,c){var p;p=null==s.default.get(t)?o.fetchSKU(e,t):Promise.resolve();return p.then((function(){var e=s.default.get(t),a=u.default.getCurrentUser();if(null!=e&&e.premium)return d.default.canInstallPremiumApplications(a)?y(e,c):r.openModal(c).then((function(){
return function(e,t,n,r){var a=l.default.getPremiumSubscription(),o={id:e.id,applicationId:e.applicationId};if(null!=a){var u=d.default.getClosestUpgrade(a.planId);if(null==u)return Promise.reject(new Error("Could not find premium upgrade."));var s={initialPlanId:u,followupSKUInfo:o};switch(r){case f.AppContext.APP:return i.default.openPremiumPaymentModalInApp(s);case f.AppContext.OVERLAY:return i.default.openPremiumPaymentModalInOverlay(s);default:throw new Error("Unexpected app context: "+r)}}return t()}(e,n,0,c)})).then((function(){return y(e,c)}));throw Error("Ability to purhcase SKUs through game store is sunsetted. This flow should be unreachable")}))};var r=v(n(757694)),a=n(354918),o=v(n(723420)),i=c(n(231765)),u=c(n(728429)),l=c(n(146771)),s=c(n(399561)),d=c(n(838583)),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t){var n=e.applicationId,r=e.id;return o.purchaseSKU(n,r).then((function(e){var o=e.entitlements;return(0,a.openPurchaseConfirmationModal)(n,r,o,{context:t})}))}},215850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.TestModeSKUButtonEnums=void 0;var r,a=h(n(667294)),o=v(n(536211)),i=h(n(378158)),u=v(n(713257)),l=h(n(145122)),s=v(n(288356)),d=v(n(399561)),f=n(204785),c=v(n(247001)),p=["skus","children","applicationId","primarySKU","onSKUSelect"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E={DropdownSizes:u.default.DropdownSizes,Sizes:u.default.Sizes,Colors:u.default.Colors,Looks:u.default.Looks};t.TestModeSKUButtonEnums=E;var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderContextMenu=function(){var e=t.props,n=e.skus,r=e.onSKUSelect,a=e.onMenuSelect;return _(l.default,{onSelect:a,navId:"test-skus","aria-label":c.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:i.closeContextMenu},void 0,n.map((function(e){return _(l.MenuItem,{id:""+e.id,label:e.name,
action:function(){null==r||r(e)}})})))};t.handleContextMenu=function(e){e.stopPropagation();i.openContextMenu(e,t.renderContextMenu)};t.handleClick=function(){var e=t.props,n=e.onSKUSelect,r=e.primarySKU;null!=r&&(null==n||n(r))};return t}t.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,r=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p));return a.createElement(u.default,m({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:void 0},r),n)};return t}(a.PureComponent);S.displayName="TestModeSKUButton";var O=o.default.connectStores([d.default,s.default],(function(e){var t,n=e.applicationId,r=(0,f.getPrimarySKUForApplication)(n,s.default,d.default);return{skus:(null!==(t=d.default.getForApplication(n))&&void 0!==t?t:[]).sort((function(e,t){
return null!=r&&e.id===r.id?-1:null!=r&&t.id===r.id?1:e.name>=t.name?-1:1})),primarySKU:r}}))(S);t.default=O},629195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=oe;var r,a=q(n(667294)),o=K(n(294184)),i=K(n(496486)),u=K(n(817673)),l=n(370405),s=K(n(74854)),d=q(n(536211)),f=K(n(636602)),c=n(598319),p=n(297279),v=n(306902),y=n(328092),h=n(364060),m=n(298756),_=K(n(545721)),g=K(n(734696)),E=q(n(473124)),S=n(473250),O=K(n(768535)),b=n(376153),I=K(n(39365)),C=n(139982),T=n(887299),A=K(n(8549)),P=q(n(199846)),M=K(n(30098)),N=K(n(871778)),R=K(n(728429)),w=K(n(194198)),D=K(n(956117)),L=K(n(80828)),j=K(n(971639)),k=K(n(776360)),U=n(235742),G=q(n(465537)),F=K(n(651386)),x=n(263996),B=n(770348),V=n(227445),W=K(n(247001)),H=K(n(599884)),z=K(n(80210)),Y=K(n(333993));function K(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return($=function(e){return e?n:t})(e)}function q(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=$(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function X(){X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return X.apply(this,arguments)}function Q(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,u,"next",e)}function u(e){Q(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ee(e,t){ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ee(e,t)}var te=Z(L.default,{}),ne=Z(l.Helmet,{title:"Discord"}),re=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ee(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scroller=a.createRef();t._guildIdsSeen=new Set;t.loadId=(0,h.makeAnalyticsID)();t.state={animatedValue:new s.default.Value(0),loadingGuildId:null};t.scrollToTop=function(){
null!=t._scroller.current&&t._scroller.current.scrollTo({to:0})};t.handleScroll=function(){var e,n,r=t.state.animatedValue,a=null!==(e=null===(n=t._scroller.current)||void 0===n?void 0:n.getScrollerState().scrollTop)&&void 0!==e?e:0;r.setValue(Math.min(1,a/200))};t.handleViewGuild=function(){var e=J(regeneratorRuntime.mark((function e(n,r,a,o){var i,u,l,s,d,f,c,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.props.currentCategoryId;s=t.state.loadingGuildId;if(n!==s){e.next=4;break}return e.abrupt("return");case 4:d=null!==(i=null===(u=t._scroller.current)||void 0===u?void 0:u.getScrollerState().scrollTop)&&void 0!==i?i:0;f=(0,C.getHistory)(),c=f.location;(0,C.replaceWith)(X({},c,{state:d}));t.setState({loadingGuildId:n});p=l!==V.DISCOVERY_ALL_CATEGORIES_ID?l:null;e.prev=9;e.next=12;return G.viewGuild(null!=o?o:t.loadId,n,r,a,p);case 12:e.next=17;break;case 14:e.prev=14;e.t0=e.catch(9);t.setState({loadingGuildId:null});case 17:case"end":
return e.stop()}}),e,null,[[9,14]])})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.handleGuildCardSeen=function(e){t._guildIdsSeen.add(e)};t.handleTagSearch=function(e,n,r){var a=t.props,o=a.currentCategoryId,i=a.defaultLanguage;if(null!=o){(0,c.getSearchResultsCount)(e);(0,c.doAlgoliaSearch)(e,{categoryId:o,preferredLocale:i.code,offset:0,length:E.MAX_GUILDS_PER_PAGE,filters:{approximate_member_count:G.MINIMUM_MEMBER_COUNT},tag:!0});G.trackTagSearchStarted(t.loadId,o,r,n);t.scrollToTop()}};return t}var n=t.prototype;n.componentDidMount=function(){var e,t,n=this.props,r=n.isFetching,a=n.guilds,o=a.gamesYouPlay,i=a.featured,l=n.searchRoute,s=n.currentCategoryId,d=n.currentHomepageCategoryId,y=n.mostRecentQuery,h=n.usingGameRecommendations,_=n.fetchingRecommendations;(0,p.fetchActivityStatistics)();(0,m.maybeFetchGuildDiscoveryCategories)();null==P.default.getSearchIndex()&&(0,c.createAlgoliaIndex)();f.default.wait((function(){(0,
v.markView)(B.ViewHistoryKeys.SERVER_DISCOVERY_BADGE)}));var g=s===V.DISCOVERY_ALL_CATEGORIES_ID;g&&!_&&(0,S.fetchGuildRecommendations)({personalization_disabled:!h});r||0!==y.length||g||G.trackDiscoveryViewed(this.loadId,o.guilds,i.guilds,d);if(null!=l){var E=u.default.parse(l),O=E.query,b=E.offset,I=E.limit,A=E.preferredLocale,M=E.categoryId;(0,c.doAlgoliaSearch)(O,{categoryId:parseInt(M,10),preferredLocale:A,offset:parseInt(b,10),filters:{approximate_member_count:G.MINIMUM_MEMBER_COUNT},length:parseInt(I,10)})}else null!=d&&d!==V.DISCOVERY_ALL_CATEGORIES_ID&&f.default.wait((function(){return(0,c.selectCategory)(d)}));var N=null!==(e=null===(t=(0,C.getHistory)().location.state)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0;if(N>0){var R;null===(R=this._scroller.current)||void 0===R||R.scrollTo({to:N})}(0,T.trackAppUIViewed)("guild_discovery")};n.componentDidUpdate=function(e){
var t=this.props,n=t.guilds,r=n.gamesYouPlay,a=n.featured,o=t.isFetching,i=t.mostRecentQuery,u=t.currentHomepageCategoryId,l=t.currentCategoryId,s=t.usingGameRecommendations,d=t.fetchingRecommendations,f=t.recommendationsGuilds,p=t.recommendationsLoadId;e.currentCategoryId===l||l!==V.DISCOVERY_ALL_CATEGORIES_ID||d||(0,S.fetchGuildRecommendations)({personalization_disabled:!s});var v=l===V.DISCOVERY_ALL_CATEGORIES_ID;!e.isFetching||o||v||G.trackDiscoveryViewed(this.loadId,r.guilds,a.guilds,u);if(e.currentCategoryId!==l){var y;null===(y=this._scroller.current)||void 0===y||y.scrollTo({to:0})}if(null!=p&&null!=f){e.fetchingRecommendations&&!d&&l===V.DISCOVERY_ALL_CATEGORIES_ID&&G.trackDiscoveryViewed(p,f,[],V.DISCOVERY_ALL_CATEGORIES_ID,V.RecommendationSources.SERVER_RECOMMENDATIONS)
;e.currentCategoryId!==l&&(l===V.DISCOVERY_ALL_CATEGORIES_ID?G.trackDiscoveryViewed(p,f,[],V.DISCOVERY_ALL_CATEGORIES_ID,V.RecommendationSources.SERVER_RECOMMENDATIONS):G.trackDiscoveryExited(p,this.getOrderedGuildIdsSeen(f.map((function(e){return e.id}))),V.RecommendationSources.SERVER_RECOMMENDATIONS))}e.mostRecentQuery.length>0&&i.length<1&&u!==l&&(0,c.selectCategory)(u)};n.componentWillUnmount=function(){var e=this.props,t=e.currentCategoryId,n=e.recommendationsLoadId,r=e.recommendationsGuilds;t===V.DISCOVERY_ALL_CATEGORIES_ID?null!=r&&null!=n&&G.trackDiscoveryExited(n,this.getOrderedGuildIdsSeen(r.map((function(e){return e.id}))),"Game Recommendations"):G.trackDiscoveryExited(this.loadId,Array.from(this._guildIdsSeen))};n.getOrderedGuildIdsSeen=function(e){var t=this;return e.filter((function(e){return t._guildIdsSeen.has(e)}))};n.renderGamesYouPlay=function(){
var e=this.props,t=e.guilds,n=e.mightHaveGamesYouPlay,r=e.theme,a=e.userGuilds,o=Object.keys(a),i=t[B.GuildDiscoverySections.GAMES_YOU_PLAY];i.guilds=i.guilds.filter((function(e){return!o.includes(e.id)}));var u=this.state.loadingGuildId;return n?Z(g.default,{loadId:this.loadId,title:W.default.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guildsData:i,loadingGuildId:u,analyticsContext:G.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:c.fetchGamesYouPlayGuilds,theme:r}):null};n.renderSearchBar=function(){var e,t,n=this.props,r=n.mostRecentQuery,a=n.guilds.search,o=n.defaultLanguage,i=n.isFetchingSearch,u=n.currentCategoryId,l=n.categories,s=n.currentCategoryName;y.DiscoveryTagsExperiment.trackExposure({})
;var d=y.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags?u===V.DISCOVERY_ALL_CATEGORIES_ID?W.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER_TAGS:W.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER_TAGS.format({categoryName:s}):u===V.DISCOVERY_ALL_CATEGORIES_ID?W.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:W.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:s}),f=null!==(e=null===(t=a[r])||void 0===t?void 0:t[u])&&void 0!==e?e:P.EMPTY_DISCOVERABLE_GUILDS_SECTION;return Z(F.default,{loadId:this.loadId,searchResults:f,mostRecentQuery:r,isFetchingSearch:i,defaultLanguage:o,placeholder:d,currentCategoryId:u,categories:l})};n.renderSearchResults=function(){
var e,t,n=this,r=this.props,a=r.mostRecentQuery,o=r.guilds.search,i=r.availableLanguages,u=r.defaultLanguage,l=r.isFetchingSearch,s=r.theme,d=r.currentCategoryId,f=r.currentCategoryName,c=this.state.loadingGuildId,p=d===V.DISCOVERY_ALL_CATEGORIES_ID?W.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:W.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:f}),v=null!==(e=null===(t=o[a])||void 0===t?void 0:t[d])&&void 0!==e?e:P.EMPTY_DISCOVERABLE_GUILDS_SECTION;return Z(E.default,{loadId:this.loadId,availableLanguages:i,defaultLanguage:u,placeholder:p,isFetchingSearch:l,searchResults:v,mostRecentQuery:a,loadingGuildId:c,currentCategoryId:d,currentCategoryName:f,scroller:this._scroller.current,theme:s,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,onTagClick:function(e,t){return n.handleTagSearch(e,t,G.AnalyticsContexts.SEARCH)}})};n.renderRecommendedGuildsSection=function(){
var e,t,n=this,r=this.props,a=r.theme,o=r.usingGameRecommendations,i=r.recommendationsGuilds,u=r.recommendationsLoadId;if(null==u||null==i)return te;var l={guilds:i,total:i.length,offset:0,limit:i.length,loading:!1,isFirstLoad:!1},s=null!==(e=null===(t=R.default.getCurrentUser())||void 0===t?void 0:t.username)&&void 0!==e?e:W.default.Messages.FRIENDS_COLUMN_NAME;return Z(g.default,{loadId:u,title:o?W.default.Messages.GUILD_DISCOVERY_RECOMMENDATIONS_TITLE.format({username:s}):W.default.Messages.GUILD_DISCOVERY_FEATURED_HEADER,guildsData:l,analyticsContext:G.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){},loadingGuildId:null,theme:a,onTagClick:function(e,t){return n.handleTagSearch(e,t,G.AnalyticsContexts.RECOMMENDED)},showMoreCards:!0})};n.renderPopularGuildsSection=function(){var e=this,t=this.props,n=t.guilds,r=t.theme,a=t.currentCategoryId,o=this.state.loadingGuildId;return Z(g.default,{
loadId:this.loadId,title:W.default.Messages.GUILD_DISCOVERY_POPULAR_HEADER,guildsData:n[a],loadingGuildId:o,analyticsContext:G.AnalyticsContexts.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,c.fetchPopularGuildsForCategory)(a)},currentCategoryId:a,theme:r,onTagClick:function(t,n){return e.handleTagSearch(t,n,G.AnalyticsContexts.POPULAR)}})};n.render=function(){var e,t,n,r,u=this,l=this.props,s=l.currentCategoryName,d=l.mostRecentQuery,f=l.currentCategoryId,c=l.guilds,p=d.length>0;y.DiscoveryTagsExperiment.trackExposure({});var v=y.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags,h=f===V.DISCOVERY_ALL_CATEGORIES_ID?null===(e=c[B.GuildDiscoverySections.FEATURED])||void 0===e?void 0:e.guilds:null===(t=c[f])||void 0===t?void 0:t.guilds;return f===V.DISCORD_HUB_ID?Z(I.default,{loadId:this.loadId}):Z("div",{className:H.default.pageWrapper},void 0,ne,Z("div",{className:(0,
o.default)(H.default.dragRegion,H.default.pageHeaderDrag,(n={},n[H.default.searchPageDrag]=p,n))}),a.createElement(U.AdvancedScrollerAuto,{className:H.default.scroller,ref:this._scroller,onScroll:this.handleScroll},Z("div",{className:(0,o.default)(H.default.viewWrapper,(r={},r[H.default.searchPage]=p,r))},void 0,p?this.renderSearchResults():a.createElement(a.Fragment,null,Z("div",{className:H.default.searchHeader},void 0,Z("img",{alt:"",className:H.default.headerImage,src:Y.default}),Z("div",{className:H.default.headerContentWrapper},void 0,Z("div",{className:H.default.headerContent},void 0,Z(j.default,{size:j.default.Sizes.SIZE_24,className:H.default.searchTitle},void 0,f===V.DISCOVERY_ALL_CATEGORIES_ID?W.default.Messages.GUILD_DISCOVERY_HOME_TITLE:W.default.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:s})),Z(k.default,{size:k.default.Sizes.SIZE_16,className:H.default.searchSubtitle
},void 0,f===V.DISCOVERY_ALL_CATEGORIES_ID&&W.default.Messages.GUILD_DISCOVERY_HOME_SUBTITLE),this.renderSearchBar(),v&&Z(x.DiscoveryTags,{hideOverflow:!0,section:G.AnalyticsContexts.HEADER,className:H.default.headerTagContainer,discoveryTagStyle:x.DiscoveryTagStyle.LIGHT,onTagClick:function(e){return u.handleTagSearch(e,void 0,G.AnalyticsContexts.HEADER)},tags:i.default.chain(h).flatMap((function(e){return e.keywords})).compact().uniq().sampleSize(10).value()})))),Z("div",{className:H.default.featuredBody},void 0,f===V.DISCOVERY_ALL_CATEGORIES_ID?this.renderRecommendedGuildsSection():this.renderPopularGuildsSection()),Z("div",{className:H.default.footer},void 0,Z("img",{alt:"",src:z.default,className:H.default.footerImage}),Z(j.default,{size:j.default.Sizes.SIZE_16},void 0,W.default.Messages.GUILD_DISCOVERY_CATEGORY_FOOTER_TITLE),Z(D.default,{look:D.default.Looks.LINK,color:D.default.Colors.LINK,size:D.default.Sizes.MIN,onClick:this.scrollToTop
},void 0,W.default.Messages.GUILD_DISCOVERY_FOOTER_BODY))))))};return t}(a.PureComponent);re.displayName="GuildDiscovery";var ae=d.default.connectStores([N.default,w.default,A.default,P.default,_.default,M.default],(function(){var e,t=V.LANGUAGE_OPTIONS,n=N.default.locale,r=null!==(e=i.default.find(t,{code:n}))&&void 0!==e?e:t[0],a=w.default.applicationStatistics,o=Object.keys(a),u=A.default.hasConsented(B.Consents.PERSONALIZATION)&&o.length>0,l=P.default.getCurrentCategoryId(),s=P.default.getCurrentHomepageCategoryId();return{isFetching:P.default.isFetching(),isFetchingSearch:P.default.isFetchingSearch(),guilds:P.default.getDiscoverableGuilds(),mostRecentQuery:P.default.getMostRecentQuery(),currentCategoryId:l,currentHomepageCategoryId:s,currentCategoryName:_.default.getCategoryName(l),categories:_.default.getDiscoveryCategories(),userGuilds:M.default.getGuilds(),theme:N.default.theme,mightHaveGamesYouPlay:u,availableLanguages:t,defaultLanguage:r}}))(re);function oe(e){var t=(0,
b.useEligibleForGameRecommendations)(),n=(0,d.useStateFromStoresObject)([O.default],(function(){return{recommendedGuilds:O.default.getRecommendedGuilds(),loadId:O.default.getLoadId(),fetching:O.default.isFetching()}})),r=n.fetching,o=n.loadId,i=n.recommendedGuilds;return a.createElement(ae,X({},e,{fetchingRecommendations:r,usingGameRecommendations:t,recommendationsGuilds:i,recommendationsLoadId:o}))}oe.displayName="GuildDiscoveryComponent"},869333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(598319),i=v(n(545721)),u=v(n(332743)),l=n(841354),s=v(n(666895)),d=v(n(199846)),f=v(n(582945)),c=n(227445),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var _=function(e){switch(e){case 1:
return c.CategoryIcons.Activity;case 2:return c.CategoryIcons.Music;case 3:return c.CategoryIcons.Television;case 5:return c.CategoryIcons.Science;case 6:return c.CategoryIcons.Education;default:return c.CategoryIcons.Discover}},g=function(){var e=(0,a.useStateFromStoresObject)([d.default],(function(){return{currentCategoryId:d.default.getCurrentCategoryId(),isViewingSearchResults:d.default.getMostRecentQuery().length>0}})),t=e.currentCategoryId,n=e.isViewingSearchResults,r=(0,a.useStateFromStores)([i.default],(function(){return i.default.getDiscoveryCategories()})),c=null==r?void 0:r.map((function(e){return m({},e,{icon:_(e.categoryId)})})),v=function(e){(0,o.selectCategory)(e,!0);n&&(0,o.clearSearch)()};return h(f.default,{},void 0,h(l.DiscoverySidebarHeader,{text:p.default.Messages.DISCOVER}),h(u.default,{categories:c,handleCategorySelect:v,currentCategoryId:t,shouldDisplaySelectedCategory:!n}),h(s.default,{handleCategorySelect:v,currentCategoryId:t,shouldDisplaySelectedCategory:!n
}))};g.displayName="GuildDiscoveryCategorySidebar";var E=g;t.default=E},815428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(817673)),i=n(139982),u=l(n(668281));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handlePageChange=function(e){var t=n.props.onPageChange;n.setState({currentPage:e});null!=t&&t(e)};var r=(0,i.getHistory)().location.search,a=(null!=r&&r.length>0&&r.startsWith("?")?o.default.parse(r):{}).offset,u=null!=a?Math.floor(parseInt(a,10)/t.pageSize)+1:1;n.state={currentPage:u};return n}var n=t.prototype;n.componentDidUpdate=function(e){var t=this.props.resetCurrentPage;!e.resetCurrentPage&&t&&this.setState({currentPage:1})};n.render=function(){
var e=this.props,t=e.totalCount,n=e.pageSize,r=e.maxVisiblePages,a=e.children,o=this.state.currentPage;return a({controller:d(u.default,{totalCount:t,pageSize:n,currentPage:o,maxVisiblePages:r,onPageChange:this.handlePageChange})})};return t}(a.PureComponent);c.displayName="GuildDiscoveryPaginator";var p=c;t.default=p},651386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=L;var r,a=C(n(667294)),o=b(n(294184)),i=b(n(496486)),u=n(536211),l=C(n(598319)),s=n(364060),d=b(n(545721)),f=b(n(199846)),c=b(n(16941)),p=b(n(535813)),v=n(967965),y=b(n(776360)),h=n(308920),m=n(956506),_=C(n(465537)),g=n(770348),E=n(227445),S=b(n(247001)),O=b(n(478483));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=i.default.throttle(_.trackSearchResultsViewed,1e3,{leading:!1,trailing:!0}),w=function(e){var t,n=e.isSelected,r=e.onCategoryChange,a=e.categoryId,i=e.name,u=e.count;return N(c.default,{onClick:function(){return r(a)},className:(0,o.default)(O.default.categoryPill,(t={},t[O.default.selected]=n,t))},void 0,N(y.default,{className:O.default.categoryLabel},void 0,null!=u?i+" ("+u+")":i))};w.displayName="Category";var D=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._searchRef=a.createRef();n.canSearch=function(e){return e.trim().length>=2};n.doSearch=function(e,t,r,a){var o,i=n.props,u=i.defaultLanguage,d=i.currentCategoryId,f=n.state,c=f.query,p=f.selectedLanguage;a&&l.getSearchResultsCount(c);n.setState({searchId:(0,s.makeAnalyticsID)(),queryHasChanged:!1,isSearching:!0});l.doAlgoliaSearch(c,{categoryId:null==r?d:r,
preferredLocale:null!==(o=null==p?void 0:p.code)&&void 0!==o?o:u.code,offset:e,length:t,filters:{approximate_member_count:_.MINIMUM_MEMBER_COUNT}})};n.handleSearchBlurred=function(e){var t=n.props.onSearchBlur;n.setState({inputFocused:!1});null==t||t()};n.handleSearchKeyPress=function(e){var t=n.state,r=t.query,a=t.queryHasChanged,o=n.props,i=o.loadId,u=o.currentCategoryId,l=u!==E.DISCOVERY_ALL_CATEGORIES_ID?u:null;if(n.canSearch(r)&&a&&e.charCode===g.KeyboardKeys.ENTER){_.trackSearchStarted(i,l);n.doSearch(0,12,void 0,!0)}else 0===r.length&&e.charCode===g.KeyboardKeys.ENTER&&n.setState({isSearching:!1})};n.handleQueryChanged=function(e){n.setState({query:e,queryHasChanged:!0})};n.handleQueryCleared=function(){n.setState({query:"",queryHasChanged:!0,isSearching:!1})};n.handleLanguageChange=function(e){var t=n.props,r=t.mostRecentQuery,a=t.availableLanguages,o=null==a?void 0:a.find((function(t){return t.name===e}));n.setState({selectedLanguage:o},(function(){
n.canSearch(r)&&n.doSearch(0,12)}))};n.handleCategoryChange=function(e){var t=n.props.mostRecentQuery;l.selectCategory(e);n.canSearch(t)&&n.doSearch(0,12,e)};n.handleFocus=function(){var e=n.props.onSearchFocus;n.setState({inputFocused:!0});null==e||e()};n.focusInput=function(){var e;null===(e=n._searchRef.current)||void 0===e||e.focus()};n.state={searchId:(0,s.makeAnalyticsID)(),query:t.isSearchPage?t.mostRecentQuery:"",queryHasChanged:!1,isSearching:!1,selectedLanguage:t.defaultLanguage,inputFocused:!1,isHandlingTagSearch:t.isTagSearch||!1};return n}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.loadId,n=e.searchResults,r=e.currentCategoryId,a=this.state,o=a.searchId,i=a.query,u=a.isHandlingTagSearch,s=this.context;null==f.default.getSearchIndex()&&l.createAlgoliaIndex();m.ComponentDispatch.subscribe(g.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);m.ComponentDispatch.subscribe(g.ComponentActions.TEXTAREA_FOCUS,this.focusInput);if(i.length>0){
var d=r!==E.DISCOVERY_ALL_CATEGORIES_ID?r:null;R(t,o,i,n.guilds,s,d,u)}};n.componentDidUpdate=function(e,t){var n=this.props,r=n.loadId,a=n.isFetchingSearch,o=n.searchResults,i=n.currentCategoryId,u=n.mostRecentQuery,l=this.state,d=l.isSearching,f=l.searchId,c=l.query,p=l.isHandlingTagSearch,v=this.context,y=e.isFetchingSearch&&!a,h=i!==E.DISCOVERY_ALL_CATEGORIES_ID?i:null;if((d||p)&&y){R(r,f,c,o.guilds,v,h,p);this.setState({isHandlingTagSearch:!1})}!t.isSearching&&d&&_.trackSearchStarted(r,h,v);e.mostRecentQuery!==u&&this.setState({query:u,searchId:(0,s.makeAnalyticsID)(),isHandlingTagSearch:!0})};n.componentWillUnmount=function(){m.ComponentDispatch.unsubscribe(g.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);m.ComponentDispatch.unsubscribe(g.ComponentActions.TEXTAREA_FOCUS,this.focusInput)};n.renderSearchOptions=function(){var e,t=this.props.availableLanguages,n=this.state.selectedLanguage;if(null==t)return null;var r=t.map((function(e){var t=e.name;return{label:t,value:t}
}));return N(v.SingleSelect,{className:O.default.languageSelector,options:r,value:null!==(e=null==n?void 0:n.name)&&void 0!==e?e:"",onChange:this.handleLanguageChange,maxVisibleItems:6})};n.renderCategories=function(){var e=this,t=this.props,n=t.currentCategoryId,r=t.countsByCategory;return N("div",{className:O.default.categories},void 0,null==r?void 0:r.map((function(t){var r=A(t,2),a=r[0],o=r[1];return N(w,{categoryId:a,name:a===E.DISCOVERY_ALL_CATEGORIES_ID?S.default.Messages.GUILD_DISCOVERY_ALL_CATEGORY_FILTER:d.default.getCategoryName(a),onCategoryChange:e.handleCategoryChange,isSelected:n===a,count:o},a)})))};n.render=function(){var e,t=this.state,n=t.query,r=t.inputFocused,i=this.props,u=i.placeholder,l=i.isSearchPage;return a.createElement(a.Fragment,null,N("div",{className:(0,o.default)(O.default.container,(e={},e[O.default.searchPage]=l,e))},void 0,N("div",{className:O.default.search},void 0,a.createElement(p.default,{ref:this._searchRef,searchTerm:n,
className:l?void 0:O.default.searchBox,inputClassName:l?void 0:O.default.searchBoxInput,closeIconClassName:l?void 0:O.default.closeIcon,searchIconClassName:l?void 0:O.default.searchIcon,label:S.default.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:u,onChange:this.handleQueryChanged,onClear:this.handleQueryCleared,onFocus:this.handleFocus,onBlur:this.handleSearchBlurred,onKeyPress:this.handleSearchKeyPress,autoFocus:!l,cta:r&&null!=n&&n.length>1?S.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),l?this.renderSearchOptions():null),l?this.renderCategories():null)};return t}(a.PureComponent);D.displayName="GuildDiscoverySearchBarComponent";D.contextType=h.AnalyticsContext;function L(e){var t=(0,u.useStateFromStores)([d.default],(function(){return d.default.getDiscoveryCategories()})),n=(0,u.useStateFromStores)([f.default],(function(){return f.default.getTopCategoryCounts(e.mostRecentQuery)}));return a.createElement(D,T({},e,{categories:t,countsByCategory:n}))}
L.displayName="GuildDiscoverySearchBar"},263996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTags=t.DiscoveryTagStyle=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(673997)),u=p(n(16941)),l=p(n(265851)),s=p(n(160629)),d=p(n(308920)),f=n(770348),c=p(n(983294));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=["egirl","egirls","waifu","dating","nsfw","sex","playboy","stupid","harem","playgirl","shitcoin","shitpost","porno","nudes","sexy","horny","fart","tits","balls","cum"],E=function(e){var t,n=e.text,r=e.onClick,a=e.className,i=e.hide;return _("li",{className:(0,o.default)(c.default.tag,a,(t={},t[c.default.hide]=i,t))},void 0,_(u.default,{className:c.default.tagText,onClick:function(e){e.stopPropagation();e.preventDefault();r(e)}
},void 0,n))};E.displayName="DiscoveryTag";var S=function(e){var t=e.tags,n=e.onTagClick,r=e.guildId,o=e.section;a.useEffect((function(){d.default.track(f.AnalyticEvents.OPEN_POPOUT,{type:"Discovery Tags Overflow",guild_id:r,location:{page:f.AnalyticsPages.GUILD_DISCOVERY,section:o}})}),[r,o]);return _(l.default,{className:c.default.overflowTagsPopout},void 0,_("ul",{},void 0,t.map((function(e){return _(E,{onClick:function(){return n(e)},className:c.default.tagAlt,text:e},e)}))))};S.displayName="DiscoveryTagsPopout";var O=function(e){var t=e.className,n=e.count;return _(s.default,{renderPopout:function(){return a.createElement(S,e)},position:s.default.Positions.RIGHT,align:s.default.Align.TOP,closeOnScroll:!0},void 0,(function(e){return a.createElement(E,m({className:t},e,{text:"+"+n}))}))};O.displayName="DiscoveryTagsOverflowButton";var b={DEFAULT:c.default.tagDefault,LIGHT:c.default.tagLight,ALT:c.default.tagAlt};t.DiscoveryTagStyle=b;var I=function(e){
var t,n=e.tags,r=e.onTagClick,u=e.className,l=e.discoveryTagStyle,s=void 0===l?b.DEFAULT:l,d=e.hideOverflow,f=void 0!==d&&d,p=e.guildId,v=e.section,h=(0,i.default)(),m=h.ref,S=h.width,I=y(a.useState(null),2),C=I[0],T=I[1],A=n.filter((function(e){return!g.includes(e.toLowerCase())}));a.useLayoutEffect((function(){if(null!=m.current&&null!=S&&0!==S){for(var e=0,t=0,n=S-40-4,r=0;r<A.length;r++){t+=m.current.children[r].clientWidth+4;if(r===A.length-1?t>n+40:t>n)break;e++}T((function(t){return e<=A.length?e:t}))}}),[S,m,A]);return a.createElement("ul",{ref:m,className:(0,o.default)(c.default.tagContainer,u,(t={},t[c.default.invisible]=null==C,t))},A.map((function(e,t){return _(E,{className:s,onClick:function(){return r(e)},hide:null!=C&&t>=C,text:e},e)})),!f&&null!=C&&C<A.length&&_(O,{className:s,onTagClick:r,tags:A.slice(C),count:A.length-C,guildId:p,section:v}))};t.DiscoveryTags=I;I.displayName="DiscoveryTags"},55027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a,o=d(n(667294)),i=n(248088),u=d(n(648831)),l=(r=n(599884))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleViewGuild=function(){var e=p(regeneratorRuntime.mark((function e(n){var r,a,o,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.props,a=r.guilds,
o=r.analyticsContext,i=r.onViewGuild;u=a.findIndex((function(e){return e.id===n}));e.next=4;return i(n,u,o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.renderGuild=function(e,n){var r=t.props,a=r.theme,o=r.onTagClick;return f(u.default,{guild:e,theme:a,onView:t.handleViewGuild,onTagClick:o},n)};return t}var n=t.prototype;n.renderPlaceholders=function(){for(var e=this.props.loadingPlaceholderCount,t=[],n=0;n<e;n++)t.push(f(u.DiscoverSearchResultPlaceholder,{},n));return t};n.render=function(){var e=this,t=this.props,n=t.guilds,r=t.loading;return f(i.Spring,{from:{opacity:r?0:1},to:{opacity:1},delay:100},void 0,(function(t){return f(i.animated.div,{className:l.default.guildList,style:t},void 0,r||null==n?e.renderPlaceholders():n.map(e.renderGuild))}))};return t}(o.PureComponent);y.displayName="GuildList";y.defaultProps={loadingPlaceholderCount:12};var h=y;t.default=h},605807:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=n(536211),i=p(n(241165)),u=y(n(908463)),l=p(n(308920)),s=p(n(571028)),d=p(n(221597)),f=p(n(913093)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).maxScrolledPercentage=0;t.mountedAt=0;t.handleScroll=function(e){var n=e.getScrollerState(),r=n.offsetHeight,a=n.scrollHeight,o=n.scrollTop/(a-r)
;t.maxScrolledPercentage=Math.min(Math.max(t.maxScrolledPercentage,o),1)};t.track=function(e,n,r){void 0===n&&(n={});void 0===r&&(r=!1);var a=t.props.changeLog,o=a.id,i=a.date,u=m({change_log_id:(null!=o&&""!==o?o:i)+":"+a.revision},n);r||(u=m({seconds_open:Math.round((Date.now()-t.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(t.maxScrolledPercentage.toPrecision(4),10)},u));l.default.track(e,u)};return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.changeLog,n=e.changeLogSource;if(null==t)return this.close();this.mountedAt=Date.now();this.maxScrolledPercentage=0;this.joinEligibleExperiment();this.track(c.AnalyticEvents.CHANGE_LOG_OPENED,m({},n),!0)};n.joinEligibleExperiment=function(){var e=this.props.changeLog;null!=e.experiment_names&&s.default.trackExposureToFirstEligibleUserExperiment(e.experiment_names)};n.close=function(){i.default.hideChangeLog()};n.componentWillUnmount=function(){this.track(c.AnalyticEvents.CHANGE_LOG_CLOSED)}
;n.render=function(){return this.props.changeLog.template===u.ChangeLogTemplate.SPECIAL?a.createElement(d.default,m({},this.props,{onScroll:this.handleScroll,track:this.track})):a.createElement(f.default,m({},this.props,{onScroll:this.handleScroll,track:this.track}))};return t}(a.PureComponent);g.displayName="ChangeLog";var E=function(){var e=(0,o.useStateFromStoresObject)([u.default],(function(){return{changeLog:u.default.changeLog,changeLogSource:u.default.changeLogSource,isOpen:u.default.isOpen()}})),t=e.changeLog,n=e.changeLogSource,r=e.isOpen;return null!=t&&r?h(g,{changeLog:t,changeLogSource:n}):null};E.displayName="ConnectedChangeLog";var S=a.memo(E);t.default=S},221597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=A(n(667294)),o=C(n(294184)),i=C(n(730381)),u=n(91817),l=C(n(241165)),s=C(n(268389)),d=n(844867),f=C(n(908463)),c=C(n(151097)),p=A(n(956117)),v=n(374693),y=n(354479),h=C(n(776360)),m=C(n(865725)),_=C(n(308920)),g=C(n(899984)),E=C(n(550270)),S=C(n(178710)),O=n(770348),b=C(n(247001)),I=C(n(866881));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}var N=s.default.reactParserFor(g.default.getSpecialRules(I.default)),R={},w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,y.uid)();t.state={bodyWidth:451,copied:!1};t._unsetCopiedState=new u.DelayedCall(1e3,(function(){return t.setState({copied:!1})}));t.trackLinkClick=function(e){
t.props.track(O.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.scrollerRef=a.createRef();t.handleResize=function(){var e,n,r=null!==(e=null===(n=t._bodyNode)||void 0===n?void 0:n.offsetWidth)&&void 0!==e?e:t.state.bodyWidth;"number"!=typeof r||Number.isNaN(r)||t.setState({bodyWidth:r})};t.setSpecialBodyRef=function(e){t._bodyNode=e;t.handleResize()};t.handleScroll=function(){var e=t.scrollerRef.current;if(null!=e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)}};return t}var r=t.prototype;r.componentDidMount=function(){window.addEventListener("resize",this.handleResize,!0)};r.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize,!0);this._unsetCopiedState.cancel()};r.close=function(){l.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)};r.renderVideo=function(){var e=this,t=this.props.changeLog,r=this.state.bodyWidth,a=r*(9/16),i=t.youtube_video_id,u=t.video,l=t.image
;if(null!=i&&""!==i)return P(v.EmbedVideo,{className:(0,o.default)(I.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:d.renderVideoComponent,renderImageComponent:d.renderImageComponent,renderLinkComponent:d.renderMaskedLinkComponent,onPlay:function(){e.track(O.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(null!=u&&""!==u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return P(m.default,{src:s,poster:l,width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:I.default.video,onPlay:function(){e.track(O.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(null!=l&&""!==l){var f=l.startsWith("https://")?l:n(478717)("./"+l);return P("img",{className:I.default.image,alt:"",src:f,width:r,height:a})}return null};r.render=function(){
var e=this.props.changeLog;return P(S.default,{className:(0,o.default)(I.default.container),modalLabeledById:this.headerId,onClose:this.close,onScroll:this.handleScroll,scrollerRef:this.scrollerRef},void 0,P("div",{className:I.default.header,id:this.headerId,tabIndex:0},void 0,P("div",{className:I.default.headerContent},void 0,P(h.default,{size:h.default.Sizes.SIZE_32,className:I.default.headerText},void 0,b.default.Messages.CHANGELOG_STICKERS_HEADER),P(h.default,{size:h.default.Sizes.SIZE_16,className:I.default.dateText},void 0,b.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date}))),P("div",{className:I.default.headerGraphic})),a.createElement("div",{className:I.default.body,ref:this.setSpecialBodyRef},this.renderVideo(),N(e.body,!1,{changeLog:this,interpolations:R,onLinkClick:this.trackLinkClick})),P("div",{className:I.default.footer},void 0,P(h.default,{size:h.default.Sizes.SIZE_20,className:I.default.inviteCTAHeader
},void 0,b.default.Messages.CHANGELOG_STICKERS_CTA_TITLE),P(h.default,{size:h.default.Sizes.SIZE_16,className:I.default.inviteCTABody},void 0,b.default.Messages.CHANGELOG_STICKERS_CTA_BODY.format()),P(c.default,{className:(0,o.default)((0,p.getButtonStyle)({size:p.default.Sizes.SMALL,color:p.default.Colors.GREEN}),I.default.ctaAnchor),href:E.default.getArticleURL(O.HelpdeskArticles.STICKERS),onClick:function(){var e,t;_.default.track(O.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{change_log_id:(null===(e=f.default.changeLog)||void 0===e?void 0:e.date)+":"+(null===(t=f.default.changeLog)||void 0===t?void 0:t.revision),cta_type:"stickers_cta"})}},void 0,b.default.Messages.CHANGELOG_STICKERS_CTA)))};return t}(a.PureComponent);t.default=w;w.displayName="ChangelogSpecialTemplate"},913093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=T(n(294184)),i=T(n(730381)),u=T(n(241165)),l=T(n(805764)),s=T(n(268389)),d=n(844867),f=T(n(151097)),c=n(374693),p=T(n(530250)),v=n(354479),y=T(n(877622)),h=T(n(170331)),m=T(n(637853)),_=T(n(971639)),g=T(n(776360)),E=T(n(865725)),S=T(n(899984)),O=T(n(138158)),b=n(770348),I=T(n(247001)),C=T(n(634427));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}var N=s.default.reactParserFor(S.default.getDefaultRules(C.default)),R={},w=P(m.default,{}),D=P(y.default,{}),L=P(h.default,{}),j=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,v.uid)();t.handleScroll=function(e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)};t.trackLinkClick=function(e){t.props.track(b.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.renderHeader=function(){var e=t.props.changeLog
;return P(p.default.Child,{grow:1,shrink:1},void 0,P(_.default,{tag:_.default.Tags.H2,size:_.default.Sizes.SIZE_20},void 0,I.default.Messages.WHATS_NEW),P(g.default,{size:g.default.Sizes.SIZE_12,className:C.default.date},void 0,I.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date})))};return t}var r=t.prototype;r.close=function(){u.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)};r.renderFooter=function(){return P("div",{className:C.default.footer},void 0,P(f.default,{"aria-label":I.default.Messages.TWITTER,className:C.default.socialLink,href:(0,l.default)(b.LocalizedLinks.TWITTER),target:"blank"},void 0,w),P(f.default,{"aria-label":I.default.Messages.FACEBOOK,className:C.default.socialLink,href:b.SOCIAL_LINKS.FACEBOOK_URL,target:"blank"},void 0,D),P(f.default,{"aria-label":I.default.Messages.INSTAGRAM,className:C.default.socialLink,href:b.SOCIAL_LINKS.INSTAGRAM_URL,target:"blank"
},void 0,L),P(g.default,{size:g.default.Sizes.SIZE_12},void 0,I.default.Messages.FOLLOW_US_FOR_MORE_UPDATES))};r.renderVideo=function(){var e=this,t=this.props.changeLog,r=451,a=254,i=t.youtube_video_id,u=t.video,l=t.image;if(null!=i&&""!==i)return P(c.EmbedVideo,{className:(0,o.default)(C.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:d.renderVideoComponent,renderImageComponent:d.renderImageComponent,renderLinkComponent:d.renderMaskedLinkComponent,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(null!=u&&""!==u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return P(E.default,{src:s,poster:l,width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:C.default.video,onPlay:function(){
e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(null!=l&&""!==l){var f=l.startsWith("https://")?l:n(478717)("./"+l);return P("img",{className:C.default.image,alt:"",src:f,width:r,height:a})}return null};r.render=function(){var e=this.props.changeLog;return P(O.default,{className:C.default.container,onClose:this.close,renderHeader:this.renderHeader,renderFooter:this.renderFooter,onScroll:this.handleScroll},void 0,P("div",{tabIndex:0,role:"region","aria-label":I.default.Messages.CHANGELOG_CONTENT_LABEL},void 0,this.renderVideo(),N(e.body,!1,{changeLog:this,interpolations:R,onLinkClick:this.trackLinkClick})))};return t}(a.PureComponent);j.displayName="ChangelogStandardTemplate";var k=j;t.default=k},410671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(294184)),i=_(n(151097)),u=_(n(956117)),l=_(n(558402)),s=_(n(16941)),d=_(n(279950)),f=n(354479),c=_(n(510596)),p=n(3400),v=_(n(971639)),y=_(n(776360)),h=_(n(247001)),m=_(n(949095));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var O=E("br",{}),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,f.uid)();t.state={code:"",errorMessage:"",retrySuccess:!1};t.setRef=function(e){t._input=e};t.getLabelText=function(){var e;return null!==(e=t.props.label)&&void 0!==e?e:t.props.disallowBackupCodes?h.default.Messages.TWO_FA_ENTER_TOKEN_NO_BACKUP_LABEL:h.default.Messages.TWO_FA_ENTER_TOKEN_LABEL};t.getSupportedCodeTypes=function(){return t.props.disallowBackupCodes?h.default.Messages.TWO_FA_AUTH_CODE_NO_BACKUP:h.default.Messages.TWO_FA_AUTH_CODE};t.getPlaceholder=function(){var e
;return t.props.forceNoPlaceholder?null:null!==(e=t.props.placeholder)&&void 0!==e?e:t.getSupportedCodeTypes()};t.errorPresent=function(){return null!=t.props.error&&""!==t.props.error||null!=t.state.errorMessage&&""!==t.state.errorMessage};t.handleRetry=function(){var e=t.props.onRetry;null==e||e().then((function(){return t.setState({retrySuccess:!0})}))};t.handleSubmit=function(e){e.preventDefault();var n=t.props,r=n.handleSubmit,a=n.onError;r(t.state.code).catch((function(e){if(null!=e.body){null==a||a(e.body);e.body.message&&t.setState({errorMessage:e.body.message})}}))};t.handleCancel=function(){var e=t.props,n=e.onClose,r=e.handleEarlyClose;n();null==r||r()};t.handleCodeChange=function(e){t.setState({code:e})};return t}t.prototype.render=function(){
var e,t=this.props,n=t.title,r=t.actionText,f=t.children,_=t.error,g=t.isLoading,S=t.maxLength,b=t.transitionState,I=t.helpMessage,C=t.retryPrompt,T=t.retrySuccessMessage,A=this.state,P=A.code,M=A.errorMessage,N=A.retrySuccess,R=a.Children.count(f)>0?E(l.default,{type:l.default.Types.WARNING,className:m.default.card},void 0,E(y.default,{size:y.default.Sizes.SIZE_16},void 0,f)):null,w=null!=C?E(y.default,{className:(0,o.default)(m.default.submitText,m.default.spacing),size:y.default.Sizes.SIZE_14},void 0,O,E(s.default,{className:(0,o.default)(m.default.spacing,m.default.link),onClick:this.handleRetry},void 0,E(i.default,{},void 0,C))):null,D=N?E(l.default,{type:l.default.Types.SUCCESS,className:m.default.card},void 0,E(y.default,{size:y.default.Sizes.SIZE_16},void 0,T)):null;return E(p.ModalRoot,{transitionState:b,"aria-labelledby":this.headerId},void 0,E("form",{onSubmit:this.handleSubmit},void 0,E(p.ModalHeader,{separator:!1,id:this.headerId},void 0,E(v.default,{tag:v.default.Tags.H2,
size:v.default.Sizes.SIZE_20},void 0,n)),E(p.ModalContent,{},void 0,null!=I?E(y.default,{color:y.default.Colors.STANDARD,size:y.default.Sizes.SIZE_16,className:m.default.spacing},void 0,I):null,R,D,E(c.default,{title:this.getLabelText(),className:m.default.spacing},void 0,E(d.default,{inputRef:this.setRef,onChange:this.handleCodeChange,placeholder:null!==(e=this.getPlaceholder())&&void 0!==e?e:void 0,maxLength:null!=S?S:10,value:P,autoComplete:"one-time-code",autoFocus:!0}),this.errorPresent()?E(y.default,{color:y.default.Colors.STATUS_RED,size:y.default.Sizes.SIZE_12,className:m.default.error},void 0,null!=_?_:M):null,w)),E(p.ModalFooter,{},void 0,E(u.default,{type:"submit",disabled:g},void 0,null!=r?r:h.default.Messages.CONFIRM),E(u.default,{onClick:this.handleCancel,disabled:g,look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY},void 0,h.default.Messages.CANCEL))))};return t}(a.PureComponent);b.displayName="MFAConfirm";b.defaultProps={btnClass:"",isLoading:!1,
disallowBackupCodes:!1,error:null,forceNoPlaceholder:!1};var I=b;t.default=I},178710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=p(n(294184)),i=p(n(16941)),u=p(n(259530)),l=y(n(3400)),s=p(n(776360)),d=p(n(247001)),f=p(n(853930)),c=["onClose"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(){h=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=m(u.default,{width:24,height:24}),E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){
var e=this.props,t=e.selectable,n=e.className,r=e.modalLabeledById,u=e.onClose,p=e.children,v=e.onScroll,y=e.scrollerRef;return m(l.default,{onCloseRequest:u,renderModal:function(e){var _,E=e.onClose,S=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c);return a.createElement(l.ModalRoot,h({className:f.default.modal},S,{"aria-labelledby":r}),m(l.ModalContent,{className:(0,o.default)(n,f.default.content,{selectable:t}),scrollerRef:y,onScroll:v},void 0,p),m(i.default,{className:f.default.closeButton,onClick:function(){null!=u&&u();E()}},void 0,g),m("div",{className:f.default.updateBadge},void 0,m(s.default,{size:(_=d.default.Messages.UPDATE_BADGE_HEADER,_.length>12?s.default.Sizes.SIZE_10:_.length>10?s.default.Sizes.SIZE_12:_.length>8?s.default.Sizes.SIZE_14:s.default.Sizes.SIZE_16),className:f.default.updateBadgeText},void 0,d.default.Messages.UPDATE_BADGE_HEADER)))}})};return t}(a.PureComponent)
;E.displayName="SpecialMarkdownModal";E.defaultProps={selectable:!1};var S=E;t.default=S},57663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Ie
;var r,a=ye(n(667294)),o=pe(n(294184)),i=n(536211),u=n(923387),l=pe(n(972247)),s=n(91817),d=n(378158),f=pe(n(226800)),c=pe(n(686923)),p=pe(n(284382)),v=pe(n(6887)),y=pe(n(77146)),h=n(224179),m=pe(n(915502)),_=pe(n(945926)),g=pe(n(330493)),E=pe(n(590087)),S=pe(n(56200)),O=pe(n(133464)),b=pe(n(305081)),I=pe(n(812371)),C=pe(n(719637)),T=pe(n(105847)),A=pe(n(423405)),P=pe(n(644263)),M=pe(n(513266)),N=pe(n(122913)),R=pe(n(635014)),w=pe(n(893160)),D=pe(n(690445)),L=pe(n(397228)),j=pe(n(663303)),k=pe(n(871778)),U=pe(n(728429)),G=pe(n(146771)),F=pe(n(16941)),x=pe(n(530250)),B=pe(n(618993)),V=pe(n(160629)),W=pe(n(413542)),H=ye(n(730977)),z=pe(n(634230)),Y=pe(n(878338)),K=pe(n(324582)),$=pe(n(347114)),q=pe(n(855480)),Z=pe(n(287317)),X=n(194322),Q=pe(n(139574)),J=pe(n(902060)),ee=pe(n(683898)),te=ye(n(628551)),ne=pe(n(776360)),re=pe(n(308920)),ae=n(42031),oe=n(179495),ie=pe(n(922629)),ue=pe(n(1483)),le=n(770348),se=n(198622),de=pe(n(247001)),fe=pe(n(129609)),ce=["onClick","onMouseEnter"]
;function pe(e){return e&&e.__esModule?e:{default:e}}function ve(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ve=function(e){return e?n:t})(e)}function ye(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ve(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function he(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function me(){me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return me.apply(this,arguments)}function _e(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_e(o,r,a,i,u,"next",e)}function u(e){_e(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Se(e,t){Se=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Se(e,t)}var Oe=ie.default.getEnableHardwareAcceleration()?te.AnimatedAvatar:te.default;var be=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Se(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).copiedTimeout=new s.Timeout;t.copiedDecayTimeout=new s.Timeout;t.speakingWhileMutedTooltipTimeout=new s.Timeout;t.state={hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1};t.handleToggleSelfMute=function(){var e=t.props,n=e.serverMute,r=e.suppress;(0,E.default)(n,r)};t.handleToggleSelfDeaf=function(){var e=t.props.serverDeaf;(0,g.default)(e)};t.handleOpenSettings=function(){f.default.open(le.UserSettingsSections.ACCOUNT)};t.handleOpenSettingsContextMenu=function(e){var r=t.props.currentUser;null!=r&&(0,d.openContextMenuLazy)(e,ge(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(1429),n.e(93198),n.e(72936),n.e(92782),n.e(54313),n.e(64084)]).then(n.bind(n,964084));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,me({},e,{user:r,premiumSubscription:t.props.premiumSubscription,webBuildOverride:t.props.webBuildOverride}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleInputAudioContextMenu=function(e){(0,d.openContextMenuLazy)(e,ge(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=he(r,{onClose:d.closeContextMenu,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)}))))};t.handleOutputAudioContextMenu=function(e){(0,d.openContextMenuLazy)(e,ge(regeneratorRuntime.mark((function e(){var t,r,a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=he(r,{onClose:d.closeContextMenu,renderOutputDevices:!0,renderOutputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)}))))};t.handleMouseEnter=function(){t.setState({hovered:!0})};t.handleMouseLeave=function(){t.setState({hovered:!1})};t.handleMouseEnterMute=function(){t.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()};t.handleMouseLeaveMute=function(){t.setState({hoveringOnMute:!1})};t.handleCopyTag=function(){var e=t.props.currentUser,n=t.state,r=n.shouldShowNametagTooltip,a=n.copiedStreak;if(null!=e){(0,oe.copy)(e.tag);re.default.track(le.AnalyticEvents.TEXT_COPIED,{type:"User Tag"});var o={shouldShowCopiedFeedback:!0,shouldShowNametagTooltip:!0};r||(o.copiedStreak=a+1);t.setState(o,(function(){
t.copiedTimeout.start(1e3,(function(){return t.setState({shouldShowNametagTooltip:!1})}));t.copiedDecayTimeout.start(2e3,(function(){return t.setState({copiedStreak:0})}))}))}};t.handleOccludedChanged=function(){t.props.occluded&&t.setState({shouldShowNametagTooltip:!1,shouldShowSpeakingWhileMutedTooltip:!1})};t.handleSpeakingWhileMutedChanged=function(){var e=t.props,n=e.selfMute,r=e.serverMute,a=e.suppress,o=e.speakingWhileMuted,i=e.occluded,u=t.state.hoveringOnMute;if(o)u||!n||r||a||i||t.setState({shouldShowSpeakingWhileMutedTooltip:!0},(function(){t.speakingWhileMutedTooltipTimeout.start(2e3,(function(){return t.setState({shouldShowSpeakingWhileMutedTooltip:!1})}))}));else{t.setState({shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()}};t.renderStatusPickerPopout=function(e){var n=e.closePopout;return he(c.default,{onClose:function(){t.handleMouseLeave();null==n||n()}})};return t}var r=t.prototype;r.componentDidUpdate=function(e){
var t=e.speakingWhileMuted,n=e.occluded,r=this.props,a=r.speakingWhileMuted;r.occluded!==n&&this.handleOccludedChanged();a!==t&&this.handleSpeakingWhileMutedChanged()};r.componentWillUnmount=function(){this.copiedTimeout.stop();this.copiedDecayTimeout.stop();this.speakingWhileMutedTooltipTimeout.stop()};r.renderCopiedSuccess=function(){var e=this.state.copiedStreak,t=[de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_1,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_2,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_3,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_4,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_5,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_6,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_7,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_8,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_9,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_10,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_11],n=Math.min(Math.max(0,e-1),t.length-1)
;return he(W.default,{isShaking:this.isCopiedStreakGodlike},void 0,t[n])};r.renderNameTag=function(){var e=this,t=this.props,n=t.customStatusActivity,r=t.hidePrivateData,i=t.currentUser,u=this.state,l=u.hovered,s=u.shouldShowNametagTooltip,d=u.shouldShowCopiedFeedback;if(null==i)return null;var f=r?null:"#"+i.discriminator,c=null!=n?he(B.default,{hoverText:f,forceHover:l},void 0,he(O.default,{activity:n,emojiClassName:fe.default.emoji,className:fe.default.customStatus})):f,p=null,v=H.TooltipColors.PRIMARY;if(oe.SUPPORTS_COPY){p=de.default.Messages.ACCOUNT_CLICK_TO_COPY;if(d){p=this.renderCopiedSuccess();v=this.isCopiedStreakGodlike?H.TooltipColors.RED:H.TooltipColors.GREEN}}return he(H.default,{text:p,forceOpen:s,"aria-label":!!oe.SUPPORTS_COPY&&de.default.Messages.ACCOUNT_CLICK_TO_COPY,color:v,delay:500,onAnimationRest:function(t,n){d&&!s&&n.phase===le.SpringTransitionPhases.LEAVE&&e.setState({shouldShowCopiedFeedback:!1})}},void 0,(function(t){
var n,r=t.onClick,u=t.onMouseEnter,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,ce);return a.createElement(F.default,me({},l,{onMouseEnter:function(){if(d){e.copiedTimeout.stop();e.setState({shouldShowNametagTooltip:!1},u)}else null==u||u()},onClick:function(){null==r||r();e.handleCopyTag()},className:(0,o.default)(fe.default.nameTag,(n={},n[fe.default.canCopy]=oe.SUPPORTS_COPY,n))}),he(ne.default,{className:fe.default.usernameContainer},void 0,he(ee.default,{},void 0,i.username)),null!=c?he(J.default,{className:fe.default.discriminator},void 0,c):null)}))};r.renderAvatarWithPopout=function(){var e=this.props,t=e.speaking,n=e.streaming,r=e.currentUser,o=e.status;return null==r?null:he(p.default,{object:le.AnalyticsObjects.AVATAR},void 0,he(V.default,{renderPopout:this.renderStatusPickerPopout,position:V.default.Positions.BOTTOM,align:V.default.Align.LEFT,animation:V.default.Animation.FADE,
spacing:14,fixed:!0},void 0,(function(e){return a.createElement(F.default,me({},e,{"aria-label":de.default.Messages.SET_STATUS,className:fe.default.avatarWrapper}),he(Oe,{size:te.Sizes.SIZE_32,src:r.getAvatarURL(void 0,32,!1),"aria-label":r.username,status:n?le.StatusTypes.STREAMING:o,isSpeaking:t,className:fe.default.avatar}))})))};r.renderSettingsGear=function(){var e=this.props.webBuildOverride;return he(Q.default,{tooltipText:null!=e?de.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:e.id}):de.default.Messages.USER_SETTINGS,onClick:this.handleOpenSettings,onContextMenu:this.handleOpenSettingsContextMenu,innerClassName:null!=e?fe.default.buildOverrideButton:null,icon:z.default},void 0,null!=e?he($.default,{width:9,height:9,className:fe.default.hasBuildOverride,"aria-hidden":!0}):null)};r.render=function(){
var e,t,n=this,r=this.props,a=r.currentUser,i=r.selfDeaf,l=r.selfMute,s=r.serverMute,d=r.serverDeaf,f=r.suppress,c=r.dismissibleContents,p=this.state.shouldShowSpeakingWhileMutedTooltip;if(null==a)return null;var v=l||f||s,y=i||d;return he("div",{className:fe.default.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,he(b.default,{contentTypes:c.avatar},void 0,(function(e){var t=e.visibleContent,r=e.markAsDismissed,a=he(C.default,{markAsDismissed:r});return t===u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP?he(V.default,{position:V.default.Positions.TOP,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){return n.renderAvatarWithPopout()})):n.renderAvatarWithPopout()})),this.renderNameTag(),he(x.default,{grow:0},void 0,he(Q.default,{tooltipText:p?de.default.Messages.ACCOUNT_SPEAKING_WHILE_MUTED:(0,_.default)(l,s,f),tooltipColor:p?H.TooltipColors.GREEN:void 0,tooltipForceOpen:p||void 0,onMouseEnter:this.handleMouseEnterMute,
onMouseLeave:this.handleMouseLeaveMute,icon:v?Z.default:q.default,iconForeground:v?fe.default.strikethrough:null,onClick:this.handleToggleSelfMute,innerClassName:(0,o.default)((e={},e[fe.default.redIcon]=s||f,e)),onContextMenu:this.handleInputAudioContextMenu,role:"switch","aria-label":de.default.Messages.MUTE,"aria-checked":v}),he(Q.default,{tooltipText:(0,m.default)(i,d),icon:i?K.default:Y.default,onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,innerClassName:(0,o.default)((t={},t[fe.default.redIcon]=d,t)),iconForeground:y?fe.default.strikethrough:null,role:"switch","aria-label":de.default.Messages.DEAFEN,"aria-checked":y}),he(b.default,{contentTypes:c.settings},void 0,(function(e){var t=e.visibleContent,r=e.markAsDismissed,a=he(ue.default,{markAsDismissed:r});return t===u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION?he(V.default,{position:V.default.Positions.TOP,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){
return n.renderSettingsGear()})):n.renderSettingsGear()}))))};!function(e,t,n){t&&Ee(e.prototype,t);n&&Ee(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isCopiedStreakGodlike",get:function(){return this.state.copiedStreak>=10}}]);return t}(a.PureComponent);be.displayName="Account";function Ie(){var e=(0,i.useStateFromStores)([U.default],(function(){return U.default.getCurrentUser()})),t=null==e?void 0:e.id,n=(0,i.useStateFromStores)([k.default],(function(){return k.default.customStatus})),r=a.useMemo((function(){return null!=n?(0,S.default)(n):null}),[n]),o=(0,i.useStateFromStoresObject)([D.default],(function(){return{streaming:null!=D.default.findActivity((function(e){return e.type===le.ActivityTypes.STREAMING})),status:D.default.getStatus()}})),s=o.streaming,d=o.status,f=(0,i.useStateFromStores)([L.default],(function(){return null!=t&&L.default.isSpeaking(t)}),[t]),c=(0,i.useStateFromStores)([j.default],(function(){return j.default.hidePersonalInformation})),p=(0,
i.useStateFromStores)([w.default,P.default],(function(){var e=w.default.getChannelId();return null!=e?P.default.getChannel(e):null})),m=(0,A.default)(p),_=m.mute,g=m.selfMute,E=m.suppress,O=(0,T.default)(p),b=O.selfDeaf,C=O.deaf,F=(0,i.useStateFromStores)([y.default],(function(){var e;return(0,h.probablyHasBuildOverride)()?null===(e=y.default.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null})),x=(0,i.useStateFromStores)([G.default],(function(){return G.default.getPremiumTypeSubscription()})),B=(0,i.useStateFromStores)([R.default],(function(){return R.default.getEverSpeakingWhileMuted()})),V=(0,i.useStateFromStores)([M.default],(function(){return null!=M.default.getAccount(null,le.PlatformTypes.PLAYSTATION)})),W=(0,i.useStateFromStores)([N.default],(function(){return N.default.hasLayers()})),H=(0,X.useModalsStore)(X.hasAnyModalOpenSelector)||W||ae.ProcessArgs.isDisallowPopupsSet();a.useEffect((function(){I.default.trackExposure({})}))
;var z=I.default.useExperiment({}).isMultiAccountEnabled,Y=v.default.useExperiment({}).coachMarkEnabled,K={avatar:[],settings:[]};!H&&null==l.default.get(se.MULTIACCOUNT_TOOLTIP_SEEN_KEY)&&z&&K.avatar.push(u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP);H||!Y||V||K.settings.push(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION);return he(be,{hidePrivateData:c,currentUser:e,selfMute:g,serverMute:_,suppress:E,serverDeaf:C,selfDeaf:b,status:d,speaking:f,streaming:s,customStatusActivity:r,webBuildOverride:F,premiumSubscription:x,speakingWhileMuted:B,occluded:H,dismissibleContents:K})}Ie.displayName="AccountConnected"},1483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(155502)),i=p(n(754416)),u=p(n(956117)),l=p(n(776360)),s=p(n(308920)),d=n(770348),f=p(n(247001)),c=p(n(573438));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){e()
;s.default.track(d.AnalyticEvents.UPSELL_CLICKED,{type:"account_connect_playstation_tooltip",action:"dismiss"})}function m(e){var t=e.markAsDismissed;a.useEffect((function(){s.default.track(d.AnalyticEvents.UPSELL_VIEWED,{type:"account_connect_playstation_tooltip"})}),[]);a.useEffect((function(){function e(e){e.keyCode===d.KeyboardKeys.ESCAPE&&h(t)}window.addEventListener("keydown",e);return function(){window.removeEventListener("keydown",e)}}),[t]);var n=a.useCallback((function(){(0,i.default)(d.PlatformTypes.PLAYSTATION,"Playstation Upsell");h(t)}),[t]);return y("div",{className:c.default.container},void 0,y("div",{className:c.default.image}),y(l.default,{className:c.default.title},void 0,f.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:o.default.get(d.PlatformTypes.PLAYSTATION).name})),y(l.default,{size:l.default.Sizes.SIZE_14,className:c.default.subTitle},void 0,f.default.Messages.PLAYSTATION_CONNECT_DESCRIPTION),y(u.default,{look:u.default.Looks.INVERTED,
fullWidth:!0,onClick:n},void 0,f.default.Messages.CONNECT),y(u.default,{color:u.default.Colors.WHITE,look:u.default.Looks.LINK,fullWidth:!0,onClick:function(){return h(t)}},void 0,f.default.Messages.NO_THANKS),y("div",{className:c.default.pointer}))}m.displayName="AccountConnectPlayStationTooltip"},52505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=_(n(496486)),i=_(n(536211)),u=n(378158),l=_(n(913914)),s=_(n(922340)),d=_(n(146411)),f=_(n(414068)),c=_(n(330445)),p=_(n(290629)),v=_(n(728429)),y=_(n(251689)),h=n(71246),m=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return S.apply(this,arguments)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).handleUserContextMenu=function(e,t){(0,u.openContextMenuLazy)(e,b(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default
;return e.abrupt("return",(function(e){return a.createElement(o,S({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};t.renderOverflowPopout=function(){var e=t.props.party;return E(l.default,{party:e,header:m.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})})};return t}var r=t.prototype;r.hasParty=function(e){return e.length>1};r.handleStopListening=function(){(0,s.default)()};r.renderUserPopout=function(e,t){return a.createElement(f.default,S({},e,{userId:t.id}))};r.render=function(){var e=this.props,t=e.currentUser,n=e.host,r=e.party;return this.hasParty(r)&&null!=t?E(y.default,{currentUser:t,host:n,party:r,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null};return t}(a.PureComponent);C.displayName="ListeningAlong";var T=i.default.connectStores([d.default,v.default,p.default,c.default],(function(){
var e,t,n=d.default.getSyncingWith(),r=d.default.getActivity(),a=v.default.getCurrentUser(),i=[];if(null!=n){e=v.default.getUser(n.userId);t=n.partyId}else if(null!=r&&null!=r.party&&null!=r.party.id){e=a;t=r.party.id}if(null!=t){var u;i=(0,o.default)(Array.from(null!==(u=c.default.getParty(t))&&void 0!==u?u:[])).map((function(e){return v.default.getUser(e)})).filter(h.isNotNullish).orderBy([function(t){return null==e||e.id===t.id},function(e){return p.default.isFriend(e.id)}],["desc","desc"]).value()}return{currentUser:a,host:e,party:i}}))(C);t.default=T},883901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=ze(n(667294)),o=We(n(294184)),i=We(n(441143)),u=n(473727),l=n(536211),s=n(923387),d=We(n(740207)),f=n(378158),c=We(n(505437)),p=ze(n(712283)),v=We(n(367734)),y=We(n(257175)),h=n(556470),m=n(205562),_=n(678164),g=n(746920),E=ze(n(303798)),S=n(186096),O=We(n(198016)),b=n(245546),I=We(n(151120)),C=We(n(954140)),T=We(n(37039)),A=We(n(932018)),P=n(678928),M=We(n(305081)),N=We(n(314234)),R=We(n(379310)),w=We(n(908921)),D=We(n(382173)),L=We(n(68094)),j=ze(n(278352)),k=We(n(652566)),U=n(139982),G=We(n(915188)),F=We(n(610929)),x=n(205809),B=We(n(131020)),V=We(n(897191)),W=n(921867),H=n(894826),z=We(n(373115)),Y=We(n(431388)),K=We(n(770404)),$=ze(n(336940)),q=We(n(493051)),Z=We(n(602824)),X=We(n(310261)),Q=We(n(30269)),J=n(645675),ee=We(n(686305)),te=We(n(607209)),ne=We(n(644263)),re=We(n(30098)),ae=We(n(122913)),oe=We(n(635014)),ie=We(n(689389)),ue=We(n(893160)),le=We(n(290629)),se=We(n(728429)),de=We(n(387692)),fe=We(n(487372)),ce=We(n(151097)),pe=We(n(956117)),ve=We(n(530250)),ye=n(728526),he=We(n(160629)),me=We(n(567668)),_e=We(n(730977)),ge=ze(n(662197)),Ee=We(n(79027)),Se=We(n(26285)),Oe=We(n(400217)),be=We(n(250003)),Ie=We(n(952117)),Ce=We(n(139574)),Te=We(n(902060)),Ae=We(n(971639)),Pe=We(n(776360)),Me=We(n(308920)),Ne=We(n(550270)),Re=n(873838),we=We(n(547636)),De=We(n(529025)),Le=n(770348),je=n(439142),ke=We(n(247001)),Ue=We(n(444013)),Ge=We(n(380203)),Fe=["unavailable","active","label","iconComponent"],xe=["onClick"],Be=["onClick"],Ve=["guildId","channelId"]
;function We(e){return e&&e.__esModule?e:{default:e}}function He(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(He=function(e){return e?n:t})(e)}function ze(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=He(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Ye(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ye(o,r,a,i,u,"next",e)}function u(e){Ye(o,r,a,i,u,"throw",e)}i(void 0)}))}}function $e(e,t){
$e=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $e(e,t)}function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(){Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Xe.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function Je(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function et(e){var t=e.currentTarget;Me.default.track(Le.AnalyticEvents.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,
location:{section:Le.AnalyticsSections.NOISE_CANCELLATION_POPOUT}})}function tt(){var e=a.useRef(null);(0,ye.useFocusLock)(e);a.useEffect((function(){return Me.default.track(Le.AnalyticEvents.OPEN_POPOUT,{type:Le.AnalyticsSections.NOISE_CANCELLATION_POPOUT})}),[]);var t=(0,l.useStateFromStores)([oe.default],(function(){return oe.default.getNoiseCancellation()}));return a.createElement("div",{ref:e,className:Ue.default.noiseCancellationPopout},Je(me.default,{hideBorder:!0,className:Ge.default.marginBottom4,value:t,onChange:function(){return d.default.setNoiseCancellation(!t,{section:Le.AnalyticsSections.NOISE_CANCELLATION_POPOUT})},note:ke.default.Messages.NOISE_CANCELLATION_POPOUT_DESCRIPTION},void 0,ke.default.Messages.NOISE_CANCELLATION_POPOUT_HEADER),Je(p.default,{title:ke.default.Messages.NOISE_CANCELLATION_POPOUT_MIC_TEST_TITLE,notchBackground:p.NotchBackground.BLACK,buttonTest:ke.default.Messages.NOISE_CANCELLATION_POPOUT_TEST,
buttonStop:ke.default.Messages.NOISE_CANCELLATION_POPOUT_STOP,buttonClassName:Ue.default.micTestButton,buttonColor:pe.default.Colors.PRIMARY,location:{section:Le.AnalyticsSections.NOISE_CANCELLATION_POPOUT}}),Je(ge.default,{tag:ge.Tags.H5,className:(0,o.default)(Ge.default.marginBottom8,Ge.default.marginTop20)},void 0,ke.default.Messages.NOISE_CANCELLATION_POPOUT_FOOTER),Je(ve.default,{justify:ve.default.Justify.BETWEEN,className:Ue.default.footer},void 0,Je(ce.default,{href:Le.MarketingURLs.KRISP,onClick:function(e){return et(e)}},void 0,Je("div",{className:Ue.default.krispLogo})),Je(ce.default,{href:Ne.default.getArticleURL(Le.HelpdeskArticles.NOISE_SUPPRESSION),className:Ue.default.krispLink,onClick:function(e){return et(e)}},void 0,ke.default.Messages.LEARN_MORE)))}tt.displayName="NoiseCancellationPopout";function nt(e){var t,n=e.channel,r=(0,z.default)(),i=(0,K.default)(n),u=n.getGuildId(),s=(0,O.default)(u),f=(0,l.useStateFromStoresObject)([E.default],(function(){
return null!=E.default.getSelfEmbeddedActivityForChannel(n.id)})),c=G.default.useExperiment({guildId:null!=u?u:""}).allowSoundboard,p=(0,Y.default)(n),v=p.reachedLimit,y=p.limit,h=a.useCallback((function(){(0,q.default)()}),[]),_=(0,m.useAppContext)(),g=a.useCallback((function(e){if(oe.default.isVideoEnabled()!==e){var t=function(){var t;d.default.setVideoEnabled(e);e&&(0,U.transitionTo)(Le.Routes.CHANNEL(null!==(t=n.getGuildId())&&void 0!==t?t:Le.ME,n.id))};e?(0,Q.default)(t,_):t()}}),[n,_]),S=f||s||c,b=Je(Ee.default,{className:(0,o.default)(Ue.default.buttonIcon,(t={},t[Ue.default.withText]=!S,t))});return a.createElement(J.VideoButtonWrapper,Xe({onChange:g,onCameraUnavailable:h,hasPermission:i,channelLimit:y,channelLimitReached:v},r),(function(e){var t=e.unavailable,n=e.active,r=e.label,i=(e.iconComponent,Qe(e,Fe));return Je(he.default,{renderPopout:function(e){var t=e.closePopout;return Je(A.default,{onClose:t})},position:he.default.Positions.TOP,align:he.default.Align.CENTER,
animation:he.default.Animation.FADE},void 0,(function(e,u){var l=u.isShown,s=e.onClick,d=Qe(e,xe);return Je(_e.default,{text:r},void 0,(function(e){var r;return a.createElement(pe.default,Xe({},i,e,d,{onClick:function(t){var n;i.onClick(t);null===(n=e.onClick)||void 0===n||n.call(e);l&&s(t)},onContextMenu:function(t){var n;s(t);null===(n=e.onContextMenu)||void 0===n||n.call(e)},size:pe.default.Sizes.SMALL,className:(0,o.default)(Ue.default.button,Ue.default.buttonColor,(r={},r[Ue.default.buttonActive]=n,r[Ue.default.fauxDisabled]=t,r[Ue.default.disabled]=i.disabled,r)),wrapperClassName:Ue.default.button}),S?b:Je(ve.default,{align:ve.default.Align.CENTER},void 0,b,ke.default.Messages.VIDEO))}))}))}))}nt.displayName="ConnectedVideoButton";var rt=Je(b.FreeActivityIndicatorDot,{top:-1,right:-1});function at(e){var t=e.channel,n=t.getGuildId(),r=(0,O.default)(n)&&null!=n;(0,_.useActivitiesRolloutExperiments)(n);var i=(0,l.useStateFromStores)([ie.default],(function(){
return ie.default.can(Le.Permissions.USE_EMBEDDED_ACTIVITIES,t)}),[t]),u=qe((0,l.useStateFromStores)([E.default],(function(){return null!=t.id&&""!==t.id?E.default.getEmbeddedActivitiesForChannel(t.id):E.NO_ACTIVITIES})),1)[0],s=(0,l.useStateFromStoresObject)([E.default],(function(){return{userInActivity:null!=E.default.getSelfEmbeddedActivityForChannel(t.id)}})).userInActivity,d=(0,h.useAnalyticsContext)();a.useEffect((function(){null!=n&&(0,g.fetchEmbeddedActivities)(n)}),[n]);var f=(0,S.useFreeActivityIndicator)({guildId:n}).shouldShowFreeIndicator,c=!i,p=i?ke.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY:ke.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS;return r?Je(_e.default,{text:p},void 0,(function(e){var n;return a.createElement(pe.default,Xe({},e,{fullWidth:!0,size:pe.default.Sizes.SMALL,onClick:function(){var n;(0,I.default)(t,d.location,!1);null===(n=e.onClick)||void 0===n||n.call(e)},disabled:c,className:(0,
o.default)(Ue.default.button,Ue.default.buttonColor,(n={},n[Ue.default.buttonActive]=s||null!=u,n[Ue.default.disabled]=c,n)),wrapperClassName:Ue.default.button}),f?rt:null,Je(be.default,{className:Ue.default.buttonIcon}))})):null}at.displayName="ConnectedActivityButton";function ot(e){var t,n,r=e.channel,i=e.canGoLive,u=(0,l.useStateFromStores)([se.default],(function(){return se.default.getCurrentUser()})),s=(0,l.useStateFromStoresArray)([te.default],(function(){return te.default.getAllActiveStreams()})),d=(0,K.default)(r),f=r.getGuildId(),c=(0,O.default)(f),p=(0,l.useStateFromStoresObject)([E.default],(function(){return null!=E.default.getSelfEmbeddedActivityForChannel(r.id)})),v=G.default.useExperiment({guildId:null!=f?f:""}).allowSoundboard,y=a.useCallback((function(){(0,X.default)(f,r.id,Le.AnalyticsSections.ACTIVITY_PANEL)}),[f,r.id]),h=s.find((function(e){return e.ownerId===(null==u?void 0:u.id)})),m=(0,$.useOtherStreams)(r,u,s);n=null==h?i?y:Z.default:function(){return(0,
w.default)(h)};var _=null!=h||m.length>0,g=d?ke.default.Messages.SHARE_YOUR_SCREEN:ke.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE,S=!d,b=p||c||v,I=Je(Ie.default,{className:(0,o.default)(Ue.default.buttonIcon,(t={},t[Ue.default.withText]=!b,t))});return Je(he.default,{renderPopout:function(e){var t=e.closePopout;return Je($.default,{channel:r,currentUser:u,activeStreams:s,onClose:t,handleGoLive:i?y:Z.default})},position:he.default.Positions.TOP,align:he.default.Align.CENTER,animation:he.default.Animation.FADE},void 0,(function(e){var t=e.onClick,r=Qe(e,Be);return Je(_e.default,{text:g},void 0,(function(e){var i;return a.createElement(pe.default,Xe({},e,{size:pe.default.Sizes.SMALL,onClick:function(r){var a;_?t(r):n();null===(a=e.onClick)||void 0===a||a.call(e)},disabled:S,className:(0,o.default)(Ue.default.button,Ue.default.buttonColor,(i={},i[Ue.default.buttonActive]=null!=h,i[Ue.default.disabled]=S,i))},_?r:null,{wrapperClassName:Ue.default.button
}),b?I:Je(ve.default,{align:ve.default.Align.CENTER},void 0,I,ke.default.Messages.GO_LIVE_SHARE_SCREEN))}))}))}ot.displayName="ConnectedStreamButton";var it=Je(tt,{}),ut=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;$e(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).canScreenshare=function(){var e=t.props,n=e.channel;return e.canGoLive&&null!=n&&null!=n.getGuildId()};t.handleNoiseCancellationClicked=function(){var e=t.props.noiseCancellationActive;d.default.setNoiseCancellation(!e,{section:Le.AnalyticsSections.NOISE_CANCELLATION_POPOUT})};t.handleGoLive=function(){var e=t.props,n=e.guild,r=e.channel,a=null!=r?r.getGuildId():null!=n?n.id:null;null!=a&&(0,X.default)(a,r.id,Le.AnalyticsLocations.VOICE_PANEL)};t.handleChannelLinkClick=function(e){var n,r=t.props,a=r.guild,o=r.channel;(0,i.default)(null!=o,"Channel is null during navigation click")
;e.stopPropagation();c.default.channelListScrollTo(null!==(n=null==a?void 0:a.id)&&void 0!==n?n:Le.ME,o.id)};t.handleChannelLinkContextMenu=function(e){var r=t.props.channel;(0,f.openContextMenuLazy)(e,Ke(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7771).then(n.bind(n,7771));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Xe({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleCloseVoicePanelIntroduction=function(){j.hideHotspot(je.HotspotLocations.VOICE_PANEL_INTRODUCTION)};t.renderVoicePanelIntroduction=function(){return Je("div",{className:(0,o.default)(Ue.default.voicePanelIntroductionWrapper,"theme-light")},void 0,Je(Ae.default,{className:Ue.default.voicePanelIntroductionHeader,size:Ae.default.Sizes.SIZE_16},void 0,ke.default.Messages.VOICE_PANEL_INTRODUCTION_HEADER),Je(Pe.default,{
className:Ue.default.voicePanelIntroductionText,size:Pe.default.Sizes.SIZE_14},void 0,ke.default.Messages.VOICE_PANEL_INTRODUCTION_TEXT),Je(pe.default,{className:Ue.default.voicePanelIntroductionButton,color:pe.default.Colors.BRAND,onClick:t.handleCloseVoicePanelIntroduction},void 0,ke.default.Messages.VOICE_PANEL_INTRODUCTION_CLOSE))};return t}var r=t.prototype;r.renderConnectionStatus=function(){var e=this.props,t=e.channel,n=e.guild,r=e.rtcConnectionQuality,a=e.rtcConnectionState,o=e.rtcConnectionLastPing,i=e.hasVideo;if(null==t)return null;var l,s=(0,P.computeChannelName)(t,se.default,le.default,!0);if(null!=n){l=Le.Routes.CHANNEL(n.id,t.id);s=s+" / "+n.name}else l=Le.Routes.CHANNEL(Le.ME,t.id);return Je(v.default,{statusTextClassName:Ue.default.statusWithPopout,quality:r,state:a,lastPing:o,hasVideo:i},void 0,Je(N.default,{},void 0,Je(u.Link,{to:l,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu},void 0,Je(Te.default,{className:Ue.default.channel
},void 0,s))))};r.renderNoiseCancellation=function(){var e=this.props,t=e.noiseCancellationActive,n=e.noiseCancellationError;return!e.hasLayers&&n?Je(_e.default,{text:ke.default.Messages.NOISE_CANCELLATION_CPU_OVERUSE,tooltipClassName:Ue.default.noiseCancellationTooltip,forceOpen:!0},void 0,(function(e){var t=e["aria-label"];return Je(Ce.default,{"aria-label":t,tooltipText:null,disabled:!0,icon:Oe.default})})):Je(he.default,{position:he.default.Positions.TOP,align:he.default.Align.CENTER,renderPopout:function(){return it}},"krisp-popout",(function(e,n){var r=n.isShown;return a.createElement(Ce.default,Xe({},e,{tooltipClassName:Ue.default.noiseCancellationTooltip,tooltipText:r?null:ke.default.Messages.NOISE_CANCELLATION_TOOLTIP,icon:t?Se.default:Oe.default}))}))};r.renderVoiceStates=function(){var e=this.props,t=e.channel,n=e.voiceStates,r=e.showVoiceStates;return null!=t&&r&&0!==n.length?Je(De.default,{voiceStates:n,channel:t,className:Ue.default.voiceUsers}):null}
;r.renderChannelButtons=function(){var e=this.props,t=e.channel,n=e.canGoLive,r=e.canUseSoundboard;return null==t||t.type===Le.ChannelTypes.GUILD_STAGE_VOICE?null:Je("div",{className:Ue.default.actionButtons},void 0,Je(nt,{channel:t}),Je(ot,{channel:t,canGoLive:n}),Je(at,{channel:t}),r&&(0,F.default)(t)?Je(B.default,{className:(0,o.default)(Ue.default.button,Ue.default.buttonColor),iconClassName:Ue.default.buttonIcon,channel:t}):null)};r.render=function(){var e=this,t=this.props,n=t.channel,r=t.enableAudioQualityUpsell,a=t.guild,o=t.noiseCancellationSupported,i=t.shouldShowVoicePanelIntroduction;if(null==n)return null;var u=Je(we.default,{channel:n}),l=Je(he.default,{renderPopout:this.renderVoicePanelIntroduction,position:he.default.Positions.TOP,align:he.default.Align.CENTER,animation:he.default.Animation.TRANSLATE,shouldShow:i},void 0,(function(){return Je("div",{className:Ue.default.container},void 0,Je(ve.default,{className:Ue.default.connection,align:ve.default.Align.CENTER
},void 0,Je("div",{className:Ue.default.inner},void 0,e.renderConnectionStatus()),Je(ve.default,{grow:0,shrink:0},void 0,o?e.renderNoiseCancellation():null,u)),e.renderVoiceStates(),e.renderChannelButtons())})),d=r&&null!=a&&a.premiumTier<Le.BoostedGuildTiers.TIER_3;if(null==a)return l;var f=Je(L.default,{guild:a},void 0,l);return Je(M.default,{contentTypes:d?[s.DismissibleContent.VOICE_QUALITY_BOOSTING_UPSELL_TOOLTIP]:[]},void 0,(function(e){return e.visibleContent===s.DismissibleContent.VOICE_QUALITY_BOOSTING_UPSELL_TOOLTIP?f:l}))};return t}(a.PureComponent);ut.displayName="RTCConnection";function lt(e){var t=(0,l.useStateFromStores)([se.default],(function(){return se.default.getCurrentUser()})),n=(0,l.useStateFromStoresObject)([ue.default],(function(){return{guildId:ue.default.getGuildId(),channelId:ue.default.getChannelId(),rtcConnectionQuality:ue.default.getQuality(),rtcConnectionState:ue.default.getState(),rtcConnectionLastPing:ue.default.getLastPing(),
rtcConnectionConnected:ue.default.isConnected()}})),r=n.guildId,o=n.channelId,i=Qe(n,Ve),u=(0,l.useStateFromStores)([re.default],(function(){return re.default.getGuild(r)}),[r]),s=(0,l.useStateFromStores)([ne.default],(function(){return ne.default.getChannel(o)}),[o]),d=(0,l.useStateFromStoresObject)([oe.default],(function(){return{noiseCancellationSupported:oe.default.isNoiseCancellationSupported(),noiseCancellationActive:oe.default.getNoiseCancellation(),noiseCancellationError:oe.default.isNoiseCancellationError(),canGoLive:(0,R.default)(oe.default)}})),f=(0,l.useStateFromStores)([oe.default,k.default],(function(){return k.default.hasHotspot(je.HotspotLocations.VOICE_PANEL_INTRODUCTION)&&(0,Re.isNewUser)(t)&&!oe.default.isInteractionRequired()&&!(null==s?void 0:s.isGuildStageVoice())})),c=(0,l.useStateFromStores)([de.default],(function(){return null!=o&&de.default.hasVideo(o)}),[o]),p=(0,l.useStateFromStores)([te.default],(function(){
return null!=t?te.default.getActiveStreamForUser(t.id):null}),[t]),v=(0,l.useStateFromStores)([ae.default],(function(){return ae.default.hasLayers()})),y=(0,l.useStateFromStores)([ee.default],(function(){return ee.default.isViewingRoles(r)})),h=(0,l.useStateFromStores)([ie.default],(function(){return y&&!ie.default.can(Le.Permissions.VIEW_CHANNEL,s)}),[y,s]),m=H.RtcPanelShowVoiceStates.useSetting(),_=qe((0,l.useStateFromStoresArray)([fe.default,V.default],(function(){return(null==s?void 0:s.isGuildStageVoice())?[V.default.getMutableParticipants(s.id,W.StageChannelParticipantNamedIndex.SPEAKER),V.default.getParticipantsVersion(s.id),null]:[null,null,null!=s?fe.default.getVoiceStatesForChannel(s):null]}),[s]),3),g=_[0],E=_[1],S=_[2],O=a.useMemo((function(){var e,t;return null!==(e=null!==(t=null==g?void 0:g.map((function(e){return{user:e.user,nick:e.userNick,voiceState:e.voiceState}})))&&void 0!==t?t:S)&&void 0!==e?e:[]}),[g,E,S]),b=qe(a.useState(!1),2),I=b[0],A=b[1]
;a.useEffect((function(){(y||h)&&A(!1)}),[y,h,A]);var P=(0,D.default)(null!=r?r:"").enableAudioQualityUpsell,M=G.default.useExperiment({guildId:null!=r?r:""},{autoTrackExposure:!0}).allowSoundboard,N=(0,x.useIsSoundboardSupported)();return Je((0,T.default)(C.default.RTC_PANEL).AnalyticsLocationProvider,{},void 0,Je("div",{className:Ue.default.wrapper},void 0,a.createElement(ut,Xe({},e,d,i,{guild:u,channel:s,hasVideo:c,selfStream:p,hasLayers:v,voiceStates:O,showVoiceStates:m,shouldShowVoicePanelIntroduction:f,enableAudioQualityUpsell:P,canUseSoundboard:M&&N})),!I&&y&&null!=r?Je("div",{className:Ue.default.viewAsRolesWarning},void 0,Je(Pe.default,{size:Pe.default.Sizes.SIZE_14,className:Ue.default.viewAsRolesWarningText},void 0,h?ke.default.Messages.VIEW_AS_ROLES_HIDDEN_VC_WARNING:ke.default.Messages.VIEW_AS_ROLES_VOICE_WARNING),Je(pe.default,{className:Ue.default.viewAsRolesWarningButton,size:pe.default.Sizes.MIN,onClick:function(){A(!0)}},void 0,ke.default.Messages.DISMISS)):null))}
lt.displayName="ConnectedRTCConnection";var st=(0,y.default)(lt);t.default=st},547636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel;return t.isGuildStageVoice()?y(h,{channel:t}):y(m,{channel:t})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(136873)),o=n(452453),i=p(n(435903)),u=n(559133),l=p(n(913687)),s=p(n(331546)),d=p(n(233121)),f=p(n(139574)),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.channel;return y(f.default,{tooltipText:c.default.Messages.STAGE_CHANNEL_LEAVE_BUTTON,onClick:function(){(0,l.default)(t)?(0,u.openEndStageModal)(t):a.default.disconnect()},icon:d.default})}h.displayName="DisconnectStageButton";function m(e){var t=e.channel;return y(f.default,{tooltipText:c.default.Messages.DISCONNECT_SELF,onClick:function(){(0,i.default)(t)?(0,o.openEndEventModal)(t):a.default.disconnect()},icon:s.default})}m.displayName="DisconnectVoiceButton"},529025:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=U;var r,a=C(n(667294)),o=b(n(294184)),i=n(536211),u=n(378158),l=b(n(711195)),s=b(n(414068)),d=b(n(423046)),f=b(n(397228)),c=C(n(219849)),p=b(n(16941)),v=b(n(160629)),y=b(n(730977)),h=b(n(324582)),m=b(n(287317)),_=b(n(155393)),g=b(n(485308)),E=b(n(582945)),S=b(n(247001)),O=b(n(270711));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}var D={offset:2},L={serverDeaf:{icon:h.default,colorize:!0,
getStatus:function(){return S.default.Messages.SERVER_DEAFENED}},serverMute:{icon:m.default,colorize:!0,getStatus:function(){return S.default.Messages.SERVER_MUTED}},deaf:{icon:h.default,colorize:!1,getStatus:function(){return S.default.Messages.VOICE_CHANNEL_DEAFENED}},mute:{icon:m.default,colorize:!1,getStatus:function(){return S.default.Messages.VOICE_CHANNEL_MUTED}}};function j(e){var t,r,d=e.channel,c=e.user,h=e.nick,m=e.mute,_=e.deaf,g=e.serverMute,E=e.serverDeaf,b=(0,i.useStateFromStores)([f.default],(function(){return f.default.isSpeaking(c.id)||f.default.isSoundSharing(c.id)}),[c.id]),I=null!==(t=d.getGuildId())&&void 0!==t?t:void 0,C=c.getAvatarURL(d.guild_id,24),T=null!=h?h:c.username,A=null!==(r=E?L.serverDeaf:_?L.deaf:g?L.serverMute:m?L.mute:void 0)&&void 0!==r?r:{},P=A.icon,R=A.colorize,j=A.getStatus,k=null!=j?S.default.Messages.VOICE_PANEL_USER_TOOLTIP.format({userName:T,status:j()}):T;function U(e){null!=I?(0,
u.openContextMenuLazy)(e,w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{user:c,guildId:I,channelId:d.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)})))):(0,u.openContextMenuLazy)(e,w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{user:c,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))}return M(v.default,{preload:function(){return(0,l.default)(c.id,c.getAvatarURL(I,80),{guildId:I})},
position:v.default.Positions.TOP,renderPopout:function(e){return a.createElement(s.default,N({userId:c.id,guildId:I,channelId:d.id},e))}},void 0,(function(e){return M(y.default,{text:k},void 0,(function(t){var n,r;return a.createElement(p.default,N({},t,e,{className:O.default.avatarContainer,onContextMenu:U,focusProps:D}),M("div",{className:(0,o.default)(O.default.avatar,(n={},n[O.default.speaking]=b,n)),style:{backgroundImage:"url("+C+")"}},void 0,null!=P?M(P,{className:(0,o.default)(O.default.avatarIconOverlay,(r={},r[O.default.avatarIconRed]=R,r)),width:16,height:16,foreground:O.default.avatarIconRed}):null))}))}))}j.displayName="User";function k(e,t){for(var n,r=[],a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(n=a()).done;){var o=n.value;if(o.user.id!==t){if(r.length>=7)return[r,!0];r.push(o)}}return[r,!1]}function U(e){var t=e.voiceStates,n=e.channel,r=e.className,u=T(a.useState(!1),2),l=u[0],s=u[1],f=l?g.default:_.default,p=M(c.default,{className:O.default.expandButton,onClick:function(){return s(!l)},color:c.CircleIconButtonColors.PRIMARY,size:c.CircleIconButtonSizes.SIZE_24,tooltip:l?S.default.Messages.VOICE_PANEL_HIDE_EXTRAS:S.default.Messages.VOICE_PANEL_SHOW_EXTRAS,icon:M(f,{width:16,height:16}),focusProps:D}),v=(0,i.useStateFromStores)([d.default],(function(){return d.default.getId()}),[]),y=T(k(t,v),2),h=y[0],m=y[1],b=m&&l?t:h;return b.length<=0?null:M(E.default,{className:(0,o.default)(O.default.scroller,r),fade:!0},void 0,M("div",{className:O.default.voiceUsers,role:"group",
"aria-label":S.default.Messages.VOICE_PANEL_USERS_A11Y_LABEL},void 0,b.map((function(e){var t=e.user,r=e.nick,a=e.voiceState;return t.id!==v?M(j,{channel:n,user:t,nick:r,mute:a.isVoiceMuted(),deaf:a.isVoiceDeafened(),video:a.selfVideo,serverMute:a.mute,serverDeaf:a.deaf},t.id):null})),m?p:null))}U.displayName="RTCConnectionVoiceUsers"},913914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(378158),i=f(n(252149)),u=f(n(530250)),l=f(n(628551)),s=f(n(582945)),d=f(n(827955));function f(e){
return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.handleContextMenu=function(e,t){(0,o.openContextMenuLazy)(e,h(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,v({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderUser=function(e){var t=this;return null==e?null:p(u.default,{className:d.default.user,align:u.default.Align.CENTER,onContextMenu:function(n){
null!=e&&t.handleContextMenu(n,e)}},e.id,p(l.default,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:l.default.Sizes.SIZE_24,className:d.default.avatar}),p(i.default,{user:e,className:d.default.tag,usernameClass:d.default.username,discriminatorClass:d.default.discriminator}))};r.render=function(){var e=this,t=this.props,n=t.party,r=t.header,a=n.map((function(t){return e.renderUser(t)}));return p("div",{className:d.default.userList},void 0,p("div",{className:d.default.header},void 0,r),p(s.default,{className:d.default.content,fade:!0},void 0,a))};return t}(a.PureComponent);_.displayName="UserListPopout";var g=_;t.default=g},805918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(572935)),u=n(678928),l=n(687549),s=E(n(178504)),d=E(n(122913)),f=E(n(689389)),c=E(n(290629)),p=E(n(728429)),v=n(956506),y=n(247726),h=E(n(40049)),m=n(997988),_=n(770348),g=E(n(247001));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.className,n=e.style,r=e.channel,E=e.draftType,S=b(a.useState(!0),2),I=S[0],C=S[1],T=(0,o.useStateFromStores)([d.default],(function(){return d.default.hasLayers()})),A=(0,o.useStateFromStores)([f.default],(function(){return null!=r&&f.default.can(_.Permissions.ATTACH_FILES,r)}),[r]),P=null!=(0,o.useStateFromStores)([i.default],(function(){return i.default.getActiveCommand(r.id)})),M=r.getGuildId(),N=E===l.DraftType.FirstThreadMessage,R=a.useMemo((function(){return!T&&(r.isPrivate()&&!r.isManaged()||null!=M&&A&&s.default.canChatInGuild(M))}),[A,r,M,T]),w=N?g.default.Messages.UPLOAD_TO_NEW_THREAD:I?g.default.Messages.UPLOAD_TO.format({destination:(0,u.computeChannelName)(r,p.default,c.default,!0)}):g.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION;return P||!R?null:O(h.default,{className:t,style:n,title:w,description:N?g.default.Messages.UPLOAD_AREA_NEW_THREAD_HELP:g.default.Messages.UPLOAD_AREA_HELP,
icons:m.DEFAULT_FILE_UPLOAD_ICONS,onDrop:function(e){if(P)return!1;if(R&&null!=r){(0,y.promptToUpload)(e,r,E,{requireConfirm:I,showLargeMessageDialog:!1});v.ComponentDispatch.dispatch(_.ComponentActions.TEXTAREA_FOCUS)}},onDragClear:function(){return C(!0)},onDragOver:function(e){if(P)return!1;N||e.shiftKey!==I||C(!e.shiftKey)}})}C.displayName="ChannelUploadArea";var T=C;t.default=T},285209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=v(n(441143)),i=n(536211),u=v(n(939949)),l=n(825185),s=n(914905),d=v(n(816624)),f=v(n(728429)),c=v(n(784241)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){
o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.transitionState,n=e.onClose,r=(0,i.useStateFromStores)([d.default],(function(){return d.default.getErrors()})),v=(0,i.useStateFromStores)([d.default],(function(){return d.default.getFormState()})),y=(0,i.useStateFromStores)([f.default],(function(){
var e=f.default.getCurrentUser();(0,o.default)(null!=e,"EmailVerificationModal: user cannot be undefined");return e})),_=null!=y.email,g=m(a.useState(!0),2),E=g[0],S=g[1],O=v===p.FormStates.SUBMITTING;function b(e){var t,n;return null!==(t=null==r||null===(n=r[e])||void 0===n?void 0:n[0])&&void 0!==t?t:""}var I=b("email"),C=b("password");return h(c.default,{transitionState:t,email:y.email,emailError:I,passwordError:C,submitting:O,canResend:E&&!O&&_&&0===I.length&&0===C.length,onChangeEmailClick:function(){S(!1)},onVerify:function(e,t){(0,l.saveAccountChanges)({email:e,password:t}).then((function(e){var t;(null==e?void 0:e.ok)||null==(null==e||null===(t=e.body)||void 0===t?void 0:t.username)||(0,s.showInvalidUsernameToast)()}));S(!0)},onResend:function(){u.default.verifyResend()},onClose:n})};g.displayName="EmailVerificationModal";var E=g;t.default=E},403607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=t.EMAIL_VERIFICATION_MODAL_KEY=void 0;t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(47354),i=n(536211),u=M(n(118915)),l=M(n(939949)),s=n(264720),d=n(825185),f=M(n(88509)),c=M(n(145371)),p=M(n(14096)),v=M(n(185948)),y=n(947472),h=M(n(257867)),m=M(n(871778)),_=M(n(728429)),g=M(n(288800)),E=M(n(749033)),S=M(n(502197)),O=n(194322),b=M(n(776360)),I=M(n(285209)),C=M(n(54725)),T=n(770348),A=n(52656),P=M(n(247001));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j="Email Verification";t.EMAIL_VERIFICATION_MODAL_KEY=j;var k="PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY";t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=k;function U(){var e=(0,i.useStateFromStoresObject)([_.default,h.default,m.default],(function(){return{user:_.default.getUser(),
action:h.default.getAction(),theme:m.default.theme}})),t=e.user,n=e.action,r=e.theme,M=null!=t&&null!=t.phone,N=T.VerificationTypes.CAPTCHA;n===T.UserRequiredActions.REQUIRE_VERIFIED_EMAIL&&M?N=T.VerificationTypes.EMAIL:n===T.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?N=T.VerificationTypes.EMAIL_OR_PHONE:n===T.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(N=T.VerificationTypes.PHONE);var L=D(a.useState(0),2),U=L[0],G=L[1],F=(0,c.default)(N);(0,v.default)({type:o.ImpressionTypes.MODAL,name:o.ImpressionNames.USER_ACTION_REQUIRED,properties:{verification_type:N}},{},[N]);var x=function(){(0,d.accountDetailsInit)();(0,O.openModal)((function(e){return a.createElement(I.default,e)}),{modalKey:j,Layer:E.default})};a.useEffect((function(){p.default.disable();return function(){p.default.enable()}}),[]);a.useEffect((function(){F===T.VerificationTypes.PHONE&&N===T.VerificationTypes.EMAIL&&(0,O.openModal)((function(e){return a.createElement(f.default,w({},e,{
title:P.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_TITLE,body:P.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_BODY,confirmText:P.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_CONFIRM}))}),{modalKey:k,Layer:E.default,onCloseCallback:x})}),[N,F]);return R(g.default,{type:N,captchaKey:U,onCaptchaVerify:function(e){u.default.post({url:T.Endpoints.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0}).then(s.popLayer,(function(){G((function(e){return e+1}))}))},theme:r,onClick:function(e){e===T.VerificationTypes.EMAIL_OR_PHONE||e===T.VerificationTypes.EMAIL?x():(0,O.openModal)((function(e){return a.createElement(C.default,w({reason:y.ChangePhoneReason.USER_ACTION_REQUIRED},e))}),{modalKey:A.PHONE_VERIFICATION_MODAL_KEY,Layer:E.default})},onLogout:function(){return(0,O.openModal)((function(e){return a.createElement(S.default,w({header:P.default.Messages.LOGOUT,confirmText:P.default.Messages.LOGOUT,cancelText:P.default.Messages.CANCEL,onConfirm:function(){return l.default.logout()}
},e),R(b.default,{size:b.default.Sizes.SIZE_16},void 0,P.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))}),{Layer:E.default})}})}U.displayName="Verification"},259880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=c;t.open=function(){f=(0,i.openModal)((function(e){return r.createElement(o.default,d({title:u.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:u.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,minorText:u.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:p,onConfirm:c,confirmText:u.default.Messages.OKAY},e))}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var f=null;function c(){null!==f&&(0,i.closeModal)(f);f=null}function p(){a.default.setSilenceWarning(!1);c()}},294398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return a.createElement(a.Fragment,null,D,L,j,k,U,G,F)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(747868),u=n(104144),l=n(567186),s=O(n(607209)),d=O(n(423046)),f=O(n(644263)),c=O(n(30098)),p=O(n(635014)),v=O(n(919935)),y=O(n(893160)),h=O(n(211136)),m=O(n(397228)),_=O(n(387692)),g=O(n(487372)),E=n(179379),S=n(770348);function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n){a.useEffect((function(){var r=t(),a=new o.BatchedStoreListener(e,(function(){var e=t(),a=n(r,e);null==a||v.default.isSoundDisabled(a)||(0,E.playSound)(a,.4);r=e}));a.attach("useSound");return function(){return a.detach()}}))}function T(){C([p.default],(function(){return{selfMute:p.default.isSelfMute(),selfDeaf:p.default.isSelfDeaf(),audioPermissionReady:p.default.isNativeAudioPermissionReady()}}),(function(e,t){var n=t.selfMute,r=t.selfDeaf,a=t.audioPermissionReady;if(e.audioPermissionReady&&a)return e.selfDeaf!==r?r?"deafen":"undeafen":e.selfMute!==n?n?"mute":"unmute":void 0}));return null}function A(){C([f.default,y.default,h.default],(function(){var e=f.default.getChannel(h.default.getVoiceChannelId());return{channelType:null==e?void 0:e.type,disconnected:y.default.isDisconnected()}}),(function(e,t){var n=t.channelType,r=t.disconnected,a=e.channelType,o=e.disconnected;if(o&&o!==r){
if(null!=n&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))return;return"user_join"}if(!o&&o!==r){if(null!=a&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(a))return;return"disconnect"}}));return null}function P(){C([m.default],(function(){return m.default.isCurrentUserSpeaking()}),(function(e,t){if(e!==t){var n=p.default.isSelfMute();if(p.default.getMode()===S.InputModes.PUSH_TO_TALK&&!n)return t?"ptt_start":"ptt_stop"}}));return null}function M(){C([p.default],(function(){return p.default.isSelfMutedTemporarily()}),(function(e,t){if(e!==t){var n=p.default.isSelfMute();if(p.default.getMode()===S.InputModes.VOICE_ACTIVITY&&!n)return t?"ptt_stop":"ptt_start"}}));return null}function N(){C([_.default],(function(){return _.default.userHasBeenMovedVersion}),(function(e,t){if(e!==t)return"user_moved"}));return null}function R(){C([h.default,_.default],(function(){var e=h.default.getVoiceChannelId();if(null==e)return u.RequestToSpeakStates.NONE;var t=_.default.getVoiceStateForChannel(e);return(0,
u.getAudienceRequestToSpeakState)(t)}),(function(e,t){if(e!==t&&t===u.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}));return null}function w(){C([h.default,s.default,d.default,_.default,f.default],(function(){var e,t,n=h.default.getVoiceChannelId(),r=d.default.getId(),a=0,o=[],u=null,l=0,c=s.default.getAllActiveStreams();if(null!=n){var p=f.default.getChannel(n);if(null!=p){t=p.type;a=g.default.countVoiceStatesForChannel(p.id)-1;o=s.default.getAllApplicationStreamsForChannel(p.id).map((function(e){return e.ownerId}))}}var v=null;(null===(e=v=1===c.length?c[0]:null!=r?s.default.getActiveStreamForUser(r):null)||void 0===e?void 0:e.state)===S.ApplicationStreamStates.CONNECTING&&(v=null);if(null!=v){u=(0,i.encodeStreamKey)(v);l=s.default.getViewerIds(u).filter((function(e){return e!==r})).length}return{channelType:t,voiceChannelId:n,voiceChannelUserCount:a,streamingUserIds:o,singleActiveStreamKey:u,singleActiveStreamViewerCount:l,currentUserId:r,
allActiveStreams:c}}),(function(e,t){var n=t.channelType,r=t.voiceChannelId,a=t.voiceChannelUserCount,o=t.streamingUserIds,i=t.singleActiveStreamKey,u=t.singleActiveStreamViewerCount,s=t.currentUserId;if(e.voiceChannelId===r&&null!=r&&!(function(e){var t=f.default.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=c.default.getGuild(n);return null!=r&&r.afkChannelId===t.id}(r)||null!=n&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))){var d=null!=i&&e.singleActiveStreamKey===i,p=o.some((function(t){return!e.streamingUserIds.includes(t)})),v=e.allActiveStreams.map((function(e){return e.ownerId})),y=e.streamingUserIds.some((function(e){return!o.includes(e)&&(e===s||v.includes(e))}))
;return p?"stream_started":y?"stream_ended":e.singleActiveStreamViewerCount<=25&&d&&u>e.singleActiveStreamViewerCount?"stream_user_joined":e.voiceChannelUserCount<=25&&a>e.voiceChannelUserCount?"user_join":e.voiceChannelUserCount<=25&&a<e.voiceChannelUserCount?"user_leave":e.singleActiveStreamViewerCount<=25&&d&&u<e.singleActiveStreamViewerCount?"stream_user_left":void 0}}));return null}var D=I(T,{}),L=I(A,{}),j=I(P,{}),k=I(M,{}),U=I(N,{}),G=I(w,{}),F=I(R,{})},244165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=r.useRef(null),n=r.useCallback((function(n){if(null!=e){"function"==typeof e?e(n):e.current=n;t.current=n}}),[e]);return[t,n]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},267115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,l.useModalsStore)((function(e){return t=e,!Object.entries(t).every((function(e){var t=c(e,2);t[0];return 0===t[1].length}));var t})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.isOpen()})),n=(0,a.useStateFromStores)([i.default],(function(){return i.default.hasLayers()})),d=c(r.useState(!1),2),f=d[0],p=d[1],v=(0,o.useWindowDispatch)();r.useEffect((function(){function e(){p(!0)}function t(){p(!1)}v.subscribe(s.ComponentActions.POPOUT_SHOW,e);v.subscribe(s.ComponentActions.POPOUT_HIDE,t)
;return function(){v.unsubscribe(s.ComponentActions.POPOUT_SHOW,e);v.unsubscribe(s.ComponentActions.POPOUT_HIDE,t)}}),[v]);return e||t||f||n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(205562),i=d(n(122913)),u=d(n(433512)),l=n(194322),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},876647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e){var t=(i=(0,r.useState)((function(){return window.matchMedia(e).matches})),u=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(i,u)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(i,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],o=t[1];var i,u;(0,r.useEffect)((function(){
var t=window.matchMedia(e);function n(e){var t=e.matches;o(t)}t.addEventListener("change",n);return function(){t.removeEventListener("change",n)}}),[e]);return n};var r=n(667294);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},448549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.cancelAll=function(){o&&speechSynthesis.cancel()};t.createUtterance=i;t.speak=function(e,t,n){if(o){var r=i(e,n);u(r,t);return r}};t.speakUtterance=u;t.supported=void 0;var r,a=(r=n(91603))&&r.__esModule?r:{default:r};var o=null!=window.speechSynthesis;t.supported=o;function i(e,t){var n=e.replace(/(https?:\/\/[^\s]+)/g,(function(e){var t=e.match(/^https?:\/\/(?:www\.)?([^/?#]+)(?:[/?#]|$)/i);return null!=t?t[1]:""}));null!=t&&n.length>t&&(n=(n=n.substr(0,t)).substr(0,Math.min(n.length,n.lastIndexOf(" "))));var r=new SpeechSynthesisUtterance(n);r.rate=a.default.speechRate;return r}function u(e,t){if(o){e.voice=t
;speechSynthesis.speak(e)}}},635004:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(496486)),a=n(91817),o=i(n(791548));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e){var t=this;this._subscriptions={};this._unsubscriptions={};this._unsubscribe=new a.DelayedCall(6e4,(function(){return t.flushUnsubscriptions()}));this._onChange=e}var t=e.prototype;t.reset=function(){this._subscriptions={};this._unsubscriptions={};this._unsubscribe.cancel()};t.get=function(e){var t,n=null!==(t=this._subscriptions[e])&&void 0!==t?t:{};return r.default.keys(n)};t.clear=function(e){delete this._subscriptions[e];delete this._unsubscriptions[e]};t.subscribe=function(e,t){var n,r,a=null!==(n=this._subscriptions[e])&&void 0!==n?n:{};a[t]=(null!==(r=a[t])&&void 0!==r?r:0)+1;this._subscriptions[e]=a;1===a[t]&&this._onChange(e,this.get(e));this.checkForLeaks(e,t)};t.isSubscribed=function(e,t){
return null!=this._subscriptions[e]&&null!=this._subscriptions[e][t]};t.unsubscribe=function(e,t){var n,r;if(this.isSubscribed(e,t)){var a=null!==(n=this._unsubscriptions[e])&&void 0!==n?n:{};a[t]=(null!==(r=a[t])&&void 0!==r?r:0)+1;this._unsubscriptions[e]=a;1===a[t]&&this._unsubscribe.delay(!1)}};t.checkForLeaks=function(e,t){var n,r,a,i,u=(null!==(n=null===(r=this._subscriptions[e])||void 0===r?void 0:r[t])&&void 0!==n?n:0)-(null!==(a=null===(i=this._unsubscriptions[e])||void 0===i?void 0:i[t])&&void 0!==a?a:0);u>5&&new o.default("GuildMemberSubscriptions").warn("GuildMemberSubscriptions.subscribe(...): Potential reference leak! ("+u+" subscriptions)")};t.flushUnsubscriptions=function(){var e=this;if(!r.default.isEmpty(this._unsubscriptions)){r.default.forEach(this._unsubscriptions,(function(t,n){var a=e._subscriptions[n];r.default.forEach(t,(function(e,t){var n;a[t]=(null!==(n=a[t])&&void 0!==n?n:0)-e;a[t]<=0&&delete a[t]}));r.default.isEmpty(a)&&delete e._subscriptions[n]
;e._onChange(n,e.get(n))}));this._unsubscriptions={}}};return e}();t.default=u},919255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"DEFAULT_RANGES",{enumerable:!0,get:function(){return o.DEFAULT_RANGES}});Object.defineProperty(t,"MINIMUM_RANGE",{enumerable:!0,get:function(){return o.MINIMUM_RANGE}});t.default=void 0;var r=d(n(496486)),a=n(91817),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(490507)),i=d(n(635004)),u=d(n(331449)),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){return null!=e&&"null"!==e&&e!==l.ME&&"undefined"!==e&&e!==l.FAVORITES}var p=function(){function e(e){var t=this;this._members=new i.default((function(e,n){return t._enqueue(e,{members:n})}));this._channels=new o.default((function(e,n){return t._enqueue(e,{channels:n})}));this._threadMemberLists=new u.default((function(e,n){return t._enqueue(e,{thread_member_lists:n})}));this._typing=new Set;this._threads=new Set;this._activities=new Set;this._subscribed=new Set;this._pending={};this._flush=new a.DelayedCall(0,(function(){return t.flush()}));this._onChange=e}var t=e.prototype;t._enqueue=function(e,t){this._pending[e]=f({},this._pending[e],{},t);this._flush.delay()}
;t.reset=function(){this._subscribed.clear();this._pending={};this._members.reset();this._channels.reset();this._threadMemberLists.reset();this._typing.clear();this._threads.clear();this._activities.clear()};t.get=function(e){return{typing:this._typing.has(e),threads:this._threads.has(e),activities:this._activities.has(e),members:this._members.get(e),channels:this._channels.get(e),thread_member_lists:this._threadMemberLists.get(e)}};t.getSubscribedThreadIds=function(){return this._threadMemberLists.getSubscribedThreadIds()};t.forEach=function(e){this._subscribed.forEach(e)};t.clearWithoutFlushing=function(e,t){!t&&this._threads.has(e)||this._subscribed.delete(e);delete this._pending[e];this._members.clear(e);this._channels.clear(e);this._threadMemberLists.clear(e);this._typing.delete(e);t&&this._threads.delete(e);this._activities.delete(e)};t.flush=function(){var e=this;r.default.forEach(this._pending,(function(t,n){e._subscribed.add(n);e._onChange(n,t)}));this._pending={}}
;t.subscribeUser=function(e,t){c(e)&&this._members.subscribe(e,t)};t.unsubscribeUser=function(e,t){c(e)&&this._members.unsubscribe(e,t)};t.subscribeChannel=function(e,t,n){return!!c(e)&&this._channels.subscribe(e,t,n)};t.subscribeThreadMemberList=function(e,t,n){return!!c(e)&&this._threadMemberLists.subscribe(e,t,n)};t.unsubscribeThreadMemberList=function(e,t){return!!c(e)&&this._threadMemberLists.unsubscribe(e,t)};t.subscribeToGuild=function(e){this._subscribeToFeature(e,this._typing,{typing:!0});this._subscribeToFeature(e,this._activities,{activities:!0});this._subscribeToFeature(e,this._threads,{threads:!0})};t._subscribeToFeature=function(e,t,n){if(c(e)&&!t.has(e)){t.add(e);this._enqueue(e,n)}};return e}();t.default=p},331449:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(5387))&&r.__esModule?r:{default:r};function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){function e(e){this._subscriptions={};this._onChange=e}var t=e.prototype;t.reset=function(){this._subscriptions={}};t.get=function(e){return this._get(e).keys()};t.getSubscribedThreadIds=function(){var e=new Set
;for(var t in this._subscriptions)for(var n,r=o(this._subscriptions[t].keys());!(n=r()).done;){var a=n.value;e.add(a)}return e};t._get=function(e){var t;return null!==(t=this._subscriptions[e])&&void 0!==t?t:new a.default({max:3,updateAgeOnGet:!0})};t.clear=function(e){if(e in this._subscriptions){delete this._subscriptions[e];this._onChange(e,[])}};t.subscribe=function(e,t,n){var r=this._get(e);if(r.has(t)){r.set(t,Date.now());return!1}null!=n&&r.has(n)&&r.set(n,Date.now());r.set(t,Date.now());this._subscriptions[e]=r;this._onChange(e,r.keys());return!0};t.unsubscribe=function(e,t){if(!(e in this._subscriptions))return!1;var n=this._subscriptions[e];if(n.has(t)){n.del(t);this._onChange(e,n.keys());return!0}return!1};return e}();t.default=u},697255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.analyze=f;t.createASTHighlighter=function(e){var t=new Set(f(e));return function(e){return p(e,t)}};t.highlightAST=p;t.shouldHighlight=c
;var r=o(n(496486)),a=o(n(470661));function o(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function u(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function l(e){return e.toLowerCase()}function s(e){return i.has(e)}function d(e){return 0===e.length}function f(e){return(0,r.default)(e.split(/\W+/)).map(u).reject(d).map(l).reject(s).map(a.default).value()}function c(e,t){return!d(e=l(u(e)))&&!s(e)&&t.has((0,a.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach((function(e){return p(e,t)}));else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach((function(e){if(c(e,t)){r.length>0&&n.push({type:"text",content:r});n.push({type:"highlight",content:e});r=""}else r+=e}));if(n.length>0){r.length>0&&n.push({type:"text",content:r})
;"text"===e.type?e.content=n:e.content=[{type:"text",content:n}]}}else null!=e.content&&p(e.content,t);return e}},678164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createRolloutExperiment=void 0;t.useActivitiesRolloutExperiments=function(e){r.useEffect((function(){null!=e&&u.forEach((function(t){t.trackExposure({guildId:e})}))}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i=function(e,t){return(0,
a.createExperiment)({kind:"guild",id:t,label:"Exposure tracking for "+e+" (do not override)",defaultConfig:{},treatments:[]})};t.createRolloutExperiment=i;var u=[i("Watch Together","2021-09_watch_together_rollout")]},463821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=m(n(636602)),o=m(n(234161)),i=m(n(177230)),u=m(n(423046)),l=m(n(644263)),s=m(n(893160)),d=m(n(211136)),f=m(n(308920)),c=n(929659),p=n(746920),v=m(n(303798)),y=n(770348),h=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S={},O={},b={};function I(e){var t,n=e.channelId,a=e.embeddedActivity.application_id,o=l.default.getChannel(n);if(null!=o){null===(t=b[a])||void 0===t||t.stop();var i=new r.Timeout;i.start(12e4,(function(){(0,p.stopEmbeddedActivity)(n,a)}));b[a]=i;O[a]=function(e){S[a]=e;f.default.track(y.AnalyticEvents.ACTIVITY_SESSION_JOINED,{channel_id:o.id,guild_id:o.getGuildId(),media_session_id:e.mediaSessionId,activity_session_id:e.activitySessionId,application_id:a})}}}
function C(e){var t,n=e.channelId,r=e.applicationId,a=S[r],o=l.default.getChannel(n),i=v.default.getEmbeddedActivityDurationMs(n,r);if(null!=a&&null!=o){f.default.track(y.AnalyticEvents.ACTIVITY_SESSION_LEFT,{channel_id:o.id,guild_id:o.getGuildId(),media_session_id:a.mediaSessionId,activity_session_id:a.activitySessionId,application_id:r,duration_ms:i});delete O[r];delete S[r];null===(t=b[r])||void 0===t||t.stop();delete b[r]}}function T(e){var t,n,r=e.embeddedActivity,a=e.users,o=u.default.getId();if(a.includes(o)){var i=s.default.getMediaSessionId(),l=r.application_id,d=r.activity_id;if(null!=i&&null!=l&&null!=d){null===(t=O[l])||void 0===t||t.call(O,{mediaSessionId:i,activitySessionId:d});delete O[l];null===(n=b[l])||void 0===n||n.stop();delete b[l]}}}function A(){for(var e,t=d.default.getVoiceChannelId(),n=function(){var n=e.value,r=n.channelId,o=n.application_id;r!==t&&a.default.wait((function(){return(0,p.stopEmbeddedActivity)(r,o)}))
},r=g(v.default.getSelfEmbeddedActivities().values());!(e=r()).done;)n()}function P(e){var t,n=e.channelId,r=e.applicationId,a=e.intent;if(d.default.getVoiceChannelId()===n){var i=v.default.getEmbeddedActivitiesForChannel(n).find((function(e){return e.application_id===r}));null==(null==i||null===(t=i.secrets)||void 0===t?void 0:t.join)?(0,p.startEmbeddedActivity)(n,{application_id:r}):o.default.joinWithSecret(r,i.secrets.join,n,a,!0)}}var M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).handleActivityLaunchFail=function(e){var n=e.error,r=e.applicationId,a=e.guildId;if(c.ActivitiesBebExperiment.getCurrentConfig({guildId:a}).enableBeb&&n.code===y.AbortCodes.INVALID_ACTIVITY_LAUNCH_PREMIUM_TIER)t.showUpsellModal(r);else{var o=h.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_GENERIC;switch(n.code){
case y.AbortCodes.INVALID_ACTIVITY_LAUNCH_NO_ACCESS:o=h.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_ACCESS;break;case y.AbortCodes.INVALID_ACTIVITY_LAUNCH_PREMIUM_TIER:o=h.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_PREMIUM;break;case y.AbortCodes.INVALID_ACTIVITY_LAUNCH_CONCURRENT_ACTIVITIES:o=h.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_CONCURRENT;break;case y.AbortCodes.INVALID_PERMISSIONS:o=h.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS}t.showLaunchErrorModal(o)}};t.handleRPCDisconnect=function(e){var n=e.reason,r=e.application.id;if(null!=r&&null!=n){for(var o,i=function(){var e=o.value,t=e.application_id,n=e.channelId;t===r&&a.default.wait((function(){return(0,p.stopEmbeddedActivity)(n,r)}))},u=g(v.default.getSelfEmbeddedActivities().values());!(o=u()).done;)i();n.code!==y.RPCCloseCodes.CLOSE_NORMAL&&t.showErrorModal(n,r)}};return t}var n=t.prototype;n._initialize=function(){d.default.addChangeListener(A)
;a.default.subscribe(y.ActionTypes.EMBEDDED_ACTIVITY_LAUNCH_FAIL,this.handleActivityLaunchFail);a.default.subscribe(y.ActionTypes.EMBEDDED_ACTIVITY_OPEN,I);a.default.subscribe(y.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,C);a.default.subscribe(y.ActionTypes.EMBEDDED_ACTIVITY_INBOUND_UPDATE,T);a.default.subscribe(y.ActionTypes.EMBEDDED_ACTIVITY_DEFERRED_OPEN,P);a.default.subscribe(y.ActionTypes.RPC_APP_DISCONNECTED,this.handleRPCDisconnect)};n._terminate=function(){d.default.removeChangeListener(A);a.default.unsubscribe(y.ActionTypes.EMBEDDED_ACTIVITY_LAUNCH_FAIL,this.handleActivityLaunchFail);a.default.unsubscribe(y.ActionTypes.EMBEDDED_ACTIVITY_OPEN,I);a.default.unsubscribe(y.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,C);a.default.unsubscribe(y.ActionTypes.EMBEDDED_ACTIVITY_INBOUND_UPDATE,T);a.default.unsubscribe(y.ActionTypes.EMBEDDED_ACTIVITY_DEFERRED_OPEN,P);a.default.unsubscribe(y.ActionTypes.RPC_APP_DISCONNECTED,this.handleRPCDisconnect)};return t}(i.default);t.default=M},676457:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,i,l){void 0===i&&(i=null);var d=o.default.getVoiceChannelId(),f=r.default.getChannel(d),p=null==f?void 0:f.getGuildId(),v=a.default.getGuild(p);if(null==d||null==p||null==v||null==e)return Promise.resolve(!1);var y=v.premiumTier,h=null!==i?e.getPremiumTierLevelForTreatment(i):e.activityPremiumTierLevel;if(null!=y&&null!=h&&y<h){u.ComponentDispatch.dispatch(c.ComponentActions.SHOW_ACTIVITIES_BOOSTING_UPSELL,{applicationId:e.id});return Promise.resolve(!1)}return null!=t?new Promise((function(r){(0,s.default)(t,e,(function(){r(m(d,p,n,e))}),(function(){return r(!1)}),l)})):m(d,p,n,e)};var r=v(n(644263)),a=v(n(30098)),o=v(n(211136)),i=v(n(728429)),u=n(956506),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(746920)),s=v(n(99691)),d=v(n(118685)),f=v(n(139656)),c=n(770348);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(e,t,n,r){return _.apply(this,arguments)}function _(){return(_=h(regeneratorRuntime.mark((function e(t,n,r,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(null!=(o=i.default.getCurrentUser())){e.next=3;break}return e.abrupt("return",!1);case 3:e.next=5;return l.startEmbeddedActivity(t,{application_id:a.id,name:a.name});case 5:(0,f.default)(n,t);(0,d.default)({type:c.AnalyticsGameOpenTypes.LAUNCH,userId:o.id,applicationId:a.id,locationObject:r});return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},698462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useBeb=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=(r=n(30098))&&r.__esModule?r:{
default:r},u=n(929659),l=n(746920),s=n(770348);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}t.useBeb=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getGuild(e)})),n=u.ActivitiesBebExperiment.useExperiment({guildId:null!=e?e:""}),r=n.enableBeb,d=n.exposedToBeb;a.useEffect((function(){null!=e&&u.ActivitiesBebExperiment.trackExposure({guildId:e})}),[e]);a.useEffect((function(){var e=setTimeout((function(){d&&null!=t&&!t.features.has(s.GuildFeatures.EXPOSED_TO_ACTIVITIES_WTP_EXPERIMENT)&&(0,l.enableWtpGuildFeature)(t.id)}),1e4+1e4*Math.random());return function(){return clearTimeout(e)}}),[t,d]);return r}},961135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useEmbeddedActivityLifecycle=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=l(n(423046)),i=n(746920),u=l(n(303798));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.useEmbeddedActivityLifecycle=function(e){var t=o.default.getId(),n=(0,a.useStateFromStoresObject)([u.default],(function(){var n,r=u.default.getSelfEmbeddedActivityForChannel(e.id),a=null===(n=u.default.getEmbeddedActivitiesForChannel(e.id).find((function(e){return e.application_id===(null==r?void 0:r.application_id)})))||void 0===n?void 0:n.userIds,o=null==a?void 0:a.has(t);return{userActivity:r,inActivity:null!=o&&o}
})),l=n.userActivity,s=n.inActivity;r.useEffect((function(){s||(0,i.launchEmbeddedActivity)(e.id)}),[null==l?void 0:l.application_id,e.id,s]);r.useEffect((function(){return function(){null!=(null==l?void 0:l.application_id)&&(0,i.disconnectEmbeddedActivity)(e.id,null==l?void 0:l.application_id)}}),[e.id,null==l?void 0:l.application_id]);return{isLoading:!s}}},220331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,r.useStateFromStoresArray)([i.default,a.default],(function(){return null==e?[]:[].concat(l(i.default.getEnabledAppIds(e)),l([a.default.testModeEmbeddedApplicationId].filter(o.isNotNullish)))}))};var r=n(536211),a=u(n(424099)),o=n(71246),i=u(n(303798));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},186096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useFreeActivityIndicator=void 0;var r=n(536211),a=l(n(30098)),o=n(929659),i=l(n(303798)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}t.useFreeActivityIndicator=function(e){var t=e.guildId,n=e.appId,l=(0,r.useStateFromStores)([a.default],(function(){return a.default.getGuild(t)
})),s=null!=l&&l.premiumTier===u.BoostedGuildTiers.NONE,d=o.ActivitiesBebExperiment.useExperiment({guildId:null!=t?t:""}).hasRotatingActivity,f=(0,r.useStateFromStoresObject)([i.default],(function(){return{shouldShowFreeIndicator:i.default.getState().shouldShowNewActivityIndicator||d&&s&&i.default.shouldShowIndicatorForActivity(n),isRotatingFreeActivity:d&&s&&i.default.getState().currentFreeActivity===n}}));return{shouldShowFreeIndicator:f.shouldShowFreeIndicator,isRotatingFreeActivity:f.isRotatingFreeActivity}}},845260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){void 0===n&&(n=window);var a=(0,o.useStateFromStores)([l.default],(function(){return l.default.keyboardModeEnabled})),f=(0,i.default)(),c=(_=r.useState(!1),g=2,function(e){if(Array.isArray(e))return e}(_)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(_,g)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(_,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=c[0],h=c[1],m=(0,u.useWindowDispatch)();var _,g;r.useEffect((function(){if(t){n.addEventListener("blur",e);return function(){return n.removeEventListener("blur",e)}}function e(){if(f){m.dispatch(d.ComponentActions.POPOUT_CLOSE);s.ComponentDispatch.dispatch(d.ComponentActions.CONTEXT_MENU_CLOSE)}}}),[n,f,t,m]);r.useEffect((function(){var r,o
;if(!a&&y&&t){var i=f;null===(r=e.current)||void 0===r||r.addEventListener("focusout",l);if("IFRAME"!==(null===(o=n.document.activeElement)||void 0===o?void 0:o.tagName)&&!i){var u;null===(u=e.current)||void 0===u||u.focus()}return function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("focusout",l);i=!0}}function l(t){var n=t.relatedTarget;setTimeout((function(){null!=n&&"BUTTON"!==n.tagName||i||v(e)}),100)}}),[t,y,a,e,n,f]);return h};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=n(496486),o=n(536211),i=f(n(267115)),u=n(205562),l=f(n(235879)),s=n(956506),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,a.debounce)((function(e){setTimeout((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),0)}),50)},198016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,a.default)(e).length>0};var r,a=(r=n(220331))&&r.__esModule?r:{default:r}},8611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=new Map;e.forEach((function(e){var a,o,i=null!==(a=e.getPremiumTierLevelForTreatment(t))&&void 0!==a?a:r.BoostedGuildTiers.NONE,u=null!==(o=n.get(i))&&void 0!==o?o:[];u.push(e);n.set(i,u)}));return n}
;var r=n(770348)},645068:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.allowPopups,a=e.allowPointerLock,o=r;t&&(o=[].concat(r,["allow-popups","allow-popups-to-escape-sandbox"]));a&&(o=[].concat(function(e){if(Array.isArray(e))return n(e)}(i=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);return"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["allow-pointer-lock"]));var i;return o.join(" ")};function n(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r=["allow-scripts","allow-same-origin"]},139656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){r.default.getWindowOpen(i.PopoutWindowKeys.CHANNEL_CALL_POPOUT)?(0,a.default)(i.PopoutWindowKeys.CHANNEL_CALL_POPOUT):(0,o.transitionTo)(i.Routes.CHANNEL(e,t))};var r=u(n(902305)),a=u(n(736632)),o=n(139982),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},933577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.applicationId,n=e.size,o=e.names,u=void 0===o?l:o,s=(p=r.useState(null),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}}(p,v)||i(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],f=s[1],c=(0,a.getAssetImage)(t,d,n);var p,v;r.useEffect((function(){(0,a.getAssetIds)(t,u).then((function(e){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=n()).done;){var r=t.value;if(null!=r&&""!==r){f(r);return}}}))}),[t]);return c};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(698243);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=["embedded_cover","embedded_background"]},648379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e){var t,n,r,u=e.channel,s=e.locationObject,m=e.onClose,g=u.guild_id,E=(0,o.useStateFromStores)([l.default],(function(){return l.default.getGuild(g)})),O=null!==(t=null==E?void 0:E.premiumTier)&&void 0!==t?t:h.BoostedGuildTiers.NONE,C=(0,p.default)(g),T=(0,i.default)(C).filter(d.isNotNullish),A=f.ActivitiesBebExperiment.useExperiment({guildId:null!=g?g:""}).treatmentBucket,P=(0,v.default)(T,A),M=(0,o.useStateFromStores)([c.default],(function(){return c.default.getState().currentFreeActivity})),N=null!==(n=null===(r=P.get(h.BoostedGuildTiers.NONE))||void 0===r?void 0:r.reduce((function(e,t){return t.id===M?[t].concat(S(e)):[].concat(S(e),[t])}),[]))&&void 0!==n?n:[];P.set(h.BoostedGuildTiers.NONE,N);var R=1===N.length?N[0]:null;return a.createElement(a.Fragment,null,null!=R?b(y.default,{application:R,large:!0,channel:u,locationObject:s,onClose:m
}):null,(w=[h.BoostedGuildTiers.NONE,h.BoostedGuildTiers.TIER_1,h.BoostedGuildTiers.TIER_2,h.BoostedGuildTiers.TIER_3].map((function(e){var t=P.get(e),n=null==t?void 0:t.filter((function(e){return e.id!==(null==R?void 0:R.id)}));return null==n||0===n.length?null:b(a.Fragment,{},"shelf-tier-"+e,e>h.BoostedGuildTiers.NONE?b(I,{tier:e,isUnlocked:O>=e}):null,b("div",{className:_.default.shelf},void 0,n.map((function(e){return b(y.default,{application:e,channel:u,locationObject:s,onClose:m},"activity-shelf-item-"+e.id)}))))})).filter(d.isNotNullish),0===w.length?null:w));var w};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=g(n(469487)),u=g(n(197737)),l=g(n(30098)),s=n(730977),d=n(71246),f=n(929659),c=g(n(303798)),p=g(n(220331)),v=g(n(8611)),y=g(n(572639)),h=n(770348),m=g(n(247001)),_=g(n(773740));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t,n=e.tier,r=e.isUnlocked,a=m.default.Messages.EMBEDDED_ACTIVITIES_BOOSTING_BADGE_TOOLTIP.format({tier:n}),o=b(u.default,{activityPremiumTierLevel:n,isUnlocked:r});return b("div",{className:_.default.boostingTierDivider},void 0,r?o:(t=o,b(s.TooltipContainer,{
tooltipContentClassName:_.default.boostingBadgeTooltip,text:a},void 0,t)),b("div",{className:_.default.divider}))}I.displayName="BoostingTierDivider"},904988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e;n&&n.set(e,a);return a}(n(667294)).createContext({inPopout:!1});t.default=a},572639:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w
;var r,a=I(n(667294)),o=O(n(294184)),i=n(536211),u=O(n(728429)),l=O(n(956117)),s=O(n(16941)),d=O(n(966448)),f=O(n(971639)),c=O(n(776360)),p=I(n(152731)),v=O(n(865725)),y=n(71246),h=O(n(29652)),m=n(8916),_=O(n(243826)),g=I(n(768347)),E=O(n(247001)),S=O(n(137359));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e){return e>0?E.default.Messages.EMBEDDED_ACTIVITIES_MAX_PARTICIPANTS.format({count:e}):E.default.Messages.EMBEDDED_ACTIVITIES_UNLIMITED_PARTICIPANTS}function M(e){var t=e.value;return A(c.default,{className:S.default.activityTag,color:c.default.Colors.INTERACTIVE_NORMAL,size:c.default.Sizes.SIZE_12},void 0,t)}M.displayName="ActivityTag";function N(e){var t=e.action,n=e.onClick,r=t===g.ActivityAction.JOIN?E.default.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY:E.default.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY,a=t===g.ActivityAction.JOIN?l.default.Colors.PRIMARY:l.default.Colors.RED;return A("div",{className:S.default.activityOverlay
},void 0,A(l.default,{className:S.default.actionButton,onClick:n,size:l.default.Sizes.MEDIUM,color:a},void 0,r))}N.displayName="ActivityActionOverlayButton";function R(e){var t,n,r,a=e.activity,o=e.application,l=e.channel,s=e.large,d=void 0!==s&&s,f=null!==(t=null==a?void 0:a.userIds)&&void 0!==t?t:[],v=(0,i.useStateFromStoresArray)([u.default],(function(){return Array.from(f).map((function(e){return u.default.getUser(e)})).filter(y.isNotNullish)})),_=null!==(n=h.default.getName(l.getGuildId(),l.id,null==v?void 0:v[0]))&&void 0!==n?n:null==v||null===(r=v[0])||void 0===r?void 0:r.username;_=(0,m.truncateText)(_,15);if(null==a||0===v.length){var g,O=""+P(null!==(g=o.maxParticipants)&&void 0!==g?g:0);if(d){var b;O=null!==(b=o.description)&&void 0!==b?b:""}return A(c.default,{className:S.default.activitySubtitleText,size:c.default.Sizes.SIZE_12,color:c.default.Colors.INTERACTIVE_NORMAL},void 0,O)}return A("div",{className:S.default.activitySubtitleText},void 0,A(c.default,{
className:S.default.usersArePlayingText,size:c.default.Sizes.SIZE_12},void 0,v.length>1?E.default.Messages.EMBEDDED_ACTIVITIES_USERNAME_AND_OTHERS.format({username:_,count:v.length-1}):E.default.Messages.EMBEDDED_ACTIVITIES_IS_PLAYING.format({username:_})),A(p.default,{size:d?p.Sizes.SIZE_24:p.Sizes.SIZE_16,guildId:l.guild_id,users:v,max:6}))}R.displayName="ActivityDetail";function w(e){var t,n,r,i,u,l=e.application,p=e.channel,y=e.locationObject,h=e.onClose,m=e.large,E=void 0!==m&&m,O=(0,g.default)({application:l,channel:p,locationObject:y,onClose:h}),b=O.imageBackground,I=O.videoUrl,T=O.activityAction,w=O.joinableEmbeddedApp,D=O.onActivityItemClick,L=O.showPreviewBadge,j=C(a.useState(!1),2),k=j[0],U=j[1],G=C(a.useState(k),2),F=G[0],x=G[1];a.useEffect((function(){k&&x(!0)}),[k]);var B,V=function(){return U(!0)},W=function(){return U(!1)};return A(s.default,{onClick:T===g.ActivityAction.START?D:void 0,className:(0,o.default)(S.default.activityItem,(t={},t[S.default.large]=!0===E,
t[S.default.disabled]=T!==g.ActivityAction.START,t))},void 0,A("div",{className:(0,o.default)(S.default.activityImageContainer,(n={},n[S.default.large]=!0===E,n)),onMouseEnter:V,onFocus:V,onMouseLeave:W,onBlur:W},void 0,null==b?A("div",{className:S.default.brokenImageIconWrapper},void 0,A(d.default,{className:S.default.brokenImageIcon})):A("img",{alt:l.name,className:(0,o.default)(S.default.activityImage,(B={},B[S.default.large]=!0===E,B)),src:b}),null!=I&&F&&T===g.ActivityAction.START?A("div",{className:(0,o.default)(S.default.activityVideo,(r={},r[S.default.videoFadeOut]=!k,r)),onAnimationEnd:function(){return k?null:x(!1)}},void 0,A(v.default,{className:S.default.activityVideo,src:I,loop:!0,autoPlay:!0})):null,T!==g.ActivityAction.START?A(N,{action:T,onClick:D}):null,L?A("div",{className:S.default.overlayBadge},void 0,A(_.default,{name:l.name})):null),A("div",{className:(0,o.default)(S.default.activityTextContainer,(i={},i[S.default.large]=E,i))},void 0,E?A(c.default,{
className:S.default.activityMaxParticipantsLarge,size:c.default.Sizes.SIZE_12,color:c.default.Colors.INTERACTIVE_NORMAL},void 0,P(null!==(u=l.maxParticipants)&&void 0!==u?u:0)):null,A(f.default,{className:S.default.activityTitleText,tag:f.default.Tags.H2,size:f.default.Sizes.SIZE_16,color:c.default.Colors.INTERACTIVE_ACTIVE},void 0,l.name),A(R,{activity:null==w?void 0:w.embeddedActivity,application:l,channel:p,large:E}),A("div",{className:S.default.activityTagsContainer},void 0,l.tags.slice(0,3).map((function(e){return A(M,{value:e},"activity-tag-"+l.id+"-"+e)})))))}w.displayName="ActivityShelfItem"},532517:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActivityShelfSlides=void 0;t.default=F
;var r,a,o=D(n(667294)),i=R(n(294184)),u=n(47354),l=R(n(145371)),s=R(n(526098)),d=R(n(16941)),f=R(n(530250)),c=n(477537),p=R(n(69405)),v=R(n(250003)),y=n(3400),h=R(n(971639)),m=R(n(776360)),_=R(n(582945)),g=R(n(308920)),E=n(956506),S=n(8916),O=n(929659),b=D(n(746920)),I=R(n(648379)),C=R(n(904988)),T=R(n(118086)),A=n(770348),P=R(n(247001)),M=R(n(730075)),N=["channel","locationObject","onClose","inPopout","initialUpsellApplicationId","initialSlide"];function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){
o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.ActivityShelfSlides=a;!function(e){e[e.DIRECTORY=0]="DIRECTORY";e[e.UPSELL=1]="UPSELL"}(a||(t.ActivityShelfSlides=a={}));var G=(0,S.cssValueToNumber)(M.default.modalWidth);function F(e){
var t=e.channel,n=e.locationObject,r=e.onClose,S=e.inPopout,R=e.initialUpsellApplicationId,w=void 0===R?void 0:R,D=e.initialSlide,U=void 0===D?a.DIRECTORY:D,F=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,N),x=k(o.useState(U),2),B=x[0],V=x[1],W=(0,l.default)(B),H=k(o.useState(null),2),z=H[0],Y=H[1],K=o.useRef(null),$=k(o.useState(w),2),q=$[0],Z=$[1];o.useEffect((function(){if(B===a.DIRECTORY&&null!=W&&W!==a.DIRECTORY&&null!=z){var e;null===(e=K.current)||void 0===e||e.scrollTo({top:z})}}),[z,W,B]);var X=o.useCallback((function(e){var t,n=e.applicationId,r=null===(t=K.current)||void 0===t?void 0:t.scrollTop;null!=r&&Y(r);Z(n);V(a.UPSELL)}),[]);o.useEffect((function(){g.default.track(A.AnalyticEvents.OPEN_MODAL,{type:"Activity Shelf",channel_id:t.id,guild_id:t.getGuildId()})}),[t]);var Q=O.ActivitiesBebExperiment.useExperiment({guildId:t.guild_id}).treatmentBucket;o.useEffect((function(){
E.ComponentDispatch.subscribe(A.ComponentActions.SHOW_ACTIVITIES_BOOSTING_UPSELL,X);return function(){E.ComponentDispatch.unsubscribe(A.ComponentActions.SHOW_ACTIVITIES_BOOSTING_UPSELL,X)}}),[X]);o.useEffect((function(){b.dismissFreeActivityIndicator()}),[]);var J=function(){V(a.DIRECTORY)};return j(C.default.Provider,{value:{inPopout:S}},void 0,o.createElement(y.ModalRoot,L({className:M.default.root,"aria-label":P.default.Messages.EMBEDDED_ACTIVITIES_SHELF_TITLE},F),j(y.ModalHeader,{separator:!1,justify:f.default.Justify.BETWEEN},void 0,B===a.DIRECTORY?j("div",{className:M.default.activityShelfTitle},void 0,j(v.default,{className:(0,i.default)(M.default.rocketIcon)}),j(h.default,{tag:h.default.Tags.H2,size:h.default.Sizes.SIZE_12,uppercase:!0},void 0,P.default.Messages.EMBEDDED_ACTIVITIES_SHELF_TITLE),j(s.default,{className:M.default.betaTag})):B===a.UPSELL?j("div",{},void 0,j(d.default,{onClick:J,className:M.default.backToBrowse},void 0,j(p.default,{
direction:p.default.Directions.LEFT,className:(0,i.default)(m.default.Colors.HEADER_SECONDARY,M.default.caret)}),j(m.default,{color:m.default.Colors.HEADER_SECONDARY,size:m.default.Sizes.SIZE_16},void 0,P.default.Messages.EMBEDDED_ACTIVITIES_BACK_TO_BROWSE))):null,j(y.ModalCloseButton,{className:M.default.modalCloseButton,onClick:r})),j("div",{className:M.default.modalDivider}),j(c.Slides,{activeSlide:B,centered:!1,width:G},void 0,j(c.Slide,{id:a.DIRECTORY,impressionName:u.ImpressionNames.ACTIVITY_SHELF,impressionProperties:{source_section:n.section,impression_group:u.ImpressionGroups.ACTIVITY_SHELF_FLOW}},void 0,j("div",{className:M.default.slideContentOuterContainer},void 0,o.createElement(_.default,{className:(0,i.default)(M.default.slideContentInnerContainer,M.default.activityDirectoryScoll),ref:K},j(I.default,{channel:t,locationObject:n,onClose:r})))),j(c.Slide,{id:a.UPSELL,impressionName:u.ImpressionNames.ACTIVITY_BOOSTING_UPSELL,impressionProperties:{application_id:q,
source_section:n.section,impression_group:u.ImpressionGroups.ACTIVITY_SHELF_FLOW,tier:A.BoostedGuildTiers.TIER_1}},void 0,j("div",{className:M.default.slideContentOuterContainer},void 0,null==q?null:j(T.default,{applicationId:q,treatmentBucket:Q})))),j("div",{className:M.default.modalDivider}),j(y.ModalFooter,{separator:!1,className:M.default.footer},void 0,j(m.default,{size:m.default.Sizes.SIZE_14},void 0,P.default.Messages.EMBEDDED_ACTIVITIES_FEEDBACK_SURVEY.format({surveyURL:A.EMBEDDED_ACTIVITY_WTP_FEEDBACK_SURVEY_URL})))))}F.displayName="ActivityShelfModal"},118086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=D;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(556470),u=A(n(235879)),l=A(n(469487)),s=A(n(849209)),d=A(n(929214)),f=A(n(644263)),c=A(n(30098)),p=A(n(211136)),v=A(n(974661)),y=A(n(782732)),h=A(n(971639)),m=A(n(776360)),_=A(n(865725)),g=A(n(582945)),E=A(n(933577)),S=A(n(904988)),O=A(n(774648)),b=n(770348),I=n(665984),C=A(n(247001)),T=A(n(681521));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=["embedded_cover","embedded_background"];function D(e){var t=e.applicationId,n=e.treatmentBucket,r=void 0===n?null:n,A=(0,o.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion})),P=(0,i.useAnalyticsContext)(),R=a.useContext(S.default).inPopout,D=N((0,l.default)(null!=t&&""!==t?[t]:[]),1)[0],L=null!=(null==D?void 0:D.activityPreviewVideoAssetId)?(0,O.default)(D.id,D.activityPreviewVideoAssetId):null,j=(0,E.default)({applicationId:null!=t?t:"",size:1024,names:w}),k=(0,o.useStateFromStores)([p.default,f.default,c.default],(function(){var e=p.default.getVoiceChannelId(),t=f.default.getChannel(e);return c.default.getGuild(null==t?void 0:t.getGuildId())}));if(null==D||null==k)return null;var U=null!==r?D.getPremiumTierLevelForTreatment(r):D.activityPremiumTierLevel,G={object:b.AnalyticsObjects.ACTIVITIES_BOOSTING_UPSELL};return M("div",{className:T.default.container
},void 0,M("div",{className:T.default.ctaContainer},void 0,M("div",{className:T.default.boostingContainerLeftSide},void 0,M(y.default,{className:T.default.boostingBadge}),M("div",{className:T.default.boostingDescription},void 0,M(m.default,{},void 0,C.default.Messages.EMBEDDED_ACTIVITIES_UNLOCK_ACTIVITIES.format({activity:D.name,tier:null!=U?U:b.BoostedGuildTiers.TIER_1})))),M(s.default,{analyticsLocation:P.location,analyticsSourceLocation:G,applicationId:t,guild:k,targetBoostedGuildTier:U,inPopout:R})),M("div",{className:T.default.contentContainer},void 0,M(g.default,{className:T.default.scroll},void 0,M(v.default,{aspectRatio:16/9,className:T.default.imageContainer},void 0,null!=L?M(_.default,{className:T.default.video,src:L,loop:!0,autoPlay:!A,poster:j}):null),M("div",{className:T.default.descriptionArea},void 0,M(h.default,{size:h.default.Sizes.SIZE_24},void 0,D.name),M(m.default,{size:m.default.Sizes.SIZE_16},void 0,D.description)),M("div",{className:T.default.modalDivider
}),M("div",{className:T.default.boostingPerksDescription},void 0,M(m.default,{},void 0,C.default.Messages.EMBEDDED_ACTIVITIES_BOOSTING_PERKS)),M("div",{className:T.default.perks},void 0,(0,I.embeddedActivitiesUpsellPerks)().map((function(e){var t=e.icon,n=e.description,r=e.color;return M(d.default,{icon:t,description:n,color:r},n)}))))))}D.displayName="ActivityUpsellModalContent"},71805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.url,n=e.className,r=e.style,y=e.onLoad,h=e.shouldRefocus,g=e.queryParams,E=e.allowPointerLock,S=void 0!==E&&E,O=e.allowPopups,b=void 0!==O&&O,I=e.referrerPolicy,C=void 0===I?"origin":I,T=(0,u.useStateFromStores)([l.default],(function(){return l.default.getWindow(v.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),A=(0,o.useMemoOne)((function(){return i.default.v4()}),[t]),P=a.useRef(null),M=(0,f.default)(P,h,null==T?window:T),N=_({},g,{frame_id:A,platform:p.ActivityPlatform.DESKTOP});a.useEffect((function(){
d.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_MOUNT,{id:A});return function(){d.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_UNMOUNT,{id:A})}}),[A]);return null!=t?m("iframe",{style:r,allow:"autoplay",referrerPolicy:C,onLoad:function(e){var n;null==y||y(e.target);P.current=e.target;M(!0);null===(n=e.target.contentWindow)||void 0===n||n.postMessage([s.default.HELLO,N],null!=t?t:"")},sandbox:(0,c.default)({allowPopups:b,allowPointerLock:S}),className:n,src:t+"?"+new URLSearchParams(N)}):null};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(551163),i=y(n(468811)),u=n(536211),l=y(n(902305)),s=y(n(676606)),d=n(956506),f=y(n(845260)),c=y(n(645068)),p=n(418173),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}},769195:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=d(n(636602)),i=n(720409),u=d(n(902305)),l=n(956506),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var c=function(e,t){return o.default.wait((function(){(0,i.updateRect)(e,t)}))};function p(e){var t,n=e.embedId,o=e.className,i=e.style,d=(0,a.useStateFromStores)([u.default],(function(){
return u.default.getWindow(s.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),f=null!==(t=null==d?void 0:d.window)&&void 0!==t?t:window,p=r.useRef(null),v=r.useMemo((function(){var e=null;return function(){null==e&&(e=f.requestAnimationFrame((function(){var t,r;c(n,null!==(t=null===(r=p.current)||void 0===r?void 0:r.getBoundingClientRect())&&void 0!==t?t:null);e=null})))}}),[n,f]);r.useEffect((function(){f.addEventListener("resize",v);l.ComponentDispatch.subscribe(s.ComponentActions.REMEASURE_TARGET,v);return function(){f.removeEventListener("resize",v);l.ComponentDispatch.unsubscribe(s.ComponentActions.REMEASURE_TARGET,v)}}),[v,f]);r.useLayoutEffect((function(){var e=p.current;if(null!=e){var t=e.ownerDocument.defaultView;if(null!=t){v();var r=new t.ResizeObserver(v);r.observe(e);return function(){r.disconnect();c(n,null)}}}}),[n,v]);return r.createElement("div",{ref:p,style:i,className:o})}p.displayName="EmbedTarget"},600198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(88509)),o=p(n(644263)),i=p(n(211136)),u=n(194322),l=p(n(463821)),s=n(532517),d=p(n(151120)),f=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)
}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.showErrorModal=function(e){var t=e.code,n=e.message;(0,u.openModal)((function(e){return r.createElement(a.default,y({title:c.default.Messages.EMBEDDED_ACTIVITIES_ERROR_TITLE.format({code:t}),body:n},e))}))};n.showLaunchErrorModal=function(e){(0,u.openModal)((function(t){return r.createElement(a.default,y({title:c.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAILURE,body:e},t))}))};n.showUpsellModal=function(e){var t=o.default.getChannel(i.default.getChannelId());if(null!=t){var n={section:f.AnalyticsSections.EMBEDDED_ACTIVITY_LAUNCH_FAIL};(0,d.default)(t,n,!0,e,s.ActivityShelfSlides.UPSELL)}};return t}(l.default));t.default=m},245546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.MaskColor=t.FreeActivityIndicatorDot=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=u(n(294184)),i=u(n(250242));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.MaskColor=a;!function(e){e[e.POPOUT=0]="POPOUT";e[e.SECONDARY=1]="SECONDARY";e[e.BLACK=2]="BLACK"}(a||(t.MaskColor=a={}));var d=function(e){var t,n=e.left,r=void 0===n?void 0:n,u=e.top,l=void 0===u?0:u,d=e.right,f=void 0===d?0:d,c=e.bottom,p=void 0===c?void 0:c,v=e.size,y=void 0===v?8:v,h=e.alert,m=void 0!==h&&h,_=e.maskColor,g=void 0===_?a.SECONDARY:_;return s("span",{className:(0,o.default)(i.default.dot,(t={},t[i.default.alert]=m,t[i.default.maskPopout]=g===a.POPOUT,t[i.default.maskSecondary]=g===a.SECONDARY,t[i.default.maskBlack]=g===a.BLACK,t)),style:{height:y,width:y,left:r,top:l,right:f,bottom:p}})};t.FreeActivityIndicatorDot=d;d.displayName="FreeActivityIndicatorDot"},765304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=g(n(636602)),o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=g(n(177230)),u=g(n(902305)),l=g(n(644263)),s=g(n(122913)),d=g(n(218843)),f=g(n(893160)),c=g(n(211136)),p=g(n(790597)),v=g(n(387692)),y=g(n(303798)),h=g(n(322946)),m=n(770348);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function S(){var e=f.default.getChannelId(),t=y.default.getSelfEmbeddedActivityForChannel(null!=e?e:""),n=l.default.getChannel(e)
;return null==e||null==n||null==t?function(){var e=r;if(null!=e&&d.default.isOpen(e)){a.default.wait((function(){return o.close(e)}));r=null}}():function(e,t){if(d.default.isOpen(t))return!1;a.default.wait((function(){return o.open(t,m.PictureInPictureComponents.EMBED_IFRAME,{channel:e})}));r=t}(n,(0,h.default)(n.id,t.application_id))}function O(){var e;return s.default.hasLayers()?void(null!=(e=r)&&d.default.isOpen(e)&&a.default.wait((function(){return o.hide(e)}))):function(){var e=r;null!=e&&d.default.isOpen(e)&&a.default.wait((function(){return o.show(e)}))}()}var b=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){c.default.addChangeListener(S);p.default.addChangeListener(S);f.default.addChangeListener(S);v.default.addChangeListener(S);u.default.addChangeListener(S);y.default.addChangeListener(S);s.default.addChangeListener(O)}
;n._terminate=function(){c.default.removeChangeListener(S);p.default.removeChangeListener(S);f.default.removeChangeListener(S);v.default.removeChangeListener(S);u.default.removeChangeListener(S);y.default.removeChangeListener(S);s.default.removeChangeListener(O)};return t}(i.default));t.default=b},321405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=w(n(294184)),i=n(536211),u=w(n(636602)),l=w(n(229132)),s=w(n(505437)),d=n(264720),f=w(n(825724)),c=w(n(902305)),p=n(139982),v=w(n(611456)),y=n(421622),h=w(n(625905)),m=n(518180),_=w(n(218843)),g=w(n(211136)),E=w(n(949898)),S=w(n(80828)),O=w(n(303798)),b=n(961135),I=w(n(71805)),C=n(982784),T=n(418173),A=n(770348),P=n(859089),M=w(n(544009)),N=w(n(201768)),R=["channel"];function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=new Set([T.YOUTUBE_APPLICATION_ID,T.WATCH_YOUTUBE_DEV_APP_ID,T.WATCH_YOUTUBE_PROD_APP_ID]),F=new Set([T.PUTT_PARTY_APPLICATION_DEV_ID,T.PUTT_PARTY_APPLICATION_STG_ID,T.PUTT_PARTY_APPLICATION_QA_ID,T.PUTT_PARTY_APPLICATION_ID]),x=new Set([T.WATCH_YOUTUBE_DEV_APP_ID,T.WATCH_YOUTUBE_PROD_APP_ID]);function B(e){var t=e.channel,n=e.isLoading,r=k(a.useState(!1),2),b=r[0],T=r[1],R=(0,i.useStateFromStores)([O.default],(function(){return O.default.getSelfEmbeddedActivityForChannel(t.id)})),w=null==R?void 0:R.activity_id,D=(0,i.useStateFromStores)([g.default],(function(){return g.default.getChannelId()===t.id})),L=(0,i.useStateFromStoresObject)([_.default],(function(){var e=_.default.pipWindow;return{
dockedRect:null!=e?_.default.getDockedRect(e.id):null,isHidden:_.default.isEmbeddedActivityHidden()}})),U=L.dockedRect,B=L.isHidden,V=(0,i.useStateFromStoresObject)([c.default,E.default],(function(){var e=c.default.getWindow(A.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return{popoutWindow:e,windowWidth:c.default.getWindowOpen(A.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&null!=e?e.innerWidth:E.default.windowSize().width-A.LEFT_PANEL_WIDTH}})),W=V.popoutWindow,H=V.windowWidth,z=(0,i.useStateFromStoresObject)([f.default],(function(){return{activityParticipant:null!=R?f.default.getParticipant(t.id,R.application_id):null,selectedParticipant:f.default.getSelectedParticipant(t.id),participantsOpen:f.default.getParticipantsOpen(t.id),layout:f.default.getLayout(t.id,A.AppContext.APP)}})),Y=z.activityParticipant,K=z.selectedParticipant,$=z.participantsOpen,q=z.layout,Z=(0,
m.useIsTextInVoiceEnabled)(t.guild_id),X=H<=y.FORCE_HIDE_PARTICIPANTS_WIDTH,Q=D||null!=W,J=Q&&(null==K?void 0:K.type)!==P.ParticipantTypes.ACTIVITY&&null==U,ee=(!Q||J)&&!B,te=!X&&!Z&&![A.ChannelLayouts.MINIMUM,A.ChannelLayouts.NORMAL].includes(q),ne=te&&$;a.useEffect((function(){null!=(null==R?void 0:R.application_id)&&u.default.dirtyDispatch({type:A.ActionTypes.ACTIVITY_PIP_MODE_UPDATE,isPIPMode:ee,applicationId:R.application_id})}),[null==R?void 0:R.application_id,ee]);function re(){var e;null!=R&&l.default.selectParticipant(t.id,R.application_id);if(null==W){(0,d.popAllLayers)();var n=null!==(e=t.getGuildId())&&void 0!==e?e:A.ME;s.default.channelListScrollTo(n,t.id);(0,p.transitionToGuild)(n,t.id)}}function ae(){T(!b)}return null==R||null==w||null==Y?null:j(h.default,{timeout:2e3},void 0,(function(e){var r,i,u,l,s,d=e.idle,f=e.onActive;return j(v.default,{className:(0,o.default)(M.default.root,(i={},i[M.default.pipMode]=ee,
i[N.default.idle]=d&&!(null===(r=R.config)||void 0===r?void 0:r.useInteractivePIP),i[M.default.pipModeShort]=ee&&!b,i[M.default.pipModeTall]=ee&&b,i[M.default.hidden]=B,i)),noBorder:!ne&&!ee},void 0,function(e,n){var r;return ee&&null!=R&&(null==Y?void 0:Y.type)===P.ParticipantTypes.ACTIVITY?(null===(r=R.config)||void 0===r?void 0:r.useInteractivePIP)?j(C.InteractivePIPHeader,{onJumpToChannel:re,applicationId:R.application_id,channel:t,showControls:!n,onMouseMove:e,onMouseEnter:e,onToggleHeight:ae,isExpanded:b}):a.createElement(a.Fragment,null,j("div",{onMouseMove:e,onMouseDown:e,className:M.default.clickShield,onDoubleClick:re}),j(C.PIPOverlay,{idle:n,onJumpToChannel:re,channel:t,applicationId:R.application_id,selectedParticipant:Y})):null}(f,d),n?j(S.default,{className:(0,o.default)(M.default.iframe,(u={},u[M.default.pipModeShort]=ee&&!b,u[M.default.pipModeTall]=ee&&b,u))}):j(I.default,{allowPopups:G.has(R.application_id),allowPointerLock:F.has(R.application_id),
referrerPolicy:x.has(R.application_id)?"no-referrer":"origin",url:R.url,queryParams:{instance_id:w,channel_id:t.id,guild_id:t.guild_id},className:(0,o.default)(M.default.iframe,(s={},s[M.default.pipModeShort]=ee&&!b,s[M.default.pipModeTall]=ee&&b,s[M.default.pipNonInteractive]=ee&&!(null===(l=R.config)||void 0===l?void 0:l.useInteractivePIP),s)),shouldRefocus:!ee&&D}),!ee&&j(C.TileOverlay,{participantsOpen:$,showToggleParticipants:te,channelId:t.id}))}))}B.displayName="PersistentIFrame";var V=function(e){var t=e.channel,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,R),r=(0,b.useEmbeddedActivityLifecycle)(t).isLoading;return a.createElement(B,L({channel:t,isLoading:r},n))};V.displayName="PictureInPictureEmbeddedActivity";var W=V;t.default=W},982784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.InteractivePIPHeader=k;t.PIPOverlay=j;t.TileOverlay=function(e){
var t=e.channelId,n=e.participantsOpen;return e.showToggleParticipants?D(_.default,{channelId:t,isParticipantsOpen:n,className:P.default.participantsButton}):null};var r,a=w(n(667294)),o=N(n(294184)),i=n(536211),u=N(n(740207)),l=N(n(469487)),s=N(n(310268)),d=w(n(8475)),f=N(n(770404)),c=N(n(493051)),p=N(n(134893)),v=n(244612),y=N(n(143414)),h=N(n(67286)),m=N(n(866219)),_=N(n(715801)),g=N(n(645675)),E=N(n(635014)),S=N(n(530250)),O=N(n(160490)),b=N(n(775803)),I=n(746920),C=N(n(804330)),T=n(478036),A=N(n(247001)),P=N(n(844203)),M=N(n(201768));function N(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e){var t,n=e.onClick,r=e.isExpanded;return D(y.default,{iconClassName:(0,o.default)(P.default.arrowIcon,(t={},t[P.default.arrowIconExpanded]=r,t)),onClick:n,iconComponent:O.default,label:r?A.default.Messages.PICTURE_IN_PICTURE_COLLAPSE:A.default.Messages.PICTURE_IN_PICTURE_EXPAND})}L.displayName="TogglePIPHeightButton";function j(e){
var t,n,r=e.channel,a=e.applicationId,o=e.onJumpToChannel,y=e.idle,_=e.selectedParticipant,O=(0,i.useStateFromStores)([E.default],(function(){return E.default.isVideoEnabled()})),b=(0,i.useStateFromStores)([E.default],(function(){return Object.values(E.default.getVideoDevices())[0]})),A=!1===(null===(t=null==b?void 0:b.disabled)||void 0===t||t),N=(0,l.default)([a])[0],R=(0,f.default)(r),w=function(e){u.default.setVideoEnabled(e)};return D("div",{className:M.default.videoControls},void 0,D("div",{className:M.default.topControls},void 0,D(v.PictureInPictureHeader,{idle:y,title:null!==(n=null==N?void 0:N.name)&&void 0!==n?n:r.name,onJumpToChannel:o,preventIdleComponent:p.default})),D("div",{className:M.default.bottomControls},void 0,D(S.default,{grow:0,shrink:1,basis:"50%",align:S.default.Align.CENTER},void 0,D(g.default,{className:P.default.leftPipIcon,enabled:O,cameraUnavailable:!A,hasPermission:R,onChange:w,onCameraUnavailable:function(){A?w(!0):(0,c.default)()}
}),D(p.default,{},void 0,D(s.default,{channelId:r.id,guildId:r.getGuildId(),className:M.default.leftTrayIcon,participant:_,compact:!0}))),D(S.default,{grow:0,shrink:1,justify:S.default.Justify.END,basis:"50%",align:S.default.Align.CENTER},void 0,D(m.default,{className:P.default.rightPipIcon,popoutOpen:!1,onOpenPopout:function(){(0,C.default)((function(){return d.openChannelCallPopout(r)}))},onClosePopout:T.NOOP_NULL}),D(h.default,{className:P.default.rightPipIcon,onClick:function(){return(0,I.stopEmbeddedActivity)(r.id,a)}}))))}j.displayName="PIPOverlay";function k(e){var t,n,r=e.onMouseMove,i=e.onMouseEnter,u=e.showControls,s=e.applicationId,d=e.channel,f=e.onJumpToChannel,c=e.onToggleHeight,y=e.isExpanded,m=(0,l.default)([s])[0];return D("div",{className:P.default.pipHeader,onMouseMove:r,onMouseEnter:i},void 0,D("div",{className:(0,o.default)(M.default.topControls,P.default.pipHeaderContent,(t={},t[P.default.pipHeaderContentOpen]=u,t))},void 0,!u&&D(b.default,{
className:P.default.menuIcon,width:12,height:12}),u&&a.createElement(a.Fragment,null,D(v.PictureInPictureHeader,{idle:!u,title:null!==(n=null==m?void 0:m.name)&&void 0!==n?n:d.name,onJumpToChannel:f,preventIdleComponent:p.default}),D("div",{className:P.default.pipHeaderButtonsRight},void 0,D(L,{isExpanded:y,onClick:c}),D(h.default,{iconClassName:P.default.leaveActivityIcon,onClick:function(){return(0,I.stopEmbeddedActivity)(d.id,s)}})))))}k.displayName="InteractivePIPHeader"},243826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=n(730977),i=d(n(134947)),u=n(598671),l=d(n(247001)),s=d(n(306116));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.name,n=l.default.Messages.EMBEDDED_ACTIVITIES_FREE_PREVIEW_TOOLTIP.format({activity:t});return c(o.TooltipContainer,{text:n,tooltipContentClassName:s.default.tooltip},void 0,c(u.TextBadge,{className:s.default.previewBadge,disableColor:!0,
text:a.createElement(a.Fragment,null,c(i.default,{className:s.default.previewBadgeIcon,width:12,height:12}),c("span",{},void 0,l.default.Messages.EMBEDDED_ACTIVITIES_FREE_PREVIEW))}))}p.displayName="PreviewBadge"},804330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=function(){});var n=function(){a.default.updatedUnsyncedSettings({disableEmbeddedActivityPopOutAlert:!0});e()};i.default.disableEmbeddedActivityPopOutAlert?e():(0,u.openModal)((function(a){return r.createElement(o.default,f({confirmText:l.default.Messages.EMBEDDED_ACTIVITIES_YEP,minorText:l.default.Messages.DONT_ASK_AGAIN,title:l.default.Messages.EMBEDDED_ACTIVITIES_CAREFUL,cancelText:l.default.Messages.EMBEDDED_ACTIVITIES_NVM,onConfirm:e,onConfirmSecondary:n,onCancel:t,body:l.default.Messages.EMBEDDED_ACTIVITIES_POP_OUT_WARNING},a))}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(929031)),o=s(n(88509)),i=s(n(174508)),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}},774648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,a=window.GLOBAL_ENV.CDN_HOST,o=window.GLOBAL_ENV.API_ENDPOINT
;n=null!=a?location.protocol+"//"+a+"/app-assets/"+e+"/store/"+t+".mp4":""+location.protocol+o+r.Endpoints.STORE_ASSET(e,t,"mp4");return n};var r=n(770348)},480831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,o.hasFlag)(null!==(t=e.flags)&&void 0!==t?t:0,i.ApplicationFlags.EMBEDDED),r=a.default.getWindowOpen(i.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return n&&r};var r,a=(r=n(902305))&&r.__esModule?r:{default:r},o=n(685677),i=n(770348)},322946:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return"activityembed:"+e+":"+t}},151120:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,d,f,p){void 0===p&&(p=u.ActivityShelfSlides.DIRECTORY);var y=d&&a.default.getWindowOpen(l.PopoutWindowKeys.CHANNEL_CALL_POPOUT);y&&(0,o.default)(l.PopoutWindowKeys.CHANNEL_CALL_POPOUT);var h=y?s.POPOUT_MODAL_CONTEXT:s.DEFAULT_MODAL_CONTEXT;(0,
i.openModalLazy)(v(regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return Promise.resolve().then(n.bind(n,532517));case 2:o=a.sent;i=o.default;return a.abrupt("return",(function(n){return r.createElement(i,c({},n,{channel:e,locationObject:t,inPopout:y,initialSlide:p,initialUpsellApplicationId:f}))}));case 5:case"end":return a.stop()}}),a)}))),{modalKey:"activity-shelf",contextKey:h})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=d(n(429074)),o=d(n(736632)),i=n(194322),u=n(532517),l=n(770348),s=n(371621);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,u,"next",e)}function u(e){p(o,r,a,i,u,"throw",e)}i(void 0)}))}}},768347:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActivityAction=void 0;t.default=function(e){
var t,n=e.application,h=e.channel,m=e.locationObject,_=e.onClose,g=o.ActivitiesBebExperiment.useExperiment({guildId:null!==(t=h.guild_id)&&void 0!==t?t:""}).treatmentBucket,E=(0,c.default)({applicationId:n.id,size:500}),S=(0,a.useAppContext)(),O=(0,d.useFreeActivityIndicator)({guildId:h.guild_id,appId:n.id}).isRotatingFreeActivity,b=null!=n.activityPreviewVideoAssetId?(0,p.default)(n.id,n.activityPreviewVideoAssetId):null,I=(0,f.default)(),C=(0,s.default)(h).find((function(e){var t=e.embeddedActivity;return n.id===t.application_id})),T=r.START,A=function(){(0,l.default)(n,I,m,g,S).then((function(e){return e&&(null==_?void 0:_())}))};if((null==I?void 0:I.id)===n.id){T=r.LEAVE;A=function(){if(!u.default.isLaunchingActivity()){(0,i.stopEmbeddedActivity)(h.id,n.id);null==_||_()}}}else if(null!=C){T=r.JOIN;A=function(){u.default.isLaunchingActivity()||(0,v.default)(C.embeddedActivity,!0,I,h.id,y.ActivityIntent.PLAY,m,S).then((function(e){return e&&(null==_?void 0:_())}))}}
var P=T===r.START&&O;return{imageBackground:E,videoUrl:b,joinableEmbeddedApp:C,activityAction:T,onActivityItemClick:A,showPreviewBadge:P}};var r,a=n(205562),o=n(929659),i=n(746920),u=h(n(303798)),l=h(n(676457)),s=h(n(711964)),d=n(186096),f=h(n(93879)),c=h(n(933577)),p=h(n(774648)),v=h(n(205990)),y=n(418173);function h(e){return e&&e.__esModule?e:{default:e}}t.ActivityAction=r;!function(e){e.START="START";e.JOIN="JOIN";e.LEAVE="LEAVE"}(r||(t.ActivityAction=r={}))},723220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.closeAgeGateModal=function(){r.default.wait((function(){return r.default.dispatch({type:i.ActionTypes.AGE_GATE_MODAL_CLOSE})}))};t.closeFailedAgeGate=function(){r.default.dispatch({type:i.ActionTypes.LOGOUT});(0,a.transitionTo)(i.Routes.LOGIN)};t.openAgeGateModal=function(e){o.default.track(i.AnalyticEvents.OPEN_MODAL,{type:"Enter Your Birthday",source:{section:e}});r.default.dispatch({type:i.ActionTypes.AGE_GATE_MODAL_OPEN,source:e})}
;t.openFailureAgeGateModal=function(e){r.default.wait((function(){r.default.dispatch({type:i.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,underageMessage:e})}))};t.openSuccessAgeGateModal=function(){r.default.wait((function(){r.default.dispatch({type:i.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN})}))};var r=u(n(636602)),a=n(139982),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},160866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AgeRestrictedGuildsExperiment=void 0;t.userNeedsAgeGate=function(){var e=a.default.getCurrentUser();return null!=e&&o.default.extractTimestamp(e.id)>u.getTime()&&!e.isClaimed()&&null==e.nsfwAllowed};var r=n(373505),a=i(n(728429)),o=i(n(71636));function i(e){return e&&e.__esModule?e:{default:e}}var u=new Date("06/16/2020");var l=(0,r.createExperiment)({id:"2021-05_age_restricted_guilds",label:"Process age restricted guilds",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"On",config:{enabled:!0}
}]});t.AgeRestrictedGuildsExperiment=l},676817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=h(n(636602)),o=h(n(177230)),i=h(n(644263)),u=h(n(211136)),l=h(n(790597)),s=h(n(728429)),d=n(194322),f=n(723220),c=h(n(632062)),p=h(n(242049)),v=n(78330),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function O(e,t){var n;if(null!=e){var r=s.default.getCurrentUser();(null===(n=i.default.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=r&&null==r.nsfwAllowed&&(0,f.openAgeGateModal)(v.AgeGateSource.NSFW_CHANNEL)}}var b=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var o=t.prototype;o._initialize=function(){
a.default.subscribe(y.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);a.default.subscribe(y.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.subscribe(y.ActionTypes.AGE_GATE_MODAL_OPEN,this.handleAgeGateModalOpen);a.default.subscribe(y.ActionTypes.AGE_GATE_MODAL_CLOSE,this.handleAgeGateModalClose);a.default.subscribe(y.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN,this.handleAgeGateSuccess);a.default.subscribe(y.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,this.handleAgeGateFailure)};o._terminate=function(){a.default.unsubscribe(y.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);a.default.unsubscribe(y.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.unsubscribe(y.ActionTypes.AGE_GATE_MODAL_OPEN,this.handleAgeGateModalOpen);a.default.unsubscribe(y.ActionTypes.AGE_GATE_MODAL_CLOSE,this.handleAgeGateModalClose);a.default.unsubscribe(y.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN,this.handleAgeGateSuccess)
;a.default.unsubscribe(y.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,this.handleAgeGateFailure)};o.handleChannelSelect=function(e){O(e.guildId,e.channelId)};o.handleConnectionOpen=function(){O(l.default.getGuildId(),u.default.getChannelId())};o.handleAgeGateModalOpen=function(){(0,d.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(73167)]).then(n.bind(n,273167));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:v.EXISTING_USER_AGE_GATE_MODAL_KEY,onCloseRequest:y.NOOP})};o.handleAgeGateSuccess=function(){(0,d.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){return r.createElement(p.default,e)}))};o.handleAgeGateFailure=function(e){var t=e.underageMessage;(0,d.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){
return r.createElement(c.default,_({underageMessage:t},e))}))};o.handleAgeGateModalClose=function(){(0,d.closeModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY)};return t}(o.default));t.default=b},632062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;_(n(667294));var r,a=n(47354),o=n(139982),i=_(n(956117)),u=n(354479),l=n(3400),s=h(n(971639)),d=h(n(776360)),f=h(n(550270)),c=n(723220),p=n(770348),v=h(n(247001)),y=h(n(987953));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){(0,c.closeAgeGateModal)();(0,o.transitionTo)(p.Routes.LOGIN)}function S(e){var t=e.underageMessage,r=e.transitionState,o=(0,u.useUID)();return g(l.ModalRoot,{transitionState:r,size:l.ModalSize.SMALL,"aria-labelledby":o,impressionName:a.ImpressionNames.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0}},void 0,g(l.ModalContent,{},void 0,g("div",{className:y.default.container},void 0,g("img",{alt:"",src:n(697694),className:y.default.img
}),g(s.default,{size:s.default.Sizes.SIZE_24,className:y.default.title,id:o},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_HEADER),g(d.default,{color:d.default.Colors.HEADER_SECONDARY,className:y.default.subtitle},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:null!=t?t:v.default.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_MESSAGE,helpURL:f.default.getArticleURL(p.HelpdeskArticles.AGE_GATE)})),g(d.default,{color:d.default.Colors.HEADER_SECONDARY,className:y.default.subtitle},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_BODY_DELETION_WITH_DAYS.format({days:30})))),g(l.ModalFooter,{},void 0,g(i.default,{size:i.ButtonSizes.SMALL,fullWidth:!0,onClick:E},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN)))}S.displayName="ExistingUserAgeGateUnderage"},242049:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;y(n(667294))
;var r,a=n(47354),o=y(n(956117)),i=n(354479),u=n(3400),l=p(n(971639)),s=p(n(776360)),d=n(723220),f=p(n(247001)),c=p(n(206052));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.transitionState,r=(0,i.useUID)();return h(u.ModalRoot,{transitionState:t,size:u.ModalSize.SMALL,"aria-labelledby":r,impressionName:a.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!0}},void 0,h(u.ModalContent,{},void 0,h("div",{className:c.default.container},void 0,h("img",{alt:"",src:n(145911),className:c.default.img}),h(l.default,{size:l.default.Sizes.SIZE_24,className:c.default.title,id:r},void 0,f.default.Messages.AGE_GATE_AGE_VERIFIED),h(s.default,{color:s.default.Colors.HEADER_SECONDARY,className:c.default.subtitle},void 0,f.default.Messages.AGE_GATE_AGE_VERIFIED_BODY))),h(u.ModalFooter,{},void 0,h(o.default,{size:o.ButtonSizes.SMALL,fullWidth:!0,onClick:function(){(0,d.closeAgeGateModal)()},autoFocus:!0
},void 0,f.default.Messages.CLOSE)))}m.displayName="ExistingUserAgeGateVerified"},108101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=void 0;var r,a=v(n(667294)),o=c(n(598694)),i=c(n(268660)),u=n(3400),l=v(n(174687)),s=c(n(817105)),d=c(n(247001)),f=c(n(50710));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E;t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";!function(e){e[e.REPORT_MESSAGE=0]="REPORT_MESSAGE";e[e.SUCCESS=1]="SUCCESS"}(E||(E={}));var S=[E.REPORT_MESSAGE,E.SUCCESS],O=y(l.ErrorState,{}),b=function(e){
var t=e.message,n=e.channel,r=e.onClose,c=e.transitionState,p=_(a.useState(!1),2),v=p[0],h=p[1],g=_(a.useState(null),2),b=g[0],I=g[1],C=_(a.useState(E.REPORT_MESSAGE),2),T=C[0],A=C[1],P=_(a.useState(null),2),M=P[0],N=P[1],R=_(a.useState(null),2),w=R[0],D=R[1];a.useEffect((function(){var e=function(){var e=m(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.tokenizeReportedMessage(n.id,t.id);case 3:r=e.sent;I(r);e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);h(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=m(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return o.default.getOptions();case 2:t=e.sent;n=t.typeOptions;r=t.subTypeOptions;N(n);D(r);case 7:case"end":return e.stop()}}),e)})));return function(){
return e.apply(this,arguments)}}();e();v||r()}),[n.id,v,t.id]);var L=y(l.default,{token:b,message:t,channel:n,onClose:r,onSuccess:function(){A(E.SUCCESS)},typeOptions:M,subTypeOptions:w}),j=y(s.default,{message:t,channel:n,onClose:r});return y(u.ModalRoot,{transitionState:c,size:u.ModalSize.DYNAMIC,className:f.default.modal,"aria-label":d.default.Messages.REPORT_MODAL_REPORT_MESSAGE},void 0,v?O:y(i.default,{step:T,steps:S},void 0,T===E.REPORT_MESSAGE?null==M||null==w||null==b?null:L:j))};b.displayName="ReportMessageModal";var I=b;t.default=I},174687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=t.ErrorState=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(598694)),i=n(483559),u=S(n(844784)),l=S(n(2914)),s=S(n(956117)),d=S(n(682473)),f=S(n(39118)),c=S(n(279950)),p=n(688388),v=n(3400),y=S(n(971639)),h=n(967965),m=S(n(582945)),_=n(770348),g=S(n(247001)),E=S(n(50710));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";var A=function(e){var t=e.className;return T(d.default,{className:t},void 0,g.default.Messages.REPORT_MODAL_ERROR.format({tnsReportUrl:"https://dis.gd/request"}))};t.ErrorState=A;A.displayName="ErrorState";var P=function(e){var t,n,r=e.token,d=e.channel,S=e.message,O=e.typeOptions,C=e.subTypeOptions,P=e.onClose,M=e.onSuccess,N=I(a.useState(null),2),R=N[0],w=N[1],D=I(a.useState(null),2),L=D[0],j=D[1],k=I(a.useState(""),2),U=k[0],G=k[1],F=I(a.useState(""),2),x=F[0],B=F[1],V=I(a.useState(!1),2),W=V[0],H=V[1],z=I(a.useState(!1),2),Y=z[0],K=z[1],$=null!=R&&null!=C[R],q=null!=L||!$,Z=function(e){if(R!==e){w(e);j(null)}},X=function(e){L!==e&&j(e)},Q=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(null!=R){e.next=2;break}return e.abrupt("return");case 2:H(!0);e.prev=3;e.next=6;return(0,i.fetchProfile)(d.getRecipientId(),{withMutualGuilds:!0});case 6:n=e.sent;a=null==n||null===(t=n.mutual_guilds)||void 0===t?void 0:t.map((function(e){return e.id}));u.default.trackWithMetadata(_.AnalyticEvents.MESSAGE_REPORTED,{report_type:R,report_sub_type:L,subject:U,description:x,location_object:"report_message_modal",guild_id:d.getGuildId(),channel_id:d.id,message_id:S.id,mutual_guild_ids:a});e.next=11;return o.default.submitReport(r,R,L,U,x);case 11:H(!1);M();e.next=19;break;case 15:e.prev=15;e.t0=e.catch(3);H(!1);K(!0);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),J=T(c.default,{value:U,onChange:G}),ee=T(f.default,{value:x,onChange:B})
;return a.createElement(a.Fragment,null,T(v.ModalContent,{className:E.default.content},void 0,T(y.default,{className:E.default.modalHeader,size:y.default.Sizes.SIZE_24},void 0,g.default.Messages.REPORT_MODAL_REPORT_MESSAGE),Y&&T(A,{className:E.default.formItem}),T(p.FormItem,{title:g.default.Messages.REPORT_MODAL_MESSAGE_SELECTED,className:E.default.formItem},void 0,T(m.default,{className:E.default.message},void 0,T(l.default,{channel:d,message:S,animateAvatar:!1,disableInteraction:!0}))),(t=O.find((function(e){return e.value===R})),n=null!=t?t.description:null,a.createElement(a.Fragment,null,T(p.FormItem,{className:E.default.formItem,title:g.default.Messages.REPORT_MODAL_TYPE_TITLE,required:!0},void 0,T(h.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:O,value:R,onChange:Z,maxVisibleItems:6})),T(p.FormText,{type:p.FormText.Types.DESCRIPTION,className:E.default.description},void 0,n))),null!=R&&$?T(p.FormItem,{title:C[R].subTypeQuestion,
className:E.default.formItem,required:!0},void 0,T(h.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:C[R].subTypes,value:L,onChange:X})):null,null!=R&&q?a.createElement(a.Fragment,null,T(p.FormItem,{title:g.default.Messages.REPORT_MODAL_SUBJECT,className:E.default.formItem,required:!0},void 0,J),T(p.FormItem,{title:g.default.Messages.REPORT_MODAL_DESCRIPTION,className:E.default.formItem,required:!0},void 0,ee,T(p.FormText,{type:p.FormText.Types.DESCRIPTION,className:E.default.description},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MIN_MAX.format({min:0,max:800})),x.length>800?T(p.FormText,{type:p.FormText.Types.DESCRIPTION,className:E.default.descriptionError},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MAX_EXCEEDED):null)):null),T(v.ModalFooter,{className:E.default.footer},void 0,T(s.default,{color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,onClick:P},void 0,g.default.Messages.CANCEL),T(s.default,{onClick:Q,
disabled:!q||0===U.length||x.length<0||x.length>800,submitting:W},void 0,g.default.Messages.REPORT_MODAL_SUBMIT)))};t.default=P},817105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(786345)),i=h(n(237923)),u=h(n(2914)),l=h(n(956117)),s=n(688388),d=n(3400),f=h(n(971639)),c=h(n(582945)),p=n(770348),v=h(n(247001)),y=h(n(50710));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){
return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.onClose,n=e.message,r=e.channel,h=null==r.guild_id,m=h?v.default.Messages.REPORT_MODAL_SHOULD_BLOCK:v.default.Messages.REPORT_MODAL_SHOULD_DELETE,g=h?v.default.Messages.REPORT_MODAL_BLOCK_USER:v.default.Messages.DELETE_MESSAGE;return a.createElement(a.Fragment,null,_(d.ModalContent,{className:y.default.successModalContent},void 0,_(f.default,{size:f.default.Sizes.SIZE_24},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED),_(s.FormText,{type:s.FormText.Types.DESCRIPTION,className:y.default.successModalText
},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED_EMAIL_CONFIRMATION),_(s.FormItem,{className:y.default.messageFormItem,title:m},void 0,_(c.default,{className:y.default.message},void 0,_(u.default,{channel:r,message:n,animateAvatar:!1,disableInteraction:!0})))),_(d.ModalFooter,{className:y.default.footer},void 0,_(l.default,{color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:t},void 0,v.default.Messages.CLOSE),_(l.default,{look:l.default.Looks.FILLED,color:l.default.Colors.RED,onClick:function(){h?i.default.addRelationship(n.author.id,{location:"Report Modal"},p.RelationshipTypes.BLOCKED):o.default.deleteMessage(r.id,n.id);t()}},void 0,g)))};t.default=g},504010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(392820).Z;t.default=r},392820:(e,t)=>{"use strict";({value:!0});t.Z=function(){return{}}},621287:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.makeAuthenticated=function(e,t,n){
var r,a,c=p(t,{});void 0===n&&(n={passProps:!0});function v(r){if(!(0,s.isAuthenticated)()&&!(0,s.isGuest)()&&l.default.getLoginStatus()!==d.LoginStates.LOGGING_IN&&l.default.allowLogoutRedirect()){if(null!=t)return c;var a=location.pathname+location.search,v=f.CONFERENCE_MODE_ENABLED?d.Routes.REGISTER:(0,u.getLoginPath)(a,!1);return p(i.Redirect,{to:v})}return o.createElement(e,n.passProps?r:null)}v.displayName="Authenticated("+(null!==(r=null!==(a=e.displayName)&&void 0!==a?a:e.name)&&void 0!==r?r:"<Unknown>")+")";return v};var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=n(505977),u=n(904312),l=(r=n(423046))&&r.__esModule?r:{default:r},s=n(549186),d=n(770348),f=n(27577);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},892057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchBlockedDomainList=function(){return s.apply(this,arguments)};var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}function s(){return(s=l(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get({url:"https://cdn.discordapp.com/bad-domains/hashes.json"});case 2:t=e.sent;n=t.body;a.default.dispatch({type:o.ActionTypes.BLOCKED_DOMAIN_LIST_FETCHED,list:n});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},694450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(177230))&&r.__esModule?r:{default:r},o=n(892057);function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e
;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){setTimeout((function(){return(0,o.fetchBlockedDomainList)()}),1e4);this.intervalID=setInterval(o.fetchBlockedDomainList,144e5)};n._terminate=function(){clearInterval(this.intervalID)};return t}(a.default));t.default=u},322785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={setCallChatToastsEnabled:function(e,t){a.default.dispatch({type:o.ActionTypes.CALL_CHAT_TOASTS_SET_ENABLED,channelId:e,toastsEnabled:t})}};t.default=i},316309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(177230)),a=f(n(796608)),o=f(n(27245)),i=f(n(919935)),u=f(n(663303)),l=f(n(387692)),s=f(n(487372)),d=n(179379);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return c(e,t)}var p=(0,d.createSoundForPack)("call_calling",a.default.getSoundpack()),v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){o.default.addChangeListener(this.handleRingUpdate);i.default.addChangeListener(this.handleRingUpdate);u.default.addChangeListener(this.handleRingUpdate);l.default.addChangeListener(this.handleRingUpdate);a.default.addChangeListener(this.handleSoundpackUpdate)};n._terminate=function(){o.default.removeChangeListener(this.handleRingUpdate);i.default.removeChangeListener(this.handleRingUpdate);u.default.removeChangeListener(this.handleRingUpdate);l.default.removeChangeListener(this.handleRingUpdate);a.default.removeChangeListener(this.handleSoundpackUpdate)};n.handleSoundpackUpdate=function(){p.stop();p=(0,d.createSoundForPack)("call_calling",a.default.getSoundpack())};n.handleRingUpdate=function(){
var e=o.default.getCalls().filter((function(e){return e.ringing.length>0&&l.default.getCurrentClientVoiceChannelId(null)===e.channelId})),t=l.default.getCurrentClientVoiceChannelId(null);!(null!=t&&s.default.countVoiceStatesForChannel(t)>=2)&&e.length>0&&!i.default.isSoundDisabled("call_calling")&&!u.default.disableSounds?p.loop():p.stop()};return t}(r.default));t.default=v},845607:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SelfStreamAndVideoAlertType=void 0;var n;t.SelfStreamAndVideoAlertType=n;!function(e){e[e.STREAM=0]="STREAM";e[e.VIDEO=1]="VIDEO"}(n||(t.SelfStreamAndVideoAlertType=n={}))},235398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(177230)),a=i(n(893160)),o=i(n(825724));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){o.default.addChangeListener(this.handleFocusParticipant)};n._terminate=function(){o.default.removeChangeListener(this.handleFocusParticipant)};n.handleFocusParticipant=function(){var e=a.default.getChannelId();if(null!=e){var t,n,r=o.default.getSelectedParticipantId(e),i=o.default.getVideoParticipants(e);null===(t=a.default.getRTCConnection())||void 0===t||t.setSelectedParticipant(null===(n=i.find((function(e){return e.id===r&&!e.localVideoDisabled})))||void 0===n?void 0:n.id)}};return t}(r.default));t.default=l},915502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t)return a.default.Messages.SERVER_DEAFENED_DIALOG_TITLE;return e?a.default.Messages.UNDEAFEN:a.default.Messages.DEAFEN};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},945926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=function(e,t,n){if(n)return a.default.Messages.SUPPRESSED;if(t)return a.default.Messages.SERVER_MUTED_DIALOG_TITLE;return e?a.default.Messages.UNMUTE:a.default.Messages.MUTE};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},66384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return i[e]};var r,a=n(859089),o=n(376293),i=Object.freeze(((r={})[a.ParticipantTypes.STREAM]=o.MediaEngineContextTypes.STREAM,r[a.ParticipantTypes.HIDDEN_STREAM]=o.MediaEngineContextTypes.STREAM,r[a.ParticipantTypes.USER]=o.MediaEngineContextTypes.DEFAULT,r[a.ParticipantTypes.ACTIVITY]=o.MediaEngineContextTypes.DEFAULT,r))},831566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,r.useStateFromStores)([i.default],(function(){return i.default.getId()})),u=(0,r.useStateFromStores)([o.default],(function(){var t=o.default.getStreamForUser(n);return null!=t&&t.channelId===e}),[e,n]),l=(0,
r.useStateFromStores)([o.default],(function(){return o.default.isSelfStreamHidden(e)}),[e]);return[(null==t||t===n)&&u,l,function(t){(0,a.toggleSelfStreamHidden)(e,t)}]};var r=n(536211),a=n(123516),o=u(n(607209)),i=u(n(423046));function u(e){return e&&e.__esModule?e:{default:e}}},25077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=u.MediaEngineContextTypes.DEFAULT);var n=(0,r.useStateFromStores)([o.default],(function(){return o.default.getId()})),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.supports(u.Features.DISABLE_VIDEO)&&i.default.isVideoEnabled()})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.isLocalVideoDisabled(n,t)}),[n,t]);return[(null==e||e===n)&&(l||s),s,function(e){a.default.setDisableLocalVideo(n,e,t)}]};var r=n(536211),a=l(n(740207)),o=l(n(423046)),i=l(n(635014)),u=n(376293);function l(e){return e&&e.__esModule?e:{default:e}}},190320:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=g;m(n(667294));var r,a=y(n(284382)),o=m(n(145122)),i=y(n(989546)),u=y(n(197105)),l=y(n(793963)),s=y(n(441072)),d=y(n(16505)),f=y(n(815267)),c=n(770348),p=y(n(247001)),v=y(n(741937));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.onClose,n=e.renderOutputDevices,r=void 0!==n&&n,y=e.renderInputDevices,h=void 0!==y&&y,m=e.renderInputModes,g=void 0!==m&&m,E=e.renderInputVolume,S=void 0!==E&&E,O=e.renderOutputVolume,b=void 0!==O&&O,I=e.onSelect,C=(0,f.default)(),T=(0,s.default)(),A=(0,d.default)(),P=(0,i.default)(),M=(0,u.default)(),N=(0,l.default)();return _(a.default,{object:c.AnalyticsObjects.CONTEXT_MENU},void 0,_(o.default,{onSelect:I,className:v.default.menu,onClose:t,navId:"audio-device-context","aria-label":p.default.Messages.AUDIO_DEVICE_ACTIONS},void 0,h?_(o.MenuGroup,{label:p.default.Messages.INPUT_DEVICE},void 0,T):null,r?_(o.MenuGroup,{
label:p.default.Messages.OUTPUT_DEVICE},void 0,A):null,g?_(o.MenuGroup,{label:p.default.Messages.FORM_LABEL_INPUT_MODE},void 0,P):null,_(o.MenuGroup,{},void 0,S?M:null,b?N:null,C)))}g.displayName="AudioDeviceMenu"},803121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i=je(n(667294)),u=De(n(294184)),l=De(n(441143)),s=n(536211),d=n(923387),f=n(91817),c=De(n(636602)),p=De(n(229132)),v=n(378158),y=De(n(136873)),h=n(123516),m=De(n(929031)),_=De(n(833692)),g=De(n(989418)),E=De(n(284382)),S=De(n(673997)),O=je(n(33273)),b=n(205562),I=De(n(303798)),C=De(n(198016)),T=De(n(804330)),A=De(n(954140)),P=n(844784),M=De(n(37039)),N=n(684769),R=n(747868),w=n(385753),D=je(n(8475)),L=De(n(902305)),j=n(139982),k=De(n(915188)),U=De(n(610929)),G=n(205809),F=De(n(830900)),x=De(n(174508)),B=De(n(839166)),V=De(n(828839)),W=De(n(531334)),H=De(n(625905)),z=De(n(134893)),Y=De(n(48102)),K=De(n(430251)),$=De(n(116790)),q=n(146529),Z=De(n(278851)),X=De(n(336156)),Q=De(n(866219)),J=De(n(861891)),ee=De(n(561603)),te=n(14219),ne=n(518180),re=De(n(607209)),ae=De(n(423046)),oe=De(n(938199)),ie=De(n(27245)),ue=De(n(30098)),le=De(n(689389)),se=De(n(191391)),de=De(n(211136)),fe=De(n(728429)),ce=De(n(387692)),pe=De(n(530250)),ve=n(248685),ye=n(598671),he=De(n(308920)),me=n(319986),_e=n(956506),ge=n(864489),Ee=n(518802),Se=De(n(922629)),Oe=n(245838),be=De(n(825724)),Ie=De(n(66384)),Ce=je(n(665597)),Te=De(n(368464)),Ae=De(n(789659)),Pe=De(n(310268)),Me=n(859089),Ne=n(770348),Re=De(n(247001)),we=De(n(661073))
;function De(e){return e&&e.__esModule?e:{default:e}}function Le(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Le=function(e){return e?n:t})(e)}function je(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Le(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ke(){ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ke.apply(this,arguments)}function Ue(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ge(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ue(o,r,a,i,u,"next",e)}function u(e){Ue(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function xe(e,t){xe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return xe(e,t)}function Be(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He=((r={})[Ne.ChannelLayouts.NORMAL]=we.default.normal,
r[Ne.ChannelLayouts.MINIMUM]=we.default.minimum,r[Ne.ChannelLayouts.NO_CHAT]=we.default.noChat,r[Ne.ChannelLayouts.FULL_SCREEN]=we.default.fullScreen,r),ze=((a={})[Ne.AppContext.POPOUT]=we.default.popout,a[Ne.AppContext.APP]=null,a[Ne.AppContext.OVERLAY]=null,a);function Ye(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxHeight,o=Ve(i.useState(null),2),u=o[0],l=o[1];i.useEffect((function(){var e,n;l(null!==(e=null===(n=t.current)||void 0===n?void 0:n.offsetHeight)&&void 0!==e?e:null)}),[t]);return Be("div",{onMouseDown:(0,O.default)({initialElementDimension:u,minDimension:200,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:O.ResizeOrientation.VERTICAL}),className:we.default.resizeHandle})}Ye.displayName="ResizeHandle";var Ke=Be(ve.AppLayerContainer,{}),$e=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;xe(e,t)}(t,e);function t(){
for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this)._prevLayout=Ne.ChannelLayouts.MINIMUM;t._wrapperRef=i.createRef();t._contentRef=i.createRef();t._videoBackgroundTooltipTimeout=new f.Timeout;t._lastIdleProps=null;t.state={resizedHeight:x.default.callHeaderHeight};t.handleFullScreenChange=function(){var e=t.getRootNode();null!=e&&((0,Oe.isFullScreen)(e,t.currentDocument)||t.props.layout!==Ne.ChannelLayouts.FULL_SCREEN||t.handleFullScreen())};t.handleFullScreen=function(){var e=t.getRootNode();if(null!=e)if(t.props.layout!==Ne.ChannelLayouts.FULL_SCREEN){t._prevLayout=t.props.layout;t.handleChangeLayout(Ne.ChannelLayouts.FULL_SCREEN);(0,Oe.requestFullScreen)(e,_.default.resized)}else t.maybeLeaveFullScreen()};t.maybeLeaveFullScreen=function(){var e=t.getRootNode();if(null!=e&&t.props.layout===Ne.ChannelLayouts.FULL_SCREEN){t.handleChangeLayout(t._prevLayout);(0,Oe.exitFullScreen)(e,_.default.resized,t.currentDocument)}}
;t.handleToggleLayout=function(){t.handleChangeLayout(t.props.layout===Ne.ChannelLayouts.NORMAL?Ne.ChannelLayouts.NO_CHAT:Ne.ChannelLayouts.NORMAL)};t.handleChangeLayout=function(e){var n=t.props,r=n.channel,a=n.appContext;if(n.layout!==e){p.default.updateLayout(r.id,e,a);e===Ne.ChannelLayouts.FULL_SCREEN&&r.isPrivate()&&_e.ComponentDispatch.dispatch(Ne.ComponentActions.TEXTAREA_BLUR)}};t.handleDisconnect=function(){t.props.layout===Ne.ChannelLayouts.FULL_SCREEN&&t.handleFullScreen()};t.handleContextMenu=function(e,r){var a,o,u=t.props,s=u.channel,d=u.appContext,f=u.layout,c=!(f===Ne.ChannelLayouts.FULL_SCREEN)&&!t.inPopout,p={onClose:function(){var e;return null===(e=t._lastIdleProps)||void 0===e?void 0:e.onAllowIdle("menu")},context:d};null===(a=t._lastIdleProps)||void 0===a||a.onPreventIdle("menu");null===(o=t._lastIdleProps)||void 0===o||o.onActive();switch(e.type){case Me.ParticipantTypes.HIDDEN_STREAM:case Me.ParticipantTypes.STREAM:(0,
v.openContextMenuLazy)(r,Ge(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return n.e(96434).then(n.bind(n,596434));case 2:a=r.sent;o=a.default;return r.abrupt("return",(function(n){return i.createElement(o,ke({},n,{stream:e.stream,exitFullscreen:t.maybeLeaveFullScreen,appContext:d}))}));case 5:case"end":return r.stop()}}),r)}))),p);return;case Me.ParticipantTypes.USER:var y=fe.default.getUser(e.id);if(null!=y)switch(s.type){case Ne.ChannelTypes.DM:return(0,v.openContextMenuLazy)(r,Ge(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return i.createElement(r,ke({},e,{showChannelCallItems:!0,showMediaItems:!0,user:y,channel:s,showModalItems:c}))}));case 5:case"end":
return e.stop()}}),e)}))),p);case Ne.ChannelTypes.GROUP_DM:return(0,v.openContextMenuLazy)(r,Ge(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return i.createElement(r,ke({},e,{showChannelCallItems:!0,showMediaItems:!0,showChatItems:f===Ne.ChannelLayouts.MINIMUM||f===Ne.ChannelLayouts.NORMAL,user:y,channel:s,showModalItems:c}))}));case 5:case"end":return e.stop()}}),e)}))),p);case Ne.ChannelTypes.GUILD_VOICE:var h=s.getGuildId();(0,l.default)(null!=h,"GuildID null for guild voice channel");return(0,v.openContextMenuLazy)(r,Ge(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return i.createElement(r,ke({},e,{showMediaItems:!0,showChannelCallItems:!0,showChatItems:!1,user:y,channelId:s.id,guildId:h,showModalItems:c}))}));case 5:case"end":return e.stop()}}),e)}))),p)}}};t.handleCallResize=function(e){t.setState({resizedHeight:e})};t.handleSelectParticipant=function(e,n){var r=t.props,a=r.channel,o=r.selectedParticipant,i=r.allActiveStreams,u=r.inCall,l=r.mode;if((0,Me.isStreamParticipant)(e)){y.default.selectVoiceChannel(a.id);if(0===i.filter((function(t){return(0,R.encodeStreamKey)(t)===e.id&&t.state!==Ne.ApplicationStreamStates.ENDED})).length){if(!(0,w.canWatchStream)(a,ce.default,ue.default,le.default))return;(0,h.watchStream)((0,R.decodeStreamKey)(e.id),{forceMultiple:n.shiftKey})}}
u&&l===Ne.ChannelModes.VIDEO&&((null==o?void 0:o.id)===e.id?p.default.selectParticipant(a.id,null):p.default.selectParticipant(a.id,e.id))};t.handleOpenPopout=function(){var e=t.props,n=e.channel,r=function(){var e=n.getGuildId();null!=e&&(0,j.transitionTo)((0,me.previousTextChannelRouteForGuild)(e));D.openChannelCallPopout(n)};e.connectedToEmbeddedActivity?(0,T.default)(r):r()};t.handleStayOnTop=function(e){D.setAlwaysOnTop(Ne.PopoutWindowKeys.CHANNEL_CALL_POPOUT,e)};t.handleClosePopout=function(){D.close(Ne.PopoutWindowKeys.CHANNEL_CALL_POPOUT)};t.handleFullscreenParticipant=function(e,n){var r=t.props,a=r.layout,o=r.selectedParticipant,i=a===Ne.ChannelLayouts.FULL_SCREEN;(!i&&(null==o?void 0:o.id)!==e.id||i&&(null==o?void 0:o.id)===e.id)&&t.handleSelectParticipant(e,n);t.handleFullScreen()};t.renderRegionSelect=function(){var e,n=t.props,r=n.call,a=n.channel,o=n.layout;t.inPopout||o===Ne.ChannelLayouts.FULL_SCREEN||null==r||a.isManaged()||(e=Be(g.default,{call:r}))
;return Be(pe.default,{justify:pe.default.Justify.END},void 0,e)};t.renderBottomCenter=function(){var e=t.props,n=e.channel,r=e.mode,a=e.inCall,o=e.layout;return a||o===Ne.ChannelLayouts.MINIMUM||o===Ne.ChannelLayouts.NORMAL?Be(B.default,{exitFullScreen:t.maybeLeaveFullScreen,channel:n,mode:r,onDisconnectCall:t.handleDisconnect}):null};t.renderBottomLeft=function(){var e=t.props,n=e.layout,r=e.mentionCount,a=e.channel,o=e.appContext,u=e.useNewInviteButton,l=e.selectedParticipant,s=e.soundboardEnabled;if(!e.inCall)return null;var d=n===Ne.ChannelLayouts.NO_CHAT?$.default.Directions.UP:$.default.Directions.DOWN,f=[Ne.ChannelLayouts.FULL_SCREEN,Ne.ChannelLayouts.NO_CHAT].includes(n),c=n===Ne.ChannelLayouts.FULL_SCREEN?function(){t._prevLayout=Ne.ChannelLayouts.NORMAL;t.handleFullScreen()}:t.handleToggleLayout,p=t.viewProperties,v=p.canChangeLayout,y=p.canInvite,h=u?Be(W.default,{channel:a,stream:(null==l?void 0:l.type)===Me.ParticipantTypes.STREAM?(0,R.decodeStreamKey)(l.id):void 0,
applicationId:(null==l?void 0:l.type)===Me.ParticipantTypes.ACTIVITY?l.id:void 0,appContext:o,className:we.default.leftTrayIcon,exitFullScreen:t.maybeLeaveFullScreen,analyticsLocation:a.type===Ne.ChannelTypes.GUILD_VOICE?Ne.AnalyticsPages.GUILD_CHANNEL:Ne.AnalyticsPages.DM_CHANNEL}):Be(X.default,{channel:a,stream:(null==l?void 0:l.type)===Me.ParticipantTypes.STREAM?(0,R.decodeStreamKey)(l.id):void 0,appContext:o,className:we.default.leftTrayIcon,exitFullScreen:t.maybeLeaveFullScreen,analyticsLocation:a.type===Ne.ChannelTypes.GUILD_VOICE?Ne.AnalyticsPages.GUILD_CHANNEL:Ne.AnalyticsPages.DM_CHANNEL});return i.createElement(i.Fragment,null,s&&o===Ne.AppContext.POPOUT&&(0,U.default)(a)?Be(F.default,{className:we.default.leftTrayIcon,channel:a}):null,y?h:null,v?Be(pe.default,{className:we.default.iconWrapper,align:pe.default.Align.CENTER,grow:0},void 0,Be($.default,{label:f?Re.default.Messages.SHOW_CHAT:Re.default.Messages.HIDE_CHAT,direction:d,className:we.default.leftTrayIcon,onClick:c
}),f&&r>0?Be(ye.NumberBadge,{className:we.default.badge,count:r}):null):null,(null==l?void 0:l.type)===Me.ParticipantTypes.STREAM||(null==l?void 0:l.type)===Me.ParticipantTypes.ACTIVITY?Be(z.default,{},void 0,Be(Pe.default,{className:we.default.viewersButton,participant:l,maxVisibleUsers:4,guildId:a.getGuildId(),channelId:a.id,disableInteraction:t.inPopout||n===Ne.ChannelLayouts.FULL_SCREEN})):null)};t.renderBottomRight=function(){var e=t.props,n=e.popoutWindow,r=e.popoutWindowAlwaysOnTop,a=e.currentUserId,o=e.selectedParticipant,u=t.viewProperties,l=u.canFullscreen,s=u.canStayOnTop,d=u.canPopout,f=u.useTheme;return i.createElement(i.Fragment,null,null!=o&&o.type!==Me.ParticipantTypes.ACTIVITY&&o.user.id!==a?Be(ee.default,{context:(0,Ie.default)(o.type),userId:o.user.id,currentWindow:t.inPopout?null!=n?n:void 0:window,sliderClassName:we.default.volumeSlider}):null,s?Be(J.default,{className:we.default.rightTrayIcon,popoutWindowAlwaysOnTop:r,onToggleStayOnTop:t.handleStayOnTop
}):null,d?Be(Q.default,{themeable:f,popoutOpen:t.popoutOpen,className:we.default.rightTrayIcon,onOpenPopout:t.handleOpenPopout,onClosePopout:t.handleClosePopout}):null,l?Be(Z.default,{themeable:f,node:t.getRootNode(),guestWindow:n,className:we.default.rightTrayIcon,onClick:t.handleFullScreen}):null)};t.renderChatButton=function(e){var n=e.className,r=e.showingClassName,a=t.props,o=a.channel,i=a.chatOpen,u=a.inCall,l=a.textInVoiceInPopoutEnabled;return i||t.popoutOpen&&!t.inPopout&&u?null:Be(q.ChatButton,{channelId:o.id,className:n,showingClassName:r,disabled:!l&&t.inPopout,inPopout:!l&&t.inPopout})};t.renderChatToasts=function(){var e=t.props,n=e.showChatToasts,r=e.chatOpen,a=e.channel,o=e.inCall;return!n||r||t.popoutOpen&&!t.inPopout&&o?null:Be(Ce.default,{},void 0,Be(Y.default,{className:we.default.chatToasts,channelId:a.id,inPopout:t.inPopout}))};t.renderHeader=function(){
var e=t.props,n=e.renderExternalHeader,r=e.channel,a=e.appContext,o=e.layout,i=e.chatOpen,u=e.inCall,l=t.viewProperties,s=l.useExternalHeader,d=l.canSelectRegion,f=l.renderHeader,c=o===Ne.ChannelLayouts.FULL_SCREEN;return f?Be(z.default,{},void 0,Be("div",{className:we.default.headerWrapper},void 0,s?null==n?void 0:n():Be(Ae.default,{channel:r,appContext:a,inCall:u,inPopout:t.inPopout,isFullScreen:c,isChatOpen:i||t.popoutOpen&&!t.inPopout&&u,exitFullScreen:t.maybeLeaveFullScreen})),d?t.renderRegionSelect():null):null};return t}var r=t.prototype;r.getRootNode=function(){var e,t;return(null!==(e=null===(t=this.props.popoutWindow)||void 0===t?void 0:t.window)&&void 0!==e?e:window).document.getElementById("app-mount")};r.componentDidMount=function(){var e=this.props,t=e.channel,n=e.layout;this.currentDocument.addEventListener(Oe.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);he.default.track(Ne.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,ke({video_layout:this.inPopout?"popout":n},(0,
P.collectVoiceAnalyticsMetadata)(t.id)))};r.componentWillUnmount=function(){this._videoBackgroundTooltipTimeout.stop();this.currentDocument.removeEventListener(Oe.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);this.inPopout&&(0,ge.isOSX)()||this.maybeLeaveFullScreen()};r.componentDidUpdate=function(e){var t=this,n=this.props,r=n.participantsOpen,a=n.inCall,o=n.mode,i=n.layout,u=this.getRootNode();null!=u&&e.mode===Ne.ChannelModes.VIDEO&&o===Ne.ChannelModes.VOICE&&(0,Oe.isFullScreen)(u,this.currentDocument)&&(0,Oe.exitFullScreen)(u,_.default.resized,this.currentDocument);if(e.participantsOpen!==r||i!==e.layout){var l;null===(l=this._contentRef.current)||void 0===l||l.triggerResize()}e.inCall&&!a&&this.inPopout&&c.default.wait((function(){return t.handleClosePopout()}))};r.renderContent=function(e){
var t=this.props,n=t.selectedParticipant,r=t.inCall,a=t.mode,o=t.popoutWindow,u=t.participantsOpen,l=t.participants,s=t.filteredParticipants,d=t.participantsVersion,f=t.channel,c=t.guild,p=t.layout,v=t.textInVoiceEnabled,y=t.forceShowControls,h=p===Ne.ChannelLayouts.MINIMUM,m=h||p===Ne.ChannelLayouts.NORMAL,_=r&&a===Ne.ChannelModes.VIDEO,g=f.isGuildVoice()&&v;this._lastIdleProps=e;return i.createElement(K.default,ke({renderHeader:this.renderHeader,renderBottomLeft:this.renderBottomLeft,renderBottomCenter:this.renderBottomCenter,renderBottomRight:this.renderBottomRight,renderChatButton:g?this.renderChatButton:void 0,renderChatToasts:g?this.renderChatToasts:void 0},e,{screenMessage:this.screenMessage,disableGradients:h,idle:!y&&r&&!h&&e.idle}),r&&this.popoutOpen&&!this.inPopout?null:i.createElement(V.default,{ref:this._contentRef,inCall:r,paused:this.paused,channel:f,guild:c,participants:l,filteredParticipants:s,participantsVersion:d,selectedParticipant:_?n:null,layout:p,idle:e.idle,
mode:a,onSelectParticipant:this.handleSelectParticipant,onContextMenuParticipant:this.handleContextMenu,showParticipants:u&&!m,popoutWindow:this.inPopout?o:null}))};r.render=function(){var e,t,n=this,r=this.props,a=r.layout,o=r.channel,l=r.guild,s=r.mode,d=r.chatOpen,f=r.appContext,c=r.width,p=r.maxHeight,v=r.inCall,y=this.state.resizedHeight,h=s===Ne.ChannelModes.VIDEO,m=c-550,_=a!==Ne.ChannelLayouts.NO_CHAT&&a!==Ne.ChannelLayouts.FULL_SCREEN&&null!=p;return i.createElement("div",{className:(0,u.default)(we.default.wrapper,He[a],ze[f],(e={},e[we.default.poppedOut]=this.popoutOpen&&!this.inPopout&&a!==Ne.ChannelLayouts.NO_CHAT&&o.isPrivate(),e[we.default.video]=h,e[we.default.chatSidebarOpen]=d,e)),ref:function(e){n._wrapperRef.current=e;n.props.wrapperRef.current=e},style:_&&null!=y?{minHeight:200,maxHeight:p,height:y}:void 0},Be("div",{className:(0,u.default)(we.default.callContainer,(t={},t[(0,Ee.getThemeClass)(Ne.ThemeTypes.DARK)]=h,t))},void 0,Be(H.default,{timeout:2e3
},void 0,(function(e){return n.viewProperties.usePositionLayer?Be(ve.AppLayerProvider,{},void 0,n.renderContent(e),Ke):n.renderContent(e)}))),_&&Be(Ye,{maxHeight:p,resizableNode:this._wrapperRef,onResize:this.handleCallResize,onResizeEnd:this.props.updateStoredCallHeaderHeight}),d&&(!v||!this.popoutOpen||this.inPopout)&&Be(Te.default,{channel:o,guild:l,maxWidth:m}))};!function(e,t,n){t&&Fe(e.prototype,t);n&&Fe(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"nativePopoutSupported",get:function(){return ge.isPlatformEmbedded&&Se.default.supportsFeature(Ne.NativeFeatures.POPOUT_WINDOWS)}},{key:"popoutSupported",get:function(){return!ge.isPlatformEmbedded||this.nativePopoutSupported}},{key:"popoutOpen",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}},{key:"currentDocument",get:function(){var e=this.props.popoutWindow;return null!=e&&this.popoutOpen&&this.inPopout?e.document:document}},{key:"screenMessage",get:function(){
return this.popoutOpen&&!this.inPopout&&this.props.inCall?{mainText:Re.default.Messages.POPOUT_PLAYER_OPENED}:null}},{key:"paused",get:function(){return this.popoutOpen&&!this.inPopout}},{key:"inPopout",get:function(){return this.props.appContext===Ne.AppContext.POPOUT}},{key:"viewProperties",get:function(){var e=this.props,t=e.layout,n=e.mode,r=e.channel,a=e.inCall,o=n===Ne.ChannelModes.VIDEO&&a&&!(this.popoutOpen&&!this.inPopout),i=n===Ne.ChannelModes.VIDEO&&a&&!this.inPopout&&this.popoutSupported,u=n!==Ne.ChannelModes.VOICE&&r.isPrivate()&&!this.inPopout&&a,l=r.type===Ne.ChannelTypes.GUILD_VOICE,s=t===Ne.ChannelLayouts.MINIMUM||t===Ne.ChannelLayouts.NORMAL,d=this.inPopout&&this.nativePopoutSupported,f={renderHeader:!0,useTheme:!1,usePositionLayer:!1,useExternalHeader:s,canInvite:l,canPopout:i,canFullscreen:o,canSelectRegion:r.isPrivate(),canChangeLayout:u,canStayOnTop:d};if(!a)return ke({},f,{canFullscreen:o,useTheme:!0});switch(t){case Ne.ChannelLayouts.FULL_SCREEN:return ke({},f,{
canPopout:!this.inPopout&&this.popoutOpen&&f.canPopout,usePositionLayer:!0});case Ne.ChannelLayouts.MINIMUM:return ke({},f,{canPopout:!1});case Ne.ChannelLayouts.NO_CHAT:case Ne.ChannelLayouts.NORMAL:return ke({},f)}}}]);return t}(i.PureComponent);$e.displayName="ChannelCall";var qe=Be(Ce.ChannelCallChatLayerContainer,{});function Ze(e){var t,n=e.channel,r=e.renderExternalHeader,a=e.maxHeight,o=(0,S.default)(),u=o.width,l=void 0===u?0:u,f=o.ref,c=(0,b.useAppContext)(),p=(0,s.useStateFromStores)([de.default],(function(){return de.default.getVoiceChannelId()===n.id})),v=(0,s.useStateFromStoresObject)([be.default],(function(){var e=c===Ne.AppContext.POPOUT,t=be.default.getMode(n.id);e&&(t=Ne.ChannelModes.VIDEO);var r=t===Ne.ChannelModes.VIDEO?be.default.getLayout(n.id,c):Ne.ChannelLayouts.MINIMUM;e&&r!==Ne.ChannelLayouts.FULL_SCREEN&&(r=Ne.ChannelLayouts.NO_CHAT);return{mode:t,layout:r,selectedParticipant:t!==Ne.ChannelModes.VOICE?be.default.getSelectedParticipant(n.id):null,
participants:be.default.getParticipants(n.id),filteredParticipants:be.default.getFilteredParticipants(n.id),participantsOpen:be.default.getParticipantsOpen(n.id),chatOpen:be.default.getChatOpen(n.id),participantsVersion:be.default.getParticipantsVersion(n.id)}}),[n.id,n.type,p]),y=v.participants,h=v.filteredParticipants,_=v.participantsVersion,g=v.mode,O=v.layout,T=v.participantsOpen,P=v.chatOpen,R=v.selectedParticipant,w=(0,s.useStateFromStoresArray)([re.default],(function(){return re.default.getAllActiveStreams()})),D=(0,s.useStateFromStoresObject)([re.default],(function(){return{selectedStream:null!=R?re.default.getActiveStreamForStreamKey(R.id):null}}),[R]).selectedStream,j=(0,s.useStateFromStores)([ue.default],(function(){return ue.default.getGuild(n.getGuildId())})),U=(0,s.useStateFromStores)([ie.default],(function(){return ie.default.getCall(n.id)}),[n.id]),F=(0,s.useStateFromStores)([se.default],(function(){return se.default.getMentionCount(n.id)}),[n.id]),B=(0,
s.useStateFromStores)([ae.default],(function(){return ae.default.getId()})),V=(0,s.useStateFromStoresObject)([L.default],(function(){return{popoutWindow:L.default.getWindow(Ne.PopoutWindowKeys.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:L.default.getIsAlwaysOnTop(Ne.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}})),W=V.popoutWindow,H=V.popoutWindowAlwaysOnTop,z=(0,s.useStateFromStores)([oe.default],(function(){return oe.default.getToastsEnabled(n.id)})),Y=(0,s.useStateFromStores)([x.default],(function(){return x.default.callHeaderHeight})),K=i.useCallback((function(e){m.default.updatedUnsyncedSettings({callHeaderHeight:e})}),[]),$=null!==(t=null==j?void 0:j.id)&&void 0!==t?t:null,q=(0,C.default)($),Z=(0,s.useStateFromStores)([I.default],(function(){return null!=I.default.getSelfEmbeddedActivityForChannel(n.id)}),[n]);i.useEffect((function(){var e=!1,t=null,n=function(){var n=Ge(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){
case 0:if(!p||g!==Ne.ChannelModes.VIDEO){n.next=5;break}n.next=3;return Se.default.blockDisplaySleep();case 3:t=n.sent;e&&null!=t&&Se.default.unblockDisplaySleep(t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n();return function(){null!=t?Se.default.unblockDisplaySleep(t):e=!0}}),[p,g]);var X=k.default.useExperiment({guildId:null!=$?$:""},{autoTrackExposure:!0}).allowSoundboard,Q=(0,G.useIsSoundboardSupported)(),J=(0,ne.useIsTextInVoiceEnabled)($),ee=te.TextInVoiceInPopoutExperiment.useExperiment({guildId:null!=$?$:""}).isEnabled,le=(0,N.useIsContentShown)(d.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK);return Be((0,M.default)(A.default.CHANNEL_CALL).AnalyticsLocationProvider,{},void 0,Be(E.default,{page:Ne.AnalyticsPages.CHANNEL_CALL},void 0,Be(Ce.ChannelCallChatLayerProvider,{},void 0,Be($e,{channel:n,guild:j,participantsOpen:T,renderExternalHeader:r,appContext:c,call:U,popoutWindow:W,popoutWindowAlwaysOnTop:H,
mentionCount:F,selectedStream:D,mode:g,inCall:p,participants:y,filteredParticipants:h,participantsVersion:_,layout:O,chatOpen:P,soundboardEnabled:X&&Q,currentUserId:B,selectedParticipant:R,allActiveStreams:w,useNewInviteButton:q,connectedToEmbeddedActivity:Z,showChatToasts:z,storedCallHeaderHeight:Y,updateStoredCallHeaderHeight:K,wrapperRef:f,width:l,maxHeight:a,textInVoiceEnabled:J,textInVoiceInPopoutEnabled:ee,forceShowControls:le}),qe)))}Ze.displayName="ChannelCallConnected";var Xe=Ze;t.default=Xe},665597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ChannelCallChatLayerProvider=t.ChannelCallChatLayerContainer=void 0;var r=(0,n(933503).createLayer)("ChannelCallChat"),a=r.Layer,o=r.LayerContainer,i=r.LayerProvider,u=o;t.ChannelCallChatLayerContainer=u;var l=i;t.ChannelCallChatLayerProvider=l;var s=a;t.default=s},368464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=A(n(667294)),o=n(923387),i=C(n(229132)),u=C(n(914789)),l=A(n(174851)),s=C(n(805918)),d=n(573285),f=n(203847),c=n(14219),p=n(687549),v=C(n(37985)),y=C(n(259530)),h=n(598671),m=C(n(878556)),_=n(956506),g=C(n(665597)),E=n(770348),S=n(583551),O=C(n(247001)),b=C(n(798123)),I=C(n(974290));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){var t,n=e.channel,r=e.guild,C=e.maxWidth,T=c.TextInVoiceExperiment.useExperiment({guildId:null!==(t=null==r?void 0:r.id)&&void 0!==t?t:""}).isEnabled;a.useEffect((function(){(0,f.markDismissibleContentAsDismissed)(o.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK,{dismissAction:S.ContentDismissActionType.AUTO})}),[]);var A=a.useCallback((function(){i.default.updateChatOpen(n.id,!1);_.ComponentDispatch.safeDispatch(E.ComponentActions.FOCUS_CHAT_BUTTON)}),[n.id]),M=P(m.default.Icon,{icon:y.default,tooltip:O.default.Messages.CLOSE,onClick:A})
;return P(l.default,{sidebarType:l.ChatSidebarType.CallChatSidebar,maxWidth:C,floatingLayer:g.default},void 0,P(s.default,{channel:n,draftType:p.DraftType.ChannelMessage}),P(m.default,{toolbar:M,"aria-label":O.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},void 0,P(m.default.Icon,{icon:v.default,disabled:!0,"aria-label":O.default.Messages.VOICE_CHAT_TEXT_CHANNEL}),P(m.default.Title,{},void 0,n.name),!T&&P(h.TextBadge,{text:"BETA",className:b.default.betaTag,color:E.Colors.BRAND_NEW_500})),P("div",{className:I.default.chat},void 0,P(u.default,{channel:n,guild:r,chatInputType:d.ChatInputTypes.SIDEBAR},n.id)))}M.displayName="ChannelCallChatSidebar";var N=M;t.default=N},789659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=G
;var r,a=P(n(667294)),o=n(536211),i=P(n(538930)),u=T(n(411018)),l=T(n(469487)),s=T(n(678928)),d=T(n(786661)),f=n(902399),c=T(n(891036)),p=T(n(116780)),v=T(n(562475)),y=T(n(878556)),h=T(n(776360)),m=n(864489),_=n(518802),g=T(n(922629)),E=T(n(825724)),S=T(n(156511)),O=n(859089),b=n(478036),I=T(n(247001)),C=T(n(34973));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(){return j.apply(this,arguments)}function j(){return(j=D(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,m.isOSX)()||!m.isPlatformEmbedded){e.next=14;break}e.next=3
;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?g.default.minimize():"Maximize"===a&&g.default.maximize();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t=e.user,n=e.channel,r=e.stream,o=(0,p.default)(n,t,r);return null==t||null==r?null:a.createElement(a.Fragment,null,R(i.default,{className:C.default.avatar,size:i.Sizes.SIZE_24,user:t,animate:!1}),R(h.default,{className:C.default.playingText,size:h.default.Sizes.SIZE_16,color:h.default.Colors.CUSTOM},void 0,o))}function U(e){var t,n=e.focusedApplication,r=e.focusedParticipant,o=e.channel,i=(0,f.useActiveEvent)(o.id),l=null!=i;if((null==r?void 0:r.type)===O.ParticipantTypes.ACTIVITY)null!=n&&(t=a.createElement(a.Fragment,null,R(y.default.Divider,{
className:C.default.divider}),R(v.default,{game:n,className:C.default.activityIcon}),R(h.default,{className:C.default.playingText,size:h.default.Sizes.SIZE_16,color:h.default.Colors.CUSTOM},void 0,(0,u.default)(n.name))));else if((null==r?void 0:r.type)===O.ParticipantTypes.STREAM){var s=r.user,d=r.stream;t=a.createElement(a.Fragment,null,R(y.default.Divider,{className:C.default.divider}),R(k,{user:s,channel:o,stream:d}))}else l&&(t=R(c.default,{guildEvent:i}));return R("div",{className:C.default.container},void 0,t)}U.displayName="ChannelTitle";function G(e){var t=e.channel,n=e.appContext,r=e.inCall,a=e.inPopout,i=e.isFullScreen,u=e.isChatOpen,f=e.exitFullScreen,c=(0,o.useStateFromStoresObject)([E.default],(function(){return{focusedParticipant:E.default.getSelectedParticipant(t.id),participantsOpen:E.default.getParticipantsOpen(t.id)}}),[t.id]).focusedParticipant,p=(0,s.default)(t),v=(0,d.default)(t),h=M((0,
l.default)((null==c?void 0:c.type)===O.ParticipantTypes.ACTIVITY?[c.id]:[]),1)[0],m=I.default.Messages.VOICE_CHANNEL;t.isDM()?m=I.default.Messages.DM:t.isGroupDM()&&(m=I.default.Messages.GROUP_DM);return R(y.default,{onDoubleClick:L,transparent:!0,className:(0,_.getThemeClass)(b.ThemeTypes.DARK),toolbar:R(S.default,{channel:t,appContext:n,inCall:r,inPopout:a,isFullScreen:i,isChatOpen:u,exitFullScreen:f})},void 0,null!=v?R(y.default.Icon,{icon:v,disabled:!0,"aria-label":m}):null,R(y.default.Title,{},void 0,p),R(U,{focusedApplication:h,focusedParticipant:c,channel:t}))}G.displayName="ChannelCallHeader"},156511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel,n=e.appContext,r=e.inCall,o=e.inPopout,i=e.isFullScreen,f=e.isChatOpen,S=e.exitFullScreen,b=t.id,C=(0,u.useStateFromStoresObject)([A.default],(function(){return{selectedParticipant:A.default.getSelectedParticipant(b),
voiceParticipantsHidden:A.default.getVoiceParticipantsHidden(b),userParticipantCount:A.default.getUserParticipantCount(b)}}),[t.id]),R=C.voiceParticipantsHidden,D=C.selectedParticipant,L=C.userParticipantCount,G=(0,E.useIsTextInVoiceEnabled)(t.guild_id),F=(0,p.usePreventIdle)("popup"),x=F.preventIdle,B=F.allowIdle,V=[];R&&V.push(j(U,{channelId:b,guildId:t.guild_id},"current-speaker"));if((null==D?void 0:D.type)===N.ParticipantTypes.STREAM){V.push(j(c.default,{className:w.default.button,participant:D},"warning"));V.push(j(l.default,{size:T.default.Sizes.LARGE,className:w.default.button,participant:D,showQuality:!0},"live-indicator"))}var W=j(v.default,{},void 0,j(M.default,{channel:t}));R&&V.push(j(O.default,{position:O.default.Positions.BOTTOM,renderPopout:function(){return W}},"call-members-popout",(function(e,t){var n=t.isShown;return a.createElement(_.default,k({},e,{active:n,count:L,key:"call-members",className:w.default.button}))})));V.push(j(s.default,{guildId:t.guild_id
},"guild-events-browser-button"));r&&V.push(null!=D?j(m.default,{className:w.default.button,channelId:b},"deselect-participant"):j(g.default,{className:w.default.button,channelId:b,isHorizontal:G},"select-participant"));G&&V.push(j(d.default,{onOpen:x,onClose:B,className:w.default.button},"recents"));V.push(j(O.default,{position:O.default.Positions.BOTTOM,renderPopout:function(e){var t=e.closePopout;return j(v.default,{},void 0,j(P.default,{channelId:b,onClose:t,appContext:n,exitFullScreen:S}))}},"more-options-popout",(function(e,t){var n=t.isShown;return a.createElement(h.default,k({},e,{key:"more-options",active:n,className:w.default.lastButton}))})));if(G){if(!f){V.push(j(I.default.Divider,{className:w.default.divider},"divider"));V.push(j(y.ChatButtonWithNUX,{channelId:t.id,className:w.default.chatButtonSpacer,disabled:!0}))}}else if(!o&&!i){V.push(j(I.default.Divider,{className:w.default.divider},"divider"));V.push(j(d.default,{className:w.default.button,onOpen:x,onClose:B
},"recents"))}return a.createElement(a.Fragment,null,V)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=D(n(294184)),i=D(n(496486)),u=n(536211),l=D(n(57697)),s=D(n(981706)),d=D(n(386195)),f=D(n(183612)),c=D(n(697252)),p=n(134893),v=D(n(222935)),y=n(146529),h=D(n(928221)),m=D(n(56396)),_=D(n(975577)),g=D(n(727012)),E=n(518180),S=D(n(397228)),O=D(n(160629)),b=D(n(730977)),I=D(n(878556)),C=D(n(528739)),T=D(n(528175)),A=D(n(825724)),P=D(n(948861)),M=D(n(252986)),N=n(859089),R=D(n(247001)),w=D(n(942751));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}function U(e){var t=e.channelId,n=e.guildId,r=Date.now(),l=(0,u.useStateFromStores)([S.default,A.default],(function(){return(0,i.default)(S.default.getSpeakers()).map((function(e){return A.default.getParticipant(t,e)})).filter((function(e){
return null!=e&&e.type===N.ParticipantTypes.USER&&!(0,f.default)(e)&&e.speaking})).sortBy((function(e){return-S.default.getSpeakingDuration(e.user.id,r)})).slice(0,3).value()}));return 0===l.length?null:a.createElement(a.Fragment,null,l.map((function(e,t){return j(b.default,{position:b.default.Positions.BOTTOM,color:b.default.Colors.GREY,text:R.default.Messages.CHANNEL_CALL_CURRENT_SPEAKER.format({username:e.user.username})},e.id,(function(r){var i;return a.createElement(C.default,k({},r,{className:(0,o.default)(w.default.speaker,(i={},i[w.default.last]=t===l.length-1,i)),user:e.user,speaking:!0,collapsed:!0,guildId:n}))}))})))}},121791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(636602)),a=c(n(740207)),o=c(n(177230)),i=c(n(902305)),u=c(n(635014)),l=c(n(834162)),s=c(n(949898)),d=n(770348),f=n(376293);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return p(e,t)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=new Set,m=new Set,_=null;function g(){for(var e,t=v(h);!(e=t()).done;){var n=e.value
;a.default.setDisableLocalVideo(n,!1,f.MediaEngineContextTypes.DEFAULT,!1)}m.clear();h.clear()}var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleWindowFocus=function(e){e.focused&&g()};t.handleVoiceChannelSelect=function(e){var t=e.channelId;if(t!==_){g();_=t}};t.handlePopoutChange=function(){i.default.getWindowFocused(d.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&g()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(d.ActionTypes.RTC_CONNECTION_VIDEO,this.handleIncomingVideo);r.default.subscribe(d.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED,this.handleManualLocalVideoToggle);r.default.subscribe(d.ActionTypes.WINDOW_FOCUS,this.handleWindowFocus);r.default.subscribe(d.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect)
;i.default.addChangeListener(this.handlePopoutChange)};n._terminate=function(){r.default.unsubscribe(d.ActionTypes.RTC_CONNECTION_VIDEO,this.handleIncomingVideo);r.default.unsubscribe(d.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED,this.handleManualLocalVideoToggle);r.default.unsubscribe(d.ActionTypes.WINDOW_FOCUS,this.handleWindowFocus);r.default.unsubscribe(d.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect);i.default.removeChangeListener(this.handlePopoutChange);g();_=null};n.handleIncomingVideo=function(e){var t=e.userId,n=e.context,r=e.streamId;if(n===f.MediaEngineContextTypes.DEFAULT&&null!=r){var o=null!=l.default.getCurrentGame(),c=s.default.isFocused(),p=i.default.getWindowFocused(d.PopoutWindowKeys.CHANNEL_CALL_POPOUT),v=u.default.isLocalVideoDisabled(t,n),y=m.has(t);if(o&&!c&&!p&&!v&&!y){h.add(t);a.default.setDisableLocalVideo(t,!0,n,!1)}}};n.handleManualLocalVideoToggle=function(e){var t=e.userId;if(e.persist){m.add(t);h.delete(t)}};return t}(o.default))
;t.default=E},948861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;h(n(667294));var r,a=n(536211),o=h(n(145122)),i=v(n(825724)),u=v(n(856015)),l=v(n(48712)),s=v(n(845442)),d=v(n(681064)),f=v(n(630601)),c=n(859089),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.channelId,n=e.onClose,r=e.appContext,v=e.exitFullScreen,y=e.onSelect,h=(0,a.useStateFromStores)([i.default],(function(){return i.default.getSelectedParticipant(t)})),_=(null==h?void 0:h.type)===c.ParticipantTypes.STREAM?h.stream:null;return m(o.default,{navId:"channel-call-overflow-popout",style:o.MenuStyle.FLEXIBLE,onClose:n,"aria-label":p.default.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:y},void 0,(0,u.default)(t),(0,s.default)(),(0,l.default)(t),(0,f.default)(t),(0,d.default)(_,r,v))}_.displayName="ChannelCallOverflowMenu"},252986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=c(n(692244)),i=c(n(487372)),u=c(n(776360)),l=c(n(582945)),s=n(770348),d=c(n(247001)),f=c(n(498082));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.channel,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getVoiceStatesForChannel(t)}));return v("div",{className:f.default.root},void 0,v(u.default,{size:u.default.Sizes.SIZE_12,className:f.default.header},void 0,d.default.Messages.CHANNEL_CALL_MEMBERS_POPOUT_HEADER.format({count:n.length})),v(l.default,{className:f.default.scroller},void 0,v(o.default,{allowDragging:!1,allowPreviews:!1,className:f.default.voiceUsers,channel:t,voiceStates:n,collapsed:!1,location:s.AnalyticsLocations.CHANNEL_CALL})))}y.displayName="ChannelCallParticipantsPopout"},297452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=V(n(294184)),i=n(248088),u=n(536211),l=V(n(88500)),s=V(n(72690)),d=V(n(136873)),f=V(n(61689)),c=n(460784),p=V(n(678928)),v=n(139982),y=n(659022),h=n(700192),m=V(n(712594)),_=V(n(373115)),g=V(n(770404)),E=V(n(493051)),S=n(143414),O=V(n(643779)),b=V(n(645675)),I=V(n(635014)),C=V(n(728429)),T=V(n(949898)),A=V(n(956117)),P=V(n(160629)),M=V(n(80828)),N=V(n(259530)),R=V(n(57754)),w=V(n(776360)),D=n(518802),L=V(n(825724)),j=V(n(932018)),k=n(770348),U=n(942675),G=n(376293),F=V(n(247001)),x=V(n(299005)),B=V(n(480798));function V(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(W=function(e){return e?n:t})(e)}function H(){H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return H.apply(this,arguments)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var $={width:232,height:315},q={width:232,height:267},Z=475,X=267,Q=K(M.default,{});function J(e){var t=e.header,n=I.default.getCameraComponent(),r=(0,u.useStateFromStores)([I.default],(function(){return I.default.getVideoDeviceId()})),o=(0,m.default)();a.useEffect((function(){
var e=C.default.getCurrentUser();if(o&&null!=e){var t=(0,y.getLastUsedVideoBackgroundOption)(e);(0,h.applyBackgroundOptionPreview)(t,r,{track:!1}).catch(k.NOOP)}}),[o,r]);return K("div",{className:x.default.previewRoot},void 0,Q,K("div",{className:x.default.preview},void 0,K(n,{disabled:!1,deviceId:r,width:Z,height:X})),K("div",{className:x.default.previewChannelHeader},void 0,t))}J.displayName="CameraPreview";function ee(e){var t=e.canVideo,n=e.channel,r=e.numVideoDevices,a=(0,_.default)(),i=a.cameraUnavailable,u=a.enabled,s=(0,g.default)(n);return K("div",{className:x.default.actions},void 0,K(S.CenterControlButton,{iconComponent:N.default,color:"red",className:x.default.actionButton,label:F.default.Messages.DISMISS,onClick:function(){return l.default.stopRinging(n.id)}}),t&&K(P.default,{renderPopout:function(e){var t=e.closePopout;return K(j.default,{onClose:t})},position:P.default.Positions.TOP,align:P.default.Align.CENTER,animation:P.default.Animation.FADE},void 0,(function(e,t){
var a=e.onClick,o=t.isShown;return K(b.default,{join:!0,enabled:u,color:"green",centerButton:!0,hasPermission:s,cameraUnavailable:i,channel:n,onPopoutClick:r>1?a:null,className:x.default.actionButton,popoutOpen:o,onCameraUnavailable:E.default,onChange:function(){d.default.selectVoiceChannel(n.id,!0);(0,v.transitionToGuild)(k.ME,n.id)}})})),K(O.default,{channel:n,color:"green",centerButton:!0,className:(0,o.default)(x.default.actionButton,x.default.last),onClick:function(){return d.default.selectVoiceChannel(n.id)}}))}ee.displayName="CallActionButtons";function te(e){var t,n=e.animatedStyle,r=e.y,d=e.x,v=e.channel,y=z(a.useState(!1),2),h=y[0],m=y[1],_=(0,c.getChannelIconURL)(v),g=(0,p.default)(v),E=z((0,u.useStateFromStoresArray)([I.default],(function(){return[I.default.supports(G.Features.VIDEO),Object.keys(I.default.getVideoDevices()).length]})),2),S=E[0],O=E[1],b=(0,u.useStateFromStores)([T.default],(function(){return T.default.isFocused()})),C=(0,
u.useStateFromStores)([L.default],(function(){return L.default.getMode(v.id)})),P=a.useCallback((function(e){null!=e.top&&null!=e.left&&s.default.move(e.left,e.top)}),[]),M=(0,i.useSpring)({value:h?1:0,config:H({},i.config.stiff,{clamp:!0})});a.useEffect((function(){var e=function(e){e.keyCode===k.KeyboardKeys.ESCAPE&&l.default.stopRinging(v.id)};window.addEventListener("keydown",e);return function(){return window.removeEventListener("keydown",e)}}),[v]);var N=C===k.ChannelModes.VIDEO&&S&&O>0,j=a.createElement(a.Fragment,null,K(R.default,{className:x.default.icon,ringing:b,src:null!=_?_:"",ringingType:R.default.RingingType.INCOMING,size:h?U.Sizes.SIZE_40:U.Sizes.SIZE_80}),K("div",{className:x.default.titleGroup},void 0,K(w.default,{color:w.default.Colors.CUSTOM,className:x.default.title,size:h?w.default.Sizes.SIZE_16:w.default.Sizes.SIZE_20},void 0,g),K(w.default,{color:w.default.Colors.CUSTOM,className:x.default.subtitle,size:h?w.default.Sizes.SIZE_14:w.default.Sizes.SIZE_16
},void 0,C===k.ChannelModes.VOICE?F.default.Messages.INCOMING_CALL_ELLIPSIS:F.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS))),V=N?$:q;return K(f.default,{className:x.default.wrapper,selector:"."+x.default.root,initialPosition:{left:d,top:r},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:P,dragAnywhere:!0},void 0,a.createElement(a.Fragment,null,K(i.animated.div,{className:(0,o.default)(x.default.root,B.default.elevationHigh,(t={},t[x.default.previewCamera]=h,t),h?(0,D.getThemeClass)("dark"):null),style:H({},n,{width:M.value.interpolate([0,1],[V.width,Z]),minHeight:M.value.interpolate([0,1],[V.height,X]),translateX:M.value.interpolate([0,1],[0,-1*Math.abs(Z-V.width)/2])})},void 0,h?K(J,{header:j}):K("div",{className:x.default.mainChannelInfo},void 0,j),K(ee,{canVideo:N,channel:v,numVideoDevices:O}),N&&!h?K(A.default,{size:A.default.Sizes.SMALL,fullWidth:!0,look:A.default.Looks.LINK,color:A.default.Colors.PRIMARY,className:x.default.previewButton,onClick:function(){return m(!0)
}},void 0,F.default.Messages.INCOMING_CALL_PREVIEW_CAMERA):null)))}te.displayName="IncomingCallModal"},310268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=A(n(294184)),i=A(n(496486)),u=n(536211),l=n(91817),s=n(378158),d=A(n(762921)),f=A(n(284382)),c=A(n(607209)),p=A(n(728429)),v=A(n(265851)),y=A(n(160629)),h=n(730977),m=A(n(268478)),_=A(n(628551)),g=A(n(971639)),E=A(n(582945)),S=n(71246),O=A(n(29652)),b=n(859089),I=n(770348),C=A(n(247001)),T=A(n(168088));function A(e){
return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){switch(e){case b.ParticipantTypes.ACTIVITY:return C.default.Messages.EMBEDDED_ACTIVITIES_NUM_PARTICIPANTS.format({numUsers:t});case b.ParticipantTypes.STREAM:return C.default.Messages.SPECTATORS.format({numViewers:t});default:throw new Error("Unknown participant type.")}}function k(e){var t=e.users,n=e.disableInteraction,r=e.guildId,a=e.participantType,i=e.channelId,u=e.handleUserContextMenu,l=j(a,t.length);return L(v.default,{"aria-label":l,className:T.default.popoutWrapper},void 0,L(E.default,{className:T.default.scroller},void 0,L(g.default,{size:g.default.Sizes.SIZE_12,className:T.default.memberListHeader},void 0,l),L("div",{},void 0,t.map((function(e){var t;return L(d.default,{guildId:null!=r?r:void 0,className:(0,o.default)(T.default.memberListItem,(t={},t[T.default.popoutDisabled]=n,t)),
textClassName:T.default.memberListItemText,user:e,disablePopout:n,nick:O.default.getNickname(r,i,e),onContextMenu:function(t){return n?null:u(t,e)}},e.id)})))))}k.displayName="PopoutList";function U(e){var t=e.users,n=e.guildId,r=e.channelId,a=e.maxVisibleUsers,i=void 0===a?3:a,u=e.className,l=j(e.participantType,t.length),s=t.length<i?t.map((function(e){return L("div",{className:T.default.viewersTooltipItem},e.id,O.default.getName(n,r,e))})):l;return L(h.TooltipContainer,{text:s,"aria-label":l},void 0,L("div",{className:(0,o.default)(T.default.viewers,u)},void 0,L(m.default,{className:T.default.viewersIcon}),L("span",{"aria-hidden":"true"},void 0,t.length)))}U.displayName="CompactUsers";var G=[];function F(e){var t=e.channelId,r=e.guildId,d=e.participant,v=e.className,h=e.compact,m=void 0!==h&&h,g=e.disableInteraction,E=void 0!==g&&g,O=e.maxVisibleUsers,C=void 0===O?3:O,A=w(a.useState(!1),2),P=A[0],N=A[1],D=a.useRef(new l.DelayedCall(150,(function(){return N(!1)}))),j=(0,
u.useStateFromStoresArray)([c.default,p.default],(function(){if(d.type===b.ParticipantTypes.STREAM){var e=c.default.getViewerIds(d.id);return e.length>0?e.map((function(e){return p.default.getUser(e)})).filter(S.isNotNullish):G}return d.type===b.ParticipantTypes.ACTIVITY&&d.participants.size>0?Array.from(d.participants).map((function(e){return p.default.getUser(e)})).filter(S.isNotNullish):G}),[d]),F=a.useCallback((function(){D.current.cancel();N(!0)}),[]),x=a.useCallback((function(){D.current.delay()}),[]),B=a.useCallback((function(e,t){F();(0,s.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,M({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:x})}),[x,F]);if(0===j.length)return null
;if(m)return L(U,{maxVisibleUsers:C,users:j,guildId:r,channelId:t,className:v,participantType:d.type});var V=(0,i.default)(j).take(C).map((function(e){return L(_.default,{src:e.getAvatarURL(r,24),"aria-label":e.username,size:_.default.Sizes.SIZE_24,className:T.default.viewer},e.id)})).value();j.length>C&&(V[V.length-1]=L("div",{className:T.default.overflow},"overflow","+",j.length-C+1));return L(f.default,{section:I.AnalyticsSections.STREAM_VIEWER_POPOUT},void 0,L("div",{onMouseEnter:F,onMouseLeave:x},void 0,L(y.default,{renderPopout:function(){return L(k,{participantType:d.type,handleUserContextMenu:B,guildId:r,channelId:t,users:j,disableInteraction:E})},shouldShow:P,position:y.default.Positions.TOP},void 0,(function(){return L("div",{className:(0,o.default)(T.default.viewers,v)},void 0,V)}))))}F.displayName="ParticipantsForSelectedParticipant"},932018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;y(n(667294))
;var r,a=p(n(441143)),o=n(536211),i=p(n(284382)),u=y(n(145122)),l=p(n(728429)),s=p(n(161409)),d=p(n(376638)),f=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.onClose,n=e.onSelect,r=(0,o.useStateFromStores)([l.default],(function(){var e=l.default.getCurrentUser();(0,a.default)(null!=e,"VideoDeviceMenu: currentUser cannot be undefined");return e})),p=(0,s.default)(),v=(0,d.default)(r.id);return h(i.default,{object:f.AnalyticsObjects.CONTEXT_MENU},void 0,h(u.default,{onClose:t,navId:"video-device-context","aria-label":c.default.Messages.FORM_LABEL_VIDEO_DEVICE,onSelect:n},void 0,h(u.MenuGroup,{label:c.default.Messages.FORM_LABEL_VIDEO_DEVICE},void 0,p),h(u.MenuGroup,{},void 0,v)))}m.displayName="VideoDeviceMenu"},936353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(294184)),i=_(n(74854)),u=n(536211),l=_(n(550024)),s=_(n(213847)),d=_(n(949898)),f=_(n(57754)),c=n(859089),p=n(770348),v=n(942675),y=_(n(25578)),h=_(n(3066)),m=_(n(476600));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var O=23,b=17,I=26,C={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:i.default.Easing.inOut(i.default.Easing.back()),EASING_OUT:i.default.Easing.quad},T=200,A=125,P=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).scaleAnimation=new i.default.Value(0);t.spriteAnimation=new i.default.Value(0);t.spriteOpacity=new i.default.Value(0);t.widthAnimation=new i.default.Value(0);return t}var n=t.prototype;n.componentDidMount=function(){this.componentDidAppear()}
;n.componentDidAppear=function(){var e=this.scaleAnimation,t=this.widthAnimation;e.setValue(1);t.setValue(1)};n.componentWillEnter=function(e){var t=this.scaleAnimation,n=this.widthAnimation;t.setValue(0);n.setValue(0);i.default.parallel([i.default.timing(t,{toValue:1,duration:C.DURATION_IN,easing:C.EASING_IN}),i.default.timing(n,{toValue:1,duration:T})]).start(e)};n.componentWillLeave=function(e){var t=this.scaleAnimation,n=this.spriteAnimation,r=this.spriteOpacity,a=this.widthAnimation;r.setValue(1);n.setValue(0);for(var o=[],u=0;u<O;u++)o.push(i.default.timing(n,{toValue:-I*u,duration:b}));i.default.sequence([i.default.timing(t,{toValue:0,duration:C.DURATION_OUT,easing:C.EASING_OUT}),i.default.sequence(o),i.default.timing(a,{toValue:0,duration:A})]).start(e)};n.getScaleStyle=function(){var e=this.scaleAnimation;return i.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[C.SCALE_MIN,C.SCALE_MAX]})}],opacity:e})};n.getSpriteStyle=function(){return{
backgroundPosition:this.spriteAnimation,opacity:this.spriteOpacity}};n.getWidthStyle=function(){return{width:this.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}};n.render=function(){var e,t=this.props,n=t.theme,r=t.children,a=t.className,u=n===p.ThemeTypes.DARK,l=(0,o.default)(y.default.sprite,((e={})[m.default.crossWhite]=u,e[m.default.crossGrey]=!u,e));return E(i.default.div,{className:(0,o.default)(y.default.transition,a),style:this.getWidthStyle()},void 0,E("div",{className:(0,o.default)(y.default.spriteWrapper,h.default.horizontal,h.default.justifyCenter,h.default.alignCenter)},void 0,E(i.default.div,{className:l,style:this.getSpriteStyle()})),E(i.default.div,{style:this.getScaleStyle()},void 0,r))};return t}(a.PureComponent);P.displayName="AvatarTransition";function M(e){var t=e.participants,n=e.onContextMenu,r=e.className,a=e.onClick,i=e.width,p=e.guildId,h=(0,s.default)(),m=function(e,t){return((0,
v.getAvatarSize)(v.Sizes.SIZE_80)+16)*t>e?v.Sizes.SIZE_40:v.Sizes.SIZE_80}(i,t.length),_=(0,u.useStateFromStores)([d.default],(function(){return d.default.isFocused()})),g=t.map((function(e){var t,r;if(e.type!==c.ParticipantTypes.USER)return null;var o=e.user,i=e.voiceState,u=e.speaking,l=e.ringing;return E(P,{className:y.default.participant,width:(0,v.getAvatarSize)(m),theme:h},o.id,E(f.default,{src:o.getAvatarURL(p,v.SizeSpecs[m].size,u&&_),size:m,muted:null!==(t=null==i?void 0:i.isVoiceMuted())&&void 0!==t&&t,deafen:null!==(r=null==i?void 0:i.isVoiceDeafened())&&void 0!==r&&r,speaking:u,ringing:l,onClick:function(t){return null==a?void 0:a(e,t)},onContextMenu:function(t){return null==n?void 0:n(e,t)}},e.id))}));return E(l.default,{component:"div",className:(0,o.default)(y.default.root,r)},void 0,g)}M.displayName="VoiceCallParticipants"},330493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(e){(0,i.openModal)((function(e){
return r.createElement(o.default,d({},e,{title:u.default.Messages.SERVER_DEAFENED_DIALOG_TITLE,body:u.default.Messages.SERVER_DEAFENED_DIALOG_BODY}))}));return}a.default.toggleSelfDeaf()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}},590087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t&&(0,i.isRTCConnectedInHub)()){(0,u.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2422)]).then(n.bind(n,202422));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))));return}if(t){(0,u.openModal)((function(e){return r.createElement(o.default,f({},e,{title:l.default.Messages.SUPPRESSED,body:l.default.Messages.SUPPRESSED_PERMISSION_BODY}))}));return}if(e){(0,u.openModal)((function(e){return r.createElement(o.default,f({},e,{title:l.default.Messages.SERVER_MUTED_DIALOG_TITLE,body:l.default.Messages.SERVER_MUTED_DIALOG_BODY}))}));return}
a.default.toggleSelfMute()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(740207)),o=s(n(88509)),i=n(864227),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value
}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}},893146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(929031)),o=s(n(88509)),i=n(845607),u=s(n(247001)),l=["type","onConfirm"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.type,n=e.onConfirm,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_HEADER:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_HEADER,c=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_BODY:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_BODY;return r.createElement(o.default,f({confirmText:u.default.Messages.CONFIRM,minorText:u.default.Messages.DONT_ASK_AGAIN,title:d,cancelText:u.default.Messages.CANCEL,onConfirm:n,onConfirmSecondary:function(){
a.default.updatedUnsyncedSettings({disableHideSelfStreamAndVideoConfirmationAlert:!0});n()},body:c},s))}c.displayName="HideSelfStreamAndVideoConfirmationAlert"},856015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=s(n(229132)),i=n(145122),u=s(n(825724)),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVoiceParticipantsHidden(e)}));return f(i.MenuCheckboxItem,{id:"no-video-hide",label:l.default.Messages.STREAM_SHOW_NON_VIDEO,checked:!t,action:function(){return o.default.toggleVoiceParticipantsHidden(e,!t)}})}c.displayName="useHideNoVideoParticipantsItem"},48712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(145122),u=p(n(174508)),l=n(194322),s=p(n(831566)),d=p(n(893146)),f=n(845607),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=m((0,s.default)(e,t),3),r=n[0],p=n[1],v=n[2],_=(0,o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?y(i.MenuCheckboxItem,{id:"self-stream-hide",label:c.default.Messages.SHOW_SELF_STREAM,checked:!p,action:function(){if(_||p)return v(!p);(0,l.openModal)((function(e){return a.createElement(d.default,h({},e,{type:f.SelfStreamAndVideoAlertType.STREAM,onConfirm:function(){return v(!p)}}))}))}}):null}g.displayName="useHideSelfStreamItem"},845442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(145122),u=v(n(174508)),l=n(194322),s=v(n(25077)),d=v(n(893146)),f=n(845607),c=n(376293),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){void 0===t&&(t=c.MediaEngineContextTypes.DEFAULT);var n=_((0,s.default)(e,t),3),r=n[0],v=n[1],y=n[2],g=(0,o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?h(i.MenuCheckboxItem,{id:"self-video-hide",label:p.default.Messages.SHOW_SELF_VIDEO,checked:!v,action:function(){if(g||v)return y(!v);(0,l.openModal)((function(e){return a.createElement(d.default,m({},e,{type:f.SelfStreamAndVideoAlertType.VIDEO,onConfirm:function(){return y(!v)}}))}))}}):null}E.displayName="useHideSelfVideoItem"},441072:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getInputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getInputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{id:"input-"+n,group:"input-devices",disabled:r,label:a,checked:n===t,action:function(){return o.default.setInputDevice(n)}},"input-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},161409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getVideoDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVideoDeviceId()}));return e.map((function(e){
var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{group:"video-devices",id:"video-device-"+n,disabled:r,label:a,checked:n===t,action:function(){return o.default.setVideoDevice(n)}},"video-device-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},16505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getOutputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getOutputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{group:"output-devices",id:"output-"+n,disabled:r,label:a,checked:n===t,action:function(){return o.default.setOutputDevice(n)}},"output-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},
376638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(199649),u=v(n(712594)),l=v(n(423046)),s=v(n(635014)),d=n(194322),f=n(499458),c=v(n(247001)),p=v(n(352062));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=(0,f.useModalContext)(),r=(0,o.useStateFromStores)([s.default],(function(){return s.default.isVideoEnabled()})),v=(0,
o.useStateFromStores)([l.default],(function(){return l.default.getId()===e})),y=(0,u.default)();return r&&!y||!v?null:h(i.MenuItem,{id:"change-video-background",label:h("div",{className:p.default.item},void 0,r?c.default.Messages.CAMERA_CHANGE_VIDEO_BACKGROUND_MENU_ITEM:c.default.Messages.CAMERA_PREVIEW_MENU_ITEM),action:function(){(0,d.openModalLazy)(g(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(93198),n.e(46603)]).then(n.bind(n,635390));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,m({},e,{videoEnabled:r}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:"camera-preview",contextKey:t})}})}E.displayName="usePreviewVideoItem"},630601:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=n(518180),u=f(n(938199)),l=f(n(644263)),s=f(n(322785)),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=(0,a.useStateFromStores)([l.default],(function(){return l.default.getChannel(e)})),n=(0,i.useIsTextInVoiceEnabled)(null==t?void 0:t.guild_id),r=(0,a.useStateFromStores)([u.default],(function(){return u.default.getToastsEnabled(e)}));return(null==t?void 0:t.isGuildVoice())?null:n?p(o.MenuCheckboxItem,{id:"show-call-chat-toasts",label:d.default.Messages.SHOW_NEW_MESSAGE_PREVIEWS,checked:r,action:function(){return s.default.setCallChatToastsEnabled(e,!r)}}):null}v.displayName="useShowChatToastsItem"},815267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(226800)),o=n(145122),i=s(n(634230)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return f(o.MenuItem,{id:"voice-settings",label:l.default.Messages.VOICE_SETTINGS,
action:function(){return a.default.open(u.UserSettingsSections.VOICE)},icon:i.default})}c.displayName="useVoiceSettingsItem"},216672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=e.baseChannelId,T=(0,o.useStateFromStores)([h.default],(function(){return h.default.getChannel(t)})),A=(0,o.useStateFromStores)([_.default],(function(){return _.default.getGuild(null==T?void 0:T.getGuildId())})),N=(0,O.default)(T),w=(0,o.useStateFromStores)([p.default],(function(){return null!=(null==A?void 0:A.id)&&p.default.isLurking(A.id)}),[A]),D=a.useRef(!1);a.useEffect((function(){if(null!=T&&!D.current){D.current=!0;(0,s.trackWithMetadata)(b.AnalyticEvents.CHANNEL_OPENED,{channel_id:T.id,guild_id:T.guild_id,parent_id:T.parent_id,channel_view:"Split View"})}}),[T]);if(null==T||null==A)return null;var L=[];w||L.push(P(f.default,{channel:T},"notifications"));L.push(P(S.default.Icon,{icon:E.default,tooltip:I.default.Messages.CLOSE,
onClick:function(){return y.default.closeChannelSidebar(r)}},"close"));return a.createElement(a.Fragment,null,P(l.default,{channel:T,draftType:m.DraftType.ChannelMessage}),P(S.default,{toolbar:L,"aria-label":I.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:T,channelName:N,guild:A,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(32318)]).then(n.bind(n,532318));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,M({},e,{channel:T,guild:A}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){var e=g.default.getMessages(T.id);(0,v.transitionToGuild)(T.guild_id,T.id,e.jumpTargetId)}})),P("div",{className:C.default.chat},void 0,P(u.default,{channel:T,guild:A,chatInputType:d.ChatInputTypes.SIDEBAR},t)))}
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=T(n(914789)),l=T(n(805918)),s=n(844784),d=n(573285),f=T(n(818378)),c=n(451115),p=T(n(930409)),v=n(139982),y=T(n(546914)),h=T(n(644263)),m=n(687549),_=T(n(30098)),g=T(n(201292)),E=T(n(259530)),S=T(n(878556)),O=T(n(678928)),b=n(770348),I=T(n(247001)),C=T(n(895383));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}},691692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=function(e){var t,n,r,b=(0,i.useStateFromStores)([h.default],(function(){return h.default.getGuild(e.guild_id)})),I=(0,v.useCanManageThread)(e),A=(0,v.useCanUnarchiveThread)(e),P=(0,v.useIsThreadModerator)(e),M=T({},a.useContext(m.AnalyticsContext).location,{object:g.AnalyticsObjects.CONTEXT_MENU}),N=(0,l.useTrackThreadArchivalDurationUpsell)(M,b,e),R=v.ThreadDurationExperiment.useExperiment({guildId:e.guild_id},{autoTrackExposure:!0});if(!(!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)?A:I))return;var w=new Date((0,y.default)(e)).toLocaleString(S.default.getLocale(),{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"});return(null===(n=e.threadMetadata)||void 0===n?void 0:n.archived)?C(f.MenuItem,{id:"unarchive-thread",label:e.isForumPost()?S.default.Messages.UNARCHIVE_FORUM_POST:S.default.Messages.UNARCHIVE_THREAD,action:function(){return c.default.unarchiveThread(e,P)}}):C(f.MenuItem,{id:"auto-archive-thread",
label:S.default.Messages.ARCHIVE,subtext:S.default.Messages.AUTO_ARCHIVE_THREAD_AT.format({time:w}),onFocus:N},void 0,C(f.MenuGroup,{},void 0,C(f.MenuItem,{id:"archive-thread",label:e.isForumPost()?S.default.Messages.ARCHIVE_FORUM_POST:S.default.Messages.ARCHIVE_THREAD,action:function(){return c.default.archiveThread(e,!1)}}),P&&!(null===(r=e.threadMetadata)||void 0===r?void 0:r.locked)?C(f.MenuItem,{id:"archive-lock-thread",label:e.isForumPost()?S.default.Messages.LOCK_FORUM_POST:S.default.Messages.LOCK_THREAD,action:function(){return c.default.archiveThread(e,!0)}}):null),C(f.MenuGroup,{label:S.default.Messages.AUTO_ARCHIVE_AFTER},void 0,(0,p.getAutoArchiveOptions)(b,!0,R).map((function(t){var n,r=t.value,a=t.label,i=t.guildFeature,l=t.enabled;return C(f.MenuCheckboxItem,{id:String(r),label:function(){return function(e,t,n){var r;return null==t||null==b?e:C("div",{className:(0,o.default)(O.default.label,(r={},r[O.default.disabled]=!n,r))},void 0,C("span",{
className:O.default.labelText},void 0,e),C(s.default,{guild:b,guildFeature:t,className:O.default.availabilityIndicator,hideTooltip:!0}))}(a,i,l)},checked:r===(null===(n=e.threadMetadata)||void 0===n?void 0:n.autoArchiveDuration),className:O.default.menuItem,focusedClassName:O.default.focused,action:function(){(0,u.closeContextMenu)();if(l)return c.default.setAutoArchiveDuration(e,r);if(null!=i){var t=(0,_.minimumRequiredTierForGuildFeature)(i);null!=b&&null!=t&&(0,d.default)({analyticsSourceLocation:T({},M,{section:g.AnalyticsSections.THREAD_CONTEXT_MENU,object:g.AnalyticsObjects.CONTEXT_MENU_ITEM,objectType:(0,_.boostedGuildTierToAnalyticsObjectType)(t)}),guild:b,targetBoostedGuildTier:t,perks:(0,E.guildBoostingPerks)(R)})}}},r)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=b(n(294184)),i=n(536211),u=n(378158),l=n(321248),s=b(n(872134)),d=b(n(58941)),f=n(145122),c=b(n(887174)),p=n(192751),v=n(819235),y=b(n(447840)),h=b(n(30098)),m=n(308920),_=n(682937),g=n(770348),E=n(665984),S=b(n(247001)),O=b(n(313657));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}},609510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=p(n(968494)),u=n(145122),l=p(n(689389)),s=n(194322),d=n(770348),f=n(474477),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e
}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){return(0,o.useStateFromStores)([l.default],(function(){return!l.default.can(e.isThread()?d.Permissions.MANAGE_THREADS:d.Permissions.MANAGE_CHANNELS,e)||!l.default.can(e.accessPermissions,e)}),[e])?null:y(u.MenuItem,{id:"delete-channel",label:e.type===d.ChannelTypes.GUILD_CATEGORY?c.default.Messages.DELETE_CATEGORY:e.isThread()?e.isForumPost()?c.default.Messages.DELETE_FORUM_POST:c.default.Messages.DELETE_THREAD:c.default.Messages.DELETE_CHANNEL,color:f.MenuItemColor.DANGER,action:function(){return(0,s.openModalLazy)(_(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(87466)]).then(n.bind(n,59337));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,h({},t,{onConfirm:function(){t.onClose();i.default.deleteChannel(e.id)},channel:e
}))}));case 5:case"end":return t.stop()}}),t)}))))}})}g.displayName="useChannelDeleteItem"},783938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,a.useStateFromStores)([d.default],(function(){return d.default.getChannel(e.parent_id)})),r=(0,s.useIsThreadModerator)(e),p=(0,i.useExistingPin)(e);if(!(null==n?void 0:n.isForumChannel()))return null;if(!r)return null;if(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)return null;return e.hasFlag(f.ChannelFlags.PINNED)?y(u.MenuItem,{id:"unpin-thread",label:c.default.Messages.UNPIN_POST,action:function(){return l.default.unpin(e)}}):y(u.MenuItem,{id:"pin-thread",label:c.default.Messages.PIN_POST,action:function(){null!=p?o.default.show({title:c.default.Messages.FORUM_PIN_CONFIRM_TITLE,body:c.default.Messages.FORUM_PIN_CONFIRM_BODY,onConfirm:(n=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2
;return l.default.unpin(p);case 2:l.default.pin(e);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}),function(){return n.apply(this,arguments)})}):l.default.pin(e);var t,n}})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(896108)),i=n(973523),u=n(145122),l=p(n(887174)),s=n(819235),d=p(n(644263)),f=n(173652),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},326348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(968494)),o=n(145122),i=n(819235),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t;return!(0,
i.useCanManageThread)(e)||(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)||__OVERLAY__?null:f(o.MenuItem,{id:"edit-thread",label:e.isForumPost()?l.default.Messages.EDIT_FORUM_POST:l.default.Messages.EDIT_THREAD,action:function(){(0,u.closeAllModals)();a.default.open(e.id)}})}c.displayName="useThreadEditItem"},412649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=c(n(441143)),o=n(536211),i=c(n(649563)),u=n(973523),l=n(145122),s=n(819235),d=c(n(644263)),f=c(n(247001));function c(e){
return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=(0,o.useStateFromStores)([d.default],(function(){return d.default.getChannel(e)}),[e]);(0,a.default)(null!=t,"Unexpected missing thread");var n=(0,s.useCanManageThread)(t),r=(0,o.useStateFromStoresArray)([d.default],(function(){var e,n;return null!==(e=null===(n=d.default.getChannel(t.parent_id))||void 0===n?void 0:n.availableTags)&&void 0!==e?e:[]}),[t.parent_id]),c=(0,
u.useAppliedTags)(t),p=c.length>=2;if(!n)return null;if(__OVERLAY__)return null;if(!t.isForumPost())return null;if(0===r.length)return null;var y=r.map((function(e){var n=c.includes(e);return v(l.MenuCheckboxItem,{id:e.id,label:e.name,disabled:p&&!n,action:function(){return function(e){var n=new Set(c);if(n.has(e))n.delete(e);else{if(p)return;n.add(e)}var r=Array.from(n).map((function(e){return e.id}));i.default.updateForumPostTags(t.id,r)}(e)},checked:n},e.id)}));return v(l.MenuItem,{id:"edit-tags",label:f.default.Messages.FORUM_TAG_POST_EDIT},void 0,y)}y.displayName="useThreadEditTagsItem"},233557:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(145122),o=s(n(887174)),i=n(895431),u=n(64072),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=(0,i.useThreadNotificationSetting)(e);return e.isArchivedThread()?null:f(a.MenuItem,{id:"thread-notifications",label:l.default.Messages.NOTIFICATION_SETTINGS
},void 0,(0,u.getThreadNotificationOptions)().map((function(n){var r=n.setting,i=n.label;return f(a.MenuRadioItem,{group:"thread-notifications",id:""+r,label:i,action:function(){return o.default.setNotificationSettings(e,{flags:r})},checked:r===t},r)})))}c.displayName="useThreadNotificationItem"},730205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(145122),o=s(n(887174)),i=n(819235),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t,n;if(!(0,i.useIsThreadModerator)(e)||e.type!==u.ChannelTypes.PRIVATE_THREAD)return null;var r=null===(t=null===(n=e.threadMetadata)||void 0===n?void 0:n.invitable)||void 0===t||t;return f(a.MenuCheckboxItem,{id:"toggle-thread-invitable",label:l.default.Messages.THREAD_INVITABLE_TOGGLE_LABEL,checked:r,action:function(){return o.default.setInvitable(e,!r)}})}c.displayName="useToggleThreadInvitableItem"},918667:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(496486)),i=y(n(844784)),u=y(n(956117)),l=y(n(16941)),s=y(n(259530)),d=y(n(776360)),f=y(n(308920)),c=n(770348),p=y(n(247001)),v=y(n(76889));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=o.default.debounce(i.default.trackWithMetadata,500),g=function(e){var t=e.guild,n=e.message,r=e.image,o=e.type,y=e.imageMarginX,h=e.imageMarginTop,g=e.trackingSource,E=e.undismissable,S=e.onDismissed,O=e.onClick,b=e.cta;a.useEffect((function(){_(c.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:o,guild_id:t.id})}),[t.id,o]);var I=null;"function"==typeof b?I=b():null!=b&&(I=m(u.default,{className:v.default.btn,size:u.default.Sizes.SMALL,onClick:function(){null!=o&&f.default.track(c.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:g,guild_id:t.id,notice_type:o});null==O||O()},fullWidth:!0},void 0,b));var C=null!=y?y+"px":"16px";return m("div",{className:v.default.channelNotice
},void 0,!0===E?null:m(l.default,{onClick:function(){i.default.trackWithMetadata(c.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:o});null==S||S()},className:v.default.close,"aria-label":p.default.Messages.DISMISS},void 0,m(s.default,{className:v.default.closeIcon})),m("div",{className:v.default.imageContainer,style:{marginTop:h+"px",marginLeft:C,marginRight:C}},void 0,m("img",{className:v.default.image,src:r,alt:""})),m("div",{className:v.default.message},void 0,m(d.default,{},void 0,n),I))};g.displayName="ChannelNotice";var E=g;t.default=E},35333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(923387),u=j(n(972247)),l=n(233271),s=j(n(305081)),d=n(207353),f=j(n(408692)),c=j(n(578628)),p=j(n(91836)),v=j(n(559759)),y=n(157949),h=j(n(513696)),m=j(n(185836)),_=j(n(126515)),g=j(n(666280)),E=j(n(751122)),S=j(n(689389)),O=j(n(329669)),b=j(n(742373)),I=j(n(535711)),C=j(n(24e4)),T=n(682937),A=n(42031),P=j(n(264271)),M=j(n(71685)),N=j(n(198883)),R=j(n(715458)),w=n(7812),D=n(770348),L=n(583551);function j(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e){e.stopPropagation()}var B=function(e){var t=e.guild,n=(0,o.useStateFromStoresObject)([E.default],(function(){return{appliedGuildBoosts:E.default.getAppliedGuildBoostsForGuild(t.id),lastFetchedAt:E.default.getLastFetchedAtForGuild(t.id)}})),r=n.appliedGuildBoosts,i=n.lastFetchedAt,u=(0,o.useStateFromStoresObject)([O.default],(function(){return{lastDismissedGracePeriod:O.default.getLastDismissedGracePeriodForGuild(t.id),isGracePeriodVisible:O.default.isVisible(t.id)}})),s=u.lastDismissedGracePeriod,c=u.isGracePeriodVisible,v=(0,o.useStateFromStores)([_.default],(function(){return _.default.isVisible(t)})),m=(0,o.useStateFromStores)([C.default],(function(){return C.default.isVisible(t)})),M=(0,o.useStateFromStoresObject)([b.default],(function(){return{
hasDismissedGuildAffinityNoticeRecently:b.default.hasDismissedRecently(t.id),highestAffinityGuildId:b.default.highestAffinityGuildId}})),R=M.hasDismissedGuildAffinityNoticeRecently,w=M.highestAffinityGuildId,L=(0,o.useStateFromStores)([S.default],(function(){return S.default.can(D.Permissions.ADMINISTRATOR,t)})),j=null!=s&&Date.now()-s<=D.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,k=null!=t?t.premiumSubscriberCount:0,U=(0,T.getGuildTierFromAppliedBoostCount)(k,t.id)!==D.BoostedGuildTiers.NONE,G=null!=i&&Date.now()-i<=432e5,x=!j&&L&&U,B=null==i&&w===t.id&&!R,W=!G&&(x||B),H=(0,y.useGuildHasLiveChannelNotice)(t.id),z=(0,o.useStateFromStores)([I.default],(function(){return I.default.isVisible(t)})),Y=(0,d.useShouldRenderGuildBoostingAffinityNotice)(t.id);a.useEffect((function(){var e=-1;W&&(e=window.setTimeout((function(){(0,l.fetchAppliedGuildBoostsForGuild)(t.id)}),30*Math.random()*1e3));return function(){window.clearTimeout(e)}}),[t.id,W]);return v?F(g.default,{guild:t}):c?F(f.default,{
guild:t,appliedGuildBoosts:r}):m?F(N.default,{guild:t}):H?F(h.default,{guild:t}):z?F(P.default,{guild:t}):Y?F(p.default,{guild:t}):A.ProcessArgs.isDisallowPopupsSet()?null:F(V,{guild:e.guild})};B.displayName="ConnectedNotices";function V(e){var t,n=e.guild,r=U(a.useState(null!==(t=u.default.get(w.LAST_HIDDEN_CHANNEL_NOTICE))&&void 0!==t?t:0),2),l=r[0],d=r[1],f=(0,o.useStateFromStoresArray)(w.CHANNEL_NOTICE_STORES,(function(){return w.CHANNEL_NOTICES.filter((function(e){return e.store.channelNoticePredicate(n,l)})).map((function(e){return e.dismissibleContentType}))}));return F("div",{onContextMenu:x},void 0,F(s.default,{contentTypes:f,groupName:L.DismissibleContentGroupName.CHANNEL_NOTICES},void 0,(function(e){var t=e.visibleContent,r=e.markAsDismissed,a=function(){!function(e){u.default.set(w.LAST_HIDDEN_CHANNEL_NOTICE,e);d(e)}(Date.now());r()};switch(t){case i.DismissibleContent.CHANNEL_NOTICE_HUBLINK:return F(m.default,{guild:n,markAsDismissed:a})
;case i.DismissibleContent.CHANNEL_NOTICE_INVITE:return F(M.default,{guild:n,markAsDismissed:a});case i.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:return F(v.default,{guild:n,markAsDismissed:a});case i.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER:return F(R.default,{guild:n,markAsDismissed:a});case i.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER:return F(c.default,{guild:n,markAsDismissed:a});default:return null}})))}V.displayName="ChannelNoticesGuard";var W=B;t.default=W},7812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LAST_HIDDEN_CHANNEL_NOTICE=t.CHANNEL_NOTICE_STORES=t.CHANNEL_NOTICES=void 0;var r=n(923387),a=d(n(523946)),o=d(n(538647)),i=d(n(20446)),u=d(n(735653)),l=d(n(477566)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}t.LAST_HIDDEN_CHANNEL_NOTICE="lastHiddenChannelNotice";var f=[{type:s.ChannelNoticeTypes.INVITE,store:l.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_INVITE},{
type:s.ChannelNoticeTypes.HUB_LINK,store:u.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_HUBLINK},{type:s.ChannelNoticeTypes.GUILD_BOOSTING,store:i.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:s.ChannelNoticeTypes.QUICKSWITCHER,store:a.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER},{type:s.ChannelNoticeTypes.GUILD_BANNER,store:o.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER}];t.CHANNEL_NOTICES=f;var c=f.map((function(e){return e.store}));t.CHANNEL_NOTICE_STORES=c},264271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(226800)),i=d(n(918667)),u=n(770348),l=d(n(247001)),s=d(n(785538));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return c(i.default,{guild:this.props.guild,onClick:function(){return o.default.open(u.UserSettingsSections.ACCOUNT)},message:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_MESSAGE_WITH_SPACING.format(),cta:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_RESOLVE_BUTTON,trackingSource:u.ChannelNoticeCtaSources.GUILD_MFA_WARNING,type:u.ChannelNoticeTypes.MFA_WARNING,image:s.default,imageMarginX:54,undismissable:!0})};return t}(a.PureComponent);v.displayName="GuildMFAWarning";var y=v;t.default=y},71685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(786345)),i=c(n(211136)),u=n(194322),l=c(n(918667)),s=n(770348),d=c(n(247001)),f=c(n(947079));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,r=arguments.length,l=new Array(r),f=0;f<r;f++)l[f]=arguments[f];(t=e.call.apply(e,[this].concat(l))||this).handleInvite=function(){var e=t.props.guild;(0,u.openModalLazy)(m(regeneratorRuntime.mark((function t(){var r,o
;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,y({},t,{guild:e,source:s.InstantInviteSources.INVITE_NOTICE}))}));case 5:case"end":return t.stop()}}),t)}))))};t.handleClose=function(){var e=i.default.getChannelId();t.props.markAsDismissed();null!=e&&o.default.sendBotMessage(e,d.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:d.default.Messages.INVITE_PEOPLE}))};return t}t.prototype.render=function(){var e=d.default.Messages.INVITE_NOTICE_MESSAGE+"\n"+d.default.Messages.INVITE_NOTICE_MESSAGE_PART_2;return v(l.default,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:d.default.Messages.INVITE_PEOPLE,trackingSource:s.ChannelNoticeCtaSources.INVITE_NOTICE,type:s.ChannelNoticeTypes.INVITE,image:f.default,imageMarginX:46})};return t
}(a.PureComponent);g.displayName="InviteNotice";var E=g;t.default=E},198883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=f(n(550270)),u=f(n(918667)),l=n(770348),s=f(n(247001)),d=f(n(389515));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=a.useCallback((function(){(0,o.hideMaxMemberCountChannelNotice)(t.id)}),[t.id]);return p(u.default,{guild:t,onDismissed:n,message:s.default.Messages.NOTICE_CHANNEL_MAX_MEMBERS_CAP_REACHED_MESSAGE.format({maxMemberCount:t.maxMembers,maxMembersUrl:i.default.getArticleURL(l.HelpdeskArticles.MAX_MEMBERS)}),type:l.ChannelNoticeTypes.MAX_MEMBER_COUNT,image:d.default,imageMarginX:61})};v.displayName="MaxMemberCountNotice";var y=v;t.default=y},715458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(221107),o=n(749666),i=n(835282),u=f(n(918667)),l=n(770348),s=f(n(247001)),d=f(n(10439));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=a.QUICKSWITCHER_SHOW.binds[0].split("+").map((function(e){return o.PRETTY_KEYS[e]?o.PRETTY_KEYS[e]():e})).join(" + ").toUpperCase();return p(u.default,{guild:e.guild,onDismissed:e.markAsDismissed,onClick:function(){return(0,i.show)("CHANNEL_NOTICE")},message:s.default.Messages.QUICKSWITCHER_NOTICE,cta:t,trackingSource:l.ChannelNoticeCtaSources.QUICK_SWITCHER_NOTICE,type:l.ChannelNoticeTypes.QUICKSWITCHER,image:d.default,imageMarginX:50})};v.displayName="QuickSwitcherNotice";var y=v;t.default=y},739889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TrackExposureLocations=t.SettingMode=t.RowType=t.MEMBER_REQUEST_COUNT=t.AddMembersSections=t.ADVANCED_MODE_ON_KEY=void 0;t.getChannelPermissionSpecMap=function(e,t,n){var r;return(r={})[u.Permissions.VIEW_CHANNEL.toString()]={
title:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL:l.default.Messages.VIEW_CHANNEL,description:function(){if(t)switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY_EVERYONE;case u.ChannelTypes.GUILD_VOICE:case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_VOICE_EVERYONE;default:return l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_TEXT_EVERYONE}return e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CHANNEL}(),flag:u.Permissions.VIEW_CHANNEL},r[u.Permissions.MANAGE_CHANNELS.toString()]={title:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.MANAGE_CHANNELS:l.default.Messages.MANAGE_CHANNEL,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:
return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_VOICE;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_TEXT}}(),flag:u.Permissions.MANAGE_CHANNELS},r[u.Permissions.MANAGE_ROLES.toString()]={title:l.default.Messages.MANAGE_PERMISSIONS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CHANNEL}}(),flag:u.Permissions.MANAGE_ROLES},r[u.Permissions.MANAGE_WEBHOOKS.toString()]={title:l.default.Messages.MANAGE_WEBHOOKS,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CHANNEL,flag:u.Permissions.MANAGE_WEBHOOKS},r[u.Permissions.CREATE_INSTANT_INVITE.toString()]={title:l.default.Messages.CREATE_INSTANT_INVITE,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_VOICE:case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_VOICE;default:return l.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_TEXT}}(),flag:u.Permissions.CREATE_INSTANT_INVITE},r[u.Permissions.SEND_MESSAGES.toString()]={
title:e===u.ChannelTypes.GUILD_FORUM?l.default.Messages.CREATE_FORUM_POSTS:n&&e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.SEND_MESSAGES_AND_CREATE_FORUM_POSTS:l.default.Messages.SEND_MESSAGES,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return n?l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_FORUM:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT;case u.ChannelTypes.GUILD_ANNOUNCEMENT:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:i.default.getArticleURL(u.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});default:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_TEXT}}(),flag:u.Permissions.SEND_MESSAGES},r[u.Permissions.EMBED_LINKS.toString()]={title:l.default.Messages.EMBED_LINKS,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_TEXT,flag:u.Permissions.EMBED_LINKS},r[u.Permissions.ATTACH_FILES.toString()]={title:l.default.Messages.ATTACH_FILES,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_TEXT,flag:u.Permissions.ATTACH_FILES},r[u.Permissions.ADD_REACTIONS.toString()]={title:l.default.Messages.ADD_REACTIONS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_TEXT,flag:u.Permissions.ADD_REACTIONS},r[u.Permissions.USE_EXTERNAL_EMOJIS.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_TEXT,flag:u.Permissions.USE_EXTERNAL_EMOJIS},r[u.Permissions.USE_EXTERNAL_STICKERS.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_TEXT,flag:u.Permissions.USE_EXTERNAL_STICKERS},r[u.Permissions.MENTION_EVERYONE.toString()]={title:e===u.ChannelTypes.GUILD_STAGE_VOICE?l.default.Messages.MENTION_EVERYONE_STAGE:l.default.Messages.MENTION_EVERYONE,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_CATEGORY:e===u.ChannelTypes.GUILD_STAGE_VOICE?l.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_STAGE:l.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_TEXT,flag:u.Permissions.MENTION_EVERYONE},r[u.Permissions.MANAGE_MESSAGES.toString()]={title:l.default.Messages.MANAGE_MESSAGES,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_ANNOUNCEMENT:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:i.default.getArticleURL(u.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_TEXT}}(),flag:u.Permissions.MANAGE_MESSAGES},r[u.Permissions.READ_MESSAGE_HISTORY.toString()]={title:l.default.Messages.READ_MESSAGE_HISTORY,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_TEXT,flag:u.Permissions.READ_MESSAGE_HISTORY},r[u.Permissions.SEND_TTS_MESSAGES.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_TEXT,flag:u.Permissions.SEND_TTS_MESSAGES},r[u.Permissions.USE_APPLICATION_COMMANDS.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_TEXT,flag:u.Permissions.USE_APPLICATION_COMMANDS},r[u.Permissions.CONNECT.toString()]={
title:l.default.Messages.CONNECT,description:function(){if(t)switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY_EVERYONE;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE_EVERYONE;default:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE_EVERYONE}switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE}}(),flag:u.Permissions.CONNECT},r[u.Permissions.SPEAK.toString()]={title:l.default.Messages.SPEAK,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:
return l.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_VOICE}}(),flag:u.Permissions.SPEAK},r[u.Permissions.STREAM.toString()]={title:l.default.Messages.VIDEO,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_VOICE,flag:u.Permissions.STREAM},r[u.Permissions.USE_EMBEDDED_ACTIVITIES.toString()]={title:l.default.Messages.USE_EMBEDDED_ACTIVITIES,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_VOICE,flag:u.Permissions.USE_EMBEDDED_ACTIVITIES},r[u.Permissions.USE_VAD.toString()]={title:l.default.Messages.USE_VAD,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_CATEGORY
;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_VOICE}}(),flag:u.Permissions.USE_VAD},r[u.Permissions.PRIORITY_SPEAKER.toString()]={title:l.default.Messages.PRIORITY_SPEAKER,description:function(){0;var t={keybind:l.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY,onClick:function(){o.default.open(u.UserSettingsSections.KEYBINDS)}};return e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_CATEGORY.format(t):l.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_VOICE.format(t)}(),flag:u.Permissions.PRIORITY_SPEAKER},r[u.Permissions.MUTE_MEMBERS.toString()]={title:l.default.Messages.MUTE_MEMBERS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:
return l.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_VOICE}}(),flag:u.Permissions.MUTE_MEMBERS},r[u.Permissions.DEAFEN_MEMBERS.toString()]={title:l.default.Messages.DEAFEN_MEMBERS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_VOICE,flag:u.Permissions.DEAFEN_MEMBERS},r[u.Permissions.MOVE_MEMBERS.toString()]={title:l.default.Messages.MOVE_MEMBERS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_VOICE}}(),flag:u.Permissions.MOVE_MEMBERS},
r[u.Permissions.REQUEST_TO_SPEAK.toString()]={title:l.default.Messages.REQUEST_TO_SPEAK,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_STAGE,flag:u.Permissions.REQUEST_TO_SPEAK},r[u.Permissions.MANAGE_THREADS.toString()]={title:e===u.ChannelTypes.GUILD_FORUM?l.default.Messages.MANAGE_FORUM_POSTS:n&&e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.MANAGE_THREADS_AND_FORUM_POSTS:l.default.Messages.MANAGE_THREADS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return n?l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_FORUM:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_TEXT;default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_TEXT}}(),
flag:u.Permissions.MANAGE_THREADS},r[u.Permissions.CREATE_PUBLIC_THREADS.toString()]={title:l.default.Messages.CREATE_PUBLIC_THREADS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_TEXT,flag:u.Permissions.CREATE_PUBLIC_THREADS},r[u.Permissions.CREATE_PRIVATE_THREADS.toString()]={title:l.default.Messages.CREATE_PRIVATE_THREADS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_TEXT,flag:u.Permissions.CREATE_PRIVATE_THREADS},r[u.Permissions.SEND_MESSAGES_IN_THREADS.toString()]={title:e===u.ChannelTypes.GUILD_FORUM?l.default.Messages.SEND_MESSAGES_IN_FORUM_POSTS:n&&e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS:l.default.Messages.SEND_MESSAGES_IN_THREADS,
description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return n?l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_FORUM:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_TEXT;default:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_TEXT}}(),flag:u.Permissions.SEND_MESSAGES_IN_THREADS},r[u.Permissions.MANAGE_EVENTS.toString()]={title:l.default.Messages.MANAGE_EVENTS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CHANNEL,flag:u.Permissions.MANAGE_EVENTS},r};var r,a,o=s(n(226800)),i=s(n(550270)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}t.RowType=r;!function(e){
e[e.EMPTY_STATE=0]="EMPTY_STATE";e[e.ADMINISTRATOR=1]="ADMINISTRATOR";e[e.ROLE=2]="ROLE";e[e.OWNER=3]="OWNER";e[e.MEMBER=4]="MEMBER"}(r||(t.RowType=r={}));t.AddMembersSections=a;!function(e){e[e.ROLES=0]="ROLES";e[e.MEMBERS=1]="MEMBERS"}(a||(t.AddMembersSections=a={}));t.MEMBER_REQUEST_COUNT=20;var d,f;t.ADVANCED_MODE_ON_KEY="channelPermissionSettingsAdvancedModeOn";t.TrackExposureLocations=d;!function(e){e.SETTINGS_PAGE="settings-page";e.MEMBERS_LIST="members-list";e.EMPTY_STATE="empty-state";e.CREATE_CHANNEL="create-channel"}(d||(t.TrackExposureLocations=d={}));t.SettingMode=f;!function(e){e.BASIC="basic";e.ADVANCED="advanced"}(f||(t.SettingMode=f={}))},668339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=n(905043),u=n(396229),l=d(n(730977)),s=d(n(348336));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t,n=e.className,r=e.command,d=e.channel,f=e.section,v=(0,i.useCommandSection)(d,r.applicationId),y=null!=f?f:v,h=null!=y?(0,u.getIconComponent)(y):null;return c("div",{className:(0,o.default)(n,s.default.wrapper)},void 0,c("div",{className:s.default.icon},void 0,null!=h?c(l.default,{text:null!==(t=null==y?void 0:y.name)&&void 0!==t?t:"",position:l.default.Positions.TOP},void 0,(function(e){return a.createElement(h,p({},e,{channel:d,section:y,width:24,height:24}))})):null))}v.displayName="ChannelApplicationIcon";var y=a.memo(v);t.default=y},421910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchDirectoryEntries=void 0;var r=l(n(23279)),a=l(n(118915)),o=l(n(636602)),i=n(218044),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e)
;return}u.done?t(l):Promise.resolve(l).then(r,a)}var d=(0,r.default)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_START});e.next=4;return a.default.get({url:u.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{type:i.DirectoryEntryTypes.GUILD_SCHEDULED_EVENT}});case 4:n=e.sent;o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_SUCCESS,channelId:t,entries:n.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=d},435625:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addDirectoryGuildEntry=function(e,t,n,r){return h.apply(this,arguments)};t.fetchGuildEntriesForIds=t.fetchDirectoryEntries=t.fetchDirectoryCounts=t.clearDirectorySearch=void 0;t.removeDirectoryGuildEntry=function(e,t){u.default.delete({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(e,t),trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_DELETE,properties:{directory_channel_id:e,guild_id:t}}});i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_ENTRY_DELETE,channelId:e,guildId:t})};t.updateDirectoryEntry=t.selectDirectoryCategory=t.searchDirectoryEntries=void 0;var r=f(n(23279)),a=n(47354),o=f(n(118915)),i=f(n(636602)),u=f(n(351772)),l=f(n(917582)),s=n(218044),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}var v=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_START});e.next=4;return o.default.get({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{category_id:n}});case 4:r=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_SUCCESS,channelId:t,entries:r.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=v;var y=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({url:d.Endpoints.DIRECTORY_CHANNEL_CATEGORY_COUNTS(t)});case 3:n=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS,channelId:t,counts:n.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),200);t.fetchDirectoryCounts=y;function h(){return(h=p(regeneratorRuntime.mark((function e(t,n,r,o){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return u.default.post({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:o},trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_CREATE,properties:{directory_channel_id:t,guild_id:n,primary_category_id:o}}});case 3:l=e.sent;i.default.dispatch({
type:d.ActionTypes.GUILD_DIRECTORY_ENTRY_CREATE,channelId:t,entry:l.body});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.default.shouldFetch(t,n)){e.next=4;break}i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_CACHED_SEARCH,channelId:t,query:n});return e.abrupt("return");case 4:e.prev=4;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_SEARCH_START,channelId:t,query:n});e.next=8;return o.default.get({url:d.Endpoints.DIRECTORY_ENTRIES_SEARCH(t),query:{query:n}});case 8:r=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_SEARCH_SUCCESS,channelId:t,query:n,results:r.body});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(4);i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_FAILURE});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){
return e.apply(this,arguments)}}(),200);t.searchDirectoryEntries=m;t.clearDirectorySearch=function(e){i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_SEARCH_CLEAR,channelId:e})};var _=function(){var e=p(regeneratorRuntime.mark((function e(t,n,r,a){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===a&&(a=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return o.default.patch({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:a}});case 3:u=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_ENTRY_UPDATE,channelId:t,entry:u.body});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.updateDirectoryEntry=_;t.selectDirectoryCategory=function(e,t){i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_CATEGORY_SELECT,channelId:e,categoryId:t})};var g=function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({url:d.Endpoints.DIRECTORY_CHANNEL_LIST_BY_ID(t),query:{entity_ids:n}});case 3:r=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS,channelId:t,entries:r.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.fetchGuildEntriesForIds=g},917582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=n(448406),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return d.apply(this,arguments)}var f={},c={};var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSearchState=function(e){var t;return null!==(t=f[e])&&void 0!==t?t:{mostRecentQuery:"",fetching:!1}};n.getSearchResults=function(e,t){var n,r,a;return null!==(n=null===(r=c[e])||void 0===r||null===(a=r[t])||void 0===a?void 0:a.results)&&void 0!==n?n:[]};n.shouldFetch=function(e,t){var n,r,a=null===(n=c[e])||void 0===n||null===(r=n[t])||void 0===r?void 0:r.lastSearchedAt;return null==a||Date.now()-a>12e4};return t}(a.default.Store);p.displayName="GuildDirectorySearchStore";var v=new p(o.default,((r={})[u.ActionTypes.GUILD_DIRECTORY_SEARCH_START]=function(e){var t=e.channelId,n=e.query;f[t]={fetching:!0,mostRecentQuery:n}},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_SUCCESS]=function(e){var t,n=e.channelId,r=e.query,a=e.results;f[n]=d({},f[n],{fetching:!1});var o=[]
;a.forEach((function(e){var t=(0,i.guildDirectoryEntryFromServer)(e);o.push(t)}));c[n]=d({},c[n],((t={})[r]={results:(0,i.orderByTotalMemberCount)(o),lastSearchedAt:Date.now()},t))},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_FAILURE]=function(e){var t=e.channelId;f[t]=d({},f[t],{fetching:!1})},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_CLEAR]=function(e){var t=e.channelId;f[t]={fetching:!1,mostRecentQuery:""}},r[u.ActionTypes.GUILD_DIRECTORY_CACHED_SEARCH]=function(e){var t=e.channelId,n=e.query;f[t]={fetching:!1,mostRecentQuery:n}},r[u.ActionTypes.GUILD_DIRECTORY_ENTRY_DELETE]=function(e){var t,n,r=e.channelId,a=e.guildId,o=null===(t=f[r])||void 0===t?void 0:t.mostRecentQuery;if(null!=o){var i=c[r][o];if(null!=i){var u=i.results.filter((function(e){return e.guildId!==a}));c[r]=d({},c[r],((n={})[f[r].mostRecentQuery]=d({},i,{results:u}),n))}}},r));t.default=v},229164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,
r.useStateFromStores)([o.default],(function(){return o.default.getGuild(e.guildId)})),n=(0,r.useStateFromStores)([a.default],(function(){return a.default.getChannel(e.channelId)})),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.ADMINISTRATOR,t)})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.MANAGE_MESSAGES,n)}));return{isEntryAdmin:l,canEdit:l||s,canRemove:l||s}};t.useCanCreateOrAddGuildInDirectory=function(e){return(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.SEND_MESSAGES,e)}))};var r=n(536211),a=l(n(644263)),o=l(n(30098)),i=l(n(689389)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},63608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=A(n(667294)),o=n(536211),i=C(n(636602)),u=n(508510),l=C(n(97982)),s=C(n(191391)),d=C(n(80828)),f=n(194322),c=C(n(308920)),p=A(n(421910)),v=A(n(435625)),y=C(n(917582)),h=C(n(447364)),m=n(229164),_=C(n(434324)),g=C(n(308607)),E=n(1698),S=C(n(670539)),O=n(218044),b=n(770348),I=C(n(447763));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t,r=e.channel,C=e.guild,T=(0,
o.useStateFromStoresObject)([h.default],(function(){var e=h.default.getCurrentCategoryId(r.id);return{currentCategoryId:e,directoryEntries:h.default.getDirectoryEntries(r.id,e===O.DirectoryEntryCategories.ALL?null:e),categoryCounts:h.default.getDirectoryCategoryCounts(r.id),allEntriesCount:h.default.getDirectoryAllEntriesCount(r.id),isLoading:h.default.isFetching()}})),A=T.currentCategoryId,N=T.directoryEntries,D=T.categoryCounts,L=T.allEntriesCount,j=T.isLoading;a.useEffect((function(){return function(){var e=s.default.lastMessageId(r.id);null!=e&&i.default.wait((function(){(0,u.ack)(r.id,!0,!0,e)}))}}),[r.id]);var k=a.useMemo((function(){return null!=N?(0,E.generateDirectoryRows)(Object.values(N),A):null}),[N,A]),U=(0,o.useStateFromStoresObject)([y.default],(function(){var e=y.default.getSearchState(r.id),t=e.mostRecentQuery;return{mostRecentQuery:t,searchFetching:e.fetching,searchResults:y.default.getSearchResults(r.id,t)}
})),G=U.mostRecentQuery,F=U.searchFetching,x=U.searchResults,B=w(a.useState(G),2),V=B[0],W=B[1],H=""!==G,z=l.default.useExperiment({guildId:null!==(t=C.id)&&void 0!==t?t:""}).showHubEventsList;a.useEffect((function(){v.fetchDirectoryEntries(r.id);v.fetchDirectoryCounts(r.id);z&&p.fetchDirectoryEntries(r.id);W(G)}),[r.id]);a.useEffect((function(){c.default.track(b.AnalyticEvents.GUILD_DIRECTORY_CHANNEL_VIEWED,{directory_channel_id:r.id,directory_guild_id:C.id,primary_category_id:A})}),[r.id,C.id,A]);var Y=(0,m.useCanCreateOrAddGuildInDirectory)(r)?function(){(0,f.openModalLazy)(R(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(87248)]).then(n.bind(n,887248));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,M({},e,{directoryGuildName:C.name,directoryGuildId:C.id,directoryChannelId:r.id,
currentCategoryId:A===O.DirectoryEntryCategories.ALL?null:A}))}));case 5:case"end":return e.stop()}}),e)}))))}:void 0,K=function(e){if(0!==V.trim().length&&e.charCode===b.KeyboardKeys.ENTER){v.searchDirectoryEntries(r.id,V);c.default.track(b.AnalyticEvents.GUILD_DIRECTORY_SEARCH,{directory_channel_id:r.id,directory_guild_id:C.id})}},$=function(){W("");v.clearDirectorySearch(r.id)};return H?P(S.default,{searchQuery:V,setSearchQuery:W,mostRecentQuery:G,handleSearchKeyPress:K,handleClearSearch:$,handleCreateOrAddGuild:Y,searchResults:x,searchFetching:F}):null==k&&null==A?P("div",{className:I.default.pageContainer},void 0,P(d.default,{className:I.default.spinner})):0===(null==k?void 0:k.length)&&null==A?P("div",{className:I.default.pageContainer},void 0,P(_.default,{guild:C,onAddGuild:Y})):P(g.default,{channel:r,searchQuery:V,setSearchQuery:W,handleSearchKeyPress:K,handleClearSearch:$,handleCreateOrAddGuild:Y,currentCategoryId:A,handleSelectCategory:function(e){
v.selectDirectoryCategory(r.id,e)},directoryEntries:k,categoryCounts:D,allEntriesCount:L,isLoading:j})};L.displayName="GuildDirectory";var j=L;t.default=j},434324:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(888746),i=n(194322),u=c(n(971639)),l=c(n(776360)),s=n(770348),d=c(n(247001)),f=c(n(889775));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}
function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _=function(e){
var t=e.guild,r=e.onAddGuild,c=a.useCallback((function(){(0,i.openModalLazy)(m(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{guild:t,source:s.InstantInviteSources.HUB_DIRECTORY,analyticsLocation:{section:s.AnalyticsSections.HUB_WELCOME_CTA}}))}));case 5:case"end":return e.stop()}}),e)}))))}),[t]);return v("div",{className:f.default.emptyWrapper},void 0,v("img",{className:f.default.emptyImage,alt:"",src:n(655916)}),v(u.default,{className:f.default.emptyTitle,size:u.default.Sizes.SIZE_24},void 0,d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_TITLE.format({guildName:t.name})),v(l.default,{size:l.default.Sizes.SIZE_16,className:f.default.emptySubtitle
},void 0,d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_SUBTITLE),null!=r?v(o.WelcomeMessageCTA,{className:f.default.emptyCTA,iconUrl:n(755645),header:d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_ADD_SERVER,completed:!1,onClick:r}):null,v(o.WelcomeMessageCTA,{className:f.default.emptyCTA,iconUrl:n(930519),header:d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_INVITE,completed:!1,onClick:c}))};_.displayName="DirectoryEmptyState";var g=_;t.default=g},923117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.AddEntryCard=void 0;var r,a=k(n(667294)),o=L(n(294184)),i=n(536211),u=n(378158),l=L(n(415275)),s=n(800055),d=n(95034),f=L(n(539563)),c=L(n(30098)),p=L(n(956117)),v=L(n(16941)),y=L(n(189950)),h=L(n(380439)),m=L(n(730977)),_=L(n(775803)),g=L(n(975165)),E=n(194322),S=L(n(272544)),O=k(n(962989)),b=L(n(776360)),I=L(n(692711)),C=L(n(229164)),T=L(n(71472)),A=n(770348),P=L(n(247001)),M=L(n(423973)),N=L(n(928793)),R=["onClick"],w=["onClick"],D=["onClick"]
;function L(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function F(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){G(o,r,a,i,u,"next",e)}function u(e){G(o,r,a,i,u,"throw",e)}i(void 0)}))}}function x(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var H=W("img",{alt:"",src:N.default}),z=function(e){var t=e.onClick;return W(v.default,{onClick:t,className:M.default.addEntryCard},void 0,H,W(b.default,{size:b.default.Sizes.SIZE_14,color:b.default.Colors.HEADER_PRIMARY,className:M.default.addServerText
},void 0,P.default.Messages.HUB_ADD_SERVER_CTA))};t.AddEntryCard=z;z.displayName="AddEntryCard";function Y(e){var t,r=e.entry,i=B(a.useState(!1),2),u=i[0],l=i[1],s=(0,C.default)(r).canEdit;return W("div",{className:(0,o.default)(M.default.actionButtonsContainer,(t={},t[M.default.forceButtonsShow]=u,t))},void 0,W(O.default,{},void 0,s?W(m.default,{text:P.default.Messages.HUB_ENTRY_UPDATE,hideOnClick:!0},void 0,(function(e){var t=e.onClick,o=x(e,R);return a.createElement(O.Button,U({},o,{onClick:function(){null==t||t();(0,E.openModalLazy)(F(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,U({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))},"aria-label":P.default.Messages.HUB_ENTRY_UPDATE}),W(g.default,{
className:M.default.overflowIcon}))})):null,W(T.default,{onRequestOpen:function(){return l(!0)},onRequestClose:function(){return l(!1)},entry:r,hideEditButton:!0},void 0,(function(e){var t=e.onClick,n=x(e,w);return W(m.default,{text:P.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=x(e,D);return a.createElement(O.Button,U({},n,o,{onClick:function(e){null==r||r();t(e)},"aria-label":P.default.Messages.MORE}),W(_.default,{className:M.default.overflowIcon}))}))}))))}Y.displayName="ActionButtons";var K=function(e){var t,r=e.entry,o=B(a.useState(!1),2),v=o[0],_=o[1],g=null!=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuild(r.guildId)})),E=function(){var e=F(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(!0);e.prev=1;if(g){e.next=7;break}e.next=5;return l.default.joinGuild(r.guildId,{source:A.JoinGuildSources.DIRECTORY_ENTRY});case 5:e.next=8;break;case 7:(0,
d.transitionToGuild)(r.guildId);case 8:e.prev=8;_(!1);return e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])})));return function(){return e.apply(this,arguments)}}(),O=I.default.getGuildSplashURL({id:r.guildId,splash:r.splash,size:300*(0,s.getDevicePixelRatio)()}),C=null!==(t=I.default.getGuildIconURL({id:r.guildId,icon:r.icon,size:40}))&&void 0!==t?t:void 0,T=P.default.Messages.JOIN;g&&(T=P.default.Messages.HUB_DIRECTORY_CARD_JOINED_GUILD_BUTTON);return W("div",{className:M.default.card,onContextMenu:function(e){(0,u.openContextMenuLazy)(e,F(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,88020));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,U({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,W("div",{className:M.default.cardHeader},void 0,W("div",{
className:M.default.splash},void 0,null!=O&&W("img",{src:O,alt:"",className:M.default.splashImage})),W("div",{className:M.default.guildIcon},void 0,W(S.default,{mask:S.default.Masks.SQUIRCLE,width:48,height:48},void 0,W("div",{className:M.default.iconMask},void 0,W(h.default,{className:M.default.icon,iconSrc:C,guild:new f.default(r),size:h.default.Sizes.MEDIUM,active:!0}))))),W("div",{className:M.default.guildInfo},void 0,W("div",{className:M.default.title},void 0,W(y.default,{className:M.default.guildBadge,guild:r,tooltipColor:m.default.Colors.PRIMARY}),W(b.default,{className:M.default.guildName,size:b.default.Sizes.SIZE_16,color:b.default.Colors.HEADER_PRIMARY},void 0,r.name)),W(b.default,{className:M.default.description,size:b.default.Sizes.SIZE_14,color:b.default.Colors.HEADER_SECONDARY},void 0,r.description),W("div",{className:M.default.memberInfo},void 0,null!=r.approximatePresenceCount&&W("div",{className:M.default.memberCount},void 0,W("div",{className:M.default.dotOnline
}),W(b.default,{size:b.default.Sizes.SIZE_12,color:b.default.Colors.HEADER_SECONDARY},void 0,P.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:r.approximatePresenceCount}))),null!=r.approximateMemberCount&&W("div",{className:M.default.memberCount},void 0,W("div",{className:M.default.dotOffline}),W(b.default,{size:b.default.Sizes.SIZE_12,color:b.default.Colors.HEADER_SECONDARY},void 0,P.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r.approximateMemberCount})))),W(p.default,{submitting:v,className:M.default.joinButton,color:g?p.default.Colors.PRIMARY:p.default.Colors.GREEN,onClick:E},void 0,T)),W(Y,{entry:r}))};K.displayName="GuildDirectoryEntryCard";var $=K;t.default=$},88020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I
;var r,a=g(n(667294)),o=n(378158),i=m(n(730487)),u=n(837797),l=g(n(145122)),s=m(n(907509)),d=m(n(502197)),f=n(194322),c=m(n(776360)),p=g(n(435625)),v=m(n(229164)),y=n(474477),h=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.entry,r=e.onSelect,m=e.closePopout,_=e.forceLightTheme,g=e.hideEditButton,E=void 0!==g&&g,I=(0,v.default)(t),C=I.isEntryAdmin,T=I.canEdit,A=I.canRemove,P=(0,i.default)(t.guildId,void 0,void 0,m)
;a.useEffect((function(){T||A||null!=P||(0,o.closeContextMenu)()}));var M=function(){p.removeDirectoryGuildEntry(t.channelId,t.guildId)};function N(){(0,o.closeContextMenu)();null==m||m()}return b(l.default,{className:_?"theme-light":null,navId:"guild-entry-context",onClose:N,"aria-label":h.default.Messages.GUILD_ACTIONS_MENU_LABEL,onSelect:r},void 0,b(l.MenuGroup,{},void 0,T&&!E?b(l.MenuItem,{id:"update-entry",label:h.default.Messages.HUB_ENTRY_UPDATE,action:function(){(0,f.openModalLazy)(S(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,O({},e,{entry:t}))}));case 5:case"end":return e.stop()}}),e)}))));N()}}):null,A?b(l.MenuItem,{id:"remove-from-hub",label:h.default.Messages.HUB_ENTRY_REMOVE,action:function(){(0,f.openModal)((function(e){
return a.createElement(d.default,O({header:h.default.Messages.HUB_ENTRY_REMOVE,confirmText:h.default.Messages.REMOVE,cancelText:h.default.Messages.CANCEL,onConfirm:M},e),b(c.default,{size:c.default.Sizes.SIZE_16},void 0,h.default.Messages.HUB_ENTRY_REMOVE_BODY.format({guildName:t.name})))}));N()},color:y.MenuItemColor.DANGER}):null,C?null:a.createElement(a.Fragment,null,b(l.MenuItem,{id:"report-server-listing",label:h.default.Messages.REPORT_SERVER_NO_NAME,action:function(){if(null!=t){(0,u.showReportModalForGuildDirectoryEntry)(t);N()}},icon:s.default,color:y.MenuItemColor.DANGER}))),b(l.MenuGroup,{},void 0,P))}I.displayName="GuildDirectoryEntryContextMenu"},71472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(160629)),o=i(n(88020));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.entry,n=e.forceLightTheme,r=e.hideEditButton,i=e.children,u=e.onRequestOpen,s=e.onRequestClose
;return l(a.default,{onRequestOpen:u,onRequestClose:s,animation:a.default.Animation.NONE,position:a.default.Positions.BOTTOM,spacing:4,align:a.default.Align.RIGHT,renderPopout:function(e){var a=e.closePopout;return l(o.default,{entry:t,closePopout:a,forceLightTheme:n,hideEditButton:r})}},void 0,i)};s.displayName="GuildDirectoryEntryOptionsMenu";var d=s;t.default=d},308607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=O(n(667294)),o=E(n(294184)),i=E(n(864345)),u=E(n(535813)),l=E(n(80828)),s=E(n(186465)),d=E(n(971639)),f=E(n(776360)),c=n(235742),p=O(n(923117)),v=n(218044),y=E(n(247001)),h=E(n(447763)),m=E(n(552564)),_=E(n(324752)),g=E(n(315879));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=(0,i.default)((function(e){var t,n=e.searchQuery,r=e.setSearchQuery,a=e.handleClearSearch,i=e.handleSearchKeyPress,l=e.width,s=null!=l&&l<=780;return b("div",{className:m.default.header},void 0,b("img",{alt:"",
className:m.default.headerImage,src:s?g.default:_.default}),b("div",{className:m.default.headerContentWrapper},void 0,b("div",{className:(0,o.default)(m.default.headerContent,(t={},t[m.default.headerContentSmall]=s,t))},void 0,b(d.default,{size:d.default.Sizes.SIZE_24,className:m.default.searchTitle},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),b(f.default,{size:f.default.Sizes.SIZE_16,className:m.default.searchSubtitle},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE),b(u.default,{searchTerm:n,className:m.default.searchBox,inputClassName:m.default.searchBoxInput,closeIconClassName:m.default.closeIcon,searchIconClassName:m.default.searchIcon,label:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:a,onKeyPress:i,cta:null!=n&&n.length>0?y.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null}))))})),C=function(e){
var t=e.channel,n=e.directoryEntries,r=e.handleCreateOrAddGuild,o=e.searchQuery,i=e.setSearchQuery,u=e.handleClearSearch,d=e.handleSearchKeyPress,_=e.currentCategoryId,g=e.handleSelectCategory,E=e.categoryCounts,S=e.allEntriesCount,O=e.isLoading,C=b(p.AddEntryCard,{onClick:r});return b("div",{className:h.default.pageContainer},void 0,b(c.AdvancedScrollerAuto,{className:h.default.scroller},void 0,b(I,{searchQuery:o,setSearchQuery:i,handleClearSearch:u,handleSearchKeyPress:d}),b(c.AdvancedScrollerThin,{orientation:"horizontal"},void 0,b(s.default,{className:m.default.tabBar,type:s.default.Types.TOP,look:s.default.Looks.BRAND,selectedItem:_,onItemSelect:function(e){g(e)}},void 0,b(s.default.Item,{className:m.default.tabBarItem,id:v.DirectoryEntryCategories.ALL},v.DirectoryEntryCategories.ALL,y.default.Messages.DIRECTORY_CATEGORY_ALL+" ("+S+")"),(0,v.getHubCategories)(t.id).map((function(e){var t=e.value,n=e.label;return b(s.default.Item,{className:m.default.tabBarItem,id:t
},t,n+" "+(null!=E[t]?"("+E[t]+")":""))})))),O&&null==n?b(l.default,{className:h.default.spinner}):null==n?void 0:n.map((function(e){return a.createElement(a.Fragment,null,void 0!==e.header?b(f.default,{size:f.default.Sizes.SIZE_16,className:m.default.sectionHeader},void 0,e.header):null,b("div",{className:h.default.cardsContainer},void 0,e.entries.map((function(e){return b(p.default,{entry:e},e.guildId)})),e.appendEndCard&&null!=r?C:null))}))))};C.displayName="GuildDirectoryLanding";var T=C;t.default=T},1698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.generateDirectoryRows=function(e,t){if(t!==o.DirectoryEntryCategories.ALL)return[{entries:(0,a.rankGuildEntries)(e),appendEndCard:!0}];var n=[],r=(0,a.rankByDateAdded)(e),u=new Set(r.map((function(e){return e.guildId})));r.length>0&&n.push({header:i.default.Messages.SEARCH_NEWEST,entries:r,appendEndCard:!1});var l=e.filter((function(e){return!u.has(e.guildId)}));(l=(0,
a.orderByTotalMemberCount)(l)).length>0&&n.push({header:i.default.Messages.ALL_SERVERS,entries:l,appendEndCard:!0});return n};var r,a=n(448406),o=n(218044),i=(r=n(247001))&&r.__esModule?r:{default:r}},670539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=m(n(151097)),o=m(n(16941)),i=m(n(535813)),u=m(n(80828)),l=m(n(204014)),s=m(n(971639)),d=m(n(776360)),f=n(582945),c=m(n(923117)),p=m(n(247001)),v=m(n(447763)),y=m(n(885735)),h=m(n(123451));function m(e){return e&&e.__esModule?e:{default:e}}
function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n=e.searchQuery,r=e.setSearchQuery,m=e.mostRecentQuery,_=e.handleClearSearch,E=e.handleSearchKeyPress,S=e.handleCreateOrAddGuild,O=e.searchResults;if(e.searchFetching)t=g("div",{className:v.default.pageContainer},void 0,g(u.default,{className:v.default.spinner}));else if(0===O.length){var b=null!=S?p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_SUBTITLE.format({addServerHook:function(e,t){return g(a.default,{
onClick:S},t,e)}}):p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_NO_ADD;t=g("div",{className:y.default.emptySearchWrapper},void 0,g("img",{className:y.default.emptySearchImage,alt:"",src:h.default}),g(s.default,{size:s.default.Sizes.SIZE_24,color:d.default.Colors.HEADER_PRIMARY,className:y.default.emptySearchTitle},void 0,p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_TITLE),g(d.default,{size:d.default.Sizes.SIZE_16,color:d.default.Colors.HEADER_SECONDARY,className:y.default.emptySearchSubtitle},void 0,b))}else t=g("div",{className:v.default.cardsContainer},void 0,O.map((function(e){return g(c.default,{entry:e},e.guildId)})));return g("div",{className:v.default.pageContainer},void 0,g(f.ScrollerAuto,{className:v.default.scroller},void 0,g("div",{className:y.default.searchHeader},void 0,g("div",{className:y.default.headerTitleWrapper},void 0,g(o.default,{onClick:_,className:y.default.arrow},void 0,g(l.default,{direction:l.default.Directions.LEFT})),g(s.default,{
size:s.default.Sizes.SIZE_24,className:y.default.searchPageTitle},void 0,p.default.Messages.DIRECTORY_SEARCH_RESULTS_HEADER.format({numResults:O.length,query:m}))),g(i.default,{searchTerm:n,className:y.default.searchPageBox,inputClassName:y.default.searchPageInput,label:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:_,onKeyPress:E,cta:null!=n&&n.length>0?p.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),t))};E.displayName="GuildDirectorySearchResults";var S=E;t.default=S},523024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryInAppReportingExperiment=void 0;t.useCanSeeDiscoveryContextMenu=function(){var e=u.useExperiment({}).canSeeInAppReportingButtons,t=o.DeveloperMode.useSetting(),n=e||t;r.useEffect((function(){u.trackExposure({})}),[]);return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(894826);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=(0,a.createExperiment)({kind:"user",id:"2022-01_discovery_iar",label:"Ability to report servers in Server Discovery",defaultConfig:{canSeeInAppReportingButtons:!1},treatments:[{id:1,label:"Show IAR buttons in Server Discovery",config:{canSeeInAppReportingButtons:!0}}]});t.DiscoveryInAppReportingExperiment=u},328092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTagsExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",
id:"2021-11_discovery_tags",label:"Discovery Tags",defaultConfig:{shouldDisplayTags:!1,shouldDisplayRecommendedSearchTags:!1},treatments:[{id:1,label:"Show keyword tags on home and search result pages",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!1}},{id:2,label:"Show keyword tags on home and search result pages and under the search bar",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!0}}]});t.DiscoveryTagsExperiment=r},177634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryLandingExperimentRedirect=void 0;t.useGuildDiscoveryLandingExperimentConfig=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(473727),i=n(536211),u=n(373505),l=f(n(30098)),s=f(n(834162)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,u.createExperiment)({kind:"user",id:"2021-09_guild_discovery_landing",label:"Land app opens on the Guild Discovery page",defaultConfig:{isActive:!1},treatments:[{id:1,
label:"Default app open to discovery page",config:{isActive:!0}}]});function y(){var e=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuildCount()})),t=(0,i.useStateFromStores)([s.default],(function(){return s.default.getGamesSeen(!1)})).some((function(e){return e.verified})),n=e<4&&!t;a.useEffect((function(){n&&v.trackExposure({})}),[n]);return v.useExperiment({},{disable:!n})}t.DiscoveryLandingExperimentRedirect=function(e){var t=e.defaultRouteFallback,n=y().isActive;return p(o.Redirect,n?{to:d.Routes.GUILD_DISCOVERY}:{to:t})}},332743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(803949)),i=h(n(965419)),u=h(n(161679)),l=h(n(450474)),s=h(n(167646)),d=h(n(332282)),f=h(n(890422)),c=h(n(97751)),p=n(71246),v=n(227445),y=h(n(596964));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var g=_(o.default,{}),E=_(i.default,{}),S=_(u.default,{}),O=_(l.default,{}),b=_(s.default,{}),I=_(d.default,{height:22,width:22}),C=_(f.default,{}),T=function(e){switch(e){case v.CategoryIcons.Activity:return g;case v.CategoryIcons.Discover:return E;case v.CategoryIcons.Education:return S;case v.CategoryIcons.Music:return O;case v.CategoryIcons.Science:return b;case v.CategoryIcons.Stage:return I;case v.CategoryIcons.Television:return C;default:(0,p.assertNever)(e)}},A=function(e){var t=e.categories,n=e.currentCategoryId,r=e.handleCategorySelect,o=e.shouldDisplaySelectedCategory,i=void 0===o||o;return a.createElement(a.Fragment,null,t.map((function(e){return _(c.default,{avatar:T(e.icon),name:e.name,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){return r(e.categoryId)},wrapContent:!0,selected:i&&e.categoryId===n,className:y.default.categoryItem,selectedClassName:y.default.selectedCategoryItem,innerClassName:y.default.itemInner},e.categoryId)})))}
;A.Icons=v.CategoryIcons;var P=A;t.default=P},841354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoverySidebarHeader=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(971639)),o=i(n(45622));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.text;return l(a.default,{tag:a.default.Tags.H2,size:a.default.Sizes.SIZE_24,className:o.default.discoverHeader},void 0,t)}s.displayName="DiscoverySidebarHeader"},734696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=v(n(636602)),i=n(531254),u=v(n(275198)),l=v(n(2022)),s=v(n(971639)),d=v(n(776360)),f=v(n(684631)),c=n(770348),p=v(n(922179));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var _=[[1696,20],[1432,16],[1168,12],[0,8]],g=[[1696,30],[1432,24],[1168,18],[0,12]],E=function(e){
var t=e.title,n=e.subtitle,r=e.guildsData,v=e.analyticsContext,y=e.theme,E=e.onViewGuild,S=e.fetchGuilds,O=e.onGuildCardSeen,b=e.currentCategoryId,I=e.loadId,C=e.onTagClick,T=e.showMoreCards,A=void 0!==T&&T;a.useEffect((function(){o.default.wait((function(){return S()}))}),[b]);var P=A?g:_,M=(0,f.default)(P);if(null==r)return null;var N=r.guilds,R=r.loading,w=null==N||0===N.length;if(!R&&w)return null;var D,L=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.isAtGuildCapAndNonPremium)()){e.next=4;break}(0,u.default)({analyticsSource:{page:c.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{page:c.AnalyticsPages.GUILD_DISCOVERY,section:c.AnalyticsSections.GUILD_CAP_UPSELL_MODAL}});e.next=7;break;case 4:n=N.findIndex((function(e){return e.id===t}));e.next=7;return E(t,n,v,I);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(R||null==N){for(var j=[],k=0;k<M;k++)j.push(h(l.default.Placeholder,{},k));D=j}else D=N.slice(0,M).map((function(e){return h(l.default,{className:p.default.guildCard,guild:e,onView:L,theme:y,onGuildCardSeen:O,onTagClick:C},e.id)}));return h("section",{className:p.default.guildListSection},void 0,h(s.default,{className:p.default.title,size:s.default.Sizes.SIZE_20},void 0,t),null!=n&&h(d.default,{className:p.default.subtitle,size:d.default.Sizes.SIZE_14,color:d.default.Colors.HEADER_SECONDARY},void 0,n),h("div",{className:p.default.guildList},void 0,D))};E.displayName="DiscoverFeaturedGuildsSection";var S=E;t.default=S},473124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_GUILDS_PER_PAGE=void 0
;var r,a=I(n(667294)),o=O(n(496486)),i=O(n(817673)),u=n(536211),l=I(n(598319)),s=O(n(815428)),d=O(n(651386)),f=O(n(55027)),c=n(139982),p=O(n(199846)),v=O(n(16941)),y=O(n(204014)),h=O(n(971639)),m=O(n(776360)),_=I(n(465537)),g=n(227445),E=O(n(247001)),S=O(n(691288));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=12;t.MAX_GUILDS_PER_PAGE=P;var M=function(){var e=(0,c.getHistory)().location.search;return null!=e&&e.length>0&&e.startsWith("?")?i.default.parse(e):{}},N=function(e){var t=e.categoryId,n=e.categoryName,r=e.onClick,a=t===g.DISCOVERY_ALL_CATEGORIES_ID,o=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_HEADER:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_HEADER.format({categoryName:n}),i=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_BODY:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_BODY.format({onClick:r});return A("div",{className:S.default.emptyContainer},void 0,A("div",{className:S.default.emptyImage}),A(h.default,{
size:h.default.Sizes.SIZE_24,className:S.default.emptyHeader},void 0,o),A(m.default,{size:m.default.Sizes.SIZE_16,color:m.default.Colors.HEADER_SECONDARY},void 0,i))};N.displayName="EmptySearchResults";var R=function(){return A("div",{className:S.default.emptyContainer},void 0,A("div",{className:S.default.errorImage}),A(m.default,{size:m.default.Sizes.SIZE_16,color:m.default.Colors.HEADER_SECONDARY,className:S.default.emptyHeader},void 0,E.default.Messages.GUILD_DISCOVERY_SEARCH_ERROR))};R.displayName="ErrorState";var w=A(R,{}),D=function(e){var t=e.loadId,n=e.searchResults,r=e.mostRecentQuery,i=e.defaultLanguage,c=e.availableLanguages,m=e.isFetchingSearch,O=e.scroller,b=e.loadingGuildId,I=e.theme,T=e.currentCategoryId,R=e.currentCategoryName,D=e.onViewGuild,L=e.onGuildCardSeen,j=e.placeholder,k=e.onTagClick,U=o.default.uniqueId("GuildDiscovery"),G=n.guilds,F=n.loading,x=n.total,B=C(a.useState(!1),2),V=B[0],W=B[1],H=M().tag,z=C(a.useState(H),2),Y=z[0],K=z[1],$=(0,
u.useStateFromStores)([p.default],(function(){return p.default.hasSearchError()})),q=function(e,t,n){l.doAlgoliaSearch(r,{categoryId:n?g.DISCOVERY_ALL_CATEGORIES_ID:T,preferredLocale:i.code,offset:e,length:t,filters:{approximate_member_count:_.MINIMUM_MEMBER_COUNT}});W(!1)};a.useEffect((function(){var e=M(),t=e.offset,n=e.tag,r=null!=t?Math.floor(parseInt(t,10)/P)+1:1;K(!!n);1===r&&W(!0)}),[r]);var Z=T===g.DISCOVERY_ALL_CATEGORIES_ID?E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_HEADER.format({count:null!=x?x.toLocaleString():"0",query:r}):E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_CATEGORY_HEADER.format({count:null!=x?x.toLocaleString():"0",query:r,category:R});return A("div",{className:S.default.container},void 0,A("div",{className:S.default.searchHeader},void 0,A(v.default,{onClick:function(){l.clearSearch();_.trackSearchClosed(t)},className:S.default.arrow,"aria-label":E.default.Messages.BACK},void 0,A(y.default,{direction:y.default.Directions.LEFT})),A(h.default,{
size:h.default.Sizes.SIZE_24,className:S.default.header},void 0,Z)),A(d.default,{loadId:t,searchResults:n,mostRecentQuery:r,isFetchingSearch:m,defaultLanguage:i,placeholder:j,availableLanguages:c,isSearchPage:!0,currentCategoryId:T,isTagSearch:Y}),$?w:x<=0?A(N,{categoryId:T,categoryName:R,onClick:function(){l.selectCategory(g.DISCOVERY_ALL_CATEGORIES_ID);q(0,P,!0)}}):A("div",{className:S.default.results},void 0,A(s.default,{pageSize:P,totalCount:x,resetCurrentPage:V,onPageChange:function(e){q((e-1)*P,P);null==O||O.scrollTo({to:0})}},void 0,(function(e){var t=e.controller;return A("section",{"aria-labelledby":U},void 0,A(f.default,{guilds:G,loading:F,loadingPlaceholderCount:P,onViewGuild:D,loadingGuildId:b,theme:I,analyticsContext:_.AnalyticsContexts.SEARCH,onGuildCardSeen:L,onTagClick:k}),t)}))))};D.displayName="DiscoverSearchResults";var L=D;t.default=L},184767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildDiscoveryMenuPopout=void 0;t.default=S
;g(n(667294));var r,a=n(536211),o=n(378158),i=m(n(730487)),u=n(837797),l=g(n(145122)),s=m(n(30098)),d=m(n(689389)),f=m(n(160629)),c=m(n(907509)),p=n(523024),v=n(770348),y=n(474477),h=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=e.guild,n=e.shiftId,r=e.onSelect,f=e.closePopout,m=e["aria-label"],_=(0,i.default)(t.id,n,void 0,f),g=(0,a.useStateFromStores)([s.default],(function(){return s.default.getGuild(t.id)}),[t.id]),S=(0,a.useStateFromStores)([d.default],(function(){return d.default.can(v.Permissions.ADMINISTRATOR,g)})),O=p.DiscoveryInAppReportingExperiment.useExperiment({}).canSeeInAppReportingButtons;return E(l.default,{onSelect:r,navId:"guild-discovery-context-menu","aria-label":null!=m?m:h.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:o.closeContextMenu},void 0,E(l.MenuGroup,{},void 0,!S&&O?E(l.MenuItem,{id:"report-guild-discovery-listing",label:h.default.Messages.REPORT_SERVER_NO_NAME,action:function(){(0,
u.showReportModalForDiscoverableGuild)(t);!function(){(0,o.closeContextMenu)();null==f||f()}()},icon:c.default,color:y.MenuItemColor.DANGER}):null),E(l.MenuGroup,{},void 0,_))}S.displayName="GuildDiscoveryContextMenu";var O=function(e){var t=e.guild,n=e.children,r=e.onRequestOpen,a=e.onRequestClose;return E(f.default,{onRequestOpen:r,onRequestClose:a,animation:f.default.Animation.NONE,position:f.default.Positions.BOTTOM,spacing:4,align:f.default.Align.RIGHT,renderPopout:function(e){var n=e.closePopout;return E(S,{guild:t,closePopout:n})}},void 0,n)};t.GuildDiscoveryMenuPopout=O;O.displayName="GuildDiscoveryMenuPopout"},167739:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(964285)),o=d(n(735172)),i=d(n(142024)),u=n(770348),l=d(n(247001)),s=d(n(722100));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=c("img",{alt:"",src:d(n(694111)).default});function v(e){
var t=e.guild,n=e.markAsDismissed;return c(i.default,{onComponentMount:function(){return o.default.trackExposure({guildId:t.id})},header:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_TITLE,content:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_DESCRIPTION,asset:c("div",{className:s.default.image},void 0,p),buttonCTA:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_ACCEPT,onClick:function(e){!function(e,t){t&&a.default.open(e.id,u.GuildSettingsSections.DISCOVERY_LANDING_PAGE)}(t,!0)},secondaryButtonCTA:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_DISMISS,onSecondaryClick:function(){},markAsDismissed:n})}v.displayName="GuildDiscoveryLandingPageSettingsTooltip"},638098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(956117)),i=c(n(971639)),u=c(n(776360)),l=n(294126),s=n(583551),d=c(n(247001)),f=c(n(812099));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function y(e){var t=e.onClick,n=e.onSecondaryClick,r=e.onComponentMount,c=e.markAsDismissed;a.useEffect((function(){null==r||r()}),[r]);var p=a.useCallback((function(e){t(e);null==c||c(s.ContentDismissActionType.PRIMARY)}),[t,c]),y=a.useCallback((function(){null==n||n();null==c||c(s.ContentDismissActionType.SECONDARY)}),[n,c]);return v("div",{className:f.default.tooltipWrapper},void 0,v(i.default,{className:f.default.tooltipHeader,size:i.default.Sizes.SIZE_16},void 0,d.default.Messages.SERVER_DISCOVERY_TOOLTIP_TITLE),v(u.default,{className:f.default.tooltipText,size:u.default.Sizes.SIZE_14},void 0,d.default.Messages.SERVER_DISCOVERY_TOOLTIP_DESCRIPTION.format({count:l.LOWERED_MINIMUM_SIZE})),v("div",{className:f.default.buttonsContainer},void 0,v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,color:o.default.Colors.BRAND,onClick:p},void 0,d.default.Messages.LEARN_MORE),v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,look:o.default.Looks.BLANK,onClick:y
},void 0,d.default.Messages.NO_THANKS)))}y.displayName="GuildHeaderDiscoveryTooltip"},648831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.DiscoverSearchResultPlaceholder=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=A(n(294184)),i=n(378158),u=n(263996),l=n(800055),s=n(531254),d=A(n(275198)),f=A(n(16941)),c=A(n(189950)),p=A(n(80828)),v=A(n(971639)),y=A(n(272544)),h=A(n(776360)),m=A(n(692711)),_=n(465537),g=n(523024),E=n(328092),S=A(n(886836)),O=n(770348),b=A(n(247001)),I=A(n(895889)),C=A(n(860321)),T=A(n(145792));function A(e){
return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var j=function(){return L("div",{className:I.default.placeholder})};t.DiscoverSearchResultPlaceholder=j;j.displayName="DiscoverSearchResultPlaceholder";var k=function(e){var t,r,A,P,N=e.guild,D=e.theme,j=e.onView,k=e.onTagClick,U=N.id,G=N.discoverySplash,F=N.icon,x=N.name,B=N.description,V=N.presenceCount,W=N.memberCount,H=N.keywords,z=w(a.useState(!1),2),Y=z[0],K=z[1],$=w(a.useState(!1),2),q=$[0],Z=$[1],X=m.default.getGuildDiscoverySplashURL({id:U,splash:G,size:240*(0,l.getDevicePixelRatio)()}),Q=null!=X?X:function(e){switch(e){case O.ThemeTypes.DARK:return C.default;case O.ThemeTypes.LIGHT:return T.default}}(D),J=null!==(t=m.default.getGuildIconURL({id:U,icon:F,size:32}))&&void 0!==t?t:void 0,ee=function(){var e=R(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
n=t.target;if(!n.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:if(!(0,s.isAtGuildCapAndNonPremium)()){e.next=6;break}(0,d.default)({analyticsSource:{page:O.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{page:O.AnalyticsPages.GUILD_DISCOVERY,section:O.AnalyticsSections.GUILD_CAP_UPSELL_MODAL}});return e.abrupt("return");case 6:Z(!0);e.prev=7;e.t0=null!=j;if(!e.t0){e.next=12;break}e.next=12;return j(N.id);case 12:e.prev=12;Z(!1);return e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[7,,12,15]])})));return function(t){return e.apply(this,arguments)}}();a.useEffect((function(){return E.DiscoveryTagsExperiment.trackExposure({})}));var te=E.DiscoveryTagsExperiment.useExperiment({}).shouldDisplayTags,ne=(0,g.useCanSeeDiscoveryContextMenu)();return a.createElement(a.Fragment,null,L("div",{className:I.default.card},void 0,q?L(p.default,{type:p.default.Type.PULSING_ELLIPSIS,className:I.default.spinner}):null,L(f.default,{className:(0,
o.default)(I.default.container,(r={},r[I.default.hover]=Y,r[I.default.submitting]=q,r)),onClick:ee,onContextMenu:function(e){(0,i.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,184767));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,M({},e,{guild:N}))}));case 5:case"end":return e.stop()}}),e)}))))},onMouseEnter:function(){return K(!0)},onMouseLeave:function(){return K(!1)}},void 0,L("div",{className:(0,o.default)(I.default.splashContainer,(A={},A[I.default.splashContainerWithTags]=te,A))},void 0,L("img",{src:Q,alt:"",className:I.default.splashImage,width:240})),L("div",{className:(0,o.default)(I.default.content,(P={},P[I.default.contentWithTags]=te,P))},void 0,L("div",{className:I.default.header},void 0,L(y.default,{mask:y.default.Masks.SQUIRCLE,width:32,height:32},void 0,L("img",{src:J,
alt:"",className:I.default.avatar})),L("div",{className:I.default.headerName},void 0,L(c.default,{guild:N,className:I.default.guildBadge}),L(v.default,{size:v.default.Sizes.SIZE_16},void 0,x))),L(h.default,{className:I.default.description},void 0,B),te&&H&&k&&L(u.DiscoveryTags,{guildId:N.id,discoveryTagStyle:u.DiscoveryTagStyle.ALT,onTagClick:function(e){return k(e,N.id)},tags:H,section:_.AnalyticsContexts.SEARCH}),L("div",{className:I.default.memberInfo},void 0,null!=V&&L("div",{className:I.default.memberCount},void 0,L(h.default,{size:h.default.Sizes.SIZE_12,color:h.default.Colors.HEADER_SECONDARY},void 0,b.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:V}))),null!=W&&a.createElement(a.Fragment,null,L("div",{className:I.default.dotSeparator}),L("div",{className:I.default.memberCount},void 0,L(h.default,{size:h.default.Sizes.SIZE_12,color:h.default.Colors.HEADER_SECONDARY},void 0,b.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:W
})))))),ne?L("div",{className:I.default.actionButtons},void 0,L(S.default,{guild:N})):null)),L("hr",{className:I.default.separator}))};t.default=k},886836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=h(n(667294)),o=v(n(294184)),i=v(n(730977)),u=v(n(775803)),l=h(n(962989)),s=n(184767),d=v(n(247001)),f=v(n(498154)),c=["onClick"],p=["onClick"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t,n=e.guild,r=E(a.useState(!1),2),v=r[0],y=r[1],h=a.useCallback((function(){return y(!0)}),[y]),S=a.useCallback((function(){return y(!0)}),[y]);return _("div",{className:(0,
o.default)(f.default.actionButtonsContainer,(t={},t[f.default.forceButtonsShow]=v,t))},void 0,_(l.default,{},void 0,_(s.GuildDiscoveryMenuPopout,{onRequestOpen:h,onRequestClose:S,guild:n},void 0,(function(e){var t=e.onClick,n=g(e,c);return _(i.default,{text:d.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=g(e,p);return a.createElement(l.Button,m({},n,o,{onClick:function(e){e.stopPropagation();null==r||r();t(e)},"aria-label":d.default.Messages.MORE}),_(u.default,{className:f.default.overflowIcon}))}))}))))}O.displayName="DiscoveryCardActionButtons";var b=O;t.default=b},684631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=o(r.useState(0),2),n=t[0],a=t[1],u=r.useCallback((function(){for(var t,n=window.innerWidth,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
;var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=r()).done;){var u=o(t.value,2),l=u[0],s=u[1];if(n>=l){a(s);return}}}),[e]);r.useEffect((function(){u()}),[u]);r.useEffect((function(){window.addEventListener("resize",u);return function(){window.removeEventListener("resize",u)}}));return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},730034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(684769),i=n(770348);var u={init:function(){a.default.subscribe(i.ActionTypes.CONNECTION_OPEN,(function(){(0,o.reset)()}));a.default.subscribe(i.ActionTypes.LOGOUT,(function(){(0,o.reset)()}))}};t.default=u},802922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DismissibleContentNotices=void 0;var r,a=T(n(667294)),o=n(536211),i=n(923387),u=n(483559),l=I(n(226800)),s=I(n(155502)),d=I(n(754416)),f=n(660065),c=n(818735),p=I(n(877454)),v=I(n(296005)),y=I(n(41024)),h=I(n(11888)),m=n(194322),_=T(n(177101)),g=I(n(308920)),E=I(n(305081)),S=n(770348),O=I(n(247001)),b=I(n(202192));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)
}))}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=function(e){var t=e.dismissibleContent,r=e.noticeType,I=(0,o.useStateFromStores)([v.default],(function(){return v.default.getNotice()}));return N(E.default,{contentTypes:[t]},void 0,(function(e){var t=e.visibleContent,o=e.markAsDismissed;switch(t){case i.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD:return N(_.default,{color:_.NoticeColors.GREEN},void 0,N(_.NoticeCloseButton,{onClick:o,noticeType:r}),O.default.Messages.NOTICE_NATIVE_APPS_2020_06,N("i",{className:b.default.iconApple}),N("i",{className:b.default.iconAndroid}),N("i",{
className:b.default.iconWindows}),N(_.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){(0,m.openModalLazy)(M(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,A({source:"Top Bar Nag"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,O.default.Messages.DOWNLOAD));case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY:return N(_.default,{color:_.NoticeColors.SPOTIFY},void 0,N(_.NoticeCloseButton,{onClick:o,noticeType:r}),N(h.default,{className:b.default.platformIcon}),O.default.Messages.NOTICE_CONNECT_SPOTIFY,N(_.PrimaryCTANoticeButton,{onClick:function(){return(0,d.default)(S.PlatformTypes.SPOTIFY,"Notice Bar")},noticeType:r},void 0,O.default.Messages.CONNECT));case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return N(_.default,{
color:_.NoticeColors.PLAYSTATION},void 0,N(_.NoticeCloseButton,{onClick:o}),N("img",{alt:"",className:b.default.platformIcon,src:s.default.get(S.PlatformTypes.PLAYSTATION).icon.whiteSVG}),O.default.Messages.NOTICE_CONNECT_PLAYSTATION,N(_.NoticeButton,{onClick:function(){return(0,d.default)(S.PlatformTypes.PLAYSTATION,"Notice Bar")}},void 0,O.default.Messages.CONNECT));case i.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP:return N(_.default,{color:_.NoticeColors.NOTIFICATION},void 0,N(_.NoticeCloseButton,{onClick:o,noticeType:r}),O.default.Messages.NOTICE_MFA_SMS_BACKUP,N(_.PrimaryCTANoticeButton,{onClick:function(){return l.default.open(S.UserSettingsSections.ACCOUNT)},noticeType:r},void 0,O.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO:return N(_.default,{color:_.NoticeColors.DARK},void 0,N("span",{className:b.default.premiumLogo}),N("span",{className:b.default.premiumText
},void 0,O.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE),N(_.PrimaryCTANoticeButton,{className:b.default.premiumAction,noticeType:r,onClick:function(){g.default.track(S.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:S.AnalyticsSections.NOTIFICATION_BAR,location_object:S.AnalyticsObjects.BUTTON_CTA});l.default.open(S.UserSettingsSections.PREMIUM)}},void 0,O.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),N(_.NoticeCloseButton,{onClick:function(){o();(0,u.setFlag)(S.UserFlags.PREMIUM_PROMO_DISMISSED,!0)},noticeType:r}));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING:return N(p.default,{dismissCurrentNotice:o});case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE:return N(_.default,{color:_.NoticeColors.PREMIUM_TIER_2},void 0,N(_.NoticeCloseButton,{noticeType:r,onClick:o}),O.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_TEXT,N(_.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){o();l.default.open(S.UserSettingsSections.PREMIUM)}
},void 0,O.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_BUTTON_TEXT));case i.DismissibleContent.NAGBAR_NOTICE_LOCALIZED_PRICING:var v=null!=(null==I?void 0:I.metadata.premiumSubscription),E=(0,f.getCountryCodeForLocalizedPricingPromo)(null==I?void 0:I.metadata.ipCountryCode,null==I?void 0:I.metadata.defaultBillingCountryCode);return N(_.default,{color:v?_.NoticeColors.BRAND:_.NoticeColors.PREMIUM_TIER_2},void 0,N(_.NoticeCloseButton,{onClick:o,noticeType:r}),v?(0,c.getNoticeNitroChangedPrice)(E):N(a.Fragment,{},void 0,N(y.default,{className:b.default.premiumIcon}),(0,c.getLocalizedPricingNotice)(E)),N(_.PrimaryCTANoticeButton,{onClick:function(){o();l.default.open(S.UserSettingsSections.PREMIUM)},noticeType:r},void 0,O.default.Messages.LEARN_MORE))}}))};t.DismissibleContentNotices=R;R.displayName="DismissibleContentNotices"},207052:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DMSpamAccept=void 0;t.useAndTrackDMSpamAccept=function(e,t){
void 0===t&&(t=!0);var n=(0,o.useIsEligibleForUserDMSpamBannerExperiment)(e),a=i.useExperiment(null,{disable:!n});(0,r.useEffect)((function(){n&&t&&i.trackExposure(null)}),[t,n]);return a};var r=n(667294),a=n(373505),o=n(777795),i=(0,a.createExperiment)({kind:"user",id:"2021-10_spam_dm_redaction",label:"DM Spam Redaction",defaultConfig:{showSpamBanner:!1},treatments:[{id:1,label:"Warn receiver that DM may contain spam and hide messages",config:{showSpamBanner:!0}}]});t.DMSpamAccept=i},841175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.acceptFirstMessage=function(e){a.default.dispatch({type:o.ActionTypes.ACCEPT_FIRST_DM_MESSAGE,channelId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},747199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return l(e,t)}var s=new Set;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(s=new Set(e))};n.isMessageAccepted=function(e){return s.has(e)};n.getState=function(){return s};return t}(a.default.PersistedStore);d.displayName="FirstMessageAcceptStore";d.persistKey="FirstMessageAcceptStore";var f=new d(o.default,((r={})[i.ActionTypes.ACCEPT_FIRST_DM_MESSAGE]=function(e){var t=e.channelId;s.add(t)},r));t.default=f},192071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NonFriendDMAccept=void 0;t.useAndTrackNonFriendDMAccept=function(e,t){void 0===t&&(t=!0);var n=(0,o.useIsEligibleForNonFriendDMAcceptExperiment)(e),a=(0,i.useIsEligibleForUserDMSpamBannerExperiment)(e),l=n&&!a,s=u.useExperiment(null,{disable:!l});(0,r.useEffect)((function(){l&&t&&u.trackExposure(null)}),[t,l])
;return s};var r=n(667294),a=n(373505),o=n(156750),i=n(777795),u=(0,a.createExperiment)({kind:"user",id:"2021-08_1st_dm_accept__report",label:"1st DM Accept & Report ",defaultConfig:{showBanner:!1},treatments:[{id:1,label:"Allow receiver to accept, ignore, or report non-friend DMs",config:{showBanner:!0}}]});t.NonFriendDMAccept=u},528831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.allowMessagesFromSpamUser=function(e){a.default.dispatch({type:o.ActionTypes.ALLOW_SPAM_MESSAGES_FOR_USER,userId:e})};t.hideMessagesFromSpamUser=function(e){a.default.dispatch({type:o.ActionTypes.HIDE_SPAM_MESSAGES_FOR_USER,userId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},448673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)
}var s=new Set;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(s=new Set(e))};n.hasAllowedSpamUser=function(e){return s.has(e)};n.getState=function(){return s};return t}(a.default.PersistedStore);d.displayName="SpamMessageAcceptStore";d.persistKey="SpamMessageAcceptStore";var f=new d(o.default,((r={})[i.ActionTypes.ALLOW_SPAM_MESSAGES_FOR_USER]=function(e){var t=e.userId;s.add(t)},r[i.ActionTypes.HIDE_SPAM_MESSAGES_FOR_USER]=function(e){var t=e.userId;s.delete(t)},r));t.default=f},156750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useIsEligibleForNonFriendDMAcceptExperiment=function(e){var t=(0,o.useShowConvoStarterInDM)(e),n=(0,a.useIsRelationshipTypeSpamReportable)(e.getRecipientId()),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.getMessages(e.id).length>0}),[e]),s=(0,
r.useStateFromStores)([u.default],(function(){return u.default.isMessageAccepted(e.id)}),[e]);return n&&t&&l&&!s};var r=n(536211),a=n(67060),o=n(11710),i=l(n(201292)),u=l(n(747199));function l(e){return e&&e.__esModule?e:{default:e}}},777795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useIsEligibleForUserDMSpamBannerExperiment=function(e){var t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some((function(e){return e.bot})),n=(0,r.useStateFromStores)([o.default],(function(){var t;return!0===(null===(t=o.default.getUser(e.getRecipientId()))||void 0===t?void 0:t.hasFlag(u.UserFlags.SPAMMER))}),[e]),l=(0,r.useStateFromStores)([a.default],(function(){return a.default.getMessages(e.id).length>0}),[e]),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.hasAllowedSpamUser(e.getRecipientId())}),[e]);return t&&n&&l&&!s};var r=n(536211),a=l(n(201292)),o=l(n(728429)),i=l(n(448673)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},
838574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FirstDMReportSpamBanner=O;var r,a=_(n(667294)),o=h(n(709403)),i=h(n(618825)),u=n(960736),l=h(n(956117)),s=_(n(730977)),d=h(n(308920)),f=n(841175),c=n(770348),p=h(n(247001)),v=h(n(157358)),y=["onMouseEnter","onMouseLeave"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(){g=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=n(513157);function O(e){var t=e.channel,n=t.getRecipientId(),r=function(){d.default.track(c.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",response:"hide"});o.default.closePrivateChannel(t.id,!0)},h=function(){d.default.track(c.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",
response:"report_click"})},m=function(){d.default.track(c.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",response:"report_submit"})};return E(u.MessageNoticeBanner,{bannerIcon:S,bannerHeader:p.default.Messages.ACCEPT_DM_HEADER,bannerSubtext:p.default.Messages.ACCEPT_DM_SUBTEXT},void 0,E(s.default,{tooltipClassName:v.default.tooltip,text:p.default.Messages.REPORT_DM_TOOLTIP,color:s.TooltipColors.BRAND},void 0,(function(e){var r=e.onMouseEnter,a=e.onMouseLeave;return E(i.default,{channel:t,otherUserId:n,buttonSize:l.default.Sizes.MEDIUM,onReportClick:h,onReportSubmit:m,onMouseEnter:function(){null==r||r()},onMouseLeave:function(){null==a||a()}})})),E(s.default,{tooltipClassName:v.default.tooltip,text:p.default.Messages.CLOSE_DM_TOOLTIP,color:s.TooltipColors.BRAND},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,y);return a.createElement(l.default,g({},o,{className:v.default.smallButton,size:l.default.Sizes.MEDIUM,color:l.default.Colors.PRIMARY,onClick:r,onMouseEnter:function(){null==t||t()},onMouseLeave:function(){null==n||n()}}),p.default.Messages.FRIEND_REQUEST_IGNORE)})),E(l.default,{className:v.default.smallButton,size:l.default.Sizes.MEDIUM,onClick:function(){d.default.track(c.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",response:"accept"});(0,f.acceptFirstMessage)(t.id)}},void 0,p.default.Messages.ACCEPT))}O.displayName="FirstDMReportSpamBanner"},105149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SenderSpammerBanner=C;E(n(667294));var r,a=n(536211),o=_(n(190040)),i=_(n(709403)),u=_(n(237923)),l=n(960736),s=_(n(728429)),d=E(n(956117)),f=n(767019),c=n(143586),p=_(n(308920)),v=n(528831),y=n(770348),h=_(n(247001)),m=_(n(157358));function _(e){
return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}var I=n(513157);function C(e){var t=e.channel,n=t.getRecipientId(),r=(0,a.useStateFromStores)([s.default],(function(){var e=s.default.getUser(n);return null!=e?e.username:null})),_=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"block_modal_cancel_click"});e.next=3;return i.default.closePrivateChannel(t.id,!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){
var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"block_modal_block_click"});e.next=3;return u.default.addRelationship(n,{location:"DMSpamModal"},y.RelationshipTypes.BLOCKED);case 3:e.next=5;return i.default.closePrivateChannel(t.id,!0);case 5:(0,c.showToast)((0,f.createToast)(h.default.Messages.SPAMMER_BLOCKED.format({username:r}),f.ToastType.SUCCESS));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S(l.MessageNoticeBanner,{bannerIcon:I,bannerHeader:h.default.Messages.ACCEPT_SPAM_DM_HEADER,bannerSubtext:h.default.Messages.ACCEPT_SPAM_DM_SUBTEXT},void 0,S(d.default,{className:m.default.largeButton,look:d.default.Looks.LINK,size:d.default.Sizes.SMALL,color:d.default.Colors.TRANSPARENT,onClick:function(){
p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"not_spam"});(0,v.allowMessagesFromSpamUser)(n)}},void 0,h.default.Messages.REPORT_NOT_SPAM),S(d.default,{className:m.default.largeButton,look:d.default.Looks.FILLED,size:d.default.Sizes.SMALL,color:d.ButtonColors.RED,onClick:function(){p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"close_channel_click"});o.default.show({title:h.default.Messages.BLOCK_SPAMMER_HEADER,body:h.default.Messages.BLOCK_SPAMMER_SUBHEADER.format({username:r}),onCancel:_,cancelText:h.default.Messages.CANCEL,onConfirm:g,confirmText:h.default.Messages.BLOCK});i.default.closePrivateChannel(t.id,!0)}},void 0,h.default.Messages.CLOSE_DM))}C.displayName="SenderSpammerBanner"},916239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=[{keybinds:["Spacebar","Enter"],
name:f.default.Messages.DND_OPERATION_LABEL_DROP},{keybinds:["up","down"],name:f.default.Messages.DND_OPERATION_LABEL_MOVE},{keybinds:["ESC"],name:f.default.Messages.DND_OPERATION_LABEL_CANCEL}],t=(0,i.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion})),n=(0,d.useDndMode)();return(0,o.useTransition)(n,{enter:{from:{opacity:0,y:t?0:80},to:{opacity:1,y:0}},leave:{opacity:0,y:t?0:80},config:o.config.stiff})((function(t,n){return n?y("div",{className:c.default.positioner},void 0,y(o.animated.div,{className:c.default.container,style:t},void 0,e.map((function(t,n){var r=t.keybinds,o=t.name;return y(a.Fragment,{},o,y(s.default,{size:s.default.Sizes.SIZE_16,className:c.default.bindName},void 0,o),r.map((function(e){return y(l.default,{shortcut:e,className:c.default.shortcut},e)})),n<e.length-1?y("span",{className:c.default.separator}):null)})))):null}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(248088),i=n(536211),u=p(n(235879)),l=p(n(749666)),s=p(n(776360)),d=n(412317),f=p(n(247001)),c=p(n(923947));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},480519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(754126),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(e){var t=e.channel.id;(0,o.removeFavoriteChannel)(t)}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(i.ActionTypes.CHANNEL_DELETE,s)};n._terminate=function(){r.default.unsubscribe(i.ActionTypes.CHANNEL_DELETE,s)};return t}(a.default));t.default=d},265328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(956117)),u=c(n(776360)),l=c(n(308920)),s=n(770348),d=c(n(247001)),f=c(n(495188));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=a.forwardRef((function(e,t){var n,r=e.closePopout,c=e.body,p=e.header,y=e.artClassName,h=e.tryItText,m=e.onTryFeature,_=e.analyticsName,g=e.analyticsSection,E=e.className;a.useEffect((function(){l.default.track(s.AnalyticEvents.UPSELL_VIEWED,{type:s.DesktopUpsellTypes.FEATURE_EDUCATION_TOOLTIP,subtype:_,location_section:g})}),[]);function S(e){l.default.track(s.AnalyticEvents.UPSELL_CLICKED,{type:s.DesktopUpsellTypes.FEATURE_EDUCATION_TOOLTIP,subtype:_,action:e,location_section:g})}return a.createElement("div",{className:(0,o.default)(f.default.container,E),ref:t},v("div",{className:(0,o.default)(f.default.content,(n={},n[f.default.contentNoArt]=null==y,n))},void 0,v("div",{className:(0,o.default)(y,f.default.art)}),v(u.default,{className:f.default.headerText,
size:u.default.Sizes.SIZE_16,color:u.default.Colors.CUSTOM},void 0,p),v("div",{className:f.default.bodyContainer},void 0,null==c?null:"string"==typeof c?v(u.default,{className:f.default.bodyText,size:u.default.Sizes.SIZE_14,color:u.default.Colors.CUSTOM},void 0,c):c),null!=m?a.createElement(a.Fragment,null,v(i.default,{className:f.default.tryButton,size:i.default.Sizes.MAX,onClick:function(){r();m();S(s.UpsellActionTypes.PRIMARY)},color:i.default.Colors.WHITE},void 0,null!=h?h:d.default.Messages.EDUCATION_NEW_FEATURE_TRY_IT),v(i.default,{className:f.default.dismissButton,size:i.default.Sizes.MAX,onClick:function(){r();S(s.UpsellActionTypes.DISMISS)},color:i.default.Colors.BRAND},void 0,d.default.Messages.EDUCATION_NEW_FEATURE_DISMISS)):v(i.default,{className:f.default.confirmButton,size:i.default.Sizes.MAX,onClick:function(){r();S(s.UpsellActionTypes.PRIMARY)},color:i.default.Colors.WHITE},void 0,d.default.Messages.EDUCATION_NEW_FEATURE_CONFIRM),v("div",{className:f.default.pointer})))
}));t.default=y},455002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FeedbackTypePrecedence=t.FeedbackType=t.FeedbackRating=t.FEEDBACK_FREEFORM_LENGTH=void 0;function n(){n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return n.apply(this,arguments)}var r;t.FeedbackRating=r;!function(e){e.BAD="bad";e.NEUTRAL="neutral";e.GOOD="good"}(r||(t.FeedbackRating=r={}));var a;t.FEEDBACK_FREEFORM_LENGTH=1024;t.FeedbackType=a;!function(e){e[e.VOICE=0]="VOICE";e[e.STREAM=1]="STREAM";e[e.VIDEO_BACKGROUND=2]="VIDEO_BACKGROUND";e[e.ACTIVITY=3]="ACTIVITY"}(a||(t.FeedbackType=a={}));var o=[a.VIDEO_BACKGROUND,a.ACTIVITY,a.STREAM,a.VOICE].reduce((function(e,t,r){var a;return n({},e,((a={})[t]=r,a))}),{});t.FeedbackTypePrecedence=o},755540:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=f(n(496486)),o=f(n(972247)),i=f(n(177230)),u=n(6505),l=f(n(652566)),s=f(n(893160)),d=n(455002);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v={chance:.2,cooldown:864e5},y=((r={})[d.FeedbackType.VOICE]=p({},v,{hotspot:u.HotspotLocations.VOICE_CALL_FEEDBACK,storageKey:"lastVoiceFeedback",eligibilityChecks:[function(e){if(!s.default.getWasEverRtcConnected())return!0;return s.default.getWasEverMultiParticipant()}]}),r[d.FeedbackType.STREAM]=p({},v,{hotspot:u.HotspotLocations.REPORT_PROBLEM_POST_STREAM}),r[d.FeedbackType.VIDEO_BACKGROUND]=p({},v,{hotspot:u.HotspotLocations.VIDEO_BACKGROUND_FEEDBACK,storageKey:"lastVideoBackgroundFeedback"}),r[d.FeedbackType.ACTIVITY]={
cooldown:0,chance:1,hotspot:u.HotspotLocations.POST_ACTIVITY_FEEDBACK,storageKey:"lastActivityFeedback"},r);function h(e){return l.default.hasHotspot(e.hotspot)}function m(e){return Math.random()<e.chance}function _(e){if(null!=e.storageKey){var t=o.default.get(e.storageKey);if(null!=t&&Date.now()-t<e.cooldown)return!1}return!0}function g(e){var t=y[e];null!=t.storageKey&&o.default.set(t.storageKey,Date.now())}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).feedbackTypeToShow=null;t.showFeedbackModalDebounced=a.default.debounce((function(e){if(null!=t.feedbackTypeToShow){g(t.feedbackTypeToShow);t.feedbackTypeToShow=null;e()}}),200);return t}t.prototype.possiblyShowFeedbackModal=function(e,t){if(function(e){var t,n=y[e],r=[_,m,h],a=null!==(t=n.eligibilityChecks)&&void 0!==t?t:[]
;return r.every((function(e){return e(n)}))&&a.every((function(e){return e(n)}))}(e)&&!(null!=this.feedbackTypeToShow&&d.FeedbackTypePrecedence[this.feedbackTypeToShow]<d.FeedbackTypePrecedence[e])){this.feedbackTypeToShow=e;this.showFeedbackModalDebounced(t)}};return t}(i.default);t.default=E},697786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=S(n(667294)),a=g(n(636602)),o=n(747868),i=n(10614),u=g(n(902305)),l=g(n(423046)),s=g(n(644263)),d=g(n(288356)),f=g(n(788739)),c=g(n(893160)),p=g(n(359973)),v=S(n(194322)),y=g(n(755540)),h=n(455002),m=n(770348),_=n(371621);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e
;C(e,t)}(t,e);function t(){for(var t,a=arguments.length,y=new Array(a),g=0;g<a;g++)y[g]=arguments[g];(t=e.call.apply(e,[this].concat(y))||this).handleVoiceChannelFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(h.FeedbackType.VOICE,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(11956)]).then(n.bind(n,411956));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,O({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleStreamClose=function(e){var a=e.streamKey,u=e.canShowFeedback,s=(0,o.decodeStreamKey)(a),d=(0,i.getStreamerApplication)(s,f.default),c={media_session_id:p.default.getActiveMediaSessionId(),rtc_connection_id:p.default.getActiveRTCConnectionId()};u&&t.possiblyShowFeedbackModal(h.FeedbackType.STREAM,(function(){
v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(20070)]).then(n.bind(n,20070));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,O({stream:s,streamApplication:d,isStreamer:s.ownerId===l.default.getId()},e,{analyticsData:c}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleVideoBackgroundShowFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(h.FeedbackType.VIDEO_BACKGROUND,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(95159)]).then(n.bind(n,995159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,O({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))}
;t.handleActivityClose=function(e){var a=e.applicationId,o=e.channelId,i=e.showFeedback,l=d.default.getGame(a),f=s.default.getChannel(o),p={rtc_connection_id:c.default.getRTCConnectionId(),media_session_id:c.default.getMediaSessionId()},y=u.default.getWindowOpen(m.PopoutWindowKeys.CHANNEL_CALL_POPOUT)?_.POPOUT_MODAL_CONTEXT:_.DEFAULT_MODAL_CONTEXT;null!=l&&null!=f&&i&&t.possiblyShowFeedbackModal(h.FeedbackType.ACTIVITY,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(79020)]).then(n.bind(n,879020));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,O({},e,{activityApplication:l,channel:f,analyticsData:p}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:y})}))};return t}var y=t.prototype;y._initialize=function(){
a.default.subscribe(m.ActionTypes.VOICE_CHANNEL_SHOW_FEEDBACK,this.handleVoiceChannelFeedback);a.default.subscribe(m.ActionTypes.STREAM_CLOSE,this.handleStreamClose);a.default.subscribe(m.ActionTypes.VIDEO_BACKGROUND_SHOW_FEEDBACK,this.handleVideoBackgroundShowFeedback);a.default.subscribe(m.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,this.handleActivityClose)};y._terminate=function(){a.default.unsubscribe(m.ActionTypes.VOICE_CHANNEL_SHOW_FEEDBACK,this.handleVoiceChannelFeedback);a.default.unsubscribe(m.ActionTypes.STREAM_CLOSE,this.handleStreamClose);a.default.unsubscribe(m.ActionTypes.VIDEO_BACKGROUND_SHOW_FEEDBACK,this.handleVideoBackgroundShowFeedback);a.default.unsubscribe(m.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,this.handleActivityClose)};return t}(y.default));t.default=T},927510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Facepile=pe;t.ForumPostMediaPreview=ye;t.MostRecentMessage=ve;t.ReactionButton=ce;t.default=void 0
;var r,a=X(n(667294)),o=q(n(294184)),i=q(n(441143)),u=q(n(496486)),l=n(659779),s=n(536211),d=n(378158),f=q(n(786630)),c=X(n(538930)),p=q(n(235879)),v=n(514756),y=q(n(930409)),h=q(n(916372)),m=q(n(599020)),_=q(n(116518)),g=n(245774),E=q(n(864061)),S=q(n(979674)),O=n(894826),b=q(n(502546)),I=q(n(644263)),C=q(n(876874)),T=q(n(178504)),A=q(n(689389)),P=q(n(191391)),M=q(n(290629)),N=q(n(728429)),R=q(n(949898)),w=q(n(16941)),D=q(n(388742)),L=q(n(37985)),j=q(n(126344)),k=n(961365),U=q(n(810919)),G=q(n(971639)),F=q(n(776360)),x=q(n(152731)),B=n(973523),V=n(988298),W=q(n(487213)),H=n(770348),z=n(173652),Y=q(n(247001)),K=q(n(581145)),$=q(n(927570));function q(e){return e&&e.__esModule?e:{default:e}}function Z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Z=function(e){return e?n:t})(e)}function X(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Z(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function te(){te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return te.apply(this,arguments)}function ne(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ne(o,r,a,i,u,"next",e)}function u(e){ne(o,r,a,i,u,"throw",e)}i(void 0)}))}}var ae=a.memo((function(e){var t,r=e.threadId,u=e.gotoThread,f=e.className,c=e.sortOrder,p=e.setHeight,v=(0,s.useStateFromStores)([I.default],(function(){return I.default.getChannel(r)}));(0,i.default)(null!=v,"the thread should not be null here, a store must have missed an update");var y=a.useRef(null),h=(0,s.useStateFromStores)([b.default],(function(){return b.default.getCurrentSidebarChannelId(v.parent_id)===v.id})),m=(0,V.useFirstForumPostMessage)(v).firstMessage,_=(0,B.useMessageCount)(v).renderedMessageCount,g=(0,s.useStateFromStores)([P.default],(function(){return P.default.isForumPostUnread(v.id)})),E=(0,s.useStateFromStores)([P.default],(function(){return P.default.hasSeenBefore(v.id,v.parent_id)})),S=a.useRef(null)
;a.useLayoutEffect((function(){null!=y.current&&p(r,y.current.offsetHeight)}),[r,f,m,p]);return ee(w.default,{innerRef:y,"aria-label":Y.default.Messages.FORUM_POST_ARIA_LABEL.format({title:v.name,count:_}),className:(0,o.default)(K.default.container,f,(t={},t[K.default.isOpen]=h,t[K.default.isRead]=!g,t[K.default.neverSeenBefore]=!E,t)),onClick:function(e){var t;(0,l.isElement)(e.target)&&(null===(t=S.current)||void 0===t?void 0:t.contains(e.target))||u(v,e.shiftKey)},onContextMenu:function(e){return(0,d.openContextMenuLazy)(e,re(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,te({},e,{channel:v}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,ee(oe,{channel:v,sortOrder:c}),ee(ie,{channel:v,firstMessage:m}),ee(de,{channel:v,facepileRef:S}))}));t.default=ae
;function oe(e){var t,n,r=e.channel,a=e.sortOrder,o=(0,B.useForumPostCreator)(r),i=o.user,u=o.author,l=(0,B.useLastActiveTimestamp)(r,a),s=(0,B.useFirstAppliedTag)(r),d=null!=s,f=r.hasFlag(z.ChannelFlags.PINNED),p=d||f;return ee("div",{className:K.default.header},void 0,ee("div",{className:K.default.poster},void 0,null==i?ee("div",{className:K.default.avatarPlaceholder}):ee(c.default,{className:K.default.posterAvatar,user:i,size:c.Sizes.SIZE_16}),ee(F.default,{size:F.default.Sizes.SIZE_14,color:F.default.Colors.HEADER_PRIMARY,className:K.default.authorName,style:{color:null==u?void 0:u.colorString}},void 0,null!==(t=null!==(n=null==u?void 0:u.nick)&&void 0!==n?n:null==i?void 0:i.username)&&void 0!==t?t:"")),ee("div",{className:K.default.activityPinSection},void 0,p?ee("div",{className:K.default.tags},void 0,f&&ee(F.default,{className:K.default.pinText,size:F.default.Sizes.SIZE_12,color:F.default.Colors.BRAND},void 0,ee(j.default,{className:K.default.pinIcon,width:16,height:16
}),Y.default.Messages.PINNED_POST),d&&ee(W.default,{tag:s,size:W.default.Sizes.SMALL}),ee("span",{className:K.default.bullet},void 0,"•")):null,ee(F.default,{className:K.default.activityText,size:F.default.Sizes.SIZE_12,color:F.default.Colors.HEADER_SECONDARY},void 0,l)))}oe.displayName="ForumPostHeader";function ie(e){var t=e.channel,n=e.firstMessage,r=(0,B.useFormumPostMarkup)(n),a=r.firstMedia,o=r.content;return ee("div",{className:K.default.body},void 0,ee("div",{className:K.default.bodyContent},void 0,ee(G.default,{className:K.default.title,size:G.default.Sizes.SIZE_20,color:F.default.Colors.HEADER_PRIMARY},void 0,t.name),ee("div",{className:K.default.message},void 0,null==n?null:ee(ue,{message:n,content:o,hasMediaAttachment:null!=a}))),null==a?null:ee(ye,{channel:t,firstMedia:a}))}ie.displayName="ForumPostBody";var ue=a.memo((function(e){var t=e.message,n=e.content,r=e.hasMediaAttachment,a=(0,s.useStateFromStores)([M.default],(function(){return M.default.isBlocked(t.author.id)
})),o=(0,k.renderSingleLineMessage)(t,n,a,K.default.messageContent,K.default.messageContentIcon),i=o.contentPlaceholder,u=o.renderedContent;return null!=u?u:r?null:ee("span",{className:K.default.messageContent},void 0,i)})),le=ee(L.default,{width:16,height:16}),se=ee(U.default,{themed:!0,dotRadius:2});function de(e){var t=e.channel,n=e.facepileRef,r=(0,s.useStateFromStores)([E.default],(function(){return E.default.getMemberIdsPreview(t.id)})),a=(0,B.useMessageCount)(t),o=a.renderedMessageCount,i=a.displayedUnreadCount,u=(0,B.useTypingUserIds)(t);return ee("div",{className:K.default.footer},void 0,ee("div",{className:K.default.messageCountBox},void 0,ee("span",{className:K.default.messageCountIcon},void 0,le),ee(F.default,{className:K.default.messageCount,size:F.default.Sizes.SIZE_14,color:F.default.Colors.CUSTOM},void 0,o),null==i?null:ee(F.default,{className:K.default.newMessageCount,size:F.default.Sizes.SIZE_14,color:F.default.Colors.BRAND
},void 0,"(",Y.default.Messages.FORUM_POST_MESSAGE_COUNT_SHORT.format({count:i}),")")),ee("span",{className:K.default.bullet},void 0,"•"),u.length>0?ee("div",{className:K.default.typing},void 0,ee(pe,{channel:t,userIds:u,facepileRef:n}),ee("div",{className:K.default.dots},void 0,se),ee(f.default,{channel:t,className:K.default.typingUsers,renderDots:!1})):ee(pe,{channel:t,userIds:null!=r?r:[],facepileRef:n}))}de.displayName="ForumPostFooter";var fe={id:null,name:"👍"};function ce(e){var t,n,r,a,o=e.channel,i=e.message,l=(0,s.useStateFromStores)([T.default],(function(){return null==o.guild_id||T.default.canChatInGuild(o.guild_id)}),[o]),d=(0,s.useStateFromStores)([y.default],(function(){return null!=o.guild_id&&y.default.isLurking(o.guild_id)}),[o]),f=(0,s.useStateFromStores)([C.default,N.default],(function(){var e,t,n=N.default.getCurrentUser();return null!==(e=null!=o.guild_id&&null!=n?null===(t=C.default.getMember(o.guild_id,n.id))||void 0===t?void 0:t.isPending:null)&&void 0!==e&&e
})),c=(0,s.useStateFromStores)([A.default],(function(){return l&&A.default.can(H.Permissions.ADD_REACTIONS,o)}),[l,o]),p=Q((0,v.useCurrentUserCommunicationDisabled)(o.guild_id),2)[1],h=(0,m.default)({channel:o,canChat:l,renderReactions:!0,canAddNewReactions:c,isLurking:d,communicationDisabled:p}),_=u.default.sortBy(i.reactions,"count").reverse()[0],E=null!==(t=null==_?void 0:_.emoji)&&void 0!==t?t:fe;return ee(g.Reaction,{message:i,isLurking:d,isPendingMember:f,readOnly:h.disableReactionUpdates,count:null!==(n=null==_?void 0:_.count)&&void 0!==n?n:0,me:null!==(r=null==_?void 0:_.me)&&void 0!==r&&r,emoji:E},null!==(a=E.id)&&void 0!==a?a:E.name)}ce.displayName="ReactionButton";function pe(e){var t=e.channel,n=e.userIds,r=e.facepileRef,o=(0,B.useFacepileUsers)(t,n);return a.createElement("div",{ref:r},ee(x.default,{className:K.default.facepile,showDefaultAvatarsForNullUsers:!0,guildId:t.guild_id,users:o,max:5,size:16,hideMoreUsers:!0,showUserPopout:!0}))}pe.displayName="Facepile"
;function ve(e){var t,n=e.channel,r=(0,s.useStateFromStores)([S.default],(function(){return S.default.getMostRecentMessage(n.id)}));n.id===(null===(t=r)||void 0===t?void 0:t.id)&&(r=null);var i=(0,s.useStateFromStores)([M.default],(function(){return null!=r&&M.default.isBlocked(r.author.id)})),u=a.useMemo((function(){var e;return null!=(null===(e=r)||void 0===e?void 0:e.content)&&""!==r.content?(0,_.default)(r,{formatInline:!0}).content:null}),[r]);if(null==r)return ee("div",{className:K.default.mostRecentMessagePlaceholder});var l=(0,k.renderSingleLineMessage)(r,u,i,(0,o.default)(K.default.mostRecentMessageContent,$.default.threadMessageAccessoryContent),$.default.threadMessageAccessoryContentIcon),d=l.contentPlaceholder,f=l.renderedContent,p=l.icon;return ee("div",{className:(0,o.default)(K.default.mostRecentMessage,$.default.threadMessageAccessory)},void 0,ee(c.default,{className:K.default.mostRecentMessageAvatar,user:r.author,size:c.Sizes.SIZE_16}),ee(F.default,{
size:F.default.Sizes.SIZE_14,color:F.default.Colors.STANDARD,className:$.default.threadMessageAccessoryPreview},void 0,null!=f?f:ee("span",{className:$.default.threadMessageAccessoryPlaceholder},void 0,d),p))}ve.displayName="MostRecentMessage";function ye(e){var t,n,r,a=e.channel,i=e.firstMedia,u=(0,s.useStateFromStores)([R.default],(function(){return R.default.isFocused()})),l=(0,s.useStateFromStores)([A.default],(function(){return A.default.can(H.Permissions.MANAGE_MESSAGES,a)})),d=(0,s.useStateFromStores)([p.default],(function(){return p.default.useReducedMotion})),f=O.GifAutoPlay.useSetting()&&!d,c=O.RenderSpoilers.useSetting(),v=i.src,y=i.width,m=i.height,_=i.spoiler,g=i.alt,E=_&&!(0,h.default)(c,l);m>y?r=72:n=72;return ee("div",{className:K.default.bodyMedia},void 0,ee(D.default,{src:v,maxHeight:n,maxWidth:r,width:y,height:m,alt:null!=g&&E?Y.default.Messages.SPOILER_HIDDEN_A11Y_LABEL:g,autoPlay:f,shouldAnimate:!E&&u,className:K.default.thumbnailContainer,imageClassName:(0,
o.default)((t={},t[K.default.spoiler]=E,t))}))}ye.displayName="ForumPostMediaPreview"},324935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=(0,o.useStateFromStores)([h.default],(function(){return h.default.getChannel(t)})),b=(0,o.useStateFromStores)([h.default],(function(){return h.default.getChannel(null==r?void 0:r.parent_id)})),I=(0,o.useStateFromStores)([_.default],(function(){return _.default.getGuild(null==r?void 0:r.getGuildId())})),T=(0,d.default)(r),M=a.useRef(!1);a.useEffect((function(){if(null!=r&&!M.current){M.current=!0;var e=(0,s.collectThreadMetadata)(h.default.getChannel(r.id),!0);(0,s.trackWithMetadata)(E.AnalyticEvents.CHANNEL_OPENED,P({},e,{channel_id:r.id,guild_id:r.guild_id,parent_id:r.parent_id,channel_view:"Split View"}))}}),[r]);if(null==r||null==I)return null;var N=C(y.default,{channel:r});return a.createElement(a.Fragment,null,C(l.default,{channel:r,draftType:m.DraftType.ChannelMessage
}),C(g.default,{toolbar:N,"aria-label":S.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:r,parentChannel:b,channelName:T,guild:I,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,P({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=r&&(0,p.transitionToGuild)(r.guild_id,r.id)}})),C("div",{className:O.default.chat},void 0,C(v.default,{channel:r,narrow:!0}),C(u.default,{channel:r,guild:I,chatInputType:f.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=b(n(914789)),l=b(n(805918)),s=n(844784),d=b(n(678928)),f=n(573285),c=n(451115),p=n(139982),v=b(n(734239)),y=b(n(621688)),h=b(n(644263)),m=n(687549),_=b(n(30098)),g=b(n(878556)),E=n(770348),S=b(n(247001)),O=b(n(452159));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u
}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}},651473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetch:function(){r.default.get(o.Endpoints.FRIEND_SUGGESTIONS).then((function(e){return a.default.dispatch({
type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS,suggestions:e.body})}),(function(){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE})}))},ignore:function(e){r.default.delete(o.Endpoints.FRIEND_SUGGESTION(e))}};t.default=u},677520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(496486)),o=f(n(536211)),i=f(n(636602)),u=f(n(759027)),l=f(n(728429)),s=f(n(651473)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h={},m=0,_=!1,g=!1;function E(e){var t;return{key:e.suggested_user.id,name:null===(t=a.default.first(e.reasons))||void 0===t?void 0:t.name,
user:new u.default(e.suggested_user)}}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default)};n.getSuggestionCount=function(){return m};n.getSuggestions=function(){return Object.entries(h).map((function(e){var t=c(e,2);t[0];return t[1]}))};n.getSuggestion=function(e){return h[e]};return t}(o.default.Store);S.displayName="FriendSuggestionStore";var O=new S(i.default,((r={})[d.ActionTypes.CONNECTION_OPEN]=function(e){h={};if((m=e.friendSuggestionCount)>0){g=!0;!function(){if(!_&&g){_=!0;g=!1;s.default.fetch()}}()}},r[d.ActionTypes.FRIEND_SUGGESTION_CREATE]=function(e){var t,n=E(e.suggestion);if(null!=h[n.key])return!1;m++;h=y({},h,((t={})[n.key]=n,t))},r[d.ActionTypes.FRIEND_SUGGESTION_DELETE]=function(e){m=Math.max(0,--m);delete h[e.suggestedUserId]},r[d.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS]=function(e){_=!1
;h=a.default.chain(e.suggestions).map(E).keyBy((function(e){return e.key})).value();m=a.default.keys(h).length},r[d.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE]=function(){_=!1;h={}},r));t.default=O},344368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(636602)),a=l(n(234161)),o=l(n(791548)),i=l(n(288356)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={};function c(e){var t=e.name,n=e.hash,r=e.missingData;i.default.markGameReported(t);for(var u,l=s(r);!(u=l()).done;){var d=u.value;if("icon"===d){var c=f[t];null!=c&&a.default.uploadIcon(t,n,c);return}new o.default("GameStoreIconManager").log("Could not find missing data key: "+d)}}function p(e){var t=e.gameName,n=e.icon;f[t]=n}var v={initialize:function(){r.default.subscribe(u.ActionTypes.UNVERIFIED_GAME_UPDATE,c);r.default.subscribe(u.ActionTypes.GAME_ICON_UPDATE,p)}};t.default=v},735592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(636602)),a=s(n(234161)),o=n(671694),i=s(n(177230)),u=s(n(191839)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}
function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).handleConnectionOpen=function(){u.default.fetched||(0,o.fetchLibrary)();a.default.getDetectableGames()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(l.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};n._terminate=function(){r.default.unsubscribe(l.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};return t}(i.default));t.default=f},829392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.checkLaunchableGame=s;t.default=void 0;var r=l(n(636602)),a=l(n(288356)),o=l(n(188023)),i=l(n(703124)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){
var t=i.default.launchableGames[e],n=a.default.getGame(e);return(null!=n?o.default.isLaunchable(n):o.default.isGameLaunchable(e)).then((function(n){n!==t&&r.default.dispatch({type:u.ActionTypes.GAME_LAUNCHABLE_UPDATE,gameId:e,isLaunchable:n})}))}function d(e){s(e.gameId)}var f={initialize:function(){r.default.subscribe(u.ActionTypes.CHECK_LAUNCHABLE_GAME,d)}};t.default=f},519386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(446637),a=i(n(191839)),o=i(n(424099));function i(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){a.default.whenInitialized((function(){null!=o.default.testModeApplicationId&&(0,r.authorizeAndSetTestModeApplication)(o.default.testModeApplicationId,o.default.testModeOriginURL)}))}};t.default=u},782950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(636602)),a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(27555)),o=s(n(423046)),i=n(539331),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function d(){if((0,i.isSupportedPlatform)()){var e=o.default.getToken(),t=o.default.getId();if(null==e)throw new Error("missing user token");a.init(e,t)}}function f(){a.destroy()}var c={init:function(){r.default.subscribe(u.ActionTypes.CONNECTION_OPEN,d);r.default.subscribe(u.ActionTypes.LOGOUT,f)}};t.default=c},279235:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_instream_gifting",label:"In-stream gifting",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Shows in stream gifting upsell",config:{enabled:!0}}]});t.default=r},58659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=v(n(636602)),o=n(123516),i=v(n(607209)),u=v(n(423046)),l=v(n(644263)),s=v(n(290482)),d=v(n(211136)),f=v(n(359973)),c=n(747868),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=new r.Timeout,_=new r.Timeout,g=null;function E(e,t){var n=l.default.getChannel(e),r=i.default.getActiveStreamForUser(t);if((null==n?void 0:n.isDM())&&d.default.getVoiceChannelId()===e&&null==r){var a=i.default.getStreamForUser(t);if(null==a)return!1;var u=(0,c.encodeStreamKey)(a);if(u===g)return!1;g=u;(0,o.watchStream)(a,{noFocus:!0});return!0}return!1}function S(e,t){var n=null!=t?t:s.default.getPreferredRegion();null!=n&&n!==s.default.getRegion(f.default.getHostname())&&(0,o.changeStreamRegion)(e,n)}var O={
init:function(){var e=function(e){f.default.getAllActiveStreamKeys().includes(e)||_.start(5e3,(function(){a.default.dispatch({type:p.ActionTypes.STREAM_TIMED_OUT,streamKey:e})}))};a.default.subscribe(p.ActionTypes.STREAM_WATCH,(function(t){var n=t.streamKey;e(n)}));a.default.subscribe(p.ActionTypes.STREAM_START,(function(t){var n=t.streamType,r=t.guildId,a=t.channelId;e((0,c.encodeStreamKey)({streamType:n,guildId:r,channelId:a,ownerId:u.default.getId()}))}));a.default.subscribe(p.ActionTypes.STREAM_CREATE,(function(){_.stop()}));a.default.subscribe(p.ActionTypes.STREAM_UPDATE,(function(){_.stop()}));a.default.subscribe(p.ActionTypes.STREAM_DELETE,(function(){_.stop()}));a.default.subscribe(p.ActionTypes.STREAM_CLOSE,(function(){m.stop();_.stop()}));a.default.subscribe(p.ActionTypes.VOICE_CHANNEL_SELECT,(function(e){var t=e.channelId;if(null!=t){g=null;var n=i.default.getAllApplicationStreamsForChannel(t).filter((function(e){return e.ownerId!==u.default.getId()}))[0]
;null!=n&&E(t,n.ownerId)}}));a.default.subscribe(p.ActionTypes.VOICE_STATE_UPDATES,(function(e){e.voiceStates.forEach((function(e){var t=e.userId,n=e.channelId,r=e.selfStream;if(t!==u.default.getId()&&null!=n){if(r&&E(n,t))return;var a=i.default.getActiveStreamForUser(t);if(null!=a&&a.channelId===n){r||a.state===p.ApplicationStreamStates.ENDED||m.start(18e4,(function(){return(0,o.closeStream)((0,c.encodeStreamKey)(a),!1)}));if(r&&a.state===p.ApplicationStreamStates.ENDED){m.stop();var l=i.default.getStreamForUser(t);if(null==l)return;(0,o.watchStream)(l)}}}}))}));a.default.subscribe(p.ActionTypes.CALL_UPDATE,(function(e){var t=e.channelId,n=e.region,r=i.default.getActiveStreamForUser(u.default.getId());(null==r?void 0:r.channelId)===t&&S((0,c.encodeStreamKey)(r),n)}));a.default.subscribe(p.ActionTypes.CHANNEL_UPDATES,(function(e){var t=e.updates,n=i.default.getActiveStreamForUser(u.default.getId());if(null!=n)for(var r,a=y(t);!(r=a()).done;){var o=r.value
;n.channelId===o.channel.id&&S((0,c.encodeStreamKey)(n),o.channel.rtcRegion)}}))}};t.default=O},910333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,u.getMaxQuality)(e),n=e.stream.ownerId;return(0,r.useStateFromStores)([i.default,o.default,a.default],(function(){return null!=n?(0,l.default)(i.default.getQuality(),i.default.getStatsHistory(n,n===a.default.getId()),null!=o.default.getHookError(s.MediaEngineHookTypes.SOUND),t):null}),[t,n])};var r=n(536211),a=d(n(423046)),o=d(n(438567)),i=d(n(359973)),u=n(143369),l=d(n(571425)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}},939790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SUPPORTED_HARDWARE_ACCEL_VENDORS=void 0;t.default=function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var a=r[t],o=e[a];if(null!=o&&null==o.error&&n.has(a))return!0}return!1};var n=new Set(["nvidia"]);t.SUPPORTED_HARDWARE_ACCEL_VENDORS=n},925013:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,i){if(e.state===a.ApplicationStreamStates.ENDED||e.state===a.ApplicationStreamStates.FAILED)return null;if(e.state===a.ApplicationStreamStates.RECONNECTING)return{mainText:o.default.Messages.STREAM_RECONNECTING_ERROR,supportingText:o.default.Messages.STREAM_RECONNECTING_ERROR_SUBTEXT};if(e.state===a.ApplicationStreamStates.PAUSED)return n?{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS}:{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS_VIEWER.format({username:r.default.getName(e.guildId,e.channelId,t)})};if(i)return{mainText:o.default.Messages.STREAM_PREVIEW_PAUSED,supportingText:o.default.Messages.STREAM_PREVIEW_PAUSED_SUBTEXT};return null};var r=i(n(29652)),a=n(770348),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}},571425:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){if(n)return c(u.default.Messages.STREAM_SOUNDSHARE_FAILED,s.SOUNDSHARE_FAILED);if(null!=t){var a=f(t,5),o=f(t,30);if(o.numDatapoints>=5){var l;return null!==(l=p(a,null==r?void 0:r.maxFrameRate))&&void 0!==l?l:p(o,null==r?void 0:r.maxFrameRate)}}if(e===i.RTCConnectionQuality.BAD)return c(u.default.Messages.STREAM_NETWORK_QUALITY_ERROR,s.BAD_CONNECTION);return null};var r,a=n(862728),o=n(71246),i=n(770348),u=(r=n(247001))&&r.__esModule?r:{default:r};function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s;!function(e){e.PACKET_LOSS="Packet Loss";e.FRAME_RATE_INPUT="Frame Rate Encode";e.FRAME_RATE_NETWORK="Frame Rate Decode";e.SOUNDSHARE_FAILED="Soundshare Failed";e.BAD_CONNECTION="Bad Connection"}(s||(s={}));function d(e){void 0===e&&(e=30)
;return e<=5?3:e<=15?10:15}function f(e,t){var n={packetsSentOrReceived:0,packetsLost:0,packetLossRate:0,frameRate:0,resolution:0,numDatapoints:0},r=e.slice(-1*t).filter(o.isNotNullish);if(0===r.length)return l({type:"streamer"},n);r.forEach((function(e,t,r){n.packetsSentOrReceived+=t>0?r[t].packetsSentOrReceived-r[t-1].packetsSentOrReceived:0;n.packetsLost+=t>0?r[t].packetsLost-r[t-1].packetsLost:0;n.frameRate+=e.frameRate;n.resolution+=e.resolution}));var a=r[0].type,i=r.length;return{type:a,packetsSentOrReceived:n.packetsSentOrReceived,packetsLost:n.packetsLost,packetLossRate:n.packetsLost/(n.packetsLost+n.packetsSentOrReceived),frameRate:n.frameRate/i,resolution:n.resolution/i,numDatapoints:i}}var c=(0,a.cachedFunction)((function(e,t){return{message:e,errorType:t}}));function p(e,t){if("streamer"===e.type){if(100*e.packetLossRate>10)return c(u.default.Messages.STREAM_BAD_STREAMER,s.PACKET_LOSS);if(e.frameRate<=d(t))return c(u.default.Messages.STREAM_BAD_STREAMER,s.FRAME_RATE_INPUT)
}else{if(100*e.packetLossRate>10)return c(u.default.Messages.STREAM_BAD_SPECTATOR,s.PACKET_LOSS);if(e.frameRate<=d(t))return c(u.default.Messages.STREAM_BAD_SPECTATOR,s.FRAME_RATE_NETWORK)}return null}},729136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=void 0;t.default=function(e){var t=u[(0,i.getPlatform)()];if(null==t)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n],l=e[a],s=t[a];if(null!=l&&null!=s&&null==l.error){var d=(c=void 0,p=void 0,(null!==(c=(f=l).major)&&void 0!==c?c:0)+"."+(null!==(p=f.minor)&&void 0!==p?p:0)+".0");if(!o.default.satisfies(d,s))return!0}}var f,c,p;return!1};var r,a,o=(r=n(236625))&&r.__esModule?r:{default:r},i=n(864489);var u=((a={})[i.PlatformTypes.WINDOWS]={nvidia:">=397.93.0"},a);t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=u},100223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=O(n(667294)),a=n(496486),o=E(n(636602)),i=E(n(740207)),u=n(123516),l=n(894826),s=E(n(607209)),d=E(n(423046)),f=E(n(311492)),c=E(n(893160)),p=E(n(728429)),v=O(n(194322)),y=E(n(58659)),h=n(747868),m=E(n(908921)),_=n(739898),g=n(770348);function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}var C=(0,a.debounce)(u.notifyStreamStart,1e3),T={init:function(){y.default.init();o.default.subscribe(g.ActionTypes.MEDIA_ENGINE_VIDEO_STATE_CHANGED,(function(e){var t=e.videoState,n=s.default.getActiveStreamForUser(d.default.getId());if(null!=n){var r=t===g.MediaEngineVideoStates.PAUSED;(0,u.setStreamPaused)(n,r)}}));o.default.subscribe(g.ActionTypes.STREAM_DELETE,(function(e){if(e.reason===g.ApplicationStreamDeleteReasons.STREAM_FULL){(0,u.closeStream)(e.streamKey,!1);v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(26495)]).then(n.bind(n,126495));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":
return e.stop()}}),e)}))))}}));o.default.subscribe(g.ActionTypes.STREAM_WATCH,(function(e){var t=e.streamKey;if(!e.allowMultiple){var n=(0,h.decodeStreamKey)(t);s.default.getAllActiveStreams().forEach((function(e){if(e.ownerId!==n.ownerId&&e.ownerId!==d.default.getId()){e.ownerId===d.default.getId()&&i.default.setDesktopSource(null);(0,u.closeStream)((0,h.encodeStreamKey)(e),!1)}}))}}));o.default.subscribe(g.ActionTypes.VOICE_STATE_UPDATES,(function(e){e.voiceStates.forEach((function(e){if(e.userId===d.default.getId()){var t=s.default.getAllActiveStreams(),n=c.default.getChannelId();t.forEach((function(e){e.channelId!==n&&(0,m.default)(e,!1)}))}}))}));o.default.subscribe(g.ActionTypes.STREAM_CREATE,(function(e){var t,n=e.streamKey,r=(0,h.decodeStreamKey)(n),a=r.ownerId,o=r.guildId;if(null!=o&&null!=a&&a===(null===(t=p.default.getCurrentUser())||void 0===t?void 0:t.id)){var i=f.default.getMemberCount(o)
;null==i||i<2||i>_.STREAM_NOTIFY_GUILD_MAX_SIZE||l.NotifyFriendsOnGoLive.getSetting()&&C(n)}}))}};t.default=T},57697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=F(n(667294)),o=U(n(294184)),i=n(248088),u=n(425916),l=n(536211),s=n(556470),d=n(836233),f=n(6505),c=U(n(655205)),p=U(n(715419)),v=U(n(711195)),y=U(n(728429)),h=U(n(956117)),m=U(n(16941)),_=U(n(160629)),g=U(n(730977)),E=U(n(447522)),S=U(n(41024)),O=n(194322),b=n(598671),I=U(n(971639)),C=U(n(776360)),T=F(n(528175)),A=U(n(308920)),P=U(n(838583)),M=n(143369),N=U(n(279235)),R=U(n(910333)),w=n(770348),D=n(265517),L=U(n(247001)),j=U(n(214156)),k=U(n(592551));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(){W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return W.apply(this,arguments)}function H(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){H(o,r,a,i,u,"next",e)}function u(e){H(o,r,a,i,u,"throw",e)}i(void 0)}))}}var Y=(0,u.cssValueToNumber)(k.default.borderRadius),K={opacity:0,transform:"translate3d(100%, 0, 0)"},$={opacity:1,transform:"translate3d(0%, 0, 0)"},q={opacity:0},Z={opacity:1},X={borderRadius:Y+"px "+Y+"px "+Y+"px "+Y+"px"},Q={borderRadius:"0px "+Y+"px "+Y+"px 0px"},J={mass:1,tension:500,friction:18,clamp:!0},ee=function(e){var t,r,i=e.participant,u=e.isUpsellEnabled,d=e.shape,f=e.size,c=e.didTrackUpsellViewed,p=e.setDidTrackUpsellViewed,v=e.inStreamGiftingEnabled,h=e.handleGiftingCheckout,_=e.className,E=(0,M.getMaxQuality)(i),I=null!=(0,R.default)(i);try{t=(0,M.isPremiumFPS)(E)}catch(e){t=!1}try{r=(0,M.isPremiumResolution)(E)}catch(e){r=!1}
var C=t||r,N=(0,s.useAnalyticsContext)().location,k=(0,l.useStateFromStores)([y.default],(function(){return y.default.getCurrentUser()})),U=u&&!P.default.isPremium(k,w.PremiumTypes.TIER_1),G=a.useCallback((function(){U&&C&&(0,O.openModalLazy)(z(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(21438)]).then(n.bind(n,421438));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,W({},e,{analyticsSource:N}))}));case 5:case"end":return e.stop()}}),e)}))))}),[U,C,N]);a.useEffect((function(){if(!c&&C){A.default.track(w.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:D.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,has_premium_stream_fps:t,has_premium_stream_resolution:r});p(!0)}}),[t,r,C,c,p]);if(null==E)return null;var F=V(g.default,{
text:v?null:I?L.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_REDUCED:C?L.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_PREMIUM:L.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_NORMAL,position:g.default.Positions.BOTTOM,color:g.default.Colors.GREY},void 0,(function(e){var t;return a.createElement(m.default,W({},e,{onClick:v?h:G,className:(0,o.default)(j.default.qualityIndicator,f,T.LiveIndicatorShapes[d],I?j.default.qualityIndicatorLowQuality:j.default.qualityIndicatorFullQuality,(t={},t[j.default.clickable]=U&&C||v,t))}),C?V(S.default,{className:j.default.premiumStreamIcon}):null,V("span",{className:j.default.qualityResolution},void 0,(0,M.getResolutionText)(E.maxResolution)),V("span",{},void 0,(0,M.getFPSText)(E.maxFrameRate)))}));return V(b.TextBadge,{text:F,className:(0,o.default)(_,j.default.qualityIndicatorBadge),color:w.Colors.PRIMARY_DARK_500,shape:d})};ee.displayName="StreamQualityIndicator";var te=function(e){
var t=e.participant,n=e.showQuality,r=e.isUpsellEnabled,u=void 0===r||r,s=e.size,g=e.className,O=x(a.useState(!1),2),R=O[0],k=O[1],U=x(a.useState(!1),2),G=U[0],F=U[1],B=x(a.useState(!1),2),H=B[0],z=B[1],Y=(0,M.getMaxQuality)(t),te=a.useContext(d.AccessibilityPreferencesContext).reducedMotion,ne=n&&null!=Y,re=N.default.useExperiment({}).enabled,ae=(0,l.useStateFromStores)([y.default],(function(){return y.default.getCurrentUser()}));a.useEffect((function(){(0,v.default)(t.stream.ownerId,t.user.getAvatarURL(t.stream.guildId,80),{dispatchWait:!0})}),[t]);var oe=(0,l.useStateFromStores)([p.default],(function(){return p.default.getUserProfile(t.stream.ownerId)}),[t.stream.ownerId]),ie=P.default.isPremium(ae)&&null!=oe&&null==oe.premiumSince;a.useEffect((function(){u&&ie&&N.default.trackExposure({})}),[u,ie]);var ue=u&&re&&ie,le=ne&&ue&&f.HotspotStore.hasHotspot(f.HotspotLocations.IN_STREAM_GIFTING_UPSELL),se=(0,i.useTransition)(ne,{enter:{from:te.enabled?q:K,to:te.enabled?Z:$},
leave:te.enabled?q:K,config:J}),de=(0,i.useSpring)({to:ne?Q:X,config:J}),fe=x(a.useState(!1),2),ce=fe[0],pe=fe[1],ve=x(a.useState(0),2),ye=ve[0],he=ve[1],me=function(e){clearTimeout(ye);he(setTimeout((function(){pe(e)}),100))};if(ue&&!G){A.default.track(w.AnalyticEvents.PREMIUM_GIFT_UPSELL_VIEWED,{type:D.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,location_section:w.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:w.AnalyticsObjectTypes.GIFT,location_object:w.AnalyticsObjects.BUTTON_ICON});F(!0)}var _e=function(e){ge();(0,c.default)({isGift:!0,giftMessage:L.default.Messages.PREMIUM_PAYMENT_IS_GIFT_STREAM_QUALITY_UPSELL,initialPlanId:null,subscriptionTier:w.PremiumSubscriptionSKUs.TIER_2,analyticsObject:{section:w.AnalyticsSections.STREAM_QUALITY_INDICATOR,object:e,objectType:w.AnalyticsObjectTypes.GIFT}})},ge=function(){(0,f.hideHotspot)(f.HotspotLocations.IN_STREAM_GIFTING_UPSELL)},Ee=function(e){var n=e.className,r=e.popoutProps;return a.createElement("div",W({
className:(0,o.default)(j.default.streamQualityIndicator,n)},r),ue?V(m.default,{onClick:function(){return _e(w.AnalyticsObjects.BUTTON_ICON)},className:(0,o.default)(j.default.qualityIndicator,j.default.clickable)},void 0,V(E.default,{className:j.default.giftIcon})):null,se((function(e,n){return n?V(i.animated.div,{style:e},void 0,V(ee,{className:j.default.liveQualityIndicator,participant:t,size:s,shape:b.BadgeShapes.ROUND_LEFT,isUpsellEnabled:u,didTrackUpsellViewed:R,setDidTrackUpsellViewed:k,inStreamGiftingEnabled:ue,handleGiftingCheckout:function(){return _e(w.AnalyticsObjects.BUTTON_ICON)}})):null})),V(i.animated.div,{style:de,className:j.default.liveIndicator},void 0,V(T.default,{look:T.LiveIndicatorLooks.RED,size:s,shape:ne?b.BadgeShapes.ROUND_RIGHT:b.BadgeShapes.ROUND})))};return le?V("div",{className:(0,o.default)(g,j.default.qualityIndicatorHighlightWrapper),onMouseEnter:function(){return me(!0)},onMouseLeave:function(){return me(!1)}},void 0,V(_.default,{shouldShow:ce,
animation:_.default.Animation.NONE,position:_.default.Positions.BOTTOM,align:_.default.Align.CENTER,autoInvert:!1,onRequestClose:function(){return pe(!1)},renderPopout:function(){if(!H){A.default.track(w.AnalyticEvents.TOOLTIP_VIEWED,{type:D.PremiumUpsellTypes.GIFT_STREAM_QUALITY_INDICATOR,location_section:w.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:w.AnalyticsObjectTypes.GIFT,location_object:w.AnalyticsObjects.TOOLTIP});z(!0)}return V("div",{className:j.default.streamGiftingPopout},void 0,V("div",{className:j.default.streamGiftingPopoutHeader},void 0,V(S.default,{className:j.default.premiumStreamIconLarge}),V(I.default,{size:I.default.Sizes.SIZE_14,color:C.default.Colors.HEADER_PRIMARY},void 0,L.default.Messages.SCREENSHARE_STREAM_GIFTING_HEADER)),V(C.default,{className:j.default.streamGiftingPopoutText,size:C.default.Sizes.SIZE_16,color:C.default.Colors.HEADER_PRIMARY},void 0,L.default.Messages.SCREENSHARE_STREAM_GIFTING_BODY),V("div",{
className:j.default.streamGiftingPopoutCTA},void 0,V(h.default,{onClick:ge,size:h.default.Sizes.SMALL},void 0,L.default.Messages.SCREENSHARE_STREAM_GIFTING_DISMISS),V(h.default,{className:j.default.streamGiftingPopoutButton,innerClassName:j.default.giftButton,onClick:function(){return _e(w.AnalyticsObjects.TOOLTIP)},size:h.default.Sizes.SMALL,color:h.default.Colors.WHITE},void 0,V(E.default,{className:j.default.giftIconBrand}),V(C.default,{className:j.default.streamGiftingPopoutButtonText,size:C.default.Sizes.SIZE_14},void 0,L.default.Messages.SCREENSHARE_STREAM_GIFTING_CTA))))}},void 0,(function(e){return Ee({popoutProps:e})}))):Ee({className:g})};t.default=te},587840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(536211)),o=f(n(636602)),i=n(864489),u=f(n(922629)),l=f(n(939790)),s=f(n(729136)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n]
;r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=!1,y=!0;var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e=this;i.isPlatformEmbedded&&!__OVERLAY__&&u.default.getGPUDriverVersions().then((function(t){v=(0,s.default)(t);y=(0,l.default)(t);e.emitChange()}))};n.getState=function(){return{GPUDriversOutdated:v,canUseHardwareAcceleration:y}};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"GPUDriversOutdated",get:function(){return v}},{key:"canUseHardwareAcceleration",get:function(){return y}}]);return t}(a.default.Store);h.displayName="StreamingCapabilitiesStore"
;var m=new h(o.default,((r={})[d.ActionTypes.OVERLAY_INITIALIZE]=function(e){var t=e.streamingCapabilitiesStoreState;v=t.GPUDriversOutdated;y=t.canUseHardwareAcceleration},r));t.default=m},937196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){void 0===e&&(e=!0);var t=f.default.getCurrentUser();if(!(0,v.default)(u.default))return!1;if(null!=t&&null!=a.default.getActiveStreamForUser(t.id))return!1;var n=(0,y.default)(s.default,c.default);if(null==n)return!1;if(n.isLauncher&&!e)return!1;var h=d.default.getVoiceChannelId(),m=o.default.getChannel(h);if(null==m)return!1;var _=m.getGuildId();if(!(0,p.canStreamInChannel)(m,i.default,l.default,!1))return!1;(0,r.startStream)(_,m.id,{pid:n.pid});return!0};var r=n(123516),a=h(n(607209)),o=h(n(644263)),i=h(n(30098)),u=h(n(635014)),l=h(n(689389)),s=h(n(834162)),d=h(n(211136)),f=h(n(728429)),c=h(n(765287)),p=n(385753),v=h(n(379310)),y=h(n(343898));function h(e){return e&&e.__esModule?e:{default:e}}},
460703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildPrompts=void 0;var r;var a=(0,((r=n(213192))&&r.__esModule?r:{default:r}).default)({REAL_NAME_PROMPT:null});t.GuildPrompts=a},780815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGuildHeaderPopoutStore=t.showGuildHeaderPopout=void 0;var r,a=(r=n(219548))&&r.__esModule?r:{default:r};var o=Object.freeze({isPopoutOpen:!1}),i=(0,a.default)((function(e){return o}));t.showGuildHeaderPopout=function(e){i.setState((function(){return{isPopoutOpen:e}}))};var u=i;t.useGuildHeaderPopoutStore=u},689626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.viewPrompt=i;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t){a.default.wait((function(){a.default.dispatch({type:o.ActionTypes.GUILD_PROMPT_VIEWED,prompt:e,guildId:t})}))}var u={viewPrompt:i};t.default=u},81026:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){for(var t in e){var n=e[t];s[t]=new Set(n)}};n.hasViewedPrompt=function(e,t){var n=s[t];return null!=n&&!!n.has(e)};n.getState=function(){return s};return t}(a.default.PersistedStore);d.displayName="GuildPromptsStore";d.persistKey="GuildPromptsStore";var f=new d(o.default,((r={})[i.ActionTypes.GUILD_PROMPT_VIEWED]=function(e){var t=e.prompt,n=e.guildId,r=s[n];if(null==r){s[n]=new Set;s[n].add(t);return!0}if(r.has(t))return!1;r.add(t);return!0},r[i.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild
;if(null==s[t.id]||t.unavailable)return!1;delete s[t.id];return!0},r));t.default=f},967523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){var t;return null!==(t=o.default.getChannels(e)[o.GUILD_SELECTABLE_CHANNELS_KEY])&&void 0!==t?t:[]}),[e]);return 0===t.length?0:t.filter((function(e){var t=e.channel;return i.default.can(r.default.combine(u.Permissions.SEND_MESSAGES,u.Permissions.VIEW_CHANNEL),t)})).length};var r=s(n(267258)),a=n(536211),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(517286)),i=s(n(689389)),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}},382173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){(0,r.useEffect)((function(){a.trackExposure({guildId:e})}),[e]);return a.getCurrentConfig({guildId:e})};var r=n(667294),a=(0,n(373505).createExperiment)({kind:"guild",id:"2022-01_audio_quality_boosting_upsell",label:"Enables an upsell for audio quality in calls",defaultConfig:{enableAudioQualityUpsell:!1},treatments:[{id:1,label:"Display audio quality upsell",config:{enableAudioQualityUpsell:!0}}]})},186087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"guild",id:"2022-03_progress_bar_server_size_coachmark",label:"Guild Sidebar Progress Bar Server Size-Based Coachmark",defaultConfig:{
enabled:!1},treatments:[{id:1,label:"Shows a new coachmark for servers at 30+ members w/o the progress bar.",config:{enabled:!0}}]});t.default=r},197737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(782732)),i=n(598671),u=n(682937),l=d(n(247001)),s=d(n(550262));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.activityPremiumTierLevel,n=e.isUnlocked,r=n?l.default.Messages.PREMIUM_GUILD_TIER_UNLOCKED:(0,u.getShortenedTierName)(t),d=n?s.default.guildBoostingIconPink:s.default.guildBoostingIconNormal;return c(i.TextBadge,{className:s.default.requiredBoostingTierBadge,disableColor:!0,text:a.createElement(a.Fragment,null,c(o.default,{className:d}),c("span",{},void 0,r))})}p.displayName="BoostingTierBadge"},665984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BoostingUpsellModalType=void 0;t.animatedGuildAvatarUpsellPerks=function(){
return[C(),I(),M(),F()]};t.animatedGuildBannerUpsellPerks=function(){return[R(g.BoostedGuildTiers.TIER_3,g.Colors.PREMIUM_PERK_GREEN),x(),w(),F()]};t.audioQualityUpsell=function(e){var t=[b(e)];switch(e){case g.BoostedGuildTiers.TIER_1:t.push(B(),N(),F(S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_OTHER_TIER_1));break;case g.BoostedGuildTiers.TIER_2:t.push(V(g.Colors.PREMIUM_PERK_PURPLE),{color:g.Colors.PREMIUM_PERK_YELLOW,icon:h.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS_UPLOAD.format({numStickers:_.TotalStickerCountsByTier[g.BoostedGuildTiers.TIER_2]})},F(S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_OTHER_TIER_2));break;case g.BoostedGuildTiers.TIER_3:t.push(x(),{color:g.Colors.PREMIUM_PERK_YELLOW,icon:h.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS_UPLOAD.format({numStickers:_.TotalStickerCountsByTier[g.BoostedGuildTiers.TIER_3]})
},F(S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_OTHER_TIER_3))}return t};t.customRoleIconUpsellPerks=function(){return[P(),T(),M(),F()]};t.embeddedActivitiesUpsellPerks=function(){return[W(),M(),C(g.Colors.PREMIUM_PERK_YELLOW),F()]};t.guildBannerInviteUpsellPerks=function(){return[C(),B(),N(),F()]};t.guildBannerUpsellPerks=function(){return[P(),R(g.BoostedGuildTiers.TIER_2),V(),F()]};t.guildBoostingPerks=function(e){return e?[L(),M(),F()]:[j(),L(),M(),F()]};t.guildChecklistUpsellPerks=function(e){return[C(e===g.ThemeTypes.DARK?g.Colors.PREMIUM_PERK_YELLOW:g.Colors.STATUS_YELLOW_400),B(),N(g.Colors.PREMIUM_PERK_GREEN),F()]};t.guildInviteUpsellPerks=function(){return[I(),M(),C(),F()]};t.premiumProgressBarUpsellPerks=function(){return[k(),U(),D(),G()]};t.vanityUrlUpsellPerks=function(){return[w(),A(),R(g.BoostedGuildTiers.TIER_3),F()]}
;var r,a=O(n(769026)),o=O(n(134947)),i=O(n(175104)),u=O(n(782732)),l=O(n(878338)),s=O(n(874980)),d=O(n(340858)),f=O(n(896444)),c=O(n(82050)),p=O(n(250003)),v=O(n(952117)),y=O(n(545449)),h=O(n(675422)),m=O(n(128103)),_=n(682937),g=n(770348),E=n(265517),S=O(n(247001));function O(e){return e&&e.__esModule?e:{default:e}}t.BoostingUpsellModalType=r;!function(e){e.GUILD_BANNER_INVITE="guild_banner_invite"}(r||(t.BoostingUpsellModalType=r={}));var b=function(e){var t=E.BoostedGuildFeatures[e].limits.bitrate/1e3;return{color:g.Colors.PREMIUM_PERK_GREEN,icon:l.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_AUDIO_QUALITY.format({targetQuality:t})}},I=function(){return{color:g.Colors.PREMIUM_PERK_GREEN,icon:f.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_CUSTOM_INVITE}},C=function(e){void 0===e&&(e=g.Colors.PREMIUM_PERK_ORANGE);return{color:e,icon:s.default,
description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ANIMATED_ICON}},T=function(){return{color:g.Colors.PREMIUM_PERK_GREEN,icon:f.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_GUILD_BANNER}},A=function(){return{color:g.Colors.PREMIUM_PERK_GREEN,icon:s.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ANIMATED_GUILD_BANNER}},P=function(){return{color:g.Colors.PREMIUM_PERK_ORANGE,icon:d.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ROLE_ICON}},M=function(e){void 0===e&&(e=g.Colors.PREMIUM_PERK_PURPLE);return{color:e,icon:h.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS}},N=function(e){void 0===e&&(e=g.Colors.PREMIUM_PERK_YELLOW);return{color:e,icon:h.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS_UPLOAD.format({numStickers:_.TotalStickerCountsByTier[g.BoostedGuildTiers.TIER_1]})}
},R=function(e,t){void 0===t&&(t=g.Colors.PREMIUM_PERK_PURPLE);var n=0,r=0;switch(e){case g.BoostedGuildTiers.TIER_1:n=15;r=100;break;case g.BoostedGuildTiers.TIER_2:n=30;r=150;break;case g.BoostedGuildTiers.TIER_3:n=60;r=250}return{color:t,icon:h.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS_AND_EMOJIS.format({numStickers:n,numEmojis:r})}},w=function(){return{color:g.Colors.PREMIUM_PERK_GOLD,icon:y.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_VANITY_URL}},D=function(){return{icon:a.default,description:S.default.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE}},L=function(){return{icon:c.default,color:g.Colors.PREMIUM_PERK_GREEN,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_THREADS_PRIVATE}},j=function(){return{icon:o.default,color:g.Colors.PREMIUM_PERK_YELLOW,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_THREADS_ARCHIVE}},k=function(){return{icon:u.default,
color:g.Colors.PREMIUM_PERK_PINK,description:S.default.Messages.PREMIUM_GUILD_USER_FEATURE_BOOST_CRYSTAL}},U=function(){return{icon:d.default,color:g.Colors.PREMIUM_PERK_YELLOW,description:S.default.Messages.PREMIUM_GUILD_USER_FEATURE_SPECIAL_ROLE}},G=function(){return{color:g.Colors.PREMIUM_PERK_BLUE,icon:i.default,description:S.default.Messages.PREMIUM_GUILD_USER_FEATURE_OTHERS}},F=function(e){void 0===e&&(e=S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_OTHER);return{color:g.Colors.PREMIUM_PERK_BLUE,icon:i.default,description:e}},x=function(){return{color:g.Colors.PREMIUM_PERK_PURPLE,icon:m.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_FILE_UPLOAD_TIER_3}},B=function(){return{color:g.Colors.PREMIUM_PERK_PURPLE,icon:v.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_SCREEN_SHARE_720P}},V=function(e){void 0===e&&(e=g.Colors.PREMIUM_PERK_GREEN);return{color:e,icon:v.default,
description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_SCREEN_SHARE_1080P}},W=function(){return{color:g.Colors.PREMIUM_PERK_GOLD,icon:p.default,description:S.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ACTIVITIES}}},938319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=h(n(929214)),i=h(n(956117)),u=h(n(60097)),l=n(3400),s=h(n(971639)),d=h(n(776360)),f=n(235742),c=h(n(247001)),p=h(n(818910)),v=h(n(380203)),y=["perks","perkIntro","headerProps","footer","buttonText","analyticsSourceLocation","targetBoostedGuildTier","onClick","onClose","hideButtonSection"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.title,n=e.subtitle,r=e.image;return g("div",{className:p.default.header},void 0,g(s.default,{size:s.default.Sizes.SIZE_24,color:d.default.Colors.HEADER_PRIMARY,className:v.default.marginBottom8},void 0,t),g(d.default,{size:d.default.Sizes.SIZE_16,className:p.default.subtitleText},void 0,n),r)}E.displayName="UpsellHeader";var S=function(e){var t=e.onClose,r=e.perks,i=e.perkIntro,u=void 0===i?c.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_MODAL_HEADER:i,s=e.headerProps,f=e.footer;return g("div",{className:p.default.wrapper},void 0,g(l.ModalCloseButton,{className:p.default.closeButton,onClick:function(){t()}}),null!=s?a.createElement(E,s):g("img",{className:p.default.heroImage,src:n(500996),alt:c.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_MODAL_HEADER_IMG_ALT_TEXT}),g(d.default,{size:d.default.Sizes.SIZE_16,
className:p.default.heading},void 0,u),g("div",{className:p.default.perks},void 0,r.map((function(e){var t=e.icon,n=e.iconClassName,r=e.description,a=e.color;return g(o.default,{icon:t,iconClassName:n,description:r,color:a},r)}))),null!=f?g("div",{className:p.default.footerLink},void 0,f):null)};S.displayName="GuildBoostingUpsell";function O(e){var t=e.perks,n=e.perkIntro,r=e.headerProps,o=e.footer,s=e.buttonText,d=(e.analyticsSourceLocation,e.targetBoostedGuildTier,e.onClick),v=e.onClose,h=e.hideButtonSection,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,y);return a.createElement(l.ModalRoot,_({},m,{"aria-labelledby":"premium-guild-subscription-upsell-modal-simple-header"}),g(f.AdvancedScrollerThin,{className:p.default.scroller},void 0,g(S,{onClose:v,perks:t,perkIntro:n,headerProps:r,footer:o})),!h&&g(l.ModalFooter,{className:p.default.footer},void 0,g(i.default,{size:i.default.Sizes.SMALL,
color:i.default.Colors.PRIMARY,look:i.default.Looks.LINK,onClick:function(){v()}},void 0,c.default.Messages.CLOSE),g(u.default,{size:i.default.Sizes.SMALL,onClick:function(){d();v()}},void 0,s)))}O.displayName="GuildBoostingUpsellModalSimple"},58941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var c=null!=t?t:s.AnalyticsSections.PREMIUM_GUILD_UPSELL_MODAL+" - Tier "+e.targetBoostedGuildTier;u.default.track(s.AnalyticEvents.OPEN_MODAL,{type:c,location:e.analyticsSourceLocation});var p=e.openInPopoutEnabled,y=e.buttonText,m=e.onClick,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f),g=a.default.getWindowOpen(s.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&null!=p&&p;g&&(0,o.default)(s.PopoutWindowKeys.CHANNEL_CALL_POPOUT);var E=g?d.POPOUT_MODAL_CONTEXT:d.DEFAULT_MODAL_CONTEXT;(0,i.openModalLazy)(h(regeneratorRuntime.mark((function e(){var t,a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(35666),n.e(41930),n.e(32660),n.e(34345),n.e(59402),n.e(96906),n.e(62764),n.e(23046),n.e(86683),n.e(38583),n.e(50938),n.e(52183)]).then(n.bind(n,977291));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return null!=m&&null!=y?r.createElement(l.default,v({buttonText:y,onClick:m},_,e)):r.createElement(a,v({},_,e))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){u.default.track(s.AnalyticEvents.MODAL_DISMISSED,{type:c,location:e.analyticsSourceLocation})},contextKey:E})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(902305)),o=c(n(736632)),i=n(194322),u=c(n(308920)),l=c(n(938319)),s=n(770348),d=n(371621),f=["openInPopoutEnabled","buttonText","onClick"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}},68094:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(294184)),i=n(536211),u=n(923387),l=n(203847),s=E(n(122913)),d=E(n(956117)),f=E(n(160629)),c=E(n(776360)),p=E(n(308920)),v=E(n(58941)),y=n(665984),h=n(770348),m=n(265517),_=E(n(247001)),g=E(n(377574));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=n(393270),I=n(319927);function C(){(0,l.markDismissibleContentAsDismissed)(u.DismissibleContent.VOICE_QUALITY_BOOSTING_UPSELL_TOOLTIP);window.removeEventListener("keydown",T)}function T(e){e.keyCode===h.KeyboardKeys.ESCAPE&&C()}function A(e){var t=e.guild,n=e.children,r=(0,i.useStateFromStores)([s.default],(function(){return s.default.hasLayers()}));a.useEffect((function(){p.default.track(h.AnalyticEvents.PREMIUM_GUILD_UPSELL_VIEWED,{type:m.PremiumUpsellTypes.AUDIO_QUALITY,location:{page:h.AnalyticsPages.CHANNEL_CALL,section:h.AnalyticsSections.BOOST_AUDIO_QUALITY_UPSELL}})
}),[]);a.useEffect((function(){r?window.removeEventListener("keydown",T):window.addEventListener("keydown",T);return function(){window.removeEventListener("keydown",T)}}),[r]);var u=[_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_SUBTITLE_LVL_1,_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_SUBTITLE_LVL_2,_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_SUBTITLE_LVL_3],l=O("div",{className:g.default.container},void 0,O("img",{className:g.default.cloudImage,src:b,alt:""}),O("img",{className:g.default.image,src:I,alt:""}),O(c.default,{className:g.default.title,size:c.default.Sizes.SIZE_16},void 0,_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_TITLE),O(c.default,{size:c.default.Sizes.SIZE_14,className:g.default.subTitle},void 0,u[t.premiumTier]),O(d.default,{className:(0,o.default)(g.default.button,g.default.topButton),look:d.default.Looks.INVERTED,fullWidth:!0,onClick:function(){(0,v.default)({analyticsSourceLocation:{
section:h.AnalyticsSections.BOOST_AUDIO_QUALITY_UPSELL},guild:t,targetBoostedGuildTier:t.premiumTier+1,perks:(0,y.audioQualityUpsell)(t.premiumTier+1)});C()}},void 0,_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_CTA),O(d.default,{className:g.default.button,look:d.default.Looks.FILLED,color:d.default.Colors.BRAND,fullWidth:!0,onClick:C},void 0,_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_DISMISS),O("div",{className:g.default.pointer}));return O(f.default,{renderPopout:function(){return l},align:f.default.Align.CENTER,position:f.default.Positions.TOP,animation:f.default.Animation.FADE,spacing:15,shouldShow:!r},void 0,(function(){return n}))}A.displayName="GuildBoostingAudioQualityUpsell"},207353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.useShouldRenderGuildBoostingAffinityNotice=function(e){var t=(0,r.useStateFromStoresObject)([o.default],(function(){return{isVisible:o.default.shouldDisplayChannelNoticeForGuild(e),
highestAffinityGuildId:o.default.highestAffinityGuildId}}),[e]),n=t.isVisible,a=t.highestAffinityGuildId;return u.useExperiment({},{autoTrackExposure:e===a}).enabled&&n};var r=n(536211),a=i(n(822350)),o=i(n(742373));function i(e){return e&&e.__esModule?e:{default:e}}var u=(0,a.default)({id:"2022-03_boosting_guild_affinity_channel_notice",label:"Boosting Channel Notice for Highest-Affinity Guild",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});var l=u;t.default=l},408692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=y(n(964285)),u=y(n(956117)),l=y(n(16941)),s=y(n(259530)),d=y(n(308920)),f=n(682937),c=n(770348),p=y(n(247001)),v=y(n(258771));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.guild,n=e.appliedGuildBoosts,r=t.id;a.useEffect((function(){d.default.track(c.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{
notice_type:c.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD,guild_id:r})}),[r]);return null==n||(0,f.appliedGuildBoostsRequiredForPerks)(n,r)<=0?null:m("div",{className:v.default.channelNotice},void 0,m(l.default,{onClick:function(){(0,o.hidePremiumGuildGracePeriodNotice)(r)},className:v.default.close,"aria-label":p.default.Messages.DISMISS},void 0,m(s.default,{className:v.default.closeIcon})),m("div",{className:v.default.message},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE),m(u.default,{fullWidth:!0,color:u.default.Colors.PRIMARY,size:u.default.Sizes.SMALL,onClick:function(){d.default.track(c.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:c.ChannelNoticeCtaSources.GRACE_PERIOD_NOTICE,guild_id:r,notice_type:c.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD});i.default.open(r,c.GuildSettingsSections.GUILD_PREMIUM)},className:v.default.checkStatusButton},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE_BUTTON))}
;_.displayName="AppliedGuildBoostGracePeriodNotice";var g=_;t.default=g},578628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(918667)),o=f(n(58941)),i=n(682937),u=n(770348),l=n(665984),s=f(n(247001)),d=f(n(484771));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=e.guild,n=e.markAsDismissed,r=(0,i.getNumberOfAppliedBoostsNeededForTier)(t,u.BoostedGuildTiers.TIER_2);return p(a.default,{guild:t,onDismissed:n,cta:s.default.Messages.GUILD_BANNER_NOTICE_CTA,message:s.default.Messages.GUILD_BANNER_NOTICE.format({boostsNeeded:r}),type:u.ChannelNoticeTypes.GUILD_BANNER,image:d.default,onClick:function(){return(0,o.default)({analyticsSourceLocation:{section:u.AnalyticsSections.CHANNEL_NOTICE,object:u.AnalyticsObjects.SERVER_BANNER_TOOLTIP},guild:t,targetBoostedGuildTier:u.BoostedGuildTiers.TIER_2,perks:(0,l.guildBannerUpsellPerks)()})},imageMarginTop:15,imageMarginX:22})}v.displayName="GuildBannerNotice"},
91836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(923387),i=n(55701),u=n(203847),l=n(75639),s=g(n(311492)),d=g(n(956117)),f=g(n(16941)),c=n(604753),p=g(n(259530)),v=g(n(308920)),y=n(770348),h=n(583551),m=g(n(247001)),_=g(n(863981));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=function(e){var t=e.guild,n=(0,a.useStateFromStores)([s.default],(function(){return s.default.getMemberCount(t.id)})),r=null==n||n<y.SMALL_GUILD_MEMBER_THRESHOLD;return S("div",{className:_.default.channelNotice},void 0,S(f.default,{onClick:function(){(0,i.hideGuildBoostingAffinityChannelNotice)(t.id);(0,u.markDismissibleContentAsDismissed)(o.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION,{dismissAction:h.ContentDismissActionType.AUTO})},className:_.default.close,"aria-label":m.default.Messages.DISMISS},void 0,S(p.default,{className:_.default.closeIcon})),S("div",{
className:_.default.guildBoostingAnimationWrapper},void 0,S(c.PremiumPaymentGuildAnimation,{className:_.default.guildBoostingAnimation,nextScene:c.PremiumPaymentGuildAnimation.Scenes.IDLE})),S("div",{className:_.default.message},void 0,r?m.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_GUILD_AFFINITY_NOTICE_SMALL_GUILD:m.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_GUILD_AFFINITY_NOTICE,S(d.default,{fullWidth:!0,color:d.default.Colors.BRAND,size:d.default.Sizes.SMALL,className:_.default.guildAffinityPremiumSubscriptionButton,onClick:function(){v.default.track(y.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:y.ChannelNoticeCtaSources.GUILD_AFFINITY_SUGGESTION,guild_id:t.id,notice_type:y.ChannelNoticeTypes.GUILD_BOOSTING_GUILD_AFFINITY});(0,l.openGuildBoostingMarketingModal)({guildId:t.id,location:{section:y.AnalyticsSections.CHANNEL_NOTICE,object:y.AnalyticsObjects.BOOST_SERVER_CTA}})}},void 0,m.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_GUILD_AFFINITY_NOTICE_BUTTON)))}
;O.displayName="GuildBoostingAffinityNotice";var b=O;t.default=b},559759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(536211)),i=c(n(918667)),u=n(75639),l=c(n(311492)),s=n(770348),d=c(n(247001)),f=c(n(727869));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleButtonClick=function(){var e=t.props.guild;(0,u.openGuildBoostingMarketingModal)({guildId:e.id,location:{section:s.AnalyticsSections.CHANNEL_NOTICE,object:s.AnalyticsObjects.SERVER_STATUS_CTA}})};return t}t.prototype.render=function(){
var e=this.props,t=e.guild,n=e.memberCount,r=e.markAsDismissed,a=null==n||n<s.SMALL_GUILD_MEMBER_THRESHOLD;return v(i.default,{guild:t,onDismissed:r,onClick:this.handleButtonClick,message:a?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_SMALL_GUILD:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE,cta:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_BUTTON,trackingSource:s.ChannelNoticeCtaSources.GUILD_SUBSCRIPTION_NOTICE,type:s.ChannelNoticeTypes.GUILD_BOOSTING,image:f.default,imageMarginX:26})};return t}(a.PureComponent);h.displayName="GuildBoostingNotice";var m=o.default.connectStores([l.default],(function(e){var t=e.guild;return{memberCount:l.default.getMemberCount(t.id)}}))(h);t.default=m},873113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(636602)),a=d(n(177230)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(876874)),i=d(n(728429)),u=n(457676),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var p=null,v=function(e,t){var n,a,s,d,f,p,v,y,h,m=o.default.getMember(e,t),_=i.default.getUser(t);if(null!=m&&null!=_&&!(0,
u.isMemberCommunicationDisabled)(m)){var g=c({},m,{guildId:e,nick:null!==(n=m.nick)&&void 0!==n?n:_.username,avatar:null!==(a=m.avatar)&&void 0!==a?a:void 0,banner:null!==(s=m.banner)&&void 0!==s?s:void 0,bio:null!==(d=m.bio)&&void 0!==d?d:void 0,premiumSince:null!==(f=m.premiumSince)&&void 0!==f?f:void 0,isPending:null!==(p=m.isPending)&&void 0!==p&&p,user:c({},_,{email:null!==(v=_.email)&&void 0!==v?v:void 0,phone:null!==(y=_.phone)&&void 0!==y?y:void 0,banner:null!==(h=_.banner)&&void 0!==h?h:void 0}),communicationDisabledUntil:null});r.default.dispatch(c({type:l.ActionTypes.GUILD_MEMBER_UPDATE},g))}},y=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).clearGuildMemberTimeout=v;return t}var n=t.prototype;n._initialize=function(){p=setInterval((function(){
return e=o.default.getCommunicationDisabledUserMap(),void Object.keys(e).forEach((function(t){var n=t,r=(0,o.getGuildIdFromCommunicationDisabledUserKey)(n),a=(0,o.getUserIdFromCommunicationDisabledUserKey)(n),i=e[n];(0,u.isCommunicationDisabled)(i)||v(r,a)}));var e}),1e4)};n._terminate=function(){clearInterval(p)};return t}(a.default));t.default=y},646832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCommunicationDisabledCountdownCleanup=function(e){var t=null!=e?e:{},n=t.communicationDisabledUntil,i=t.userId,u=t.guildId,l=(0,a.default)(null!=n?Date.parse(n):Date.now()),s=l.seconds,d=(0,r.useRef)(null);(0,r.useEffect)((function(){if(null!=e&&null!=u&&null!=i){s<=0&&null==d.current&&(d.current=setTimeout((function(){o.default.clearGuildMemberTimeout(u,i)}),1e3));return function(){if(null!=d.current){clearTimeout(d.current);d.current=null}}}clearTimeout(d.current)}),[u,i,s,n,e]);return l};var r=n(667294),a=i(n(683767)),o=i(n(873113));function i(e){
return e&&e.__esModule?e:{default:e}}},62017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CommunicationDisabledBanner=O;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(960736),i=m(n(423046)),u=m(n(876874)),l=m(n(240469)),s=m(n(346200)),d=m(n(776360)),f=n(646832),c=n(576458),p=m(n(257917)),v=n(397769),y=m(n(247001)),h=m(n(146615));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.guild,n=e.disabledUntil,r=E((0,c.useCommunicationDisabledNoticeStore)(t.id),2),m=r[0],_=r[1],S=(0,a.useStateFromStores)([u.default,i.default],(function(){return u.default.getMember(t.id,i.default.getId())}),[t.id]);(0,f.useCommunicationDisabledCountdownCleanup)(S);return g("div",{},void 0,m?g(p.default,{onClose:function(){return _(t.id)},guildName:t.name}):null,g(o.MessageNoticeBanner,{bannerIcon:g(s.default,{className:h.default.bannerIcon}),bannerHeader:y.default.Messages.GUILD_COMMUNICATION_DISABLED_NOTICE_HEADER,
bannerSubtext:y.default.Messages.GUILD_COMMUNICATION_DISABLED_CHAT_NOTICE_DESCRIPTION.format({link:v.GUILD_COMMUNICATION_DISABLED_RESOURCE_LINK}),containerStyles:h.default.bannerContainer,headerStyles:h.default.bannerHeader},void 0,g(d.default,{strong:!0},void 0,g(l.default,{deadline:new Date(n),showUnits:!0,stopAtOneSec:!0}))))}O.displayName="CommunicationDisabledBanner"},257917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=d(n(956117)),o=d(n(346200)),i=d(n(971639)),u=d(n(776360)),l=d(n(247001)),s=d(n(430294));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.onClose,n=e.guildName;return c("div",{className:s.default.container},void 0,c("div",{className:s.default.iconContainer},void 0,c(o.default,{className:s.default.icon,width:20,height:20})),c("div",{className:s.default.header},void 0,c(i.default,{size:i.default.Sizes.SIZE_16,
className:s.default.headerText},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_HEADER),c(u.default,{},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_SUBHEADER.format({guildName:n})),c(a.default,{onClick:t,className:s.default.button},void 0,l.default.Messages.OKAY)))}p.displayName="CommunicationDisabledPopout"},742965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildFeed=function(e){return O.apply(this,arguments)};t.hideItemFromGuildFeed=function(e,t){return I.apply(this,arguments)};t.markGuildFeedItemAsSeen=function(e,t,n){i.default.dispatch({type:y.ActionTypes.GUILD_FEED_ITEM_SEEN,guildId:e,itemId:t,timestampMillis:n})};t.markGuildFeedItemAsUnseen=function(e,t,n){i.default.dirtyDispatch({type:y.ActionTypes.GUILD_FEED_ITEM_UNSEEN,guildId:e,itemId:t,timestampMillis:n})};t.removeItemFromGuildFeed=function(e){return b.apply(this,arguments)};t.sendFeedShownAnalytics=function(e){d.default.track(y.AnalyticEvents.FEED_SHOWN,{
guild_id:e,load_id:c.default.getLoadId(e),home_session_id:l.default.getHomeSessionId()})};t.setFeedItemPreference=function(e,t){return T.apply(this,arguments)};t.unhideItemFromGuildFeed=function(e,t){return C.apply(this,arguments)};var r=n(582972),a=n(789666),o=h(n(118915)),i=h(n(636602)),u=h(n(568681)),l=h(n(173101)),s=h(n(290629)),d=h(n(308920)),f=n(71246),c=h(n(968078)),p=h(n(676509)),v=n(124042),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}
function E(e,t){return t.map((function(t){return c.default.getItem(e,t)})).filter((function(e){return null!=(null==e?void 0:e.message)&&!s.default.isBlocked(e.message.author.id)})).filter(f.isNotNullish).map((function(e){return(0,p.default)(e)}))}function S(e,t){var n=c.default.getSectionedItemIds(e);null!=n&&d.default.track(y.AnalyticEvents.FEED_LOADED,{guild_id:e,load_id:c.default.getLoadId(e),unread_feed_item_ids:E(e,n[v.GuildFeedSectionTypes.UNREAD]),read_feed_item_ids:E(e,n[v.GuildFeedSectionTypes.READ]),load_time_millis:t,home_session_id:l.default.getHomeSessionId()})}function O(){return(O=g(regeneratorRuntime.mark((function e(t){var n,r,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Date.now();i.default.dispatch({type:y.ActionTypes.GUILD_FEED_FETCH_START,guildId:t});e.prev=2;e.next=5;return o.default.get(y.Endpoints.GUILD_FEED(t));case 5:r=e.sent;a=r.body;i.default.dispatch({type:y.ActionTypes.GUILD_FEED_FETCH_SUCCESS,guildId:t,data:a})
;l=Date.now()-n;S(t,l);return e.abrupt("return",r);case 13:e.prev=13;e.t0=e.catch(2);i.default.dispatch({type:y.ActionTypes.GUILD_FEED_FETCH_FAILURE,guildId:t,error:new u.default(e.t0)});throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function b(){return(b=g(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return o.default.post({url:y.Endpoints.GUILD_FEED_MESSAGE_REMOVE(t.message.channel_id,t.message.id)});case 2:n=e.sent;i.default.dispatch({type:y.ActionTypes.GUILD_FEED_ITEM_REMOVE,item:t});return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=g(regeneratorRuntime.mark((function e(t,n){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return o.default.put({url:y.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(n),body:{channel_id:t.message.channel_id,
message_id:t.message.id,load_id:c.default.getLoadId(n),preference:a.GuildFeedPreferenceOptions.HIDDEN,entity_type:r.GuildFeedPreferenceEntityTypes.MESSAGE}});case 2:u=e.sent;i.default.dispatch({type:y.ActionTypes.GUILD_FEED_ITEM_HIDE,item:t});return e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=g(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return o.default.delete({url:y.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(n),body:{channel_id:t.message.channel_id,message_id:t.message.id,load_id:c.default.getLoadId(n),entity_type:r.GuildFeedPreferenceEntityTypes.MESSAGE}});case 2:a=e.sent;i.default.dispatch({type:y.ActionTypes.GUILD_FEED_ITEM_UNHIDE,item:t});return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=g(regeneratorRuntime.mark((function e(t,n){var r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return o.default.put({url:y.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(t),body:m({},n,{load_id:c.default.getLoadId(t),preference:a.GuildFeedPreferenceOptions.DEMOTED})});case 2:r=e.sent;return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},124042:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedSectionTypes=t.GuildFeedRenderMode=t.FeedItemType=t.FeedItemInteractionType=t.COLLAPSED_SIZE_MEDIA_QUERY=void 0;var n,r,a,o;t.FeedItemType=n;!function(e){e.MESSAGE="message"}(n||(t.FeedItemType=n={}));t.FeedItemInteractionType=r;!function(e){e.MESSAGE_CLICKED="message_clicked";e.MESSAGE_CHANNEL_CLICKED="message_channel_clicked";e.REACTION_ADDED="reaction_added";e.REACTION_REMOVED="reaction_removed";e.THREAD_EMBED_CLICKED="thread_embed_clicked";e.LINK_CLICKED="link_clicked";e.IMAGE_CLICKED="image_clicked"
;e.BUTTON_CLICKED="button_clicked";e.REFERENCED_MESSAGE_CLICKED="referenced_message_clicked"}(r||(t.FeedItemInteractionType=r={}));t.GuildFeedSectionTypes=a;!function(e){e[e.UNREAD=0]="UNREAD";e[e.READ=1]="READ";e[e.ALL=2]="ALL"}(a||(t.GuildFeedSectionTypes=a={}));t.GuildFeedRenderMode=o;!function(e){e[e.SEGMENTED_READ=0]="SEGMENTED_READ";e[e.TOP=1]="TOP";e[e.NEW=2]="NEW"}(o||(t.GuildFeedRenderMode=o={}));t.COLLAPSED_SIZE_MEDIA_QUERY="(max-width: 1300px)"},922748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=v(n(636602)),a=v(n(177230)),o=v(n(173101)),i=v(n(423046)),u=v(n(211136)),l=v(n(790597)),s=v(n(308920)),d=v(n(968078)),f=n(124042),c=n(770348),p=n(173652);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(c.ActionTypes.MESSAGE_REACTION_ADD,this.handleReaction);r.default.subscribe(c.ActionTypes.MESSAGE_REACTION_REMOVE,this.handleReaction);r.default.subscribe(c.ActionTypes.SIDEBAR_VIEW_THREAD,this.handleSidebarViewThread)};n._terminate=function(){r.default.unsubscribe(c.ActionTypes.MESSAGE_REACTION_ADD,this.handleReaction);r.default.unsubscribe(c.ActionTypes.MESSAGE_REACTION_REMOVE,this.handleReaction);r.default.unsubscribe(c.ActionTypes.SIDEBAR_VIEW_THREAD,this.handleSidebarViewThread)};n.handleReaction=function(e){var t=e.type,n=e.userId,r=e.messageId,a=e.optimistic;if(n===i.default.getId()&&a){var v=l.default.getGuildId();if(null!=v){var y=u.default.getChannelId();if((0,p.isGuildHomeChannel)(y)){var h=d.default.getMessageItem(v,r);null!=h&&null!=h.message&&s.default.track(c.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:f.FeedItemType.MESSAGE,load_id:d.default.getLoadId(v),
action_type:t===c.ActionTypes.MESSAGE_REACTION_ADD?f.FeedItemInteractionType.REACTION_ADDED:f.FeedItemInteractionType.REACTION_REMOVED,guild_id:v,channel_id:h.message.channel_id,message_id:h.message.id,home_session_id:o.default.getHomeSessionId()})}}}};n.handleSidebarViewThread=function(e){var t=e.channelId,n=e.baseChannelId;if((0,p.isGuildHomeChannel)(n)){var r=l.default.getGuildId();if(null!=r){var a=d.default.getMessageItem(r,t);null!=a&&null!=a.message&&s.default.track(c.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:f.FeedItemType.MESSAGE,load_id:d.default.getLoadId(r),action_type:f.FeedItemInteractionType.THREAD_EMBED_CLICKED,guild_id:r,channel_id:a.message.channel_id,message_id:a.message.id,home_session_id:o.default.getHomeSessionId()})}}};return t}(a.default));t.default=h},741645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(441143)),a=u(n(636602)),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{
default:e}}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n,a=0,o=[],i=l(e);!(n=i()).done;){var u=n.value
;null==u.endTimeMillis?t?a+=Date.now()-u.startTimeMillis:o.push(u):a+=u.endTimeMillis-u.startTimeMillis}(0,r.default)(o.length<2,"there should only be a single left over data");return{additionalSeenTimeMillis:Math.round(a),leftOverData:o}}t.default=function(e,t,n){var r=this;this.maybeFlushSeenItems=function(e){void 0===e&&(e=!1);var t=r.guildId,n=r.loadId,a=r.seenData,u=r.homeSessionId;if(null!=n&&null!=u&&(e||!(Date.now()-r.lastFlushTimeMillis<6e4))){r.lastFlushTimeMillis=Date.now();setTimeout((function(){return function(e){var t=e.guildId,n=e.loadId,r=e.homeSessionId,a=e.seenData,u=e.force,l={};for(var s in a){var f=d(a[s],u),c=f.additionalSeenTimeMillis,p=f.leftOverData;c>0&&(l[s]={additionalSeenTimeMillis:c});a[s]=p}if(0!==Object.keys(l).length){var v=[],y=[];for(var h in l){v.push(h);y.push(l[h].additionalSeenTimeMillis)}o.default.track(i.AnalyticEvents.FEED_ITEM_SEEN_BATCH,{guild_id:t,load_id:n,feed_item_ids:v,additional_seen_time_millis:y,home_session_id:r})}}({guildId:t,
loadId:n,seenData:a,force:e,homeSessionId:u})}),100)}};this.getItemSeenDataList=function(e){null==r.seenData[e]&&(r.seenData[e]=[]);return r.seenData[e]};this.getLastSeenData=function(e){if(null!=e&&0!==e.length)return e[e.length-1]};this.initialize=function(){a.default.subscribe(i.ActionTypes.GUILD_FEED_ITEM_SEEN,r.handleSeen);a.default.subscribe(i.ActionTypes.GUILD_FEED_ITEM_UNSEEN,r.handleUnseen);a.default.subscribe(i.ActionTypes.APP_STATE_UPDATE,r.handleAppStateUpdate)};this.terminate=function(){a.default.unsubscribe(i.ActionTypes.GUILD_FEED_ITEM_SEEN,r.handleSeen);a.default.unsubscribe(i.ActionTypes.GUILD_FEED_ITEM_UNSEEN,r.handleUnseen);a.default.unsubscribe(i.ActionTypes.APP_STATE_UPDATE,r.handleAppStateUpdate);r.maybeFlushSeenItems(!0)};this.handleSeen=function(e){var t=e.guildId,n=e.itemId,a=e.timestampMillis;if(t===r.guildId){var o=r.getItemSeenDataList(n),i=r.getLastSeenData(o);if(null==i||null!=i.endTimeMillis){o.push({startTimeMillis:a});r.paused&&r.pausedItemIds.add(n)}}}
;this.handleUnseen=function(e){var t=e.guildId,n=e.itemId,a=e.timestampMillis;if(t===r.guildId){var o=r.getItemSeenDataList(n),i=r.getLastSeenData(o);if(null!=i&&null==i.endTimeMillis){i.endTimeMillis=a;r.paused&&r.pausedItemIds.delete(n);r.maybeFlushSeenItems()}}};this.handleAppStateUpdate=function(e){var t=e.state;"active"===t&&r.isFocused&&r.resume(r.guildId);if("background"===t){r.isFocused&&r.pause(r.guildId);r.maybeFlushSeenItems(!0)}};this.clearPausedItemIds=function(){r.pausedItemIds=new Set;r.paused=!1};this.getSeenItemIds=function(){var e=new Set;for(var t in r.seenData){var n=r.getItemSeenDataList(t),a=r.getLastSeenData(n);null!=a&&null!=a.startTimeMillis&&null==a.endTimeMillis&&e.add(t)}return e};this.pause=function(e){if(e===r.guildId){if(!r.paused){r.paused=!0;var t=r.getSeenItemIds();t.forEach((function(t){r.handleUnseen({guildId:e,itemId:t,timestampMillis:Date.now(),type:"GUILD_FEED_ITEM_UNSEEN"})}));r.pausedItemIds=t}}else r.clearPausedItemIds()}
;this.resume=function(e){if(e===r.guildId){if(r.paused){r.paused=!1;r.pausedItemIds.forEach((function(t){r.handleSeen({guildId:e,itemId:t,timestampMillis:Date.now(),type:"GUILD_FEED_ITEM_SEEN"})}));r.clearPausedItemIds()}}else r.clearPausedItemIds()};this.handleFocus=function(e,t){r.isFocused=e;r.isFocused?r.resume(t):r.pause(t)};this.guildId=e;this.loadId=t;this.homeSessionId=n;this.seenData={};this.lastFlushTimeMillis=Date.now();this.paused=!1;this.pausedItemIds=new Set;this.isFocused=!0}},968078:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(496486)),o=y(n(536211)),i=y(n(636602)),u=n(202929),l=y(n(423046)),s=y(n(71636)),d=n(676525),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(676509)),c=n(124042),p=n(770348);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function m(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S={loading:!1,error:null},O={},b={},I={},C={},T={},A={},P={},M={},N={},R={};function w(e,t,n){var r,a;return null===(r=T[e])||void 0===r||null===(a=r[t])||void 0===a?void 0:a[n]}function D(e,t){var n;return null===(n=C[e])||void 0===n?void 0:n[t]}
function L(e,t,n){if(null==e||null==t)return!1;var r=D(e,t);if(null==r)return!1;var a=w(r,e,t);if(null==a)return!1;var o=n(a);T[r][e][t]=o;return!0}function j(e,t){null==T[e][t.channel_id]&&(T[e][t.channel_id]={});T[e][t.channel_id][t.id]=t;null==C[t.channel_id]&&(C[t.channel_id]={});C[t.channel_id][t.id]=e}function k(e,t){var n,r,a,o=D(e,t);if(null==o)return!1;null===(n=T[o])||void 0===n||(null===(r=n[e])||void 0===r||delete r[t]);null===(a=C[e])||void 0===a||delete a[t];!function(e,t){var n;if(null!=P[e]&&null!=A[e]){var r=P[e][c.GuildFeedSectionTypes.UNREAD],a=P[e][c.GuildFeedSectionTypes.READ],o=P[e][c.GuildFeedSectionTypes.ALL];P[e]=((n={})[c.GuildFeedSectionTypes.UNREAD]=r.filter(i),n[c.GuildFeedSectionTypes.READ]=a.filter(i),n[c.GuildFeedSectionTypes.ALL]=o.filter(i),n)}function i(n){var r,a=A[e][n];return(null==a||null===(r=a.message)||void 0===r?void 0:r.id)!==t}}(o,t);return!0}function U(e){
var t=e.type,n=e.channelId,r=e.messageId,a=e.userId,o=e.emoji,i=e.optimistic,u=l.default.getId()===a;return!(i&&!u)&&L(n,r,(function(e){return t===p.ActionTypes.MESSAGE_REACTION_ADD?e.addReaction(o,u):e.removeReaction(o,u)}))}function G(e){var t,n=e.channel,r=n.guild_id;if(null==r)return!1;delete C[n.id];null===(t=T[r])||void 0===t||delete t[n.id]}var F=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(l.default);M=null!=e?a.default.mapValues(e.seenItems,(function(e){return new Set(e)})):{}};n.getState=function(){return{seenItems:M}};n.getLastFetchedMillis=function(e){return O[e]};n.getSectionedItemIds=function(e){return P[e]};n.getItem=function(e,t){var n;return null===(n=A[e])||void 0===n?void 0:n[t]};n.getMessageItem=function(e,t){return this.getItem(e,"message/"+t)};n.getLoadId=function(e){var t
;return null===(t=I[e])||void 0===t?void 0:t.load_id};n.getCachedMessage=function(e,t,n){return w(e,t,n)};n.getFetchStatus=function(e){var t;return null!==(t=b[e])&&void 0!==t?t:S};n.getIsItemHiding=function(e,t){var n;return!!(null===(n=N[e])||void 0===n?void 0:n.has(t))};n.getIsItemHidden=function(e,t){var n;return!!(null===(n=R[e])||void 0===n?void 0:n.has(t))};return t}(o.default.PersistedStore);F.displayName="GuildFeedStore";F.persistKey="GuildFeedStore";var x=new F(i.default,((r={})[p.ActionTypes.GUILD_FEED_FETCH_START]=function(e){var t=e.guildId;b[t]={loading:!0,error:null}},r[p.ActionTypes.GUILD_FEED_FETCH_SUCCESS]=function(e){var t,n=e.guildId,r=e.data;O[n]=Date.now();b[n]={loading:!1,error:null};I[n]=r;A[n]={};P[n]=((t={})[c.GuildFeedSectionTypes.UNREAD]=[],t[c.GuildFeedSectionTypes.READ]=[],t[c.GuildFeedSectionTypes.ALL]=[],t);N[n]=new Set;R[n]=new Set;null==M[n]&&(M[n]=new Set);T[n]={};for(var a,o=_(r.results.items);!(a=o()).done;){var i,u=a.value;if("message"in u){
var l=(0,d.createGuildFeedItemFromServer)(u);j(n,l.message);var p=(0,f.default)(l);A[n][p]=l;var v=(null===(i=M[n])||void 0===i?void 0:i.has(p))?c.GuildFeedSectionTypes.READ:c.GuildFeedSectionTypes.UNREAD;P[n][v].push(p);P[n][c.GuildFeedSectionTypes.ALL].push(p)}}!function(e){for(var t,n=Date.now(),r=_(e);!(t=r()).done;){var a=t.value,o=(0,f.getSnowflakeFromGuildFeedItemId)(a);(null==o||n-s.default.extractTimestamp(o)>18144e5)&&e.delete(a)}}(M[n])},r[p.ActionTypes.GUILD_FEED_FETCH_FAILURE]=function(e){var t=e.guildId,n=e.error;b[t]={loading:!1,error:n}},r[p.ActionTypes.GUILD_FEED_ITEM_SEEN]=function(e){var t=e.guildId,n=e.itemId;if(M[t].has(n))return!1;M[t].add(n)},r[p.ActionTypes.GUILD_FEED_ITEM_REMOVE]=function(e){var t=e.item;return k(t.message.channel_id,t.message.id)},r[p.ActionTypes.GUILD_FEED_ITEM_HIDE]=function(e){var t=e.item,n=(0,f.default)(t),r=D(t.message.channel_id,t.message.id);if(null!=r){r in N||(N[r]=new Set);N[r].add(n)}},
r[p.ActionTypes.GUILD_FEED_ITEM_UNHIDE]=function(e){var t=e.item,n=(0,f.default)(t),r=D(t.message.channel_id,t.message.id);null!=r&&N[r].delete(n)},r[p.ActionTypes.CHANNEL_SELECT]=function(){for(var e=0,t=Object.keys(N);e<t.length;e++){var n=t[e];null==R[n]&&(R[n]=new Set);R[n]=new Set([].concat(m(Array.from(R[n])),m(Array.from(N[n]))));delete N[n]}},r[p.ActionTypes.CHANNEL_DELETE]=G,r[p.ActionTypes.THREAD_DELETE]=G,r[p.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;if(null==O[t.id])return!1;delete O[t.id];delete I[t.id];for(var n in null!==(r=T[t.id])&&void 0!==r?r:{}){var r;delete C[n]}delete T[t.id];delete A[t.id];delete P[t.id];t.unavailable||delete M[t.id]},r[p.ActionTypes.LOGOUT]=function(){O={};I={};C={};T={};P={};A={};N={};R={}},r[p.ActionTypes.MESSAGE_UPDATE]=function(e){var t=e.message;return L(t.channel_id,t.id,(function(e){return(0,u.updateMessageRecord)(e,t)}))},r[p.ActionTypes.MESSAGE_DELETE]=function(e){var t=e.id;return k(e.channelId,t)},
r[p.ActionTypes.MESSAGE_DELETE_BULK]=function(e){for(var t,n=e.ids,r=e.channelId,a=!1,o=_(n);!(t=o()).done;){a=k(r,t.value)||a}return a},r[p.ActionTypes.MESSAGE_REACTION_ADD]=U,r[p.ActionTypes.MESSAGE_REACTION_REMOVE]=U,r[p.ActionTypes.MESSAGE_REACTION_REMOVE_ALL]=function(e){return L(e.channelId,e.messageId,(function(e){return e.set("reactions",[])}))},r[p.ActionTypes.MESSAGE_REACTION_REMOVE_EMOJI]=function(e){var t=e.channelId,n=e.messageId,r=e.emoji;return L(t,n,(function(e){return e.removeReactionsForEmoji(r)}))},r));t.default=x},676525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createGuildFeedItemFromServer=function(e){switch(e.type){case a.GuildFeedItemTypes.FORUM_POST:var t=(0,o.createMessageRecord)(e.message),n=i.default.fromServer(e.thread);return{type:a.GuildFeedItemTypes.FORUM_POST,message:t,thread:n};case a.GuildFeedItemTypes.MESSAGE:default:var u=(0,o.createMessageRecord)(e.message),l=r.default.map(e.reference_messages,(function(e){return(0,
o.createMessageRecord)(e)}));return{type:a.GuildFeedItemTypes.MESSAGE,message:u,referenceMessages:l}}};var r=u(n(496486)),a=n(177661),o=n(202929),i=u(n(567186));function u(e){return e&&e.__esModule?e:{default:e}}},676509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){switch(e.type){case r.GuildFeedItemTypes.FORUM_POST:return"post/"+e.message.id;case r.GuildFeedItemTypes.MESSAGE:return"message/"+e.message.id;default:(0,a.assertNever)(e)}};t.getSnowflakeFromGuildFeedItemId=function(e){return e.split("/")[1]};var r=n(177661),a=n(71246)},389666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.useStateFromStores)([u.default],(function(){return u.default.getFetchStatus(e)}),[e]),n=t.loading,r=t.error,l=a.useCallback((function(t){var n=t.force;f(e,null!=n&&n)&&function(){r.apply(this,arguments)}();function r(){return(r=d(regeneratorRuntime.mark((function t(){
return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;t.next=3;return(0,i.fetchGuildFeed)(e);case 3:t.next=8;break;case 5:t.prev=5;t.t0=t.catch(0);console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}}),[e]);a.useEffect((function(){l({})}),[l]);return{fetch:l,loading:n,error:r}};t.shouldFetchGuildFeed=f;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(742965),u=(r=n(968078))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(e,t){var n=u.default.getLastFetchedMillis(e);return!(!t&&null!=n&&Date.now()-n<72e5)&&!u.default.getFetchStatus(e).loading}},938623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.channelId,c=e.messageId;return{handleMessageClick:function(e){e.stopPropagation();u.default.track(d.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:s.FeedItemType.MESSAGE,load_id:l.default.getLoadId(t),action_type:s.FeedItemInteractionType.MESSAGE_CLICKED,guild_id:t,channel_id:n,message_id:c,home_session_id:a.default.getHomeSessionId()})
;i.default.openChannelAsSidebar({channelId:n,messageId:c,baseChannelId:f.StaticChannelRoute.GUILD_HOME})},handleChannelClick:function(e){e.stopPropagation();u.default.track(d.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:s.FeedItemType.MESSAGE,load_id:l.default.getLoadId(t),action_type:s.FeedItemInteractionType.MESSAGE_CHANNEL_CLICKED,guild_id:t,channel_id:n,message_id:c,home_session_id:a.default.getHomeSessionId()});(0,o.default)(d.Routes.CHANNEL(t,n,c))},handleCardClick:function(e,o,i){for(var f=e.target;(0,r.isElement)(f);){var p,v;if(f===o)break;var y=null!==(p=null===(v=f.getAttribute("data-role"))||void 0===v?void 0:v.toUpperCase())&&void 0!==p?p:f.tagName;if("A"===y){u.default.track(d.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:s.FeedItemType.MESSAGE,load_id:l.default.getLoadId(t),action_type:s.FeedItemInteractionType.LINK_CLICKED,guild_id:t,channel_id:n,message_id:c,home_session_id:a.default.getHomeSessionId()});return}if("IMG"===y){
u.default.track(d.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:s.FeedItemType.MESSAGE,load_id:l.default.getLoadId(t),action_type:s.FeedItemInteractionType.IMAGE_CLICKED,guild_id:t,channel_id:n,message_id:c,home_session_id:a.default.getHomeSessionId()});return}if("BUTTON"===y||"button"===f.getAttribute("role")){u.default.track(d.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:s.FeedItemType.MESSAGE,load_id:l.default.getLoadId(t),action_type:s.FeedItemInteractionType.BUTTON_CLICKED,guild_id:t,channel_id:n,message_id:c,home_session_id:a.default.getHomeSessionId()});return}f=f.parentNode}null==i||i()}}};var r=n(659779),a=c(n(173101)),o=c(n(187295)),i=c(n(546914)),u=c(n(308920)),l=c(n(968078)),s=n(124042),d=n(770348),f=n(173652);function c(e){return e&&e.__esModule?e:{default:e}}},47186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(294184)),o=s(n(244165)),i=s(n(16941)),u=s(n(617493)),l=["children","ariaLabel","onContextMenu","onCardClick","onItemClick","listItemProps","itemId","selected"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=r.forwardRef((function(e,t){
var n,s=e.children,d=e.ariaLabel,p=e.onContextMenu,v=e.onCardClick,y=e.onItemClick,h=e.listItemProps,m=e.itemId,_=e.selected,g=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),E=c((0,o.default)(t),2),S=E[0],O=E[1],b=r.useRef(null);return r.createElement("div",f({ref:O,className:(0,a.default)(u.default.card,(n={},n[u.default.selected]=_,n)),"data-item-id":m,onContextMenu:p,onClick:function(e){return null==v?void 0:v(e,S.current,(function(){var e,t;return null===(e=b.current)||void 0===e||null===(t=e.click)||void 0===t?void 0:t.call(e)}))}},g),r.createElement(i.default,f({className:u.default.clickableTarget,innerRef:b,"aria-label":d,onClick:y},h)),s)}));t.default=v},952572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.itemId,r=e.scrollerHeight,p=e.scrollerRef,v=(S=(0,i.useStateFromStoresArray)([s.default],(function(){
return[s.default.getItem(t,n),s.default.getIsItemHiding(t,n),s.default.getIsItemHidden(t,n)]})),O=3,function(e){if(Array.isArray(e))return e}(S)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(S,O)||h(S,O)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=v[0],_=v[1],g=v[2],E=a.useRef(null);var S,O;a.useEffect((function(){var e,a=E.current;if(null!=a&&null!=r){var o=a.clientHeight,i=Math.min(.5,.5*r/o),u=new IntersectionObserver((function(e){return function(e,t,n){for(var r,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(r=a()).done;){var o=r.value,i=o.target.dataset.itemId;if(null==i)return;var u=Date.now();o.intersectionRatio>=t?(0,l.markGuildFeedItemAsSeen)(e,i,u):(0,l.markGuildFeedItemAsUnseen)(e,i,u)}}(t,i,e)}),{root:null===(e=p.current)||void 0===e?void 0:e.getScrollerNode(),rootMargin:"0px 100000px 0px 100000px",threshold:i});u.observe(a);return function(){u.disconnect()}}(0,l.markGuildFeedItemAsUnseen)(t,n,Date.now())}),[E,n,t,p,r,_,g]);if(null==m||g)return null;if(_)return y(d.default,{guildId:t,feedItem:m});switch(m.type){case o.GuildFeedItemTypes.FORUM_POST:return a.createElement(c.default,{ref:E,guildId:t,postItem:m});case o.GuildFeedItemTypes.MESSAGE:
return a.createElement(f.default,{ref:E,guildId:t,messageItem:m});default:(0,u.assertNever)(m)}};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(177661),i=n(536211),u=n(71246),l=n(742965),s=p(n(968078)),d=p(n(876859)),f=p(n(582652)),c=p(n(963481));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},388884:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(25121));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t,n=e.children,r=e.hideBorder;return l("div",{className:(0,a.default)(o.default.feedItemHeader,(t={},
t[o.default.hideBorder]=r,t))},void 0,n)}s.displayName="GuildFeedItemHeader"},876859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=R;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(393356),i=n(582972),u=n(536211),l=C(n(678928)),s=n(341186),d=C(n(644263)),f=C(n(876874)),c=C(n(290629)),p=C(n(728429)),v=C(n(956117)),y=C(n(16941)),h=C(n(549998)),m=C(n(420303)),_=C(n(776360)),g=C(n(29652)),E=n(742965),S=C(n(47186)),O=C(n(388884)),b=C(n(247001)),I=C(n(469887));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){var t=e.guildId,n=e.feedItem,r=e.onSendFeedback,a=n.message.channel_id,o=(0,u.useStateFromStores)([d.default],(function(){return d.default.getChannel(a)})),v=(0,l.default)(o),m=(0,s.getChannelIconComponent)(o),S=(0,u.useStateFromStores)([p.default],(function(){return p.default.getUser(n.message.author.id)})),O=(0,u.useStateFromStores)([d.default,f.default,c.default],(function(){return g.default.getName(t,a,S)})),C=function(e){(0,
E.setFeedItemPreference)(t,e);r()};return M("div",{className:I.default.options},void 0,M(y.default,{className:I.default.option,onClick:function(){return C({channel_id:a,message_id:n.message.id,entity_type:i.GuildFeedPreferenceEntityTypes.MESSAGE})}},void 0,M(_.default,{size:_.default.Sizes.SIZE_16,color:_.default.Colors.INTERACTIVE_ACTIVE},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_NO_LIKE)),M(y.default,{className:I.default.option,onClick:function(){return C({channel_id:a,entity_type:i.GuildFeedPreferenceEntityTypes.CHANNEL})}},void 0,M(_.default,{size:_.default.Sizes.SIZE_16,color:_.default.Colors.INTERACTIVE_ACTIVE},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_CHANNEL.format({channelName:v,channelNameHook:function(e,t){return M("span",{},t,null!=m&&M(m,{className:I.default.mentionIcon,width:20,height:20})," ",e)}}))),M(y.default,{className:I.default.option,onClick:function(){return C({user_id:n.message.author.id,
entity_type:i.GuildFeedPreferenceEntityTypes.USER})}},void 0,M(_.default,{size:_.default.Sizes.SIZE_16,color:_.default.Colors.INTERACTIVE_ACTIVE},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_USER.format({username:O,usernameHook:function(e,t){return M("span",{},t,M(h.default,{className:I.default.mentionIcon,width:20,height:20})," ",e)}}))))}N.displayName="GuildFeedItemFeedbackOptions";function R(e){var t=e.guildId,n=e.feedItem,r=A(a.useState(!1),2),i=r[0],u=r[1],l=(0,o.useListItem)(n.message.id);return M(S.default,{ariaLabel:b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM,listItemProps:l},void 0,M(O.default,{hideBorder:i},void 0,M(m.default,{className:I.default.icon,width:16,height:16,foregroundColor:"currentColor"}),i?M("div",{className:I.default.title},void 0,M(_.default,{className:I.default.title,size:_.default.Sizes.SIZE_16,color:_.default.Colors.INTERACTIVE_ACTIVE
},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_TITLE),M(_.default,{className:I.default.title,size:_.default.Sizes.SIZE_12,color:_.default.Colors.INTERACTIVE_NORMAL},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_SUBTITLE)):M(_.default,{className:I.default.title,size:_.default.Sizes.SIZE_16,color:_.default.Colors.INTERACTIVE_ACTIVE},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM),M(v.default,{size:v.default.Sizes.SMALL,color:v.default.Colors.PRIMARY,onClick:function(){(0,E.unhideItemFromGuildFeed)(n,t)}},void 0,b.default.Messages.UNDO)),!i&&M(N,{guildId:t,feedItem:n,onSendFeedback:function(){return u(!0)}}))}R.displayName="GuildFeedItemHidden"},514563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(956117)),i=n(160629),u=f(n(730977)),l=f(n(775803)),s=f(n(247001)),d=f(n(953346));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){
e.stopPropagation()}function m(e){var t=e.renderContextPopout,n=v(a.useState(!1),2),r=n[0],f=n[1],c=a.useCallback((function(e){null==e||e.stopPropagation();f(!r)}),[r]),y=s.default.Messages.MORE;return p("div",{onClick:h,onContextMenu:h},void 0,p(i.LazyPopout,{renderPopout:function(){return t(c)},shouldShow:r,onRequestClose:c,position:i.Positions.LEFT,align:i.Align.TOP,animation:i.LazyPopout.Animation.NONE},void 0,(function(e,t){return p(u.default,{text:y,hideOnClick:!0},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave,r=e.onClick;return p(o.default,{onMouseEnter:t,onMouseLeave:n,look:o.default.Looks.BLANK,size:o.default.Sizes.NONE,onClick:function(e){null==r||r();c(e)},"aria-label":y,className:d.default.overflowButton},void 0,p(l.default,{className:d.default.icon}))}))})))}m.displayName="GuildFeedItemOverflowMenuButton"},373893:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=j(n(294184)),i=n(536211),u=n(252404),l=j(n(173101)),s=j(n(907932)),d=n(377980),f=j(n(384792)),c=n(538105),p=j(n(325570)),v=j(n(507187)),y=j(n(691851)),h=j(n(326243)),m=j(n(227236)),_=j(n(749835)),g=j(n(86031)),E=j(n(546914)),S=j(n(644263)),O=j(n(16941)),b=j(n(383942)),I=j(n(152668)),C=j(n(293578)),T=j(n(308920)),A=j(n(968078)),P=n(124042),M=n(770348),N=n(173652),R=n(100678),w=j(n(247001)),D=j(n(328203)),L=["guildId","message","className","channel","animateAvatar"];function j(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var B=a.memo((function(e){var t=e.message,n=e.channel,r=e.animateAvatar,o=e.repliedMessage,i=(0,p.default)(t.id,R.DEFAULT_POPOUTS),l=i.popouts,d=i.setPopout,v=l.usernameProfile,y=l.avatarProfile,h=(0,c.useClickMessageAuthorUsername)(t,n,v,d),m=(0,
c.useClickMessageAuthorAvatar)(y,d),_=a.useCallback((function(){return d({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[d]),g=(0,s.default)(t),E=(0,u.useRoleIcon)({guildId:n.guild_id,roleId:g.iconRoleId});return x(C.default,{guildId:n.guild_id,message:t,channel:n,repliedMessage:o,author:g,showTimestampOnHover:t.type!==M.MessageTypes.REPLY,renderPopout:f.default,showAvatarPopout:y,showUsernamePopout:v,onClickAvatar:m,onClickUsername:h,onPopoutRequestClose:_,roleIcon:E,animate:r})}));function V(e){var t,n,r=e.guildId,u=e.message,s=e.className,f=e.channel,c=e.animateAvatar,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,L),C=(0,v.default)(u,{renderMediaEmbeds:!0}),R=C.content,j=C.hasSpoilerEmbeds,k=G(a.useState(!1),2),F=k[0],V=k[1],W=G(a.useState(!1),2),H=W[0],z=W[1],Y=u.type===M.MessageTypes.REPLY?u.messageReference:void 0,K=(0,i.useStateFromStores)([g.default],(function(){
return g.default.getMessageByReference(Y)})),$=(0,i.useStateFromStores)([S.default],(function(){return u.hasFlag(M.MessageFlags.HAS_THREAD)&&S.default.getChannel(u.id)})),q=(0,d.getMessageAriaLabelledBy)(u),Z=(0,d.getMessageAriaDescribedBy)(u),X=u.attachments.length>0,Q=null!=Y?x(O.default,{onClick:function(e){if(null!=K.message){e.stopPropagation();T.default.track(M.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:P.FeedItemType.MESSAGE,load_id:A.default.getLoadId(r),action_type:P.FeedItemInteractionType.REFERENCED_MESSAGE_CLICKED,guild_id:r,channel_id:f.id,message_id:K.message.id,home_session_id:l.default.getHomeSessionId()});E.default.openChannelAsSidebar({channelId:f.id,messageId:K.message.id,baseChannelId:N.StaticChannelRoute.GUILD_HOME})}}},void 0,(0,_.default)(u,f,Y,K,!1)):null;return a.createElement(b.default,U({className:s,childrenRepliedMessage:Q,childrenExecutedCommand:(0,m.default)(u,f,!1),childrenHeader:x(B,{channel:f,message:u,animateAvatar:c,repliedMessage:K}),
childrenAccessories:(0,y.default)({channelMessageProps:e,hasSpoilerEmbeds:j,isInteracting:!1,forceAddReactions:!0}),childrenMessageContent:a.createElement(a.Fragment,null,x(I.default,{className:(0,o.default)((t={},t[D.default.clampLarge]=!H&&!X,t[D.default.clampSmall]=!H&&X,t)),message:u,content:R,contentRef:function(e){null!=e&&V(e.scrollHeight>e.clientHeight)}}),F&&x(O.default,{className:(0,o.default)(D.default.showMore,(n={},n[D.default.hidden]=H,n)),onClick:function(){return z(!0)},"aria-hidden":!0},void 0,w.default.Messages.GUILD_FEED_TRUNCATED_MESSAGE_SEE_MORE)),childrenSystemMessage:(0,h.default)(e),hasThread:null!=$&&u.hasFlag(M.MessageFlags.HAS_THREAD),hasReply:u.type===M.MessageTypes.REPLY,"aria-labelledby":q,"aria-describedby":Z},p))}V.displayName="GuildFeedMessage";var W=a.memo(V);t.default=W},582652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=N(n(667294)),o=n(393356),i=n(536211),u=n(378158),l=P(n(678928)),s=n(341186),d=P(n(502546)),f=P(n(644263)),c=P(n(290629)),p=P(n(16941)),v=P(n(730977)),y=P(n(971639)),h=P(n(776360)),m=N(n(152731)),_=P(n(968078)),g=P(n(676509)),E=P(n(938623)),S=P(n(47186)),O=P(n(388884)),b=P(n(514563)),I=P(n(373893)),C=n(173652),T=P(n(247001)),A=P(n(364022));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(){
R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,u,"next",e)}function u(e){j(o,r,a,i,u,"throw",e)}
i(void 0)}))}}var U=function(){var e=k(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:t=e.sent;r=t.default;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function G(e){var t=e.referenceMessages,n=e.guildId,r=a.useMemo((function(){var e=new Set;return t.map((function(e){return e.author})).filter((function(t){if(null==t||e.has(t.id))return!1;e.add(t.id);return!0})).slice(0,3)}),[t]),o=t.length;if(0===o)return null;var i=o>3?T.default.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:3}):T.default.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:o});return L("div",{className:A.default.referenceMessagesText},void 0,L(m.default,{guildId:n,users:r,size:m.Sizes.SIZE_16,className:A.default.userSummaryItem,max:3,showDefaultAvatarsForNullUsers:!0,
showUserPopout:!0}),L(h.default,{size:h.default.Sizes.SIZE_12,color:h.default.Colors.HEADER_SECONDARY},void 0,i))}G.displayName="ReferenceMessages";var F=a.forwardRef((function(e,t){var n,r,m=e.guildId,P=e.messageItem,M=P.message.channel_id,N=P.message.id,D=(0,i.useStateFromStores)([_.default],(function(){return _.default.getCachedMessage(m,M,N)}),[m,M,N]),j=(0,i.useStateFromStores)([f.default],(function(){return f.default.getChannel(M)})),F=(0,s.getChannelIconComponent)(j),x=(0,s.getChannelIconTooltipText)(j),B=null!==(n=null==P?void 0:P.referenceMessages)&&void 0!==n?n:[],V=(0,l.default)(j),W=w(a.useState(!1),2),H=W[0],z=W[1],Y=(0,i.useStateFromStores)([c.default],(function(){return null!=D&&c.default.isBlocked(null==D?void 0:D.author.id)})),K=(0,o.useListItem)(null!==(r=null==D?void 0:D.id)&&void 0!==r?r:N),$=(0,g.default)(P),q=(0,i.useStateFromStores)([d.default],(function(){return d.default.getSidebarState(C.StaticChannelRoute.GUILD_HOME)
})),Z=null!=q&&"initialMessageId"in q&&P.message.id===(null==q?void 0:q.initialMessageId),X=(0,E.default)({guildId:m,channelId:M,messageId:N}),Q=X.handleMessageClick,J=X.handleChannelClick,ee=X.handleCardClick;if(null==j||null==D||null==P||Y)return null;var te=function(){var e=k(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return U();case 2:n=e.sent;r=L(n,{messageItem:P,message:D,channel:j,onSelect:t});return e.abrupt("return",(function(e){return r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.createElement(S.default,{ref:t,selected:Z,onCardClick:ee,onItemClick:Q,onContextMenu:function(e){e.stopPropagation();(0,u.openContextMenuLazy)(e,k(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return U();case 2:t=e.sent;return e.abrupt("return",(function(e){
return a.createElement(t,R({},e,{messageItem:P,channel:j,message:D}))}));case 4:case"end":return e.stop()}}),e)}))))},itemId:$,ariaLabel:T.default.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:V}),listItemProps:K,onMouseEnter:function(){return z(!0)},onMouseLeave:function(){return z(!1)}},L(O.default,{},void 0,L(p.default,{className:A.default.channelNameContainer,onClick:J},void 0,null!=F?L(v.default,{text:x,delay:500},void 0,(function(e){return a.createElement(F,R({},e,{className:A.default.channelIcon,height:20,width:20}))})):null,L(y.default,{className:A.default.channelName,size:h.default.Sizes.SIZE_16},void 0,V)),L("div",{className:A.default.messageHeaderMenu},void 0,L(G,{referenceMessages:B,guildId:m}),L(b.default,{feedItem:P,guildId:m,renderContextPopout:te}))),L(I.default,{className:A.default.messageItemBody,guildId:m,animateAvatar:H,channel:j,message:D}))}));t.default=F},155762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=T(n(667294)),o=I(n(795715)),i=n(536211),u=T(n(538930)),l=n(140092),s=n(927510),d=I(n(116518)),f=n(907932),c=I(n(864061)),p=I(n(979674)),v=n(566142),y=I(n(737483)),h=I(n(290629)),m=I(n(728429)),_=I(n(37985)),g=n(961365),E=I(n(971639)),S=I(n(776360)),O=n(64072),b=I(n(581145));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=a.memo((function(e){var t=e.channel,n=e.message,r=e.className,o=a.useRef(null);return A("div",{className:r},void 0,A(M,{channel:t,message:n}),A(N,{channel:t,message:n}),A(D,{channel:t,facepileRef:o}))}));t.default=P;function M(e){var t,n,r=e.channel,l=e.message,s=(0,i.useStateFromStores)([m.default],(function(){return m.default.getUser(r.ownerId)})),d=(0,f.useNullableUserAuthor)(s,r);a.useEffect((function(){null!=r.ownerId&&y.default.requestMember(r.guild_id,r.ownerId)}),[r.guild_id,r.ownerId]);var c=o.default.extractTimestamp(l.id);return A("div",{className:b.default.header
},void 0,A("div",{className:b.default.poster},void 0,null==s?A("div",{className:b.default.avatarPlaceholder}):A(u.default,{className:b.default.posterAvatar,user:s,size:u.Sizes.SIZE_16}),A(S.default,{size:S.default.Sizes.SIZE_14,color:S.default.Colors.HEADER_PRIMARY,className:b.default.authorName,style:{color:null==d?void 0:d.colorString}},void 0,null!==(t=null!==(n=null==d?void 0:d.nick)&&void 0!==n?n:null==s?void 0:s.username)&&void 0!==t?t:"")),A("div",{className:b.default.activityPinSection},void 0,A(S.default,{className:b.default.activityText,size:S.default.Sizes.SIZE_12,color:S.default.Colors.HEADER_SECONDARY},void 0,(0,v.getTimestampString)(c))))}M.displayName="ForumPostHeader";function N(e){var t=e.channel,n=e.message,r=a.useMemo((function(){return null!=(null==n?void 0:n.content)&&""!==n.content?(0,d.default)(n,{formatInline:!0}):{hasSpoilerEmbeds:!1,content:null}}),[n]),o=r.hasSpoilerEmbeds,i=r.content,u=(0,l.useFindFirstMediaProperties)(n,o);return A("div",{
className:b.default.body},void 0,A("div",{className:b.default.bodyContent},void 0,A(E.default,{className:b.default.title,size:E.default.Sizes.SIZE_20,color:S.default.Colors.HEADER_PRIMARY},void 0,t.name),A("div",{className:b.default.message},void 0,A(R,{message:n,content:i,hasMediaAttachment:null!=u}))),null==u?null:A(s.ForumPostMediaPreview,{channel:t,firstMedia:u}))}N.displayName="ForumPostBody";var R=a.memo((function(e){var t=e.message,n=e.content,r=e.hasMediaAttachment,a=(0,i.useStateFromStores)([h.default],(function(){return h.default.isBlocked(t.author.id)})),o=(0,g.renderSingleLineMessage)(t,n,a,b.default.messageContent,b.default.messageContentIcon),u=o.contentPlaceholder,l=o.renderedContent;return null!=l?l:r?null:A("span",{className:b.default.messageContent},void 0,u)})),w=A(_.default,{width:16,height:16});function D(e){var t=e.channel,n=e.facepileRef,r=(0,i.useStateFromStores)([c.default],(function(){return c.default.getMemberIdsPreview(t.id)})),a=(0,
i.useStateFromStores)([p.default],(function(){var e;return null!==(e=p.default.getCount(t.id))&&void 0!==e?e:0})),o=a>=O.MAX_THREAD_MESSAGE_COUNT?"50+":a;return A("div",{className:b.default.footer},void 0,A("div",{className:b.default.messageCountBox},void 0,A("span",{className:b.default.messageCountIcon},void 0,w),A(S.default,{className:b.default.messageCount,size:S.default.Sizes.SIZE_14,color:S.default.Colors.CUSTOM},void 0,o)),A("span",{className:b.default.bullet},void 0,"•"),A(s.Facepile,{channel:t,userIds:null!=r?r:[],facepileRef:n}))}D.displayName="ForumPostFooter"},963481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(393356),i=n(536211),u=n(378158),l=A(n(678928)),s=n(341186),d=A(n(502546)),f=A(n(644263)),c=A(n(290629)),p=A(n(16941)),v=A(n(730977)),y=A(n(971639)),h=A(n(776360)),m=A(n(968078)),_=A(n(676509)),g=A(n(938623)),E=A(n(47186)),S=A(n(388884)),O=A(n(514563)),b=A(n(155762)),I=n(173652),C=A(n(247001)),T=A(n(775039));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}var D=function(){var e=w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:t=e.sent;r=t.default;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=a.forwardRef((function(e,t){
var n,r=e.guildId,A=e.postItem,P=A.thread,R=(0,i.useStateFromStores)([m.default],(function(){return m.default.getCachedMessage(r,P.id,A.message.id)}),[r,A.message.id,P.id]),L=(0,l.default)(P),j=(0,i.useStateFromStores)([c.default],(function(){return null!=R&&c.default.isBlocked(null==R?void 0:R.author.id)})),k=(0,o.useListItem)(null!==(n=null==R?void 0:R.id)&&void 0!==n?n:A.message.id),U=(0,_.default)(A),G=(0,s.getChannelIconTooltipText)(P),F=(0,i.useStateFromStores)([f.default],(function(){return f.default.getChannel(P.parent_id)})),x=(0,l.default)(F),B=(0,s.getChannelIconComponent)(F),V=(0,i.useStateFromStores)([d.default],(function(){return d.default.getSidebarState(I.StaticChannelRoute.GUILD_HOME)})),W=null!=V&&"initialMessageId"in V&&A.message.id===(null==V?void 0:V.initialMessageId),H=(0,g.default)({guildId:r,channelId:P.id,messageId:A.message.id}),z=H.handleMessageClick,Y=H.handleChannelClick,K=H.handleCardClick;if(null==P||null==R||null==A||j)return null;var $=function(){
var e=w(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return D();case 2:n=e.sent;r=N(n,{messageItem:A,message:R,channel:P,onSelect:t});return e.abrupt("return",(function(e){return r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.createElement(E.default,{ref:t,selected:W,onCardClick:K,onItemClick:z,onContextMenu:function(e){e.stopPropagation();(0,u.openContextMenuLazy)(e,w(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return D();case 2:t=e.sent;return e.abrupt("return",(function(e){return a.createElement(t,M({},e,{messageItem:A,channel:P,message:R}))}));case 4:case"end":return e.stop()}}),e)}))))},itemId:U,ariaLabel:C.default.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:L}),listItemProps:k},N(S.default,{},void 0,N(p.default,{
className:T.default.channelNameContainer,onClick:Y},void 0,null!=B?N(v.default,{text:G,delay:500},void 0,(function(e){return a.createElement(B,M({},e,{className:T.default.channelIcon,height:20,width:20}))})):null,N(y.default,{className:T.default.channelName,size:h.default.Sizes.SIZE_16},void 0,x)),N("div",{className:T.default.postHeaderMenu},void 0,N(O.default,{feedItem:A,guildId:r,renderContextPopout:$}))),N(b.default,{channel:P,message:R}))}));t.default=L},304242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_STORED_MESSAGES=void 0;var r,a=c(n(496486)),o=c(n(536211)),i=c(n(636602)),u=c(n(644263)),l=c(n(71636)),s=n(566627),d=n(770348),f=n(173652);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}t.MAX_STORED_MESSAGES=20;var v={},y={},h={};function m(e){var t=y[e];if(null!=t){var n=a.default.findIndex(t,(function(e){
return e.id>l.default.fromTimestamp(Date.now()-9e5)}));if(-1===n)y[e]=[];else{var r=Math.max(n,t.length-20);y[e]=a.default.slice(t,r)}h[e]=Date.now()}}function _(e){var t=e.channel;delete y[t.id];delete h[t.id]}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getActiveChannelIds=function(e){return v[e]};n.getChannelMessageData=function(e){return y[e]};return t}(o.default.Store);g.displayName="ActiveChannelsStore";var E=new g(i.default,((r={})[d.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId,n=e.guildId;0;if(!(0,f.isGuildHomeChannel)(t)||null==n)return!1;var r=v[n];if(null==r)return!1;r.forEach((function(e){var t;m(e);0===(null===(t=y[e])||void 0===t?void 0:t.length)&&delete y[e]}));var o=a.default.chain(Array.from(r)).filter((function(e){return e in y})).sortBy((function(e){var t,n
;return-(null!==(t=null===(n=y[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0)})).value();v[n]=new Set(o)},r[d.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.channelId,n=e.message,r=e.optimistic,a=e.isPushNotification;0;if(r||a)return!1;var o=u.default.getChannel(t);if(null==o)return!1;var i=o.guild_id;if(null==i)return!1;if(!(0,s.canSeeGuildHome)(i))return!1;null==v[i]&&(v[i]=new Set);v[i].add(t);var l=h[t];(null==l||l+3e5>Date.now())&&m(t);null==y[t]&&(y[t]=[]);y[t].push({id:n.id,userId:n.author.id})},r[d.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;delete v[t.id]},r[d.ActionTypes.CHANNEL_DELETE]=_,r[d.ActionTypes.THREAD_DELETE]=_,r));t.default=E},82141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.saveGuildHomeScrollPosition=function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.GUILD_HOME_SET_SCROLL_POSITION,guildId:e,scrollPosition:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},1110:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(636602)),a=s(n(177230)),o=n(742965),i=n(389666),u=n(770348),l=n(173652);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleChannelPreload=function(e){var t=e.guildId,n=e.channelId;if(null==t)return!1;if(n!==l.StaticChannelRoute.GUILD_HOME)return!1;if(!(0,i.shouldFetchGuildFeed)(t,!1))return!1;(0,o.fetchGuildFeed)(t)};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(u.ActionTypes.CHANNEL_PRELOAD,this.handleChannelPreload)};n._terminate=function(){r.default.unsubscribe(u.ActionTypes.CHANNEL_PRELOAD,this.handleChannelPreload)};return t}(a.default))
;t.default=f},173101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(468811)),o=s(n(536211)),i=s(n(636602)),u=n(770348),l=n(173652);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f,c,p={};var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSavedScrollPosition=function(e){return p[e]};n.getHomeSessionId=function(){return c};return t}(o.default.Store);v.displayName="GuildHomeStore";var y=new v(i.default,((r={})[u.ActionTypes.CONNECTION_OPEN]=function(){p={}},r[u.ActionTypes.GUILD_FEED_FETCH_START]=function(e){var t=e.guildId;delete p[t]},r[u.ActionTypes.GUILD_HOME_SET_SCROLL_POSITION]=function(e){var t=e.guildId,n=e.scrollPosition;p[t]=n},r[u.ActionTypes.CHANNEL_SELECT]=function(e){
var t=e.guildId,n=e.channelId;if(null!=t&&null!=n&&(0,l.isStaticChannelRoute)(n)&&(0,l.isGuildHomeChannel)(n)){var r=(0,l.buildGuildStaticChannelId)(n,t);if(f!==r){c=a.default.v4();f=r}}else{f=void 0;c=void 0}},r));t.default=y},466366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ve
;var r,a=ee(n(667294)),o=Q(n(294184)),i=Q(n(496486)),u=n(393356),l=n(536211),s=Q(n(136873)),d=n(123516),f=Q(n(876647)),c=Q(n(631294)),p=n(341186),v=n(385753),y=Q(n(910999)),h=Q(n(645923)),m=Q(n(141776)),_=Q(n(187295)),g=Q(n(751410)),E=n(567186),S=Q(n(607209)),O=Q(n(423046)),b=Q(n(644263)),I=Q(n(30098)),C=Q(n(689389)),T=Q(n(211136)),A=Q(n(946447)),P=Q(n(728429)),M=Q(n(387692)),N=Q(n(487372)),R=Q(n(16941)),w=Q(n(730977)),D=Q(n(69405)),L=Q(n(68259)),j=Q(n(810919)),k=Q(n(971639)),U=Q(n(776360)),G=ee(n(152731)),F=n(235742),x=Q(n(308920)),B=n(71246),V=Q(n(71636)),W=ee(n(304242)),H=Q(n(173101)),z=n(770348),Y=n(124042),K=Q(n(247001)),$=Q(n(831689)),q=Q(n(746932)),Z=Q(n(572274)),X=["ref"];function Q(e){return e&&e.__esModule?e:{default:e}}function J(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(J=function(e){return e?n:t})(e)}function ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=J(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ae(){ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return ae.apply(this,arguments)}var oe=153;function ie(e){var t=e.guildId,n=e.channel,r=e.text,o=e.activityIndicator,i=e.usersInSummary,u=e.onChannelClick,l=e.channelIconOptions,s=(0,p.getChannelIconComponent)(n,null,l),d=(0,p.getChannelIconTooltipText)(n),c=(0,f.default)(Y.COLLAPSED_SIZE_MEDIA_QUERY),v=re(s,{width:16,height:16});return re(R.default,{className:$.default.channelMain,onClick:u},void 0,re("div",{className:$.default.channelDetails},void 0,null!=s?re(w.default,{text:d,delay:500},void 0,(function(e){return a.createElement("div",ae({},e,{className:$.default.channelIconContainer}),v)})):null,re(k.default,{className:$.default.channelName,size:k.default.Sizes.SIZE_14},void 0,n.name),null!=r&&re(U.default,{size:U.default.Sizes.SIZE_12,className:$.default.channelText},void 0,r)),re("div",{className:$.default.avatarContainer},void 0,re(G.default,{guildId:t,users:i,size:c?G.Sizes.SIZE_24:G.Sizes.SIZE_16,max:c?5:3,extraDetail:o})))}ie.displayName="ActiveChannelBase";function ue(e){
var t,n=e.channel,r=e.voiceStates,a=(0,l.useStateFromStores)([S.default],(function(){return S.default.getAllApplicationStreamsForChannel(n.id)[0]})),o=(0,l.useStateFromStores)([S.default],(function(){return null!=a?S.default.getActiveStreamForApplicationStream(a):null})),u=(0,l.useStateFromStores)([O.default],(function(){return O.default.getId()})),f=(0,l.useStateFromStores)([M.default,I.default,C.default],(function(){return null!=a&&(0,v.canWatchStream)(n,M.default,I.default,C.default)}),[a,n]);if(null==a)return null;var c=i.default.chain(r).map("member").find(["userId",a.ownerId]).value(),p=i.default.chain(r).map("user").find(["id",a.ownerId]).value(),m=null!==(t=null==c?void 0:c.nick)&&void 0!==t?t:p.username,_=null!=o&&null!=a&&o.state!==z.ApplicationStreamStates.ENDED&&o.ownerId===a.ownerId;return re(R.default,{onClick:function(){s.default.selectVoiceChannel(n.id);_||(0,d.watchStreamAndTransitionToStream)(a)},className:$.default.previewContainer},void 0,re(h.default,{
className:$.default.previewImage,stream:a}),f?re("div",{className:$.default.previewHover},void 0,re(U.default,{size:U.default.Sizes.SIZE_14,color:U.default.Colors.CUSTOM,className:$.default.previewButton},void 0,(0,y.default)(a,o,u))):null,null!=m&&re("div",{className:$.default.previewName},void 0,re(L.default,{width:18,height:18,className:$.default.icon}),re(U.default,{size:U.default.Sizes.SIZE_14,color:U.default.Colors.CUSTOM},void 0,m)))}ue.displayName="VoiceStreamPreview";function le(e){var t,n=e.guildId,r=e.channel,a=e.voiceStates,o=e.trackChannelClick,u=a.map((function(e){return e.user})),s=(0,m.default)(null!==(t=null==r?void 0:r.id)&&void 0!==t?t:void 0).needSubscriptionToAccess,d=(0,l.useStateFromStores)([C.default],(function(){return!C.default.can(z.Permissions.CONNECT,r)})),f=i.default.map(a,(function(e){var t,n;return null!==(t=null===(n=e.member)||void 0===n?void 0:n.nick)&&void 0!==t?t:e.user.username})).join(", ");return re("div",{className:$.default.channel
},void 0,re(ie,{guildId:n,channel:r,text:f,usersInSummary:u,onChannelClick:function(){if((0,E.isGuildVocalChannelType)(r.type)){var e=T.default.getVoiceChannelId(),t=!C.default.can(z.Permissions.CONNECT,r);o(r);c.default.handleVoiceConnect({channel:r,locked:t,connected:e===r.id,needSubscriptionToAccess:s})}},channelIconOptions:{locked:d}}),re(ue,{channel:r,voiceStates:a}))}le.displayName="ActiveVoiceChannel";function se(e){var t=e.guildId,n=e.channel,r=e.trackChannelClick,a=(0,l.useStateFromStoresArray)([W.default],(function(){var e;return null!==(e=W.default.getChannelMessageData(n.id))&&void 0!==e?e:[]})),o=i.default.uniq(i.default.map(a,"userId")),u=(0,l.useStateFromStoresArray)([P.default],(function(){return o.map((function(e){return P.default.getUser(e)}))})),s=(0,l.useStateFromStores)([A.default],(function(){var e=A.default.getTypingUsers(n.id);return Object.keys(e).length>0}),[n.id]),d=a.length<W.MAX_STORED_MESSAGES?K.default.Messages.ACTIVE_CHANNELS_FEW_MESSAGES.format({
count:a.length}):K.default.Messages.ACTIVE_CHANNELS_MANY_MESSAGES,f=s?re("div",{className:$.default.typingIndicator},void 0,re(j.default,{className:$.default.ellipsis,dotRadius:2,themed:!0})):null;return re("div",{className:$.default.channel},void 0,re(ie,{guildId:t,channel:n,usersInSummary:u.filter(B.isNotNullish),text:d,activityIndicator:f,onChannelClick:function(){r(n);(0,_.default)(z.Routes.CHANNEL(n.guild_id,n.id,V.default.fromTimestamp(Date.now())))}}))}se.displayName="ActiveTextChannel";function de(){return re("div",{className:(0,o.default)($.default.channel,$.default.spacerChannel)},void 0,re("img",{src:Z.default,className:$.default.spacerChannelImg,alt:"","aria-hidden":!0}),re("div",{className:$.default.spacerChannelText},void 0,re(U.default,{size:U.default.Sizes.SIZE_16},void 0,K.default.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_TITLE),re(U.default,{size:U.default.Sizes.SIZE_12},void 0,K.default.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_SUBTITLE)))}
de.displayName="CollapsedViewSpacer";function fe(){return re("div",{className:$.default.emptyStateContainer},void 0,re("img",{className:$.default.image,src:q.default,width:154,height:48,alt:""}),re(k.default,{className:$.default.title,size:k.default.Sizes.SIZE_16},void 0,K.default.Messages.ACTIVE_CHANNELS_EMPTY_TITLE),re(U.default,{className:$.default.subtitle,color:U.default.Colors.HEADER_SECONDARY,size:U.default.Sizes.SIZE_14},void 0,K.default.Messages.ACTIVE_CHANNELS_EMPTY_SUBTITLE))}fe.displayName="ActiveChannelsEmpty";var ce=re(fe,{}),pe=re(de,{});function ve(e){var t=e.guildId,n=(0,l.useStateFromStores)([H.default],(function(){return H.default.getHomeSessionId()})),r=(0,l.useStateFromStoresArray)([W.default],(function(){var e=W.default.getActiveChannelIds(t);return null!=e?Array.from(e):[]})),i=(0,l.useStateFromStoresArray)([b.default,C.default],(function(){return r.map((function(e){return b.default.getChannel(e)})).filter(B.isNotNullish).filter((function(e){return(0,
E.isTextChannel)(e.type)})).filter((function(e){return C.default.can(z.Permissions.VIEW_CHANNEL,e)}))})),s=(0,l.useStateFromStores)([I.default],(function(){var e;return null===(e=I.default.getGuild(t))||void 0===e?void 0:e.afkChannelId})),d=(0,l.useStateFromStores)([N.default],(function(){return N.default.getVoiceStates(t)})),c=Object.keys(d).filter((function(e){return d[e].length>0})),p=(0,l.useStateFromStoresArray)([C.default,b.default],(function(){return c.filter((function(e){return e!==s})).map((function(e){return b.default.getChannel(e)})).filter(B.isNotNullish).filter((function(e){return C.default.can(z.Permissions.VIEW_CHANNEL,e)}))})),v=i.length+p.length,y=v>0,h=a.useRef(null),m=(0,g.default)("active-channels",h),_=(0,f.default)(Y.COLLAPSED_SIZE_MEDIA_QUERY),S=te(a.useState(!0),2),O=S[0],T=S[1],A=te(a.useState(!1),2),P=A[0],M=A[1],w=function(){var e=h.current;if(null!=e){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth;T(n<=0);M(n>=r-600-1)}
},L=a.useCallback((function(){var e=h.current;if(null!=e){var t=e.getScrollerState().scrollLeft,n=Math.ceil((t-612)/oe)*oe;e.scrollTo({to:Math.max(0,n),animate:!0})}}),[h]),j=a.useCallback((function(){var e=h.current;if(null!=e){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth,a=Math.floor((n+612)/oe)*oe;e.scrollTo({to:Math.min(r,a),animate:!0})}}),[h]);a.useEffect((function(){x.default.track(z.AnalyticEvents.ACTIVE_CHANNELS_LOADED,{guild_id:t,text_channels_shown:i.length,voice_channels_shown:p.length,home_session_id:n})}),[t]);var U=function(e){x.default.track(z.AnalyticEvents.ACTIVE_CHANNEL_CLICKED,{guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,text_channels_shown:i.length,voice_channels_shown:p.length,home_session_id:n})};return re("div",{className:$.default.container},void 0,re(k.default,{className:$.default.header,size:k.default.Sizes.SIZE_16},void 0,K.default.Messages.ACTIVE_CHANNELS_HEADER),y?re(u.ListNavigatorProvider,{navigator:m
},void 0,re(u.ListNavigatorContainer,{},void 0,(function(e){var n=e.ref,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,X);return a.createElement(F.AdvancedScrollerNone,ae({className:$.default.channelList,orientation:"horizontal",paddingFix:!1,onScroll:w,ref:function(e){var t;h.current=e;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null;w()}},r),i.slice(0,10).map((function(e){return re(se,{guildId:t,channel:e,trackChannelClick:U},e.id)})),p.map((function(e){return re(le,{guildId:t,channel:e,voiceStates:d[e.id],trackChannelClick:U},e.id)})),v<4&&pe)}))):ce,_&&y&&!O&&re(R.default,{className:(0,o.default)($.default.scrollIcon,$.default.left),onClick:L,"aria-hidden":!0},void 0,re(D.default,{direction:D.default.Directions.LEFT,height:12,width:12})),_&&y&&!P&&re(R.default,{className:(0,o.default)($.default.scrollIcon,$.default.right),onClick:j,"aria-hidden":!0
},void 0,re(D.default,{direction:D.default.Directions.RIGHT,height:12,width:12})))}ve.displayName="ActiveChannels"},389396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(742965),u=_(n(922748)),l=_(n(741645)),s=_(n(968078)),d=_(n(389666)),f=_(n(952572)),c=_(n(173101)),p=n(729869),v=_(n(429612)),y=_(n(377851)),h=n(124042),m=_(n(960251));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=O(a.useState(null),2),n=t[0],r=t[1];a.useEffect((function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.getScrollerNode();if(null!=n){
var a=new ResizeObserver((function(e){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=n()).done;){var a=t.value;r(a.contentRect.height)}}));a.observe(n);return function(){a.disconnect()}}}),[e]);return n}var T=E(v.default,{});function A(e){var t=e.guild,n=e.renderMode,r=e.scrollerRef,v=(0,o.useStateFromStores)([s.default],(function(){return s.default.getSectionedItemIds(t.id)})),_=(0,o.useStateFromStores)([s.default],(function(){return s.default.getLoadId(t.id)})),g=(0,o.useStateFromStores)([c.default],(function(){return c.default.getHomeSessionId()})),O=(0,
d.default)(t.id),b=O.loading,I=O.error,A=O.fetch;a.useEffect((function(){u.default.initialize();return function(){u.default.terminate()}}),[]);a.useLayoutEffect((function(){if(null!=_&&!b&&null!=g){(0,i.sendFeedShownAnalytics)(t.id);var e=new l.default(t.id,_,g);e.initialize();return function(){e.terminate()}}}),[t.id,_,b,g]);var P=C(r),M=a.useMemo((function(){return n!==h.GuildFeedRenderMode.NEW||null==v?[]:S(v[h.GuildFeedSectionTypes.ALL]).sort((function(e,t){return-e.localeCompare(t)}))}),[v,n]),N=a.useCallback((function(){A({force:!0})}),[A]);a.useEffect((function(){if(b){var e;null===(e=r.current)||void 0===e||e.scrollToTop()}}),[b]);return b?E("div",{className:m.default.container},void 0,T):null!=I?E(p.GuildFeedError,{onReloadClick:N}):null==v||v[h.GuildFeedSectionTypes.READ].length+v[h.GuildFeedSectionTypes.UNREAD].length===0?E(p.GuildFeedEmpty,{onReloadClick:N}):n===h.GuildFeedRenderMode.TOP?E("div",{className:m.default.container
},void 0,v[h.GuildFeedSectionTypes.ALL].map((function(e){return E(f.default,{guildId:t.id,itemId:e,scrollerHeight:P,scrollerRef:r},e)})),E(p.GuildFeedFooter,{onReloadClick:N})):n===h.GuildFeedRenderMode.NEW?E("div",{className:m.default.container},void 0,M.map((function(e){return E(f.default,{guildId:t.id,itemId:e,scrollerHeight:P,scrollerRef:r},e)})),E(p.GuildFeedFooter,{onReloadClick:N})):E("div",{className:m.default.container},void 0,v[h.GuildFeedSectionTypes.UNREAD].map((function(e){return E(f.default,{guildId:t.id,itemId:e,scrollerHeight:P,scrollerRef:r},e)})),v[h.GuildFeedSectionTypes.READ].length>0?E(y.default,{onReloadClick:N}):null,v[h.GuildFeedSectionTypes.READ].map((function(e){return E(f.default,{guildId:t.id,itemId:e,scrollerHeight:P,scrollerRef:r},e)})),E(p.GuildFeedFooter,{onReloadClick:N}))}A.displayName="GuildFeedContainer"},729869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedEmpty=m;t.GuildFeedError=_;t.GuildFeedFooter=h
;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(294184)),o=p(n(956117)),i=p(n(37985)),u=p(n(571830)),l=p(n(971639)),s=p(n(776360)),d=n(770348),f=p(n(247001)),c=p(n(577084));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.onReloadClick;return y("div",{className:c.default.container},void 0,y("div",{className:c.default.iconContainer},void 0,y(i.default,{className:c.default.icon,width:36,height:36}),y(u.default,{className:c.default.stars})),y(l.default,{className:c.default.header,size:l.default.Sizes.SIZE_16},void 0,f.default.Messages.GUILD_FEED_FOOTER_TITLE),y(s.default,{color:s.default.Colors.HEADER_SECONDARY,size:s.default.Sizes.SIZE_14},void 0,f.default.Messages.GUILD_FEED_FOOTER_SUBTITLE),y(o.default,{onClick:t,className:c.default.button},void 0,f.default.Messages.GUILD_FEED_RELOAD))}h.displayName="GuildFeedFooter";function m(e){var t=e.onReloadClick;return y("div",{className:(0,a.default)(c.default.container,c.default.background)},void 0,y("div",{
className:c.default.iconContainer},void 0,y(i.default,{className:c.default.icon,width:36,height:36}),y(u.default,{className:c.default.stars})),y(l.default,{className:c.default.header,size:l.default.Sizes.SIZE_16},void 0,f.default.Messages.GUILD_FEED_EMPTY_TITLE),y(s.default,{color:s.default.Colors.HEADER_SECONDARY,size:s.default.Sizes.SIZE_14},void 0,f.default.Messages.GUILD_FEED_EMPTY_SUBTITLE),y(o.default,{onClick:t,className:c.default.button},void 0,f.default.Messages.GUILD_FEED_RELOAD))}m.displayName="GuildFeedEmpty";function _(e){var t=e.onReloadClick;return y("div",{className:(0,a.default)(c.default.container,c.default.background)},void 0,y("div",{className:c.default.iconContainer},void 0,y(i.default,{className:c.default.icon,width:36,height:36}),y(u.default,{className:c.default.stars})),y(l.default,{className:c.default.header,size:l.default.Sizes.SIZE_16},void 0,f.default.Messages.GUILD_FEED_ERROR_TITLE),y(s.default,{color:s.default.Colors.HEADER_SECONDARY,
size:s.default.Sizes.SIZE_14},void 0,f.default.Messages.GUILD_FEED_ERROR_SUBTITLE.format({url:d.Links.STATUS})),y(o.default,{onClick:t,className:c.default.button},void 0,f.default.Messages.GUILD_FEED_RELOAD))}_.displayName="GuildFeedError"},429612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return a.createElement(a.Fragment,null,v.map((function(e,t){return c(y,{},t)})))};var r,a=f(n(667294)),o=s(n(496486)),i=n(505280),u=f(n(114557)),l=s(n(266161));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v=new Array(5).fill(null);function y(){var e=a.useMemo((function(){if(!(o.default.random(1)<.5))return p({},(0,i.generateAttachmentSpec)(),{last:!0})}),[]);return c("div",{className:l.default.container
},void 0,c("div",{className:l.default.header},void 0,c(u.ContentBlob,{className:l.default.channelName,opacity:.3,width:80})),c("div",{className:l.default.body},void 0,c(u.default,{messages:5,attachmentSpecs:e})))}y.displayName="PlaceholderCard"},377851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(956117)),o=s(n(992193)),i=s(n(776360)),u=s(n(247001)),l=s(n(12820));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=f(o.default,{height:24,width:24});function p(e){var t=e.onReloadClick;return f("div",{className:l.default.container},void 0,f("div",{className:l.default.divider},void 0,f("div",{className:l.default.line}),f("div",{className:l.default.icon},void 0,c),f("div",{className:l.default.line})),f(i.default,{className:l.default.title,color:i.default.Colors.HEADER_PRIMARY,size:i.default.Sizes.SIZE_16},void 0,u.default.Messages.GUILD_FEED_UNREAD_DIVIDER_TITLE),f(i.default,{
className:l.default.subtitle,color:i.default.Colors.HEADER_SECONDARY,size:i.default.Sizes.SIZE_14},void 0,u.default.Messages.GUILD_FEED_UNREAD_DIVIDER_SUBTITLE),f(a.default,{onClick:t,className:l.default.button},void 0,u.default.Messages.GUILD_FEED_RELOAD))}p.displayName="GuildFeedUnreadDivider"},993407:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(539011),u=p(n(784320)),l=p(n(380439)),s=p(n(971639)),d=p(n(776360)),f=p(n(247001)),c=p(n(383198));function p(e){
return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.guild;a.useEffect((function(){(0,i.fetchGuildForPopout)(t.id)}),[t.id]);var n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t.id)}),[t]);return y("div",{className:c.default.memberInfo},void 0,null!=(null==n?void 0:n.presenceCount)?y("div",{className:c.default.memberCount},void 0,y("div",{className:c.default.dotOnline}),y(d.default,{
size:d.default.Sizes.SIZE_14,className:c.default.memberText},void 0,f.default.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount}))):null,null!=(null==n?void 0:n.memberCount)?y("div",{className:c.default.memberCount},void 0,y("div",{className:c.default.dotOffline}),y(d.default,{size:d.default.Sizes.SIZE_14,className:c.default.memberText},void 0,f.default.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount}))):null)}h.displayName="MemberCounts";function m(e){var t=e.guild;return y("div",{className:c.default.container},void 0,y(l.default,{className:c.default.icon,guild:t,size:l.default.Sizes.LARGER,active:!0}),y(s.default,{className:c.default.name,size:s.default.Sizes.SIZE_24},void 0,t.name),null!=t.description?y(d.default,{className:c.default.description,size:d.default.Sizes.SIZE_16},void 0,t.description):null,y(h,{guild:t}))}m.displayName="GuildHomeInfoWidget"},928205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=z(n(667294)),o=W(n(294184)),i=n(370405),u=n(393356),l=n(536211),s=z(n(174851)),d=W(n(43233)),f=W(n(864345)),c=W(n(673997)),p=W(n(876647)),v=W(n(843314)),y=W(n(216672)),h=W(n(968078)),m=W(n(463024)),_=W(n(751410)),g=W(n(225379)),E=W(n(546914)),S=W(n(252283)),O=z(n(502546)),b=W(n(30098)),I=W(n(205982)),C=W(n(226508)),T=W(n(971639)),A=W(n(967965)),P=n(235742),M=n(82141),N=n(566627),R=W(n(173101)),w=W(n(466366)),D=W(n(389396)),L=W(n(993407)),j=n(770348),k=n(173652),U=n(124042),G=W(n(247001)),F=W(n(738862)),x=W(n(149563)),B=W(n(789278)),V=["ref"];function W(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Y(){Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Y.apply(this,arguments)}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Z=[],X=q(m.default.Icon,{icon:C.default,"aria-hidden":!0}),Q=q(m.default.Divider,{});function J(e){var t=e.guildId;return q(m.default,{
channelId:k.StaticChannelRoute.GUILD_HOME,guildId:t,className:(0,o.default)(x.default.title,F.default.background),innerClassname:F.default.headerBarInner,toolbar:Z},void 0,a.createElement(a.Fragment,null,X,q(v.default,{},void 0,G.default.Messages.GUILD_HOME)),q(m.default.Title,{},void 0,G.default.Messages.GUILD_HOME),a.createElement(a.Fragment,null,Q,q("div",{className:B.default.topic},void 0,G.default.Messages.GUILD_HOME_DESCRIPTION)))}J.displayName="GuildHomePageHeader";function ee(e){var t=e.guild,n=e.containerHeight,r=K(a.useState(0),2),o=r[0],i=r[1],u=(0,c.default)(),l=u.ref,s=u.height;a.useEffect((function(){if(null!=s){i(s+128-n)}}),[n,s]);return q("div",{className:F.default.widgets,style:{top:Math.min(-o,0)}},void 0,a.createElement("div",{className:F.default.widgetsContainer,ref:l},q(L.default,{guild:t}),q(w.default,{guildId:t.id})))}ee.displayName="GuildHomeWidgets";function te(e){var t=e.pageWidth,n=e.onSidebarResize,r=(0,l.useStateFromStores)([O.default],(function(){
return O.default.getSidebarState(k.StaticChannelRoute.GUILD_HOME)}));if(null==r)return null;var a,o=t-j.CHANNEL_SIDEBAR_WIDTH-632;r.type===O.SidebarType.VIEW_THREAD?a=q(S.default,{channelId:r.channelId,baseChannelId:k.StaticChannelRoute.GUILD_HOME}):r.type===O.SidebarType.VIEW_CHANNEL&&(a=q(y.default,{channelId:r.channelId,baseChannelId:k.StaticChannelRoute.GUILD_HOME}));return q(s.default,{sidebarType:s.ChatSidebarType.ThreadSidebar,maxWidth:o,onWidthChange:n},void 0,a)}te.displayName="GuildHomeSidebar";var ne=[{label:"Segment Reads",value:U.GuildFeedRenderMode.SEGMENTED_READ},{label:"Top",value:U.GuildFeedRenderMode.TOP},{label:"New",value:U.GuildFeedRenderMode.NEW}];function re(e){var t=e.renderMode,n=e.setRenderMode;return N.GuildFeedRenderSelectorExperiment.useExperiment({}).showSelector?q(A.default,{className:F.default.selector,options:ne,select:n,isSelected:function(e){return e===t},serialize:function(e){return String(e)}}):null}re.displayName="GuildFeedRenderSelector"
;var ae=(0,f.default)((function(e){var t,n=e.guild,r=e.width,s=e.height,d=n.id,f=(0,l.useStateFromStores)([O.default],(function(){return O.default.getSection(k.StaticChannelRoute.GUILD_HOME)})),v=(0,l.useStateFromStores)([I.default],(function(){return I.default.getCurrentSearchId()})),y=K(a.useState(!1),2),m=y[0],S=y[1],b=K(a.useState(j.DEFAULT_CHAT_SIDEBAR_WIDTH),2),C=b[0],A=b[1],N=f===j.ChannelSections.SEARCH,w=f===j.ChannelSections.SIDEBAR_CHAT,L=N||w,B=a.useRef(null),W=(0,_.default)("top-messages",B),H=(0,c.default)().ref,z=K(a.useState(U.GuildFeedRenderMode.SEGMENTED_READ),2),$=z[0],Z=z[1],X=(0,p.default)(U.COLLAPSED_SIZE_MEDIA_QUERY);a.useEffect((function(){null==h.default.getLoadId(d)&&E.default.closeChannelSidebar(k.StaticChannelRoute.GUILD_HOME)}),[d]);a.useLayoutEffect((function(){var e=R.default.getSavedScrollPosition(d);if(null!=e){var t;null===(t=B.current)||void 0===t||t.scrollTo({to:e})}return function(){
var e,t=null===(e=B.current)||void 0===e?void 0:e.getScrollerState();null!=t&&(0,M.saveGuildHomeScrollPosition)(d,t.scrollTop)}}),[d]);var Q=r-j.CHANNEL_SIDEBAR_WIDTH-C,ne=!(L&&Q<1016)||X,ae=q(re,{renderMode:$,setRenderMode:Z}),oe=q(D.default,{guild:n,renderMode:$,scrollerRef:B}),ie=q(ee,{guild:n,containerHeight:s});return a.createElement(a.Fragment,null,q(i.Helmet,{title:G.default.Messages.GUILD_HOME_HTML_TITLE.format({guildName:n.name})}),q("div",{className:(0,o.default)(x.default.chat,F.default.background,(t={},t[x.default.threadSidebarOpen]=L,t[x.default.threadSidebarFloating]=L&&m,t))},void 0,q(J,{guildId:d}),a.createElement("div",{ref:H,className:x.default.content},q(u.ListNavigatorProvider,{navigator:W},void 0,q(u.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,V);return a.createElement(P.AdvancedScrollerAuto,Y({
className:F.default.homeContainer,ref:function(e){var n;B.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null}},n),q("div",{className:F.default.homeContent},void 0,q("div",{className:F.default.topMessagesHeader},void 0,q(T.default,{size:T.default.Sizes.SIZE_16},void 0,G.default.Messages.GUILD_FEED_TITLE),ae),oe),ne?ie:null)}))),N&&null!=v&&q(g.default,{searchId:v}))),w?q(te,{pageWidth:r,onSidebarResize:function(e,t){S(t);A(e)}}):null)})),oe=q(d.default,{channelId:void 0});function ie(e){var t=e.guildId,n=(0,l.useStateFromStores)([b.default],(function(){return b.default.getGuild(t)}),[t]);return null==n?oe:q(ae,{guild:n})}ie.displayName="GuildHomePageGuard";var ue=ie;t.default=ue},350957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return l(e,t)}var s,d,f,c,p,v,y=i.FormStates.CLOSED,h={},m=!1;function _(){s=void 0;d=void 0;f=void 0;c=void 0;h={};y=i.FormStates.OPEN}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getFormState=function(){return y};n.getErrors=function(){return h};n.showNotice=function(){return void 0!==s||void 0!==d||void 0!==f||void 0!==c};n.getPendingAvatar=function(){return s};n.getPendingBanner=function(){return d};n.getPendingBio=function(){return f};n.getPendingNickname=function(){return c};n.getPendingAccentColor=function(){return c};n.getAllPending=function(){return{pendingAvatar:s,pendingBanner:d,pendingBio:f,pendingNickname:c}};n.getGuild=function(){return p};n.getSource=function(){return v};n.getIsDisableSubmit=function(){return m};return t}(a.default.Store);g.displayName="GuildIdentitySettingsStore"
;var E=new g(o.default,((r={})[i.ActionTypes.GUILD_IDENTITY_SETTINGS_INIT]=function(e){p=e.guild;y=i.FormStates.OPEN;h={};v=e.source},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_CLOSE]=function(){y=i.FormStates.CLOSED;h={};p=null;v=void 0},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT]=function(){y=i.FormStates.SUBMITTING;h={}},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT_FAILURE]=function(e){var t;if(y!==i.FormStates.SUBMITTING)return!1;y=i.FormStates.OPEN;h=null!==(t=e.errors)&&void 0!==t?t:{}},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_AVATAR]=function(e){var t=e.avatar;s=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_BANNER]=function(e){var t=e.banner;d=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_BIO]=function(e){var t=e.bio;f=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_NICKNAME]=function(e){var t=e.nickname;c=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_RESET_ALL_PENDING]=_,r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT_SUCCESS]=_,
r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_DISABLE_SUBMIT]=function(e){var t=e.disable;m=t},r));t.default=E},83e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.usePaginatedMemberApplications=function(e){var t=e.guildId,n=e.guildJoinRequests,a=r.useRef(!1),o=(_=r.useState(null),g=2,function(e){if(Array.isArray(e))return e}(_)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(_,g)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(_,g)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],s=o[1],d=r.useRef(null),h=r.useRef(!1),m=r.useCallback(function(){var e,r=(e=regeneratorRuntime.mark((function e(r,o){var c,p,m,_,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=2;break}return e.abrupt("return");case 2:p=!1;if((c=r+"-"+o)!==d.current){d.current=c;h.current=!1;p=!0}if(!h.current){e.next=7;break}return e.abrupt("return");case 7:null!=l&&s(null);m=y(n,r,o,p);e.prev=9;a.current=!0;e.next=13;return u.default.fetchGuildJoinRequests(f({guildId:t,status:o,limit:v},m));case 13:null!=(_=e.sent)&&_.body.guild_join_requests.length<v&&(h.current=!0);e.next=21;break;case 17:e.prev=17;e.t0=e.catch(9);g=new i.APIError(e.t0);s(g.getAnyErrorMessage());case 21:e.prev=21;a.current=!1;return e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[9,17,21,24]])
})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}(),[l,t,n]);var _,g;return{fetchNextPage:m,error:l}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(730381)),o=s(n(795715)),i=n(327269),u=s(n(868073)),l=n(237639);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}
function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=l.MAX_RESULTS_PER_PAGE*l.MAX_VISIBLE_PAGES;function y(e,t,n,r){var i=n===l.GuildJoinRequestApplicationStatuses.SUBMITTED;if(t===l.GuildJoinRequestSortOrders.TIMESTAMP_DESC){if(r){return{before:o.default.fromTimestamp((new Date).getTime())}}var u=e[e.length-1];return{before:i?u.id:u.actionedAt}}if(r){return{after:o.default.fromTimestamp((0,a.default)().subtract(180,"days").valueOf())}}var s=e[e.length-1];return{after:i?s.id:s.actionedAt}}},912958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.useSelectedApplicationStatus=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedApplicationStatus(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},519589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedGuildJoinRequest=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedGuildJoinRequest(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},322865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedSortOrder=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedSortOrder(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},912322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSortedMemberApplications=function(e){
var t=e.guildId,n=e.applicationStatus,r=e.sortOrder,l=(0,o.useStateFromStores)([i.default],(function(){return i.default.getRequests(t,n)}),[n,t]);return{guildJoinRequests:a.useMemo((function(){return r===u.GuildJoinRequestSortOrders.TIMESTAMP_DESC?(e=l,function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse():l;var e}),[r,l])}};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=(r=n(499098))&&r.__esModule?r:{default:r},u=n(237639);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},267762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(956117)),i=c(n(380439)),u=c(n(971639)),l=c(n(776360)),s=c(n(247001)),d=c(n(133766)),f=c(n(946137));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}var y=function(e){var t=e.reapplyText,n=e.onReapply,r=e.confirmText,c=e.onConfirm,p=e.rejectionReason,y=void 0===p?null:p,h=e.guild,m=void 0===h?null:h;return v("div",{className:d.default.confirmation},void 0,v("div",{className:d.default.confirmationContent},void 0,null!==m?v(i.default,{size:i.default.Sizes.LARGER,guild:m,className:d.default.guildIcon}):v("img",{alt:s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_ICON,src:f.default,className:d.default.verificationStateIcon}),v(u.default,{size:u.default.Sizes.SIZE_24,className:d.default.header},void 0,null!=(null==m?void 0:m.name)?s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE_WITH_GUILD_NAME.format({guildName:m.name}):s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE),null!=y&&""!==y?a.createElement(a.Fragment,null,v(l.default,{size:l.default.Sizes.SIZE_14},void 0,v("span",{className:d.default.rejectionReasonLabel
},void 0,s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_REASON),v("span",{className:d.default.rejectionReason},void 0,y))):null),v("div",{className:d.default.confirmationButtonRow},void 0,v(o.default,{onClick:n,color:o.default.Colors.PRIMARY,className:d.default.confirmationButton},void 0,t),v(o.default,{onClick:c,color:o.default.Colors.PRIMARY,className:d.default.confirmationButton},void 0,r)))};y.displayName="MemberVerificationApplicationRejected";var h=y;t.default=h},332996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(956117)),o=f(n(380439)),i=f(n(971639)),u=f(n(776360)),l=f(n(247001)),s=f(n(133766)),d=f(n(692760));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.onCancel,n=e.onLeave,r=e.guild,f=void 0===r?null:r;return p("div",{className:s.default.confirmation},void 0,p("div",{className:s.default.confirmationContent},void 0,null!==f?p(o.default,{size:o.default.Sizes.LARGER,
guild:f,className:s.default.guildIcon}):p("img",{alt:l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_ICON,src:d.default,className:s.default.verificationStateIcon}),p(i.default,{size:i.default.Sizes.SIZE_24,className:s.default.header},void 0,null!=(null==f?void 0:f.name)?l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE_WITH_GUILD_NAME.format({guildName:f.name}):l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE),p(u.default,{size:u.default.Sizes.SIZE_14,color:u.default.Colors.HEADER_SECONDARY},void 0,l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE)),p("div",{className:s.default.confirmationButtonColumn},void 0,p(a.default,{onClick:t,look:a.default.Looks.LINK,color:a.default.Colors.LINK,size:a.default.Sizes.SMALL},void 0,l.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION),p(a.default,{onClick:n,look:a.default.Looks.LINK,color:a.default.Colors.LINK,size:a.default.Sizes.SMALL
},void 0,l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_MODAL_WITHDRAW_AND_LEAVE)))};v.displayName="MemberVerificationApplicationSubmitConfirmation";var y=v;t.default=y},545130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MemberVerificationPreviewDisabled=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(139982),u=A(n(30098)),l=A(n(956117)),s=A(n(194815)),d=A(n(502197)),f=n(194322),c=A(n(776360)),p=n(549186),v=A(n(692711)),y=A(n(868073)),h=A(n(542307)),m=A(n(849997)),_=n(237639),g=A(n(943819)),E=A(n(267762)),S=A(n(332996)),O=A(n(757349)),b=n(770348),I=n(99043),C=A(n(247001)),T=A(n(613599));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t,n=e.guildId,r=e.inviteCode,A=w(a.useState(I.WaveStates.INITIAL),2),P=A[0],D=A[1],L=(0,o.useStateFromStores)([m.default],(function(){return m.default.get(n)})),j=(0,o.useStateFromStores)([g.default],(function(){return g.default.getRequest(n)})),k=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(n)})),U=(0,o.useStateFromStoresObject)([g.default],(function(){return{hasFetchedRequestToJoinGuilds:g.default.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:g.default.getJoinRequestGuild(n)}})),G=U.hasFetchedRequestToJoinGuilds,F=U.guildPreviewDisabled;a.useEffect((function(){null!=k&&(0,i.transitionTo)(b.Routes.CHANNEL(n))}),[k,n]);a.useEffect((function(){
G||y.default.fetchRequestToJoinGuilds()}),[G]);var x=a.useCallback((function(e){D((function(t){return Math.max(t,e)}))}),[]),B=function(e,t){return function(){(0,f.openModal)((function(n){return a.createElement(d.default,N({header:C.default.Messages.MEMBER_VERIFICATION_CONFIRM_LEAVE_TITLE,cancelText:C.default.Messages.NEVERMIND,onConfirm:t,confirmText:C.default.Messages.YES_TEXT,confirmButtonColor:l.default.Colors.RED},n),R(c.default,{size:c.default.Sizes.SIZE_14,color:c.default.Colors.HEADER_SECONDARY},void 0,e))}))}},V=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return h.default.submitVerificationForm(n,t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}
}(),W=function(){y.default.resetGuildJoinRequest(n)},H=B(C.default.Messages.LEAVE_SERVER_BODY.format({name:null==k?void 0:k.toString()}),(function(){D(Math.max(P,I.WaveStates.FILLING));y.default.removeGuildJoinRequest(n);(0,i.transitionTo)(b.Routes.ME)})),z=R(O.default,{guildId:n,inviteCode:r,onComplete:V}),Y=null!=(null==L||null===(t=L.guild)||void 0===t?void 0:t.splash)?v.default.getGuildSplashURL({id:L.guild.id,splash:L.guild.splash}):(0,p.getArtForPath)();return R("div",{className:T.default.page},void 0,R(s.default,{embedded:!0,splash:Y,waveState:P,showLogo:!1,updateWaveState:x},void 0,R("div",{className:T.default.dragRegion}),R("div",{className:T.default.contentWrapper},void 0,function(){switch(null==j?void 0:j.applicationStatus){case _.GuildJoinRequestApplicationStatuses.SUBMITTED:return R(S.default,{onCancel:B(C.default.Messages.MEMBER_VERIFICATION_CANCEL_PENDING_APPLICATION_MODAL_TITLE,W),onLeave:H,guild:F});case _.GuildJoinRequestApplicationStatuses.REJECTED:
return R(E.default,{reapplyText:C.default.Messages.MEMBER_VERIFICATION_APPLICATION_REAPPLY,onReapply:W,confirmText:C.default.Messages.LEAVE_SERVER,onConfirm:H,rejectionReason:null==j?void 0:j.rejectionReason,guild:F});default:return z}}())))};t.MemberVerificationPreviewDisabled=L;L.displayName="MemberVerificationPreviewDisabled";var j=L;t.default=j},757349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Y(n(667294)),o=H(n(294184)),i=n(536211),u=H(n(939949)),l=n(825185),s=H(n(235879)),d=H(n(268660)),f=H(n(539563)),c=H(n(433385)),p=H(n(311492)),v=H(n(876874)),y=H(n(30098)),h=H(n(728429)),m=H(n(956117)),_=H(n(530250)),g=H(n(380439)),E=H(n(230047)),S=H(n(279950)),O=H(n(730977)),b=n(688388),I=H(n(662197)),C=n(3400),T=H(n(971639)),A=H(n(776360)),P=H(n(308920)),M=H(n(692711)),N=H(n(542307)),R=Y(n(849997)),w=n(237639),D=n(41787),L=n(327769),j=H(n(233915)),k=n(602175),U=n(770348),G=H(n(247001)),F=H(n(133766)),x=H(n(698242)),B=H(n(483683)),V=H(n(63685)),W=H(n(634737));function H(e){return e&&e.__esModule?e:{default:e}}function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function K(){K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return K.apply(this,arguments)}function $(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,u,"next",e)}function u(e){$(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Z(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te;!function(e){e[e.CLAIM_ACCOUNT=0]="CLAIM_ACCOUNT";e[e.EMAIL_CONFIRMATION=1]="EMAIL_CONFIRMATION";e[e.VERIFICATION_FORM=2]="VERIFICATION_FORM"}(te||(te={}));var ne=function(e){var t=e.email,n=e.password,r=e.setEmail,a=e.setPassword,o=e.emailError,i=e.passwordError;return ee("div",{className:F.default.content},void 0,ee("img",{
alt:G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_ICON,src:x.default,className:F.default.applicationIcon}),ee(T.default,{size:T.default.Sizes.SIZE_24,className:F.default.header},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_TITLE),ee(A.default,{size:A.default.Sizes.SIZE_14,color:A.default.Colors.HEADER_SECONDARY},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_SUBTITLE),ee("hr",{className:F.default.divider}),ee(b.FormItem,{title:G.default.Messages.FORM_LABEL_EMAIL,className:F.default.formItem},void 0,ee(S.default,{value:t,error:o,onChange:r,autoFocus:!0})),ee(b.FormItem,{title:G.default.Messages.FORM_LABEL_PASSWORD,className:F.default.formItem},void 0,ee(S.default,{type:"password",value:n,error:i,onChange:a})))};ne.displayName="MemberVerificationClaimAccountStep";var re=function(e){var t=e.email;return ee("div",{className:F.default.content},void 0,ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFY_EMAIL_ICON,src:W.default,
className:F.default.applicationIcon}),ee(T.default,{size:T.default.Sizes.SIZE_24,className:F.default.header},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_TITLE.format({email:t})),ee(A.default,{size:A.default.Sizes.SIZE_14,color:A.default.Colors.HEADER_SECONDARY},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_SUBTITLE),ee(m.default,{className:F.default.resendButton,size:m.default.Sizes.NONE,look:m.default.Looks.LINK,onClick:function(){return u.default.verifyResend()}},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_RESEND))};re.displayName="MemberVerificationEmailConfirmationStep";var ae=function(){return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){return e.default}))},oe=function(e){var t=e.guildId,n=e.formState,r=e.updateFormState,a=e.useReducedMotion,i=e.isPreview,u=void 0!==i&&i;return ee("div",{className:F.default.content},void 0,ee("div",{className:F.default.animationAndSparklesContainer},void 0,ee("img",{
alt:G.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:V.default,className:(0,o.default)(F.default.sparkleIcon,F.default.sparkleBottom)}),ee(E.default,{importData:ae,shouldAnimate:!a,className:F.default.animation}),ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:B.default,className:(0,o.default)(F.default.sparkleIcon,F.default.sparkleTop)})),ee(T.default,{size:T.default.Sizes.SIZE_24,className:F.default.header},void 0,G.default.Messages.MEMBER_VERIFICATION_MODAL_TITLE),ee(A.default,{size:A.default.Sizes.SIZE_14,color:A.default.Colors.HEADER_SECONDARY,className:F.default.subheader},void 0,G.default.Messages.MEMBER_VERIFICATION_MODAL_SUBTITLE),ee("hr",{className:F.default.divider}),ee(j.default,{className:F.default.verificationForm,guildId:t,formState:n,updateFormState:r,isPreview:u}))};oe.displayName="MemberVerificationFormStep";var ie=function(e){var t,n,r,u=e.guildId,E=e.onClose,S=e.onComplete,b=e.inviteCode,j=e.isPreview,x=void 0!==j&&j,B=(0,
L.useMemberVerificationFormNoticeStore)((function(e){return e.hasUnsubmittedChanges})),V=(0,i.useStateFromStores)([y.default],(function(){return y.default.getGuild(u)})),W=(0,i.useStateFromStores)([R.default],(function(){return R.default.get(u)})),H=(0,i.useStateFromStores)([h.default],(function(){return h.default.getCurrentUser()})),z=!(null==H?void 0:H.isClaimed()),Y=null==H?void 0:H.verified,$=null==H?void 0:H.isPhoneVerified(),Q=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuildEmoji(u)})),J=(0,i.useStateFromStoresObject)([p.default],(function(){return{storeMemberCount:p.default.getMemberCount(u),storeOnlineCount:p.default.getOnlineCount(u)}
})),ae=J.storeMemberCount,ie=J.storeOnlineCount,ue=X(a.useState(null!==(t=null==W?void 0:W.formFields)&&void 0!==t?t:[]),2),le=ue[0],se=ue[1],de=X(a.useState(!1),2),fe=de[0],ce=de[1],pe=X(a.useState(null),2),ve=pe[0],ye=pe[1],he=X(a.useState(z?te.CLAIM_ACCOUNT:te.VERIFICATION_FORM),2),me=he[0],_e=he[1],ge=X(a.useState(""),2),Ee=ge[0],Se=ge[1],Oe=X(a.useState(""),2),be=Oe[0],Ie=Oe[1],Ce=X(a.useState(null),2),Te=Ce[0],Ae=Ce[1],Pe=X(a.useState(null),2),Me=Pe[0],Ne=Pe[1],Re=null==W?void 0:W.guild,we=a.useMemo((function(){return null!=V?V:null!=Re?new f.default(Re):null}),[V,Re]),De=a.useMemo((function(){var e,t=Z(null!==(e=0===Q.length?null==Re?void 0:Re.emojis:Q)&&void 0!==e?e:[]).reverse(),n=0,r=t.length;if(r>12&&null!=t){t=t.slice(0,11);n=Math.min(r-t.length,99)}return{emojisToRender:t,remainingEmojis:n,numGuildEmoji:r}
}),[Re,Q]),Le=De.emojisToRender,je=De.remainingEmojis,ke=De.numGuildEmoji,Ue=null!=ae?ae:null==Re?void 0:Re.approximate_member_count,Ge=null!=ie?ie:null==Re?void 0:Re.approximate_presence_count;a.useEffect((function(){(0,L.setHasUnsubmittedChanges)(!1);return function(){(0,L.setHasUnsubmittedChanges)(!1)}}),[]);a.useEffect((function(){N.default.fetchVerificationForm(u,b)}),[u,b]);a.useEffect((function(){null!=W&&se(W.formFields)}),[W]);a.useEffect((function(){null!=H&&H.isClaimed()&&_e(te.VERIFICATION_FORM)}),[H]);a.useEffect((function(){me===te.EMAIL_CONFIRMATION&&Y&&_e(te.VERIFICATION_FORM)}),[me,Y]);a.useEffect((function(){null!=u&&P.default.track(U.AnalyticEvents.OPEN_MODAL,{type:k.MEMBER_VERIFICATION_TYPE,guild_id:u})}),[u]);a.useEffect((function(){var e=le.some((function(e){return e.field_type!==w.VerificationFormFieldTypes.TERMS&&(0,D.isValidFormResponse)(e)}));e&&!B?(0,L.setHasUnsubmittedChanges)(!0):!e&&B&&(0,L.setHasUnsubmittedChanges)(!1)}),[le,B])
;var Fe=a.useMemo((function(){return!(((null==we?void 0:we.verificationLevel)!==U.VerificationLevels.VERY_HIGH||(null==H?void 0:H.isStaff()))&&Y||$)||le.some((function(e){return!(0,D.isValidFormResponse)(e)}))}),[le,we,$,Y,H]),xe=(0,i.useStateFromStores)([s.default],(function(){return s.default.useReducedMotion}));if(null==we)return null;var Be=function(){var e=q(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(!0);Ae(null);Ne(null);e.prev=3;e.next=6;return(0,l.saveAccountRequest)({email:Ee,password:be});case 6:ce(!1);_e(te.EMAIL_CONFIRMATION);e.next=14;break;case 10:e.prev=10;e.t0=e.catch(3);Ae(null===e.t0||void 0===e.t0||null===(t=e.t0.body)||void 0===t?void 0:t.email);Ne(null===e.t0||void 0===e.t0||null===(n=e.t0.body)||void 0===n?void 0:n.password);case 14:e.prev=14;ce(!1);return e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)
}}(),Ve=function(){var e=q(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(!0);ye(null);if(null==(t=null!=H?v.default.getMember(u,H.id):null)||t.isPending){e.next=6;break}null==E||E(!0);return e.abrupt("return");case 6:e.prev=6;e.next=9;return null==S?void 0:S(K({},null!=W?W:R.NO_MEMBER_VERIFICATION_FORM,{formFields:le}));case 9:null==E||E(!0);e.next=17;break;case 12:e.prev=12;e.t0=e.catch(6);null!=(null==(a=null===e.t0||void 0===e.t0?void 0:e.t0.body)||null===(n=a.errors)||void 0===n?void 0:n.version)||null!=(null==a||null===(r=a.errors)||void 0===r?void 0:r.form_fields)?ye(G.default.Messages.MEMBER_VERIFICATION_VERSION_MISMATCH_ERROR):ye(null==a?void 0:a.message);ce(!1);case 17:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),We=ee(ne,{email:Ee,password:be,setEmail:Se,setPassword:Ie,emailError:Te,passwordError:Me}),He=ee(re,{email:Ee}),ze=ee(oe,{
guildId:u,formState:le,updateFormState:se,isPreview:x,useReducedMotion:xe});return a.createElement(a.Fragment,null,ee(_.default,{direction:_.default.Direction.VERTICAL,justify:_.default.Justify.BETWEEN,className:F.default.guildSidebar,shrink:0},void 0,ee("div",{},void 0,ee(g.default,{guild:we,active:!0,className:(0,o.default)(F.default.guildIcon,(n={},n[F.default.guildIconNoIcon]=null==we.icon,n))}),ee(T.default,{size:T.default.Sizes.SIZE_20,className:F.default.guildName},void 0,null==we?void 0:we.name),ee(A.default,{className:F.default.guildDescription,size:A.default.Sizes.SIZE_14,color:A.default.Colors.HEADER_SECONDARY},void 0,null==W?void 0:W.description),null!=Le&&Le.length>0?a.createElement(a.Fragment,null,ee("hr",{className:F.default.divider}),ee(I.default,{},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_EMOJIS.format({emojis:ke})),ee("div",{className:F.default.emojisContainer},void 0,Le.map((function(e){var t=M.default.getEmojiURL({id:e.id,animated:!1,size:24})
;return ee(O.default,{text:":"+e.name+":"},e.id,(function(e){return a.createElement("img",K({},e,{width:24,height:24,src:t,className:F.default.emoji,alt:""}))}))})),null!=je&&je>0?ee(T.default,{size:T.default.Sizes.SIZE_12,muted:!0,className:F.default.emoji},void 0,"+"+je):null)):null),ee("div",{},void 0,null!=Ge&&ee(_.default,{align:_.default.Align.CENTER,className:F.default.onlineCount},void 0,ee("div",{className:F.default.dotOnline}),ee(A.default,{},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:Ge}))),null!=Ue&&ee(_.default,{align:_.default.Align.CENTER},void 0,ee("div",{className:F.default.dotMembers}),ee(A.default,{},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:Ue}))))),ee("div",{className:F.default.modal},void 0,ee(C.ModalContent,{className:F.default.modalContent},void 0,ee(d.default,{className:(0,o.default)(F.default.sequencer,(r={},r[F.default.centerContent]=me!==te.VERIFICATION_FORM,r)),
steps:[te.CLAIM_ACCOUNT,te.EMAIL_CONFIRMATION,te.VERIFICATION_FORM],step:me},void 0,function(){switch(me){case te.CLAIM_ACCOUNT:return We;case te.EMAIL_CONFIRMATION:return He;case te.VERIFICATION_FORM:return ze}}())),function(){switch(me){case te.CLAIM_ACCOUNT:return ee(C.ModalFooter,{className:F.default.footer},void 0,ee(m.default,{className:F.default.submitButton,type:"submit",submitting:fe,onClick:Be,disabled:0===Ee.length||0===be.length},void 0,G.default.Messages.NEXT),ee(A.default,{size:A.default.Sizes.SIZE_12,color:A.default.Colors.HEADER_SECONDARY},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_INFO));case te.EMAIL_CONFIRMATION:return null;case te.VERIFICATION_FORM:return ee(C.ModalFooter,{className:F.default.footer},void 0,ee(m.default,{className:F.default.submitButton,type:"submit",submitting:fe,onClick:Ve,color:m.default.Colors.GREEN,disabled:null==S||Fe},void 0,G.default.Messages.SUBMIT),null!=ve?ee(A.default,{size:A.default.Sizes.SIZE_12,
color:A.default.Colors.STATUS_RED},void 0,ve):ee(A.default,{color:A.default.Colors.HEADER_SECONDARY,size:A.default.Sizes.SIZE_12},void 0,G.default.Messages.MEMBER_VERIFICATION_WARNING))}}()))};t.default=ie},796015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(294184)),i=n(536211),u=E(n(30098)),l=E(n(790597)),s=E(n(956117)),d=E(n(502197)),f=n(194322),c=E(n(776360)),p=E(n(868073)),v=n(237639),y=E(n(943819)),h=E(n(678875)),m=E(n(247001)),_=E(n(407829)),g=E(n(944659));function E(e){
return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(){var e,t=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuildId()}),[]),r=(0,i.useStateFromStores)([u.default],(function(){return u.default.getGuild(t)}),[t]),E=(0,i.useStateFromStores)([y.default],(function(){return null!=t?y.default.getRequest(t):null}),[t]);if(null==r||!r.hasVerificationGate())return null;var S=null!==(e=null==E?void 0:E.applicationStatus)&&void 0!==e?e:v.GuildJoinRequestApplicationStatuses.STARTED,O=null,T=null,A=null,P=[_.default.notice,g.default.notice];switch(S){case v.GuildJoinRequestApplicationStatuses.SUBMITTED:O=m.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE;T=m.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION;A=function(){(0,f.openModal)((function(e){return a.createElement(d.default,I({header:m.default.Messages.MODIFY_FOLLOWED_NEWS_HEADER,
confirmText:m.default.Messages.CONFIRM,cancelText:m.default.Messages.CANCEL,onConfirm:function(){return p.default.removeGuildJoinRequest(r.id)},confirmButtonColor:s.default.Colors.BRAND},e),C(c.default,{size:c.default.Sizes.SIZE_16},void 0,m.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE))}))};break;case v.GuildJoinRequestApplicationStatuses.REJECTED:O=m.default.Messages.MEMBER_VERIFICATION_REJECTED_TITLE;T=m.default.Messages.MEMBER_VERIFICATION_LEARN_MORE;A=function(){(0,f.openModalLazy)(b(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(13554).then(n.bind(n,838303));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,I({guildId:r.id},e))}));case 5:case"end":return e.stop()}}),e)}))))};P.push(_.default.error);break;default:O=m.default.Messages.MEMBER_VERIFICATION_NOTICE_TEXT;T=m.default.Messages.MEMBER_VERIFICATION_NOTICE_CTA
;A=function(){(0,h.default)(r.id)}}return C("div",{className:o.default.apply(void 0,P)},void 0,C(c.default,{className:_.default.header},void 0,O),C(s.default,{className:_.default.button,look:s.default.Looks.OUTLINED,color:s.default.Colors.WHITE,size:s.default.Sizes.NONE,onClick:A},void 0,T))};T.displayName="PendingGuildMemberNotice";var A=T;t.default=A},710483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(370405),i=n(536211),u=h(n(759027)),l=h(n(30098)),s=h(n(868073)),d=h(n(542307)),f=n(519589),c=h(n(191265)),p=h(n(611408)),v=h(n(247001)),y=h(n(851007));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.guildId,n=(0,f.useSelectedGuildJoinRequest)({guildId:t}),r=(null!=n?n:{}).user,h=a.useMemo((function(){return null!=r?new u.default(r):null}),[r]),m=(0,i.useStateFromStores)([l.default],(function(){
return l.default.getGuild(t)}),[t]);a.useEffect((function(){d.default.fetchVerificationForm(t)}),[t]);return a.createElement(a.Fragment,null,_(o.Helmet,{title:v.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REQUIREMENTS}),_("div",{className:y.default.content},void 0,_(c.default,{guildId:t})),null!=n&&null!=m&&null!=h&&_("section",{className:y.default.sidebar},void 0,_(p.default,{guild:m,guildJoinRequest:n,guildJoinRequestUser:h,onClose:function(){return s.default.setSelectedGuildJoinRequest(t,null)}})))};t.default=g},254048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=n(967965),u=n(237639),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.className,n=e.sortOrder,r=e.onSortChange,a=o.useMemo((function(){return[{value:u.GuildJoinRequestSortOrders.TIMESTAMP_DESC,label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_NEWEST},{value:u.GuildJoinRequestSortOrders.TIMESTAMP_ASC,
label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_OLDEST}]}),[]);return d(i.SingleSelect,{className:t,onChange:r,value:n,options:a})}f.displayName="MemberApplicationSortSelect";var c=f;t.default=c},191265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(776360)),i=_(n(868073)),u=n(83e3),l=n(912958),s=n(519589),d=n(322865),f=n(912322),c=n(181945),p=_(n(254048)),v=_(n(969804)),y=_(n(882793)),h=_(n(247001)),m=_(n(690919));function _(e){return e&&e.__esModule?e:{default:e}}
function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}var b=a.memo((function(e){var t=e.guildId,n=a.useRef(null),r=(0,l.useSelectedApplicationStatus)({guildId:t}),_=(0,
d.useSelectedSortOrder)({guildId:t}),g=(0,s.useSelectedGuildJoinRequest)({guildId:t}),S=(0,c.useSubmittedGuildJoinRequestTotal)({guildId:t}),b=(0,f.useSortedMemberApplications)({guildId:t,applicationStatus:r,sortOrder:_}).guildJoinRequests,I=(0,u.usePaginatedMemberApplications)({guildId:t,guildJoinRequests:b}).fetchNextPage,C=a.useRef(!1);if(!C.current){C.current=!0;I(_,r)}var T=a.useRef(!1);a.useEffect((function(){T.current=!0}),[_,r]);a.useEffect((function(){if(T.current&&0!==b.length){var e;T.current=!1;i.default.setSelectedGuildJoinRequest(t,b[0]);null===(e=n.current)||void 0===e||e.scrollToTop()}}),[t,b,g]);var A=a.useCallback(function(){var e=O(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedSortOrder(t,n);e.next=5;return I(n,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}
}(),[r,_,t,I]),P=a.useCallback(function(){var e=O(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedApplicationStatus(t,n);i.default.setSelectedGuildJoinRequest(t,null);e.next=6;return I(_,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,_,t,I]),M=a.useCallback(O(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=null===(t=n.current)||void 0===t?void 0:t.getScrollerState())){e.next=3;break}return e.abrupt("return");case 3:if(!(a.scrollHeight-a.scrollTop-a.offsetHeight<200)){e.next=7;break}e.next=7;return I(_,r);case 7:case"end":return e.stop()}}),e)}))),[r,_,I]);return a.createElement(a.Fragment,null,E(v.default,{applicationStatus:r,onTabItemSelect:P,pendingGuildJoinRequestsTotal:S}),E("div",{
className:m.default.content},void 0,E("div",{className:m.default.listControls},void 0,E(p.default,{className:m.default.sortSelect,sortOrder:_,onSortChange:A})),E(o.default,{className:m.default.description,size:o.default.Sizes.SIZE_12,color:o.default.Colors.HEADER_SECONDARY},void 0,h.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_LIST_DESCRIPTION),E(y.default,{applicationStatus:r,guildJoinRequests:b,guildId:t,onScroll:M,listRef:n})))}));t.default=b},969804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;c(n(667294));var r,a=d(n(463024)),o=c(n(186465)),i=d(n(214402)),u=n(237639),l=d(n(247001)),s=d(n(624774));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p("div",{});function y(e){var t=e.pendingGuildJoinRequestsTotal,n=e.applicationStatus,r=e.onTabItemSelect;return p(a.default,{className:s.default.container,hideSearch:!0,toolbar:v},void 0,p(a.default.Icon,{icon:i.default,disabled:!0,
"aria-label":l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),p(a.default.Title,{className:s.default.title},void 0,l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS),p(a.default.Divider,{className:s.default.divider}),p(o.default,{"aria-label":l.default.Messages.FRIENDS,selectedItem:n,type:o.Types.TOP_PILL,onItemSelect:r,className:s.default.tabBar},void 0,p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.SUBMITTED},void 0,0===t?l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT.format({count:t})),p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.APPROVED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED),p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.REJECTED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED)))}y.displayName="MemberApplicationsHeader";var h=y;t.default=h},882793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=O(n(294184)),i=n(798628),u=n(536211),l=O(n(415391)),s=O(n(30098)),d=O(n(776360)),f=O(n(521358)),c=O(n(868073)),p=O(n(499098)),v=n(237639),y=n(519589),h=n(181945),m=n(985577),_=n(423277),g=O(n(247001)),E=O(n(631447)),S=["ref","role"];function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(){return null};var A=function(e){var t=e.applicationStatus,n=e.guildJoinRequests,r=e.guildId,O=e.onScroll,b=e.listRef,A=(0,u.useStateFromStores)([s.default],(function(){return s.default.getGuild(r)}),[r]),P=(0,u.useStateFromStores)([p.default],(function(){return p.default.isFetching()})),M=P?[n.length+25]:[n.length],N=(0,y.useSelectedGuildJoinRequest)({guildId:r}),R=(0,h.useSubmittedGuildJoinRequestTotal)({guildId:r
}),w=(0,l.default)("guild-join-requests"),D=function(e){var a,i=e.row,u=n[i];return null==u?C(_.MemberApplicationsListRowPlaceholder,{},i):C(_.MemberApplicationsListRow,{className:(0,o.default)((a={},a[E.default.selected]=N===u,a[E.default.siblingSelected]=N===n[i-1],a)),guild:A,guildJoinRequest:u,onClick:function(){return c.default.setSelectedGuildJoinRequest(r,u)},applicationStatus:t},u.userId+"-"+u.applicationStatus+"-"+i)};return P||0!==n.length?a.createElement(a.Fragment,null,0!==R&&t===v.GuildJoinRequestApplicationStatuses.SUBMITTED&&C(d.default,{className:E.default.title,size:d.default.Sizes.SIZE_12,color:d.default.Colors.HEADER_SECONDARY,strong:!0},void 0,function(e,t){var n=t.toLocaleString();switch(e){case v.GuildJoinRequestApplicationStatuses.SUBMITTED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT_HYPEN.format({count:n});case v.GuildJoinRequestApplicationStatuses.REJECTED:
return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED_COUNT_HYPEN.format({count:n});case v.GuildJoinRequestApplicationStatuses.APPROVED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED_COUNT_HYPEN.format({count:n});default:return""}}(t,R).toUpperCase()),C(i.ListNavigatorProvider,{navigator:w},void 0,C(i.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=e.role,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,S);return a.createElement(f.default,I({key:"guild-application-review",innerRole:n,innerAriaLabel:g.default.Messages.MEMBERS,ref:function(e){var n;b.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},paddingTop:0,paddingBottom:16,sectionHeight:0,rowHeight:64,renderSection:T,renderRow:D,sections:M,onScroll:O,fade:!0},r))})))):C(m.ApplicationsEmptyState,{status:t})};t.default=A},423277:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.MemberApplicationsListRow=D;t.MemberApplicationsListRowPlaceholder=L;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=I(n(294184)),i=I(n(730381)),u=n(378158),l=I(n(759027)),s=I(n(16941)),d=I(n(992193)),f=I(n(259530)),c=I(n(775803)),p=n(57744),v=I(n(628551)),y=I(n(810919)),h=I(n(776360)),m=n(767019),_=n(143586),g=I(n(692711)),E=I(n(868073)),S=n(237639),O=I(n(247001)),b=I(n(631447));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(C=function(e){return e?n:t})(e)}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function w(e){var t,n=e.icon,r=e.onClick,a=e.submitting,i=e.disabled;return R(s.default,{className:(0,o.default)(b.default.actionIconContainer,(t={},t[b.default.disabled]=i||a,t)),onClick:r},void 0,a?R(y.default,{className:b.default.icon,dotRadius:2,themed:!0}):R(n,{className:b.default.icon,height:12,width:12}))}w.displayName="ActionButton";function D(e){var t,r=e.applicationStatus,y=e.guild,I=e.guildJoinRequest,C=e.className,A=e.onClick,N=M(a.useState(null),2),D=N[0],L=N[1],j=I.user,k=I.createdAt;if(null==j)throw new Error("Missing user on this guild join request!");var U=a.useMemo((function(){return new l.default(j)}),[j]),G=g.default.getUserAvatarURL(U),F=r===S.GuildJoinRequestApplicationStatuses.SUBMITTED,x=a.useCallback(function(){var e=P(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.guildId,a=t.userId;if(null==D){e.next=3;break}return e.abrupt("return");case 3:L(n);e.prev=4;e.next=7
;return E.default.updateGuildJoinRequest(r,a,n);case 7:e.next=13;break;case 9:e.prev=9;e.t0=e.catch(4);(0,_.showToast)((0,m.createToast)(O.default.Messages.ERROR_GENERIC_TITLE,m.ToastType.FAILURE));L(null);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}(),[D]),B=function(){var e=P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return x(I,S.GuildJoinRequestApplicationStatuses.APPROVED);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return x(I,S.GuildJoinRequestApplicationStatuses.REJECTED);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return R(s.default,{className:(0,o.default)(b.default.container,C),
onClick:A},void 0,R(v.default,{src:G,size:v.default.Sizes.SIZE_40,"aria-label":j.username,className:b.default.spacer}),R("div",{className:b.default.userDetails},void 0,R(h.default,{size:h.default.Sizes.SIZE_16,color:h.default.Colors.HEADER_PRIMARY,strong:!0},void 0,j.username),R(h.default,{className:b.default.createdAt,size:h.default.Sizes.SIZE_14,color:h.default.Colors.HEADER_SECONDARY},void 0,(0,i.default)(k).format("lll"))),F&&R(w,{icon:d.default,onClick:B,submitting:D===S.GuildJoinRequestApplicationStatuses.APPROVED,disabled:null!=D&&D!==S.GuildJoinRequestApplicationStatuses.APPROVED}),F&&R(w,{icon:f.default,onClick:V,submitting:D===S.GuildJoinRequestApplicationStatuses.REJECTED,disabled:null!=D&&D!==S.GuildJoinRequestApplicationStatuses.REJECTED}),R(s.default,{className:(0,o.default)(b.default.overflowMenuContainer,(t={},t[b.default.disabled]=null!=D,t)),onClick:function(e){(0,u.openContextMenuLazy)(e,P(regeneratorRuntime.mark((function e(){var t,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,T({},e,{guild:y,user:U}))}));case 5:case"end":return e.stop()}}),e)}))),{position:p.Positions.BOTTOM,align:p.Align.RIGHT})}},void 0,R(c.default,{className:b.default.icon,width:18})))}D.displayName="MemberApplicationsListRow";function L(){var e=Math.floor(50*Math.random())+100+"px",t=Math.floor(25*Math.random())+50+"px";return R("div",{className:b.default.placeholder},void 0,R("div",{className:(0,o.default)(b.default.placeholderAvatar)}),R("div",{className:b.default.userDetails},void 0,R("div",{className:b.default.placeholderUsername,style:{maxWidth:e}}),R("div",{className:b.default.placeholderCreatedAt,style:{maxWidth:t}})))}L.displayName="MemberApplicationsListRowPlaceholder"},831051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=P(n(730381)),i=P(n(795715)),u=n(536211),l=n(378158),s=n(910992),d=P(n(876874)),f=P(n(728429)),c=P(n(956117)),p=P(n(16941)),v=P(n(474026)),y=P(n(930600)),h=P(n(946750)),m=P(n(775803)),_=n(194322),g=P(n(971639)),E=P(n(776360)),S=n(767019),O=n(143586),b=P(n(868073)),I=n(237639),C=n(770348),T=P(n(247001)),A=P(n(328690));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(){
N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=24;function U(e){
var t,r=e.guildJoinRequest,P=e.guild,M=e.guildJoinRequestUser,w=L(a.useState(!1),2),j=w[0],U=w[1],G=r.createdAt,F=r.actionedAt,x=r.guildId,B=r.userId,V=null===(t=r.actionedByUser)||void 0===t?void 0:t.id,W=(0,u.useStateFromStores)([f.default],(function(){return f.default.getUser(V)})),H=(0,u.useStateFromStores)([d.default],(function(){return null!=V?d.default.getMember(x,V):null}),[V,x]),z=a.useCallback((function(){(0,O.showToast)((0,S.createToast)(T.default.Messages.ERROR_GENERIC_TITLE,S.ToastType.FAILURE))}),[]),Y=function(){var e=D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=2;break}return e.abrupt("return");case 2:U(!0);e.prev=3;e.next=6;return b.default.updateGuildJoinRequest(x,B,I.GuildJoinRequestApplicationStatuses.APPROVED);case 6:e.next=11;break;case 8:e.prev=8;e.t0=e.catch(3);z();case 11:e.prev=11;U(!1);return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,8,11,14]])})))
;return function(){return e.apply(this,arguments)}}(),K=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING,$=R(h.default,{width:k,height:k,className:A.default.icon});if(r.applicationStatus===I.GuildJoinRequestApplicationStatuses.APPROVED){K=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED;$=R(v.default,{width:k,height:k,className:A.default.iconApproved,backgroundColor:C.Colors.WHITE})}else if(r.applicationStatus===I.GuildJoinRequestApplicationStatuses.REJECTED){K=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED;$=R(y.default,{width:k,height:k,className:A.default.iconRejected,backgroundColor:C.Colors.WHITE})}var q=null!=W&&null!=F?T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_ACTIONED_BY_HOOK.format({date:(0,o.default)(i.default.extractTimestamp(F)).format("ll"),usernameHook:function(){var e;return R(p.default,{className:A.default.actionedByUser,onClick:function(){return(0,s.openUserProfileModal)({userId:W.id,guildId:x,analyticsLocation:{
section:C.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:C.AnalyticsObjects.ACTIONED_BY_USER}})},tag:"div",role:"link"},"username-hook",R(E.default,{size:E.default.Sizes.SIZE_12,color:E.default.Colors.HEADER_PRIMARY},void 0,null!==(e=null==H?void 0:H.nick)&&void 0!==e?e:W.username))}}):(0,o.default)(G).format("lll");return R("div",{className:A.default.container},void 0,R("div",{className:A.default.wrapper},void 0,R("div",{className:A.default.inline},void 0,$,R("div",{},void 0,R(g.default,{},void 0,K),R(E.default,{className:A.default.headerSubtext,size:E.default.Sizes.SIZE_12,color:E.default.Colors.HEADER_SECONDARY},void 0,q))),R("div",{className:A.default.inline},void 0,r.applicationStatus===I.GuildJoinRequestApplicationStatuses.SUBMITTED&&R("div",{className:A.default.buttons},void 0,R(c.default,{color:c.default.Colors.GREEN,submitting:j,onClick:function(){return Y()}},void 0,T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVE_APPLICATION),R(c.default,{
color:c.default.Colors.RED,onClick:function(){(0,_.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(68689).then(n.bind(n,868689));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return R(r,{modalProps:e,guildId:x,userId:B,onError:z})}));case 5:case"end":return e.stop()}}),e)}))))},disabled:j},void 0,T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_DENY_APPLICATION)),R(p.default,{onClick:function(e){(0,l.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{guild:P,user:M}))}));case 5:case"end":return e.stop()}}),e)}))))},className:A.default.overflow},void 0,R(m.default,{width:20,height:20,
className:A.default.iconInteractive})))),r.applicationStatus===I.GuildJoinRequestApplicationStatuses.REJECTED&&null!=r.rejectionReason&&R("div",{className:A.default.rejectionReason},void 0,R(E.default,{},void 0,r.rejectionReason)))}U.displayName="ActionBar"},574274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(294184)),o=n(910992),i=v(n(151097)),u=v(n(628551)),l=v(n(971639)),s=v(n(776360)),d=v(n(692711)),f=n(770348),c=v(n(247001)),p=v(n(734787));function v(e){return e&&e.__esModule?e:{default:e}}
function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.user,n=e.className,r=t.discriminator,v=t.username,y=d.default.getUserAvatarURL(t);return h("div",{className:(0,a.default)(p.default.container,n)},void 0,h(u.default,{src:y,size:u.default.Sizes.SIZE_80,"aria-label":v,className:p.default.avatar}),h("div",{className:p.default.username},void 0,h(l.default,{size:l.default.Sizes.SIZE_24},void 0,v),h(s.default,{size:s.default.Sizes.SIZE_16,
color:s.default.Colors.HEADER_SECONDARY},void 0,"#",r)),h(i.default,{onClick:function(){(0,o.openUserProfileModal)({userId:t.id,analyticsLocation:{section:f.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:f.AnalyticsObjects.JOIN_REQUEST}})}},void 0,c.default.Messages.VIEW_PROFILE))}m.displayName="GuildJoinRequestUserProfile"},611408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=y(n(259530)),i=y(n(190178)),u=y(n(971639)),l=y(n(878556)),s=y(n(582945)),d=y(n(341394)),f=y(n(831051)),c=y(n(574274)),p=y(n(247001)),v=y(n(800660));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.guild,n=e.guildJoinRequest,r=e.guildJoinRequestUser,y=e.onClose,h=a.useMemo((function(){var e;return null!==(e=n.formResponses)&&void 0!==e?e:[]}),[n.formResponses])
;return a.createElement(a.Fragment,null,m(l.default,{toolbar:m(l.default.Icon,{icon:o.default,onClick:y,tooltip:p.default.Messages.CLOSE})},void 0,m(l.default.Icon,{icon:i.default,disabled:!0,"aria-label":p.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATION}),m(u.default,{size:u.default.Sizes.SIZE_16},void 0,r.toString())),m(f.default,{guildJoinRequest:n,guildJoinRequestUser:r,guild:t}),m(s.default,{},void 0,m(c.default,{user:r,className:v.default.container}),m("div",{className:v.default.disabledFormRenderer},void 0,m(d.default,{guildId:t.id,formFields:h,user:r}))))};t.default=_},341394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=y(n(728429)),u=y(n(311591)),l=n(237639),s=n(820379),d=n(86309),f=n(317258),c=n(759085),p=n(129277),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.formFields,n=e.user;return null==(0,o.useStateFromStores)([i.default],(function(){
return null!=n?n:i.default.getCurrentUser()}))?null:a.createElement(a.Fragment,null,m(s.RequirementRenderer,{icon:u.default,text:v.default.Messages.MEMBER_VERIFICATION_FORM_PASSED_REQUIREMENTS,passesRequirement:!0}),t.map((function(e,t){return function(e,t){switch(e.field_type){case l.VerificationFormFieldTypes.TERMS:return m(c.DisabledTermsRequirementFormField,{formField:e},t);case l.VerificationFormFieldTypes.TEXT_INPUT:return m(p.DisabledTextInputFormField,{formField:e},t);case l.VerificationFormFieldTypes.PARAGRAPH:return m(f.DisabledParagraphFormField,{formField:e},t);case l.VerificationFormFieldTypes.MULTIPLE_CHOICE:return m(d.DisabledMultipleChoiceFormField,{formField:e},t)}}(e,t)})))};t.default=_},828339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),o=d(n(636602)),i=d(n(423046)),u=d(n(644263)),l=n(155787),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){
f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v={};function y(e,t){var n=v[e];if(null==n)return!1;if(n.has(t))return!1
;v[e]=new Set(n.add(t));return!0}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(i.default);v={};null!=e&&Object.keys(e).forEach((function(t){var n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(v[t]=new Set(n))}))};n.getProgress=function(e){return v[e]};n.hasProgress=function(e){var t=v[e];return null!=t&&!t.has(l.Steps.DISMISSED)};n.getState=function(){return v};return t}(a.default.PersistedStore);h.displayName="GuildProgressStore";h.persistKey="GuildProgressStore";var m=new h(o.default,((r={})[s.ActionTypes.CONNECTION_OPEN]=function(){var e=[];Object.keys(v).forEach((function(t){v[t].has(l.Steps.COMPLETED)&&e.push(t)}));e.forEach((function(e){return y(e,l.Steps.DISMISSED)}))},r[s.ActionTypes.GUILD_PROGRESS_INITIALIZE]=function(e){var t=e.guildId;null==v[t]&&(v[t]=new Set)
;v[t].has(l.Steps.COMPLETED)||v[t].delete(l.Steps.DISMISSED)},r[s.ActionTypes.GUILD_PROGRESS_COMPLETED_SEEN]=function(e){var t=e.guildId;if(null==v[t])return!1;v[t]=new Set(v[t].add(l.Steps.COMPLETED))},r[s.ActionTypes.GUILD_PROGRESS_DISMISS]=function(e){return y(e.guildId,l.Steps.DISMISSED)},r[s.ActionTypes.GUILD_CREATE]=function(e){var t=e.guild;if(t.owner_id===i.default.getId()&&null!=v[t.id]){null!=t.icon&&v[t.id].add(l.Steps.AVATAR);t.member_count>1&&v[t.id].add(l.Steps.INVITE)}},r[s.ActionTypes.CHANNEL_CREATE]=function(e){var t=e.channel;return null!=t&&null!=t.guild_id&&null!=v[t.guild_id]&&y(t.guild_id,l.Steps.CHANNEL)},r[s.ActionTypes.CHANNEL_UPDATES]=function(e){for(var t,n=!1,r=c(e.updates);!(t=r()).done;){var a=t.value.channel;null!=a&&null!=a.guild_id&&null!=v[a.guild_id]&&!1!==y(a.guild_id,l.Steps.CHANNEL)&&(n=!0)}return n},r[s.ActionTypes.GUILD_SETTINGS_SUBMIT_SUCCESS]=function(e){var t=e.guild
;return null!=t&&(null!=t.id&&null!=v[t.id]&&null!=t.icon&&y(t.id,l.Steps.AVATAR))},r[s.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.channelId,n=e.message,r=u.default.getChannel(t);return n.author.id===i.default.getId()&&null!=r&&null!=v[r.guild_id]&&y(r.guild_id,l.Steps.MESSAGE)},r[s.ActionTypes.GUILD_MEMBER_LIST_UPDATE]=function(e){var t=e.guildId,n=e.memberCount;return null!=v[t]&&n>1&&y(t,l.Steps.INVITE)},r));t.default=m},473250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildRecommendations=function(e){return c.apply(this,arguments)};var r,a=s(n(118915)),o=s(n(636602)),i=n(864489),u=s(n(768535)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){
d(o,r,a,i,u,"throw",e)}i(void 0)}))}}!function(e){e[e.DESKTOP=1]="DESKTOP";e[e.MOBILE=2]="MOBILE";e[e.WEB=3]="WEB"}(r||(r={}));function c(){return(c=f(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===t&&(t={});if(!u.default.isFetching()){e.next=3;break}return e.abrupt("return");case 3:o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH});n=(0,i.isDesktop)()?r.DESKTOP:r.WEB;e.prev=5;e.next=8;return a.default.get({url:l.Endpoints.GUILD_RECOMMENDATIONS(),query:{personalization_disabled:t.personalization_disabled,client_type:n}});case 8:s=e.sent;o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH_SUCCESS,recommendedGuilds:s.body.recommended_guilds,loadId:s.body.load_id});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(5);o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH_FAILURE});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}},
58846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSubscriptionListingsForChannel=function(e){var t=e.guildId,n=e.channelId,f=(0,l.useSubscriptionListingsForGuild)(t);return(0,a.useStateFromStoresArray)([i.default,u.default,o.default],(function(){var e=i.default.getChannel(n),a=u.default.getGuild(t),l=o.default.isViewingRoles(t);return null!=a&&null!=e?f.filter((function(t){return function(e,t,n,a){var o=(void 0===a?{}:a).isPreviewingRoles;if(!(void 0!==o&&o||e.published))return!1;var i=n.permissionOverwrites[e.role_id];if((0,s.isChannelAccessGrantedBy)(n,i))return!0;var u=t.getRole(t.id),l=null!=u&&!r.default.has(u.permissions,d.Permissions.VIEW_CHANNEL),f=(0,s.isChannelAccessDeniedBy)(n,n.permissionOverwrites[t.id]),c=t.getRole(e.role_id);return l&&!f&&null!=c&&(0,s.isAllChannelsRole)(c)&&!(0,s.isChannelAccessDeniedBy)(n,i)}(t,a,e,{isPreviewingRoles:l})})):[]}),[t,n,f])}
;var r=f(n(267258)),a=n(536211),o=f(n(686305)),i=f(n(644263)),u=f(n(30098)),l=n(523754),s=n(243078),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}},381777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.groupListingId,s=e.location,d=e.relevantSubscriptionListingIds,c=(0,i.useFetchListingsForGuild)(t,{refetchOnMount:!1}).listingsLoaded,p=null!=(0,u.default)(n).activeSubscription,v=(0,i.useStore)((function(e){return e.getSubscriptionListing})),y=r.useMemo((function(){if(null!=d)return d.filter((function(e){var t;return!0===(null===(t=v(e))||void 0===t?void 0:t.published)}))}),[v,d]),h=r.useRef(!1);r.useEffect((function(){if(c&&null!=n&&null!=y&&!h.current){h.current=!0;o.default.track(l.AnalyticEvents.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED,f({role_subscription_group_listing_id:n,role_subscription_listing_ids:y,is_premium_member:p,location:s},(0,a.collectGuildAnalyticsMetadata)(t)))}}),[t,n,c,s,y,p])}
;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(844784),o=s(n(308920)),i=n(523754),u=s(n(678075)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}},104805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(47354),o=h(n(342518)),i=h(n(185948)),u=h(n(964285)),l=h(n(142024)),s=h(n(30098)),d=h(n(728429)),f=n(770348),c=n(583551),p=h(n(247001)),v=h(n(743861)),y=h(n(691634));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.guildId,n=e.markAsDismissed,r=(0,o.default)([s.default,d.default],(function(){var e=d.default.getCurrentUser(),n=s.default.getGuild(t);return!0===(null==n?void 0:n.isOwner(e))}));(0,i.default)({type:a.ImpressionTypes.POPOUT,name:a.ImpressionNames.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:r}});return _("div",{className:v.default.container},void 0,_(l.default,{header:p.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_HEADER,content:p.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_BODY,asset:_("div",{className:v.default.image},void 0,_("img",{alt:p.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_IMG_ALT,src:y.default,className:v.default.image})),
buttonCTA:p.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_UPSELL_CTA,onClick:function(){u.default.open(t,f.GuildSettingsSections.ROLE_SUBSCRIPTIONS);n(c.ContentDismissActionType.PRIMARY)},secondaryButtonCTA:p.default.Messages.DISMISS,onSecondaryClick:function(){n(c.ContentDismissActionType.DISMISS)},markAsDismissed:n}))}g.displayName="GuildRoleSubscriptionUpsell"},985795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(313973));function i(e){return e&&e.__esModule?e:{default:e}}
function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.children,n=e.className;return l("div",{className:o.default.carouselMaxWidth},void 0,l("div",{className:o.default.tierPreviewsContainer},void 0,l("div",{className:(0,a.default)(o.default.tierPreviews,n)},void 0,t)))}s.displayName="SubscriptionListingPreviewsCarousel"},191868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BackToPreviousScreenNotice=p;f(n(667294))
;var r,a=s(n(956117)),o=s(n(204014)),i=f(n(177101)),u=n(770348),l=s(n(258507));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.buttonText,n=e.onGoBack,r=e.onDismiss,s=e.showCloseButton;return c(i.default,{className:l.default.backNotice},void 0,s&&c(i.NoticeCloseButton,{onClick:r,noticeType:u.NoticeTypes.BACK_TO_PREVIOUS_SCREEN}),c(a.default,{className:l.default.backButton,innerClassName:l.default.backButtonInner,look:a.default.Looks.OUTLINED,color:a.default.Colors.WHITE,size:a.default.Sizes.NONE,onClick:n},void 0,c(o.default,{width:16,height:16,direction:o.default.Directions.LEFT,className:l.default.backArrow}),t))}p.displayName="BackToPreviousScreenNotice"},740997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(686305)),u=E(n(956117)),l=E(n(873376)),s=E(n(562796)),d=E(n(119503)),f=E(n(971639)),c=E(n(776360)),p=n(243277),v=n(204785),y=n(293773),h=n(523754),m=n(92557),_=E(n(247001)),g=E(n(514047));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){var t,n,r=e.value,a=e.type;if(0===r)return null;if(a===m.GuildRoleSubscriptionBenefitTypes.CHANNEL){t=s.default;n=_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CHANNEL_BENEFIT_PREVIEW.format({value:r})}else{if(a!==m.GuildRoleSubscriptionBenefitTypes.INTANGIBLE)throw new Error("Unsupported benefit type");t=d.default;n=_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_INTANGIBLE_BENEFIT_PREVIEW.format({value:r})}return O(c.default,{size:c.default.Sizes.SIZE_14,color:c.default.Colors.INTERACTIVE_NORMAL,className:g.default.benefitSummary},void 0,O(t,{className:g.default.benefitIcon})," ",n)}b.displayName="BenefitSummary";var I=O(l.default,{size:2}),C=O(l.default,{size:12});function T(e){var t=e.listing,n=t.subscription_plans[0],r=(0,
v.getAssetURL)(t.application_id,t.image_asset,40),o=t.role_benefits.benefits.filter((function(e){return e.ref_type===m.GuildRoleSubscriptionBenefitTypes.CHANNEL})).length,i=t.role_benefits.benefits.filter((function(e){return e.ref_type===m.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})).length,u=o+i>0;return O("div",{className:g.default.listingPreview},void 0,O("img",{src:r,alt:t.name,className:g.default.listingPreviewImage}),O("div",{className:g.default.listingPreviewText},void 0,O(c.default,{size:c.default.Sizes.SIZE_16,color:c.default.Colors.INTERACTIVE_ACTIVE},void 0,t.name),I,O(c.default,{size:c.default.Sizes.SIZE_14,color:c.default.Colors.INTERACTIVE_NORMAL},void 0,(0,p.formatPrice)(n.price,n.currency)," / ",(0,y.formatPlanInterval)(n)),u&&a.createElement(a.Fragment,null,C,O("div",{className:g.default.benefitSummaries},void 0,O(b,{type:m.GuildRoleSubscriptionBenefitTypes.CHANNEL,value:o}),O(b,{type:m.GuildRoleSubscriptionBenefitTypes.INTANGIBLE,value:i})))))}
T.displayName="ListingPreviewItem";var A=O(l.default,{size:8}),P=O(l.default,{size:24}),M=O(l.default,{size:24});function N(e){var t=e.groupListing,n=e.onSelectGroup,r=(0,h.useSubscriptionListingsForGroup)(t.id),a=(0,o.useStateFromStores)([i.default],(function(){return i.default.isViewingRoles(t.guild_id)})),l=r.filter((function(e){return a||e.published}));return 0===l.length?null:O("div",{className:g.default.container},void 0,O(f.default,{size:f.default.Sizes.SIZE_20},void 0,t.name),A,O(c.default,{size:c.default.Sizes.SIZE_16,color:c.default.Colors.HEADER_SECONDARY},void 0,t.description),O("div",{className:g.default.divider}),O(f.default,{size:c.default.Sizes.SIZE_12,className:g.default.sectionHeader},void 0,_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_AVAILABLE_TIERS.format({numTiers:l.length})),P,O("div",{className:g.default.listingPreviews},void 0,l.map((function(e){return O(T,{listing:e},e.id)}))),M,O(u.default,{onClick:n,fullWidth:!0
},void 0,_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CARD_CTA))}N.displayName="GuildRoleSubscriptionGroupCard"},105699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n,r=e.guild,o=(0,l.useSubscriptionsSettings)(r.id),d=(0,l.useGroupListingsForGuild)(r.id),v=g(a.useState(null),2),m=v[0],_=v[1],S=d.find((function(e){return e.id===m})),I=1===d.length,C=null!=S?S:I?d[0]:null,T=(0,i.useStateFromStores)([u.default],(function(){return u.default.isViewingRoles(r.id)})),A=(0,l.useStore)((function(e){return e.subscriptionListings})),P=g(a.useState(!1),2),M=P[0],N=P[1],R=a.useMemo((function(){return d.filter((function(e){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=E(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.subscription_listings_ids);!(t=n()).done;){var r=t.value,a=A[r];if(null!=a&&(T||a.published))return!0}return!1}))}),[d,T,A]);if(null!=C)return a.createElement(a.Fragment,null,!I&&!M&&O(b,{onGoBack:function(){return _(null)},onDismiss:function(){return N(!0)}}),O(c.default,{guild:r,groupListing:C,singleGroupView:I}));return a.createElement(a.Fragment,null,O(p.default,{title:y.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:r.toString()}),description:null!==(t=null==o?void 0:o.description)&&void 0!==t?t:null,coverImageAsset:null!==(n=null==o?void 0:o.cover_image_asset)&&void 0!==n?n:null,guild:r}),O(s.default,{className:h.default.groupListings},void 0,R.map((function(e){return O(f.default,{groupListing:e,onSelectGroup:function(){return _(e.id)}},e.id)}))))};var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(973935)),i=n(536211),u=m(n(686305)),l=n(523754),s=m(n(985795)),d=n(191868),f=m(n(740997)),c=m(n(973153)),p=m(n(779515)),v=n(287735),y=m(n(247001)),h=m(n(991938));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){var t=e.onGoBack,n=e.onDismiss,r=a.useMemo((function(){return document.getElementById(v.OVERVIEW_NOTICE_ROOT)}),[]);return null==r?null:o.default.createPortal(O(d.BackToPreviousScreenNotice,{buttonText:y.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_GROUPS_VIEW_CTA,onGoBack:t,onDismiss:n,showCloseButton:!1}),r)}},973153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(523754),i=y(n(678075)),u=y(n(381777)),l=y(n(675176)),s=y(n(985795)),d=y(n(500985)),f=y(n(779515)),c=n(770348),p=y(n(247001)),v=y(n(633485));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n=e.guild,r=e.groupListing,y=e.singleGroupView;(0,u.default)({
guildId:n.id,groupListingId:r.id,location:c.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:r.subscription_listings_ids});var h=(0,i.default)(r.id).activeSubscription,_=(0,o.useSubscriptionsSettings)(n.id),g=y?null==_?void 0:_.description:null==r?void 0:r.description;return a.createElement(a.Fragment,null,m(f.default,{title:p.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:n.toString()}),description:null!=g?g:null,coverImageAsset:null!==(t=null==_?void 0:_.cover_image_asset)&&void 0!==t?t:null,guild:n},void 0,m(l.default,{className:v.default.pendingPlanChangeNotice,groupListingId:r.id,subscription:h})),m(s.default,{},void 0,r.subscription_listings_ids.map((function(e){return m(d.default,{guildId:n.id,groupListingId:r.id,listingId:e,analyticsLocation:c.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB},e)}))))};t.default=_},594807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=w(n(667294)),o=n(370405),i=n(536211),u=w(n(832635)),l=N(n(881584)),s=N(n(463024)),d=n(139982),f=N(n(544196)),c=N(n(23535)),p=N(n(517286)),v=N(n(30098)),y=N(n(211136)),h=N(n(697952)),m=N(n(80828)),_=n(194322),g=n(582945),E=n(523754),S=N(n(125125)),O=N(n(437270)),b=N(n(105699)),I=N(n(802831)),C=n(287735),T=n(770348),A=n(173652),P=N(n(247001)),M=N(n(536261));function N(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,u,"next",e)}function u(e){L(o,r,a,i,u,"throw",e)}i(void 0)}))}}var k=D(a.Fragment,{}),U=D(s.default.Icon,{icon:O.default,"aria-hidden":!0}),G=D("div",{id:C.OVERVIEW_NOTICE_ROOT}),F=D(I.default,{}),x=D(m.default,{});function B(e){var t=e.guildId,r=(0,i.useStateFromStores)([v.default],(function(){
return v.default.getGuild(t)}),[t]),m=(0,i.useStateFromStores)([c.default],(function(){return c.default.isConnected()})),O=(0,l.default)(t),I=(0,S.default)(t),C=(0,i.useStateFromStores)([h.default],(function(){return h.default.isSubscriptionFetching})),N=(0,E.useFetchListingsForGuild)(null==r?void 0:r.id,{refetchOnMount:!0}).listingsLoaded,R=null==r||!N||C;a.useEffect((function(){u.fetchSubscriptions()}),[]);a.useEffect((function(){if(m&&(null==r||!O&&!I)){(0,_.openModalLazy)(j(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(72649)]).then(n.bind(n,172649));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))));if(y.default.getChannelId(t)===A.StaticChannelRoute.ROLE_SUBSCRIPTIONS){var e;(0,
d.replaceWith)(T.Routes.CHANNEL(t,null===(e=p.default.getDefaultChannel(t))||void 0===e?void 0:e.id))}else(0,d.replaceWith)(f.default.defaultRoute)}}),[r,t,m,O,I]);return D("div",{className:M.default.container},void 0,D(o.Helmet,{title:P.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL}),D(s.default,{toolbar:k,className:M.default.headerBar},void 0,U,D(s.default.Title,{},void 0,P.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL)),G,D("div",{className:M.default.content},void 0,O?D(g.ScrollerNone,{className:M.default.scroller},void 0,D("div",{className:M.default.scrollerContent},void 0,R?x:D(b.default,{guild:r}))):F))}B.displayName="GuildRoleSubscriptionsOverviewPage";var V=B;t.default=V},802831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(873376)),o=d(n(971639)),i=d(n(776360)),u=d(n(247001)),l=d(n(896574)),s=d(n(691634));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var p=c(a.default,{size:12}),v=c(a.default,{size:8});function y(){return c("div",{className:l.default.container},void 0,c("div",{className:l.default.content},void 0,c("img",{src:s.default,alt:u.default.Messages.CREATOR_MONETIZATION_NOTICE_ILLO_A11Y_LABEL}),p,c(o.default,{className:l.default.header,size:o.default.Sizes.SIZE_20},void 0,u.default.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_TITLE),v,c(i.default,{color:i.default.Colors.HEADER_SECONDARY,size:i.default.Sizes.SIZE_14},void 0,u.default.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_DESCRIPTION)))}y.displayName="MonetizationDisabledNotice"},287735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OVERVIEW_NOTICE_ROOT=void 0;t.OVERVIEW_NOTICE_ROOT="guild-role-subscription-overview-notice"},779515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(380439)),o=f(n(971639)),i=f(n(776360)),u=n(204785),l=n(8916),s=f(n(536261)),d=f(n(355457));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}var v=(0,l.cssValueToNumber)(s.default.pageMaxWidth);function y(e){var t=e.coverImageAsset,n=e.title,r=e.guild,l=e.description,s=e.children,f=null!=(null==t?void 0:t.application_id)?(0,u.getAssetURL)(t.application_id,t,v):void 0;return p("div",{className:d.default.container},void 0,p("div",{className:d.default.coverImageContainer},void 0,p("img",{src:f,alt:"",className:d.default.coverImage})),p("div",{className:d.default.guildIconContainer},void 0,p(a.default,{guild:r,size:a.default.Sizes.XLARGE})),p(o.default,{size:o.default.Sizes.SIZE_24,className:d.default.ctaTitle},void 0,n),p(i.default,{className:d.default.ctaSubtitle,size:i.default.Sizes.SIZE_16,color:i.default.Colors.HEADER_SECONDARY},void 0,l),s)}y.displayName="OverviewHero"},540330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(644263)),u=E(n(30098)),l=E(n(80828)),s=E(n(971639)),d=E(n(776360)),f=n(582945),c=n(523754),p=n(58846),v=E(n(381777)),y=E(n(985795)),h=E(n(500985)),m=n(770348),_=E(n(247001)),g=E(n(344048));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function C(e){var t=e.guildId,n=e.channelId,r=(0,p.useSubscriptionListingsForChannel)({guildId:t,channelId:n}),E=(0,c.useGroupListingsForGuild)(t),S=(0,c.useSubscriptionsSettings)(t),I=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t)}),[t]),C=null==I?void 0:I.name,T=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(n)})),A=a.useMemo((function(){for(var e,t={},n=b(E);!(e=n()).done;)for(var r,a=e.value,o=b(a.subscription_listings_ids);!(r=o()).done;){t[r.value]=a.id}return t}),[E]);(0,v.default)({guildId:t,location:m.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL,relevantSubscriptionListingIds:r.map((function(e){return e.id}))});return null==I?O("div",{className:g.default.spinnerContainer},void 0,O(l.default,{className:g.default.spinner})):O(f.ScrollerAuto,{className:g.default.pageContainer},void 0,O(s.default,{size:s.default.Sizes.SIZE_24,className:g.default.joinCtaTitle
},void 0,_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_UPSELL_PAGE_CTA.format({serverName:C,channelName:null==T?void 0:T.name})),O(d.default,{className:g.default.joinCtaSubtitle,size:d.default.Sizes.SIZE_16,color:d.default.Colors.HEADER_SECONDARY},void 0,null==S?void 0:S.description),O(y.default,{},void 0,r.filter((function(e){return null!=A[e.id]})).map((function(e){return O(h.default,{guildId:t,listingId:e.id,groupListingId:A[e.id],analyticsLocation:m.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL},e.id)}))))}C.displayName="PremiumChannelUpsell"},986175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.hideLiveChannelNotice=function(e){var t=e.eventId,n=e.stageId;if(null==t&&null==n)return;o.default.dirtyDispatch({type:u.ActionTypes.LIVE_CHANNEL_NOTICE_HIDE,eventId:t,stageId:n})};var r,a=l(n(536211)),o=l(n(636602)),i=n(198756),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){
s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d={hiddenEventsAndStages:[]};var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&null!=e.hiddenEventsAndStages&&(d=e)};n.isLiveChannelNoticeHidden=function(e){var t=e.eventId,n=e.stageId;return!(null==n||!d.hiddenEventsAndStages.includes("stage-"+n))||null!=t&&d.hiddenEventsAndStages.includes("event-"+t)};n.getState=function(){return d};return t}(a.default.PersistedStore);f.displayName="LiveChannelNoticesStore";f.persistKey="liveChannelNotices_v2";var c=new f(o.default,((r={})[u.ActionTypes.LIVE_CHANNEL_NOTICE_HIDE]=function(e){var t=e.eventId,n=e.stageId;null!=t?d.hiddenEventsAndStages.push("event-"+t):null!=n&&d.hiddenEventsAndStages.push("stage-"+n)},r[u.ActionTypes.GUILD_SCHEDULED_EVENT_UPDATE]=function(e){
var t=e.guildScheduledEvent,n="event-"+t.id;!d.hiddenEventsAndStages.includes(n)||t.status!==i.GuildScheduledEventStatus.CANCELED&&t.status!==i.GuildScheduledEventStatus.COMPLETED||(d.hiddenEventsAndStages=d.hiddenEventsAndStages.filter((function(e){return e!==n})))},r[u.ActionTypes.GUILD_SCHEDULED_EVENT_DELETE]=function(e){var t="event-"+e.guildScheduledEvent.id;d.hiddenEventsAndStages.includes(t)&&(d.hiddenEventsAndStages=d.hiddenEventsAndStages.filter((function(e){return e!==t})))},r[u.ActionTypes.STAGE_INSTANCE_DELETE]=function(e){var t="stage-"+e.instance.id;d.hiddenEventsAndStages.includes(t)&&(d.hiddenEventsAndStages=d.hiddenEventsAndStages.filter((function(e){return e!==t})))},r));t.default=c},435903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.isGuildVoice())return!1;if(u.default.getGuildScheduledEventsByIndex(u.StaticGuildEventIndexes.CHANNEL_EVENT_ACTIVE(e.id)).length<1)return!1
;if(!a.default.can(l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,e))return!1;for(var t,n=new Set(o.default.getVoiceStatesForChannel(e).map((function(e){return e.user.id}))),s=r.default.getId(),d=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(t=d()).done;){var c=t.value
;if(c!==s&&i.default.can(l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,c,e))return!1}return!0};var r=d(n(423046)),a=d(n(689389)),o=d(n(487372)),i=d(n(656016)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(330321)),l=n(432040);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},780688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.useActiveEventOrStageInstanceChannel=function(e){var t,n=(0,o.useFirstActiveEventChannel)(e),i=(0,r.default)(e),u=a.default.getChannel(null===(t=i[0])||void 0===t?void 0:t.id);return null!=n?n:u};var r=i(n(483431)),a=i(n(644263)),o=n(902399);function i(e){return e&&e.__esModule?e:{default:e}}},668516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCanCreateEditDeleteEvent=function(e,t){return(0,r.useStateFromStores)([o.default,a.default],(function(){return(0,i.canCreateEditDeleteGuildEvent)(e,t,[o.default,a.default])}),[t,e])};var r=n(536211),a=u(n(30098)),o=u(n(689389)),i=n(836490);function u(e){return e&&e.__esModule?e:{default:e}}},157949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGuildHasLiveChannelNotice=function(e){var t,n=(0,o.default)(e),s=i.default.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),d=(0,r.useStateFromStores)([a.default],(function(){return a.default.getStageInstanceByChannel(null==s?void 0:s.id)
}),[s]),f=(0,l.useGuildActiveEvent)(e),c=(0,r.useStateFromStoresObject)([u.default],(function(){return{isStageNoticeHidden:u.default.isLiveChannelNoticeHidden({stageId:null==d?void 0:d.id}),isEventNoticeHidden:u.default.isLiveChannelNoticeHidden({eventId:null==f?void 0:f.id})}}),[d,f]),p=c.isStageNoticeHidden,v=c.isEventNoticeHidden;if(null!=f)return null!=d?!p:!v;return null!=d&&!p};var r=n(536211),a=s(n(217964)),o=s(n(483431)),i=s(n(644263)),u=s(n(986175)),l=n(902399);function s(e){return e&&e.__esModule?e:{default:e}}},604686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.channelId,r=e.onClick,S=(0,o.useAppContext)(),O=(0,m.useActiveEvent)(n),b=(0,a.useStateFromStores)([s.default],(function(){return s.default.getChannel(n)}),[n]),C=(0,h.useCanCreateEditDeleteEvent)(t,b);if(null==O)return null;var T=function(){null!=b&&(0,y.default)(b)?(0,p.openEndEventModal)(b,S):r()},A=function(){v.default.endEvent(O.id,O.guild_id)}
;return C?I(d.default,{renderPopout:function(e){var t=e.closePopout;return I(u.default,{},void 0,I(i.default,{navId:"exit-options",onSelect:function(){},"aria-label":g.default.Messages.DISCONNECT_MENU,onClose:t},void 0,I(i.MenuItem,{id:"end-voice-event",color:_.MenuItemColor.DANGER,action:A,label:g.default.Messages.END_EVENT,icon:c.default})))},align:d.default.Align.CENTER,position:d.default.Positions.TOP,animation:d.default.Animation.FADE},void 0,(function(e){var t=e.onClick;return I(l.CenterControlButton,{label:g.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:f.default,onClick:T,onPopoutClick:t,className:E.default.buttonSpacing})})):I(l.CenterControlButton,{className:E.default.buttonSpacing,label:g.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:f.default,onClick:r})};b(n(667294))
;var r,a=n(536211),o=n(205562),i=b(n(145122)),u=S(n(222935)),l=n(143414),s=S(n(644263)),d=S(n(160629)),f=S(n(331546)),c=S(n(930600)),p=n(452453),v=S(n(736428)),y=S(n(435903)),h=n(668516),m=n(902399),_=n(474477),g=S(n(247001)),E=S(n(135582));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},891036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildEvent;if(null==t)return null;return a.createElement(a.Fragment,null,p(o.default.Divider,{className:d.default.divider}),p(l.GuildEventTimeStatus,{startTime:t.scheduled_start_time,isActive:(0,u.isGuildScheduledEventActive)(t),isEnded:(0,u.isGuildEventEnded)(t),liveText:s.default.Messages.LIVE_EVENT,className:d.default.eventSchedule,textSize:i.default.Sizes.SIZE_16,eventType:t.entity_type}),p(i.default,{color:i.default.Colors.HEADER_SECONDARY,size:i.default.Sizes.SIZE_16,className:d.default.eventName},void 0,t.name))};var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(878556)),i=f(n(776360)),u=n(330321),l=n(811634),s=f(n(247001)),d=f(n(348786));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},981706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=v(n(143414)),i=v(n(30098)),u=n(730977),l=v(n(59573)),s=n(194322),d=v(n(911137)),f=v(n(247001)),c=v(n(914376)),p=["guildId"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(y=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){var t=e.guildId,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p),y=(0,a.useStateFromStores)([i.default],(function(){return i.default.getGuild(t)}),[t]);if(!(0,d.default)(y))return null;return r.createElement(o.default,h({onClick:function(){(0,s.openModalLazy)(_(regeneratorRuntime.mark((function e(){var a,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(57166)]).then(n.bind(n,757166));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,h({},e,{guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))))},label:f.default.Messages.CREATE_AND_VIEW_EVENTS,iconComponent:l.default,className:c.default.button,tooltipPosition:u.TooltipPositions.BOTTOM},v))}g.displayName="GuildEventsBrowserButton"},513696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildNoticeBody=void 0;t.LiveVoiceOrStageChannelNotice=Z;t.default=t.VoiceChannelType=void 0
;var r,a=U(n(667294)),o=n(536211),i=n(341186),u=n(139982),l=n(637356),s=j(n(897191)),d=n(921867),f=n(411315),c=j(n(217964)),p=j(n(724571)),v=j(n(689389)),y=j(n(487372)),h=j(n(956117)),m=j(n(16941)),_=j(n(259530)),g=j(n(878338)),E=j(n(934018)),S=j(n(332282)),O=j(n(776360)),b=U(n(152731)),I=n(71246),C=n(452453),T=U(n(986175)),A=n(647261),P=n(780688),M=n(902399),N=n(549905),R=n(198756),w=n(770348),D=j(n(247001)),L=j(n(139875));function j(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var B,V=16,W=x(_.default,{height:16,width:16}),H=a.memo((function(e){var t=e.heading,n=e.location,r=e.locationIcon,o=e.details,i=e.detailsIcon,u=e.topic,l=e.onClickCloseIcon,s=e.children;return x("div",{className:L.default.channelNotice},void 0,x("div",{className:L.default.textBlock},void 0,x("div",{className:L.default.liveIndicator}),x(O.default,{color:O.default.Colors.STATUS_GREEN,size:O.default.Sizes.SIZE_12,className:L.default.liveNowText},void 0,t),null!=l&&x(m.default,{onClick:l,className:L.default.closeIcon,"aria-label":D.default.Messages.CLOSE},void 0,W)),x(O.default,{color:O.default.Colors.HEADER_PRIMARY,size:O.default.Sizes.SIZE_16,
className:L.default.eventName},void 0,u),x("div",{className:L.default.textBlock},void 0,r,x(O.default,{color:O.default.Colors.HEADER_SECONDARY,size:O.default.Sizes.SIZE_12,className:L.default.channelName},void 0,n),null!=o&&null!=i&&a.createElement(a.Fragment,null,x(O.default,{className:L.default.dotDivider,color:O.default.Colors.HEADER_SECONDARY,size:O.default.Sizes.SIZE_12},void 0,"•"),i,x(O.default,{color:O.default.Colors.HEADER_SECONDARY,size:O.default.Sizes.SIZE_12},void 0,o))),s)}));t.GuildNoticeBody=H;function z(e){var t=e.guildEvent,n=e.channel,r=(0,o.useStateFromStoresArray)([y.default],(function(){return y.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),a=(0,i.getChannelIconComponent)(n);return x(H,{onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({eventId:null==t?void 0:t.id})},heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t.name,location:n.name,locationIcon:null!=a?x(a,{width:V,height:V,className:L.default.stageIcon}):null
},void 0,x(Z,{channel:n,speakers:r,voiceType:B.VOICE}))}z.displayName="GuildVoiceEventNotice";function Y(e){var t=e.guildEvent,n=(0,N.getLocationFromEvent)(t);return null==n?null:x(H,{onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({eventId:null==t?void 0:t.id})},heading:D.default.Messages.HAPPENING_NOW,topic:t.name,location:(0,A.guildEventDetailsParser)(n,!0),locationIcon:x(E.default,{width:V,height:V,className:L.default.stageIcon})},void 0,x(K,{guildEvent:t}))}Y.displayName="GuildExternalEventNotice";function K(e){var t=e.guildEvent,n=a.useCallback((function(){(0,C.openGuildEventDetails)(t.id)}),[t]);return x(h.default,{fullWidth:!0,className:L.default.joinButton,onClick:n,color:h.default.Colors.GREEN,size:h.default.Sizes.SMALL},void 0,D.default.Messages.SEE_DETAIL)}K.displayName="SeeDetailButton";function $(e){var t=e.channel,n=e.label;return x(h.default,{fullWidth:!0,className:L.default.joinButton,onClick:function(){if(null!=t&&null!=t.getGuildId()){(0,
l.connectAndOpen)(t);(0,u.transitionToGuild)(t.getGuildId(),t.id)}},color:h.default.Colors.GREEN,size:h.default.Sizes.SMALL},void 0,n)}$.displayName="JoinChannelButton";function q(e){var t=e.stageInstance,n=e.channel,r=(0,o.useStateFromStoresObject)([s.default],(function(){var e=s.default.getMutableParticipants(n.id,d.StageChannelParticipantNamedIndex.SPEAKER),t=s.default.getParticipantCount(n.id,d.StageChannelParticipantNamedIndex.AUDIENCE);return{speakers:G(new Set(e.map((function(e){return e.user})))),listenerCount:t}}),[n.id]),a=r.speakers,i=r.listenerCount,u=D.default.Messages.LISTENING_COUNT.format({count:""+i});return x(H,{onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({stageId:null==t?void 0:t.id})},heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,location:n.name,details:u,detailsIcon:x(g.default,{width:14,height:14,className:L.default.stageIcon}),locationIcon:x(S.default,{width:V,height:V,className:L.default.stageIcon}),topic:t.topic},void 0,x(Z,{channel:n,
speakers:a,voiceType:B.STAGE}))}q.displayName="GuildLiveStageNotice";t.VoiceChannelType=B;!function(e){e[e.VOICE=1]="VOICE";e[e.STAGE=2]="STAGE";e[e.STUDY_ROOM=3]="STUDY_ROOM"}(B||(t.VoiceChannelType=B={}));function Z(e){var t=e.channel,n=e.speakers,r=e.voiceType,i=t.getGuildId(),u=a.useMemo((function(){return n.slice(0,3)}),[n]),l=(0,o.useStateFromStores)([v.default],(function(){return v.default.can(w.Permissions.CONNECT,t)})),s=(0,p.default)(t.id),d=D.default.Messages.JOIN;switch(r){case B.VOICE:d=D.default.Messages.JOIN;break;case B.STAGE:d=D.default.Messages.STAGE_CHANNEL_JOIN_BUTTON;(null==s?void 0:s.speaker)?d=D.default.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=s&&(d=D.default.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);break;case B.STUDY_ROOM:d=D.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA;break;default:(0,I.assertNever)(r)}return null==i?null:a.createElement(a.Fragment,null,u.length>0?x("div",{className:L.default.textBlock},void 0,x(b.default,{guildId:i,
users:u,showUserPopout:!0,size:b.Sizes.SIZE_16}),x(O.default,{color:O.default.Colors.HEADER_SECONDARY,size:O.default.Sizes.SIZE_12,className:L.default.userNames},void 0,(0,f.summarizeUsernamesParticipating)(i,u,null==t?void 0:t.id,n.length))):null,l&&null==s&&x($,{channel:t,label:d}))}var X=a.memo((function(e){var t=e.guild,n=(0,P.useActiveEventOrStageInstanceChannel)(t.id),r=(0,M.useGuildActiveEvent)(t.id),a=(0,o.useStateFromStores)([c.default],(function(){return c.default.getStageInstanceByChannel(null==n?void 0:n.id)}),[n]),i=(0,o.useStateFromStoresObject)([T.default],(function(){return{isStageNoticeHidden:T.default.isLiveChannelNoticeHidden({stageId:null==a?void 0:a.id}),isEventNoticeHidden:T.default.isLiveChannelNoticeHidden({eventId:null==r?void 0:r.id})}}),[a,r]),u=i.isStageNoticeHidden,l=i.isEventNoticeHidden,s=null,d=null!=a&&null!=n&&!u;null==r||l?d&&(s=x(q,{stageInstance:a,channel:n})):r.entity_type===R.GuildScheduledEventEntityTypes.STAGE_INSTANCE&&d?s=x(q,{stageInstance:a,
channel:n}):r.entity_type===R.GuildScheduledEventEntityTypes.EXTERNAL?s=x(Y,{guildEvent:r}):r.entity_type===R.GuildScheduledEventEntityTypes.VOICE&&null!=n&&(s=x(z,{guildEvent:r,channel:n}));return s}));t.default=X},176079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(16941)),u=c(n(863771)),l=c(n(971639)),s=c(n(776360)),d=c(n(247001)),f=c(n(178494));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.className,n=e.iconContainerClassName,r=e.icon,c=e.color,p=e.title,y=e.description,h=e.userCount,m=e.onClick;return v(i.default,{className:(0,o.default)(f.default.container,t),onClick:m},void 0,v("div",{style:{backgroundColor:c},className:(0,o.default)(f.default.icon,n)},void 0,r),v("div",{className:f.default.textContainer},void 0,v(l.default,{size:s.default.Sizes.SIZE_16},void 0,p),v(s.default,{size:s.default.Sizes.SIZE_12,color:s.default.Colors.HEADER_SECONDARY,
className:f.default.inline},void 0,y),null!=h&&h>0?a.createElement(a.Fragment,null,v(s.default,{size:s.default.Sizes.SIZE_12,color:s.default.Colors.HEADER_SECONDARY,className:f.default.dot},void 0,"•"),v(s.default,{size:s.default.Sizes.SIZE_12,color:s.default.Colors.HEADER_SECONDARY,className:f.default.inline},void 0,d.default.Messages.GUILD_EVENT_INTERESTED.format({count:h}))):null),v(u.default,{height:16,width:16,className:f.default.caret}))}y.displayName="GuildEventPrompt"},5031:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=n(205562),i=c(n(32443)),u=n(194322),l=c(n(176079)),s=n(770348),d=n(371621),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value
}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _=v(i.default,{height:20,width:20});function g(e){var t=e.className,r=e.guildId,i=(0,o.useAppContext)();return v(l.default,{className:t,icon:_,color:s.Colors.BRAND_NEW,title:f.default.Messages.SCHEDULE_EVENT,description:f.default.Messages.SCHEDULE_EVENT_DESCRIPTION,onClick:function(){(0,u.openModalLazy)(m(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865),n.e(15198),n.e(8062),n.e(1025),n.e(75659)]).then(n.bind(n,901025));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:s.NOOP_NULL,
contextKey:i===s.AppContext.POPOUT?d.POPOUT_MODAL_CONTEXT:d.DEFAULT_MODAL_CONTEXT})}})}g.displayName="ScheduleStageEventPrompt"},620859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,r=e.channelId,u=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(r)}),[r]),h=(0,d.useImminentUpcomingGuildEvents)(r),m=null!=(0,d.useActiveEvent)(r),E=(0,s.useCanCreateEditDeleteEvent)(t,u);if(h.length<1||m||!E)return null;return a.createElement(a.Fragment,null,h.map((function(e){return _(c.default,{icon:O,color:p.Colors.STATUS_GREEN_600,title:v.default.Messages.GUILD_EVENT_START_PROMPT.format({eventName:e.name}),description:v.default.Messages.GUILD_EVENT_START_PROMPT_DESCRIPTION.format({startTime:(0,f.getEventTimeData)(e.scheduled_start_time).startDateTimeString}),onClick:function(){return function(e){(0,l.openModalLazy)(S(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){
for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(46734)]).then(n.bind(n,746734));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,g({},t,{event:e}))}));case 5:case"end":return t.stop()}}),t)}))))}(e)},userCount:e.user_count,className:y.default.eventPrompt},e.id)})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=h(n(644263)),u=h(n(32443)),l=n(194322),s=n(668516),d=n(902399),f=n(834547),c=h(n(176079)),p=n(770348),v=h(n(247001)),y=h(n(407770));function h(e){
return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}var O=_(u.default,{height:20,width:20})},473842:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(205562),o=n(559133),i=d(n(332282)),u=d(n(176079)),l=n(478036),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}
function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=c(i.default,{height:20,width:20});function v(e){var t=e.className,n=e.channel,r=(0,a.useAppContext)();return c(u.default,{className:t,icon:p,color:l.Colors.STATUS_GREEN_600,title:s.default.Messages.STAGE_CHANNEL_START_TITLE,description:s.default.Messages.STAGE_CHANNEL_START_SUBTITLE,onClick:function(){(0,o.openStageChannelSettings)(n,r)}})}v.displayName="StartStageChannelEventPrompt"},802337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EmbeddedActivityTutorial=void 0
;var r,a=h(n(667294)),o=v(n(151097)),i=h(n(956117)),u=n(598671),l=v(n(776360)),s=v(n(865725)),d=v(n(308920)),f=n(770348),c=v(n(247001)),p=v(n(741093));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.markAsDismissed;a.useEffect((function(){d.default.track(f.AnalyticEvents.TOOLTIP_VIEWED,{type:"embedded_activity_discovery_tutorial"})}),[]);return m("div",{className:p.default.wrapper},void 0,m("div",{className:p.default.container},void 0,m("div",{className:p.default.content},void 0,m(s.default,{className:p.default.video,src:"https://cdn.discordapp.com/attachments/953335097694756924/953335335566327908/wtp_upsell_v2.mp4",poster:"https://cdn.discordapp.com/attachments/887469171804356628/916446867586416660/activities-video-poster-512.png",width:224,height:126,loop:!0,muted:!0,autoPlay:!0}),m("div",{className:p.default.header},void 0,m(l.default,{className:p.default.headerText,size:l.default.Sizes.SIZE_16,color:l.default.Colors.CUSTOM
},void 0,c.default.Messages.EMBEDDED_ACTIVITY_NOTICE_TITLE),m(u.TextBadge,{text:c.default.Messages.BETA,disableColor:!0,className:p.default.betaTag})),m(l.default,{className:p.default.subheaderText,size:l.default.Sizes.SIZE_12,color:l.default.Colors.CUSTOM},void 0,c.default.Messages.EMBEDDED_ACTIVITY_NOTICE_WTP_DESCRIPTION),m("div",{className:p.default.ctaActionWrapper},void 0,m(o.default,{className:p.default.learnMoreLink,href:"https://support.discord.com/hc/articles/4422142836759"},void 0,c.default.Messages.LEARN_MORE),m(i.default,{onClick:function(){t()},look:i.ButtonLooks.FILLED,color:i.default.Colors.BRAND,size:i.default.Sizes.MEDIUM},void 0,c.default.Messages.DISMISS)))))};t.EmbeddedActivityTutorial=_;_.displayName="EmbeddedActivityTutorial"},884960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(923387),i=L(n(682404)),u=n(444272),l=L(n(167739)),s=L(n(638098)),d=L(n(305081)),f=n(222830),c=n(75639),p=L(n(58941)),v=L(n(104805)),y=L(n(960987)),h=L(n(964285)),m=L(n(142024)),_=L(n(160629)),g=L(n(308920)),E=n(682937),S=n(770348),O=n(583551),b=n(665984),I=n(265517),C=n(478036),T=L(n(247001)),A=L(n(636443)),P=L(n(135849)),M=L(n(998240)),N=L(n(21845)),R=L(n(705206)),w=L(n(567012)),D=L(n(862470));function L(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function k(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(){g.default.track(S.AnalyticEvents.TOOLTIP_VIEWED,{type:I.PremiumUpsellTypes.PREMIUM_PROGRESS_BAR,location:{page:S.AnalyticsPages.GUILD_CHANNEL}})}function G(){g.default.track(S.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:I.PremiumUpsellTypes.INVITE_SPLASH_UPSELL,location:{page:S.AnalyticsPages.GUILD_CHANNEL}})}function F(e){null!=e&&h.default.open(e.id,S.GuildSettingsSections.OVERVIEW,{section:S.AnalyticsSections.PREMIUM_GUILD_PROGRESS_BAR},S.GuildSettingsSubsections.DISPLAY)}function x(e,t){t&&(0,c.openGuildBoostingMarketingModal)({guildId:e.id,location:{
section:S.AnalyticsSections.BOOSTING_LOWER_PRICE_EXPERIMENT_TOOLTIP,object:S.AnalyticsObjects.BOOSTING_LOWER_PRICE_EXPERIMENT_CTA}})}function B(e,t){t&&h.default.open(e.id,S.GuildSettingsSections.DISCOVERY)}function V(e){null!=e&&((0,E.isTierUnlocked)(e,S.BoostedGuildTiers.TIER_1)?h.default.open(e.id,S.GuildSettingsSections.OVERVIEW,{section:S.AnalyticsSections.PREMIUM_GUILD_INVITE_SPLASH},S.GuildSettingsSubsections.DISPLAY):(0,p.default)({analyticsSourceLocation:S.AnalyticsSections.PREMIUM_GUILD_INVITE_SPLASH,guild:e,targetBoostedGuildTier:S.BoostedGuildTiers.TIER_1,perks:(0,b.guildInviteUpsellPerks)()}))}function W(e){var t=e.renderPopout,n=e.renderGuildHeaderDropdownButton;return k(_.default,{renderPopout:function(){return k("div",{onClick:function(e){return e.stopPropagation()}},void 0,t)},position:_.default.Positions.BOTTOM,align:_.default.Align.CENTER,animation:_.default.Animation.TRANSLATE,shouldShow:!0},void 0,(function(){return n()}))}W.displayName="GuildHeaderPopout"
;var H=a.memo((function(e){var t=e.contentTypes,n=e.theme,r=e.guild,a=e.handleHeaderMenuToggle,c=e.renderGuildHeaderDropdownButton,p=(0,u.useBlockedPaymentsConfig)(),_=n===C.ThemeTypes.DARK?w.default:D.default,g=(0,E.getAppliedGuildBoostsRequired)(r.id)[S.BoostedGuildTiers.TIER_3];return k(d.default,{contentTypes:t,groupName:O.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;switch(t){case o.DismissibleContent.GUILD_HEADER_BOOSTING_LOW_PRICE_EXPERIMENT_TOOLTIP:var u=(0,f.getBoostingTiersExperimentConfig)(r.id).tooltip===f.GuildBoostingTiersExperimentTooltips.LOWER_PRICE;return k(W,{renderPopout:k(m.default,{onComponentMount:U,header:T.default.Messages.GUILD_BOOSTING_LOWER_PRICE_EXPERIMENT_TOOLTIP_TITLE,headerClassName:A.default.lowerPriceBoostingTooltipHeader,asset:k("img",{alt:"",src:N.default,className:A.default.lowerPriceBoostingImg}),
content:u?T.default.Messages.GUILD_BOOSTING_LOWER_PRICE_EXPERIMENT_TOOLTIP_CONTENT_LOWER_PRICE.format({tier3BoostCount:g}):T.default.Messages.GUILD_BOOSTING_LOWER_PRICE_EXPERIMENT_TOOLTIP_CONTENT.format(),buttonCTA:T.default.Messages.GUILD_BOOSTING_LOWER_PRICE_EXPERIMENT_TOOLTIP_CTA,secondaryButtonCTA:T.default.Messages.GUILD_BOOSTING_LOWER_PRICE_EXPERIMENT_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return x(r)},onClick:function(){return x(r,!0)},markAsDismissed:n,className:A.default.lowerPriceBoostingTooltip}),renderGuildHeaderDropdownButton:c});case o.DismissibleContent.GUILD_HEADER_EVENT_UPSELL:return k(W,{renderPopout:k(y.default,{onClick:a,markAsDismissed:n}),renderGuildHeaderDropdownButton:c});case o.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:return k(W,{renderPopout:k(m.default,{onComponentMount:U,header:T.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_TITLE,asset:k("img",{alt:"",src:_,className:P.default.fullWidthImage}),
content:T.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CONTENT.format(),buttonCTA:T.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:T.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return F()},onClick:function(){return F(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:c});case o.DismissibleContent.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK:return k(W,{renderPopout:k(m.default,{onComponentMount:U,header:T.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_TITLE,asset:k("img",{alt:"",src:_,className:P.default.fullWidthImage}),content:T.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_CONTENT.format(),buttonCTA:T.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:T.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return F()},
onClick:function(){return F(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:c});case o.DismissibleContent.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return k(W,{renderPopout:k(v.default,{guildId:r.id,markAsDismissed:n}),renderGuildHeaderDropdownButton:c});case o.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP:return k(W,{renderPopout:k(s.default,{onClick:function(){return B(r,!0)},onSecondaryClick:function(){return B(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:c});case o.DismissibleContent.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return k(W,{renderPopout:k(l.default,{guild:r,markAsDismissed:n}),renderGuildHeaderDropdownButton:c});case o.DismissibleContent.GUILD_HEADER_INVITE_SPLASH:if(p)return c();var d=(0,E.isTierUnlocked)(r,S.BoostedGuildTiers.TIER_1)?T.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT.format():T.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT_LOCKED.format({boostCount:(0,
E.getNumberOfAppliedBoostsNeededForTier)(r,S.BoostedGuildTiers.TIER_1)}),O=(0,E.isTierUnlocked)(r,S.BoostedGuildTiers.TIER_1)?T.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS:T.default.Messages.LEARN_MORE;return k(W,{renderPopout:k(m.default,{onComponentMount:G,header:T.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_TITLE,asset:k("img",{alt:"",src:R.default,className:P.default.fullWidthImage}),content:d,buttonCTA:O,secondaryButtonCTA:T.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return V()},onClick:function(){return V(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:c});case o.DismissibleContent.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS:return k(W,{renderPopout:k(m.default,{onComponentMount:function(){return e=r.id,void i.default.trackExposure({guildId:e},{location:"dismissible_tooltip"});var e},header:T.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_HEADER,asset:k("img",{alt:"",
src:M.default,className:A.default.tooltipIntegrationsPermissionsAsset}),content:T.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CONTENT,buttonCTA:T.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CTA,onClick:function(){h.default.open(r.id,S.GuildSettingsSections.INTEGRATIONS)},secondaryButtonCTA:T.default.Messages.DISMISS,onSecondaryClick:n,markAsDismissed:n}),renderGuildHeaderDropdownButton:c});default:return c()}}))}));t.default=H},14638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Ve
;var r,a=Pe(n(667294)),o=n(248088),i=n(536211),u=n(923387),l=n(91817),s=Te(n(636602)),d=n(378158),f=Te(n(562341)),c=Te(n(732716)),p=Te(n(145371)),v=Te(n(235879)),y=n(698462),h=n(711964),m=Te(n(682404)),_=n(370639),g=Te(n(684769)),E=Te(n(305081)),S=Te(n(982879)),O=n(780815),b=Te(n(186087)),I=n(222830),C=n(207353),T=n(403008),A=n(18485),P=n(157949),M=n(902399),N=Te(n(735172)),R=Te(n(845957)),w=Te(n(491523)),D=n(954481),L=Te(n(348308)),j=Te(n(126515)),k=Te(n(329697)),U=Te(n(527820)),G=Te(n(282619)),F=Te(n(142024)),x=Te(n(881454)),B=Te(n(644263)),V=Te(n(917515)),W=Te(n(986711)),H=Te(n(250650)),z=Te(n(140868)),Y=Te(n(517286)),K=Te(n(311492)),$=Te(n(680804)),q=Te(n(30098)),Z=Te(n(122913)),X=Te(n(689389)),Q=Te(n(893160)),J=Te(n(563621)),ee=Te(n(871778)),te=Te(n(728429)),ne=Te(n(329669)),re=Te(n(535711)),ae=Te(n(24e4)),oe=Te(n(487372)),ie=n(644105),ue=Pe(n(160629)),le=Pe(n(730977)),se=n(57744),de=n(194322),fe=n(42031),ce=n(908010),pe=Te(n(210098)),ve=n(802337),ye=Te(n(328831)),he=Te(n(884960)),me=Te(n(608568)),_e=Te(n(421797)),ge=n(770348),Ee=n(7812),Se=n(583551),Oe=Te(n(247001)),be=Te(n(636443)),Ie=["onClick"],Ce=["isUnavailable","guild","selectedChannel","enableStudyGroup","showCommunityInfo"]
;function Te(e){return e&&e.__esModule?e:{default:e}}function Ae(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ae=function(e){return e?n:t})(e)}function Pe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ae(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function we(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function De(){De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return De.apply(this,arguments)}function Le(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function je(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Le(o,r,a,i,u,"next",e)}function u(e){Le(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ke(e,t){ke=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ke(e,t)}var Ue=88,Ge=1e3,Fe="server-settings",xe={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}},Be=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ke(e,t)}(t,e);function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];(t=e.call.apply(e,[this].concat(i))||this).historyUnlisten=function(){};t.showTimeout=new l.Timeout;t.state={controller:new o.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:Ue};t.handleHistoryChange=function(e){null!=e.state&&e.state.shouldShowSubscribeTooltip&&t.showTimeout.start(Ge,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};t.handleHeaderMenuToggle=function(e){var n=t.props.isHeaderPopoutOpen;e.stopPropagation();(0,O.showGuildHeaderPopout)(!n);t.closeAllHeaderNotices()};t.handleContextMenu=function(e){var r=t.props.guild;null!=r&&(0,d.openContextMenuLazy)(e,je(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return n.e(18974).then(n.bind(n,418974));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,De({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleHeaderContextMenu=function(e){var r=t.props.guild;null!=r&&(0,d.openContextMenuLazy)(e,je(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(53734)]).then(n.bind(n,853734));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,De({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.closeAllHeaderNotices=function(){t.handleCloseSubscribeTooltip();t.handleCloseTemplateDirtyTooltip()};t.handleCloseSubscribeTooltip=function(){t.showTimeout.stop();t.state.shouldShowSubscribeTooltip&&t.setState({shouldShowSubscribeTooltip:!1})};t.handleCloseTemplateDirtyTooltip=function(){
var e=t.props,n=e.guild,r=e.showGuildTemplateDirtyTooltip;null!=n&&r&&R.default.hideGuildTemplateDirtyTooltip(n.id)};t.renderMenuPopout=je(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(11976)]).then(n.bind(n,611976));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){var n=e.closePopout,r=t.props.guild;return null!=r&&we(a,{onClose:n,guild:r})}));case 5:case"end":return e.stop()}}),e)})));t.renderGuildHeaderUpsellPopout=function(e){var n=t.props,r=n.showEventsUpsell,a=n.showGuildBoostingProgressBarUpsell,o=n.showGuildBoostingProgressBarSizeUpsell,i=n.showRoleSubscriptionUpsell,l=n.showBoostingLowPriceTooltip,s=n.showDiscoveryTooltip,d=n.showInviteSplashUpsell,f=n.showIntegrationPermissionTooltip,c=n.showDiscoveryLandingPageSettingsUpsell,p=n.guild,v=n.theme;if(null==p)return t.renderGuildHeaderDropdownButton(e);var y=[]
;c&&y.push(u.DismissibleContent.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL);r&&!(null==p?void 0:p.hasFeature(ge.GuildFeatures.COMMUNITY))&&y.push(u.DismissibleContent.GUILD_HEADER_EVENT_UPSELL);a&&y.push(u.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS);o&&y.push(u.DismissibleContent.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK);i&&y.push(u.DismissibleContent.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL);s&&y.push(u.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP);d&&y.push(u.DismissibleContent.GUILD_HEADER_INVITE_SPLASH);f&&y.push(u.DismissibleContent.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS);l&&y.push(u.DismissibleContent.GUILD_HEADER_BOOSTING_LOW_PRICE_EXPERIMENT_TOOLTIP);return 0===y.length?t.renderGuildHeaderDropdownButton(e):we(he.default,{contentTypes:y,theme:v,guild:p,handleHeaderMenuToggle:t.handleHeaderMenuToggle,renderGuildHeaderDropdownButton:function(){return t.renderGuildHeaderDropdownButton(e)}})};t.pinBannerOrGuildInfo=function(e){var n=e.scrollTop
;t.setAnimatedValue(n)};return t}t.getDerivedStateFromProps=function(e){var t=e.guild,n=e.hasChannelNotice;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null};var r=t.prototype;r.componentDidMount=function(){var e,t=this;this.setAnimatedValue(0);s.default.subscribe(ge.ActionTypes.LAYER_PUSH,this.closeAllHeaderNotices);this.historyUnlisten=k.default.addRouteChangeListener(this.handleHistoryChange);(null===(e=k.default.getHistory().location.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(Ge,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};r.componentWillUnmount=function(){this.showTimeout.stop();this.state.controller.dispose();this.historyUnlisten();s.default.unsubscribe(ge.ActionTypes.LAYER_PUSH,this.closeAllHeaderNotices)};r.getGuildBannerHash=function(){var e=this.props,t=e.guild,n=e.hasChannelNotice;return null==t||n?null:t.banner};r.renderGuildHeaderDropdownButton=function(e){return we(f.default,{open:e,
className:be.default.dropdown})};r.renderGuildHeaderNotices=function(e){var t=this,n=this.props,r=n.showGuildTemplateDirtyTooltip,a=n.showGuildHeaderTutorial,o=n.anyLayerOpen,i=this.state.shouldShowSubscribeTooltip;return a?we("div",{onClick:function(t){return e?null:t.stopPropagation()}},void 0,we(U.default,{tutorialId:Fe,position:ie.PopoutPositions.BOTTOM,inlineSpecs:xe},void 0,this.renderGuildHeaderDropdownButton(e))):r?we(le.default,{forceOpen:!0,color:le.TooltipColors.BRAND,position:se.Positions.BOTTOM,shouldShow:!e&&!o,text:Oe.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,"aria-label":Oe.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)})):o||e?this.renderGuildHeaderDropdownButton(e):i?we(ue.default,{renderPopout:function(){return we("div",{onClick:function(e){return e.stopPropagation()}},void 0,we(F.default,{header:Oe.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_HEADER,
content:Oe.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_TEXT,buttonCTA:Oe.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_CLOSE,onClick:t.handleCloseSubscribeTooltip}))},position:ue.default.Positions.BOTTOM,align:ue.default.Align.CENTER,animation:ue.default.Animation.TRANSLATE,shouldShow:!0},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)})):this.renderGuildHeaderUpsellPopout(e)};r.renderGuildHeader=function(){var e=this,t=this.props,n=t.guild,r=t.isHeaderPopoutOpen,o=t.showGuildHeaderTutorial,i=t.showGuildTemplateDirtyTooltip,u=t.isGuildHeaderDismissibleTooltipShown,l=t.showCommunityInfo,s=this.state,d=s.controller,f=s.renderBanner,c=s.bannerVisible,p=s.bannerVisibleHeight,v=s.communityInfoVisible,y=o||i||u;return null==n?null:we(ue.LazyPopout,{renderPopout:this.renderMenuPopout,position:ue.default.Positions.BOTTOM,align:ue.default.Align.CENTER,animation:ue.default.Animation.SCALE,shouldShow:r,onRequestClose:function(){
return(0,O.showGuildHeaderPopout)(!1)}},void 0,(function(t){t.onClick;var o=Re(t,Ie);return a.createElement(ye.default,De({guild:n,controller:d,renderBanner:f,bannerVisible:c,communityInfoVisible:v,showCommunityInfo:l,guildBanner:e.getGuildBannerHash(),onClick:e.handleHeaderMenuToggle,onContextMenu:e.handleHeaderContextMenu,disableBannerAnimation:y,animationOverlayHeight:p},o),e.renderGuildHeaderNotices(r))}))};r.setAnimatedValue=function(e){var t=this.props,n=t.guild,r=t.showCommunityInfo,a=null!=this.getGuildBannerHash(),o=r&&(null==n?void 0:n.hasCommunityInfoSubheader());null!=n&&(a||o)&&(a?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e))};r.setAnimatedValueForBanner=function(e){var t=this.state,n=t.renderBanner,r=t.communityInfoVisible,a=t.bannerVisible,o=t.bannerVisibleHeight,i=t.controller;(e>=64&&a||e<64&&!a)&&(a=!a);(e>=Ue&&!n||e<Ue&&n)&&(n=!n);o=Math.max(Ue-e,0);r=a
;n===this.state.renderBanner&&a===this.state.bannerVisible&&o===this.state.bannerVisibleHeight&&r===this.state.communityInfoVisible||this.setState({renderBanner:n,bannerVisible:a,bannerVisibleHeight:o,communityInfoVisible:r});i.update({value:Math.min(1,Math.max(0,1-e/Ue)),immediate:!0}).start()};r.setAnimatedValueForGuildInfo=function(e){var t=this.state,n=t.communityInfoVisible,r=t.controller;(e>=20&&n||e<20&&!n)&&(n=!n);n!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:n});r.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()};r.renderChannelList=function(){var e=this.props,t=e.isUnavailable,n=e.guild,r=e.selectedChannel,o=e.enableStudyGroup,i=e.showCommunityInfo,u=Re(e,Ce);return t||null==n?we(_e.default,{withBannerPadding:null!=n&&null!=this.getGuildBannerHash()}):n.hasFeature(ge.GuildFeatures.HUB)&&!o?we("div",{className:be.default.hubContainer},void 0,we(L.default,{guild:n,channel:null!=r?r:Y.default.getDefaultChannel(n.id)
})):a.createElement(pe.default,De({guild:n},u,{guildBanner:this.getGuildBannerHash(),onScroll:null!=n&&(null!=this.getGuildBannerHash()||i&&n.hasCommunityInfoSubheader())?this.pinBannerOrGuildInfo:null}))};r.render=function(){var e=this.props,t=e.guild,n=e.activitiesBebEnabled,r=e.canShowCoachMarkAtBottom,o=[];n&&r&&o.push(u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK);return we("nav",{className:be.default.container,onContextMenu:this.handleContextMenu,"aria-label":Oe.default.Messages.GUILD_SIDEBAR_A11Y_LABEL.format({guildName:null!=t?t.toString():""})},void 0,null!=t&&this.renderGuildHeader(),null!=t&&we(me.default,{guild:t}),this.renderChannelList(),we(E.default,{contentTypes:o},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;return t===u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK?we(ve.EmbeddedActivityTutorial,{markAsDismissed:n}):a.createElement(a.Fragment,null)})))};return t}(a.PureComponent);Be.displayName="GuildSidebar";function Ve(e){
var t,n,r=e.guildId,o=e.hideSelectedChannel,l=e.selectedChannelId,s=(0,i.useStateFromStores)([q.default],(function(){return q.default.getGuild(r)})),d=(0,i.useStateFromStores)([Y.default],(function(){return Y.default.getChannels(r)})),f=(0,i.useStateFromStores)([z.default],(function(){return z.default.getCategories(r)})),E=(0,i.useStateFromStores)([J.default],(function(){return J.default.getMutedChannels(r)})),R=(0,i.useStateFromStores)([S.default],(function(){return S.default.getFavoriteChannels()})),L=(0,i.useStateFromStores)([oe.default,B.default],(function(){if(r!==ge.FAVORITES)return oe.default.getVoiceStates(r);var e={};for(var t in R){var n=B.default.getChannel(t);null!=n&&(e[t]=oe.default.getVoiceStatesForChannel(n))}return e}),[R,r]),k=(0,i.useStateFromStores)([V.default],(function(){return V.default.getCollapsed()})),U=(0,i.useStateFromStores)([J.default],(function(){return J.default.isGuildCollapsed(r)})),F=(0,i.useStateFromStores)([$.default],(function(){
return $.default.getGuildChangeSentinel(r)})),ie=(0,i.useStateFromStores)([W.default],(function(){return W.default.getGuildDimensions(r).scrollTo})),ue=(0,i.useStateFromStores)([Q.default],(function(){return Q.default.getChannelId()})),le=Me((0,i.useStateFromStoresArray)([X.default],(function(){return[X.default.getGuildVersion(r),X.default.can(ge.Permissions.MANAGE_GUILD,s),X.default.can(ge.Permissions.MANAGE_ROLES,s)]})),3),se=le[0],pe=le[1],ve=le[2],ye=(0,i.useStateFromStores)([x.default],(function(){return x.default.version})),he=(0,i.useStateFromStores)([H.default],(function(){return H.default.isUnavailable(r)})),me=(0,i.useStateFromStores)([te.default],(function(){return te.default.getCurrentUser()})),_e=(0,i.useStateFromStores)([v.default,ee.default],(function(){return v.default.darkSidebar?ge.ThemeTypes.DARK:ee.default.theme})),Oe=(0,P.useGuildHasLiveChannelNotice)(null!==(t=null==s?void 0:s.id)&&void 0!==t?t:""),be=(0,C.useShouldRenderGuildBoostingAffinityNotice)(r),Ie=(0,
y.useBeb)(r),Ce=(0,g.default)((function(e){return e.currentlyShown.has(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION)})),Te=Me(a.useState(!Ce),2),Ae=Te[0],Pe=Te[1],Ne=(0,p.default)(r);a.useEffect((function(){r!==Ne&&Pe(!Ce)}),[r,Ne,Ce]);var Re=Me((0,g.default)((function(e){return[Ee.CHANNEL_NOTICES.some((function(t){return e.currentlyShown.has(t.dismissibleContentType)})),e.currentlyShownGroup.has(Se.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS)]})),2),De=Re[0],Le=Re[1],je=(0,i.useStateFromStores)([re.default,ae.default,j.default,ne.default],(function(){return re.default.isVisible(s)||ne.default.isVisible(null!=s?s.id:null)||j.default.isVisible(s)||ae.default.isVisible(s)||Oe}))||De||be,ke=(0,A.useAndTriggerEventsUpsellExperiment)(r,!0),Ue=(0,de.useModalsStore)(de.hasAnyModalOpenSelector),Ge=(0,i.useStateFromStores)([Z.default],(function(){return Z.default.hasLayers()})),xe=(0,i.useStateFromStores)([G.default],(function(){return G.default.shouldShow(Fe)
})),Ve=pe&&!1===(null==s?void 0:s.premiumProgressBarEnabled)&&!fe.ProcessArgs.isDisallowPopupsSet(),We=b.default.useExperiment({guildId:r},{autoTrackExposure:!0}).enabled,He=(0,i.useStateFromStores)([K.default],(function(){return K.default.getMemberCount(r)})),ze=pe&&We&&null!=He&&He>=30&&!1===(null==s?void 0:s.premiumProgressBarEnabled)&&!fe.ProcessArgs.isDisallowPopupsSet(),Ye=(0,T.useGuildEligibleForRoleSubscriptions)(r),Ke=pe&&null!==(n=null==s?void 0:s.hasFeature(ge.GuildFeatures.COMMUNITY))&&void 0!==n&&n&&Ye&&!((null==s?void 0:s.hasFeature(ge.GuildFeatures.CREATOR_MONETIZABLE))||(null==s?void 0:s.hasFeature(ge.GuildFeatures.CREATOR_MONETIZABLE_DISABLED))),$e=(0,I.useBoostingTiersExperimentConfig)(null==s?void 0:s.id).tooltip!==I.GuildBoostingTiersExperimentTooltips.NONE,qe=(0,_.useLowerMemberCountRequirements)(r),Ze=m.default.getCurrentConfig({guildId:r}).enable&&pe&&ve,Xe=c.default.useExperiment({guildId:r},{autoTrackExposure:!0}).enabled,Qe=N.default.useExperiment({guildId:r
}).enabled,Je=pe&&"en-US"===(null==s?void 0:s.preferredLocale)&&s.hasFeature(ge.GuildFeatures.DISCOVERABLE);!0===Je&&(Je=Je&&Qe);var et=(pe||(null==s?void 0:s.premiumTier)===ge.BoostedGuildTiers.NONE)&&Xe&&!fe.ProcessArgs.isDisallowPopupsSet(),tt=(0,i.useStateFromStores)([w.default,Z.default],(function(){return null!=s&&null!=me&&pe&&!Z.default.hasLayers()&&w.default.shouldShowGuildTemplateDirtyTooltip(r)})),nt=(0,i.useStateFromStores)([B.default],(function(){return B.default.getChannel(l)})),rt=(0,O.useGuildHeaderPopoutStore)().isPopoutOpen,at=(0,D.useHubStudyGroupExperiment)(s).enableStudyGroup,ot=(0,h.useEmbeddedAppsByChannel)(null==s?void 0:s.id),it=(0,M.useActiveEventsByChannel)(null==s?void 0:s.id),ut=ce.GuildCommunityInfoExperiment.useExperiment({guildId:r}).showCommunityInfo;return we(Be,{guildId:r,hideSelectedChannel:o,guild:s,channels:d,categories:f,mutedChannels:E,scrollToChannel:ie,selectedChannelId:o?null:l,selectedChannel:nt,selectedVoiceChannelId:ue,voiceStates:L,
collapsedChannels:k,collapseMuted:U,isUnavailable:he,theme:_e,user:me,hasChannelNotice:je,anyLayerOpen:Ue||Ge,showGuildBoostingProgressBarUpsell:Ve,showGuildBoostingProgressBarSizeUpsell:ze,showInviteSplashUpsell:et,showDiscoveryLandingPageSettingsUpsell:Je,showGuildHeaderTutorial:xe,showGuildTemplateDirtyTooltip:tt,showEventsUpsell:ke,showRoleSubscriptionUpsell:Ke,showBoostingLowPriceTooltip:$e,showDiscoveryTooltip:qe,showIntegrationPermissionTooltip:Ze,showCommunityInfo:ut,guildReadStateSentinel:F,permissionVersion:se,categoryCollapseVersion:ye,isHeaderPopoutOpen:rt,enableStudyGroup:at,embeddedAppsByChannel:ot,activeEventsByChannel:it,isGuildHeaderDismissibleTooltipShown:Le,activitiesBebEnabled:Ie,canShowCoachMarkAtBottom:Ae})}Ve.displayName="ConnectedGuildSidebar"},608568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(35333)),o=n(954481),i=l(n(199808)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){
var t=e.guild,n=(0,o.useHubStudyGroupExperiment)(t).enableStudyGroup;return t.hasFeature(u.GuildFeatures.HUB)?n?d(i.default,{guild:t}):null:d(a.default,{guild:t})}f.displayName="GuildSubheader"},421797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(101545));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(){return l("div",{className:o.default.spacer})};s.displayName="Spacer";var d=function(){return l("div",{className:o.default.category})};d.displayName="Category";var f=function(e){var t=e.width;return l("div",{className:o.default.channel},void 0,l("div",{className:o.default.channelIcon}),l("div",{className:o.default.channelName,style:{width:t+"px"}}))};f.displayName="Channel";var c=l(d,{}),p=l(f,{width:100}),v=l(f,{width:74}),y=l(f,{width:100}),h=l(f,{width:70}),m=l(f,{width:112}),_=l(f,{width:175}),g=l(s,{}),E=l(d,{}),S=l(f,{width:100}),O=l(f,{width:74}),b=l(f,{
width:100}),I=l(f,{width:70}),C=l(f,{width:112}),T=l(f,{width:56}),A=function(e){var t,n=e.withBannerPadding;return l("div",{className:(0,a.default)(o.default.container,(t={},t[o.default.bannerPadding]=n,t))},void 0,c,p,v,y,h,m,_,g,E,S,O,b,I,C,T)};A.displayName="PlaceholderChannelList";var P=A;t.default=P},491523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(972247)),i=l(n(636602)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var f="hasSeenGuildTemplatePromotionTooltip",c={},p=!0===o.default.get(f);function v(e){var t,n=e.guildId;c=d({},c,((t={})[n]=!1,t))}var y=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.shouldShowGuildTemplateDirtyTooltip=function(e){var t;return null!==(t=c[e])&&void 0!==t&&t};n.shouldShowGuildTemplatePromotionTooltip=function(){return!p};return t}(a.default.Store);y.displayName="GuildTemplateTooltipStore";var h=new y(i.default,((r={})[u.ActionTypes.GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH]=function(e){var t,n=e.guildTemplate;c=d({},c,((t={})[n.source_guild_id]=n.is_dirty||!1,t))},r[u.ActionTypes.GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE]=function(){o.default.set(f,!0);p=!0},r[u.ActionTypes.GUILD_TEMPLATE_SYNC_SUCCESS]=function(e){var t;c=d({},c,((t={})[e.guildTemplate.source_guild_id]=!1,t))},r[u.ActionTypes.GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE]=v,r[u.ActionTypes.GUILD_TEMPLATE_DELETE_SUCCESS]=v,r));t.default=h},920061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=n(138864),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(997359)),o=n(919094),i=f(n(562882)),u=f(n(308920)),l=f(n(924117)),s=f(n(233689)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v="template",y=p({},s.default,{
openNativeAppModal:function(e){i.default.openNativeAppModal(e,d.RPCCommands.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.getGuildTemplateDynamicLinkTemplate)(e):(0,r.getDefaultDynamicLinkTemplate)(),i=(0,a.generateAttemptId)(),s=(0,a.default)(n,{utmSource:v,fingerprint:t,attemptId:i});u.default.track(d.AnalyticEvents.DEEP_LINK_CLICKED,{fingerprint:(0,o.maybeExtractId)(t),attempt_id:i,source:v,guild_template_code:e});l.default.launch(s,(function(){}))}}});t.default=y},542322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(368767)),i=p(n(844784)),u=p(n(502546)),l=p(n(790597)),s=p(n(547282)),d=n(878556),f=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.channelId,n=(0,a.useStateFromStores)([u.default],(function(){return u.default.getSection(t)
})),r=(0,a.useStateFromStores)([l.default],(function(){return l.default.getGuildId()})),p=n===f.ChannelSections.MEMBERS;return y(d.Icon,{tooltip:p?c.default.Messages.MEMBER_LIST_SHOWN:c.default.Messages.MEMBER_LIST_HIDDEN,icon:s.default,onClick:function(){i.default.trackWithMetadata(f.AnalyticEvents.MEMBER_LIST_TOGGLED,{channel_id:t,guild_id:r,member_list_open:!p});o.default.toggleMembersSection()},selected:p})}h.displayName="ChannelMembersButton"},818378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=m(n(770549)),u=m(n(563621)),l=m(n(160629)),s=m(n(91424)),d=m(n(811198)),f=m(n(878556)),c=n(956506),p=m(n(405622)),v=n(770348),y=m(n(247001)),h=m(n(750322));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}
function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){
var t=e.channel,n=S((0,o.useStateFromStoresArray)([u.default],(function(){return[u.default.isChannelMuted(t.getGuildId(),t.id),u.default.resolvedMessageNotifications(t)]}),[t]),2),r=n[0],m=n[1],_=S(a.useState(!1),2),O=_[0],b=_[1];a.useEffect((function(){var e=function(){return b(!0)};c.ComponentDispatch.subscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){c.ComponentDispatch.unsubscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var I=function(e){e.shiftKey?i.default.updateChannelOverrideSettings(t.guild_id,t.id,{muted:!r}):b((function(e){return!e}))},C=y.default.Messages.NOTIFICATION_SETTINGS;return g(l.default,{shouldShow:O,animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return b(!1)},renderPopout:function(e){return a.createElement(p.default,E({},e,{channel:t,navId:"channel-context",label:y.default.Messages.CHANNEL_ACTIONS_MENU_LABEL}))}
},void 0,(function(e,t){var n=t.isShown;return a.createElement(f.default.Icon,E({},e,{onClick:I,tooltip:n?null:C,icon:r||m!==v.UserNotificationSettings.ALL_MESSAGES?d.default:s.default,foreground:r?h.default.strikethrough:null,"aria-label":C,selected:n}))}))}b.displayName="ChannelNotificationSettingsButton"},764423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=m(n(83887)),u=n(205562),l=m(n(137438)),s=m(n(191391)),d=m(n(728429)),f=m(n(160629)),c=m(n(126344)),p=n(878556),v=n(956506),y=n(770348),h=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}
function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){
var t=e.channel,n=(0,o.useStateFromStores)([l.default,d.default],(function(){var e=d.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!l.default.didAgree(t.getGuildId()))}),[t]),r=S(a.useState(!1),2),m=r[0],_=r[1],O=(0,o.useStateFromStores)([s.default],(function(){return s.default.hasUnreadPins(t.id)}),[t]),b=(0,u.useWindowDispatch)(),I=a.useCallback((function(){n||_((function(e){return!e}))}),[n]);a.useEffect((function(){v.ComponentDispatch.subscribe(y.ComponentActions.TOGGLE_CHANNEL_PINS,I);return function(){v.ComponentDispatch.unsubscribe(y.ComponentActions.TOGGLE_CHANNEL_PINS,I)}}),[I]);function C(e){(null==e?void 0:e.shiftKey)||b.dispatch(y.ComponentActions.POPOUT_CLOSE)}return g(f.default,{shouldShow:m,animation:f.default.Animation.NONE,position:f.default.Positions.BOTTOM,align:f.default.Align.RIGHT,autoInvert:!1,ignoreModalClicks:!0,onRequestClose:function(){return _(!1)},renderPopout:function(e){return a.createElement(i.default,E({},e,{onJump:C,channel:t}))
}},void 0,(function(e,t){var r=t.isShown;return a.createElement(p.Icon,E({},e,{onClick:I,tooltip:r?null:h.default.Messages.PINNED_MESSAGES,icon:c.default,"aria-label":h.default.Messages.PINNED_MESSAGES,disabled:n,showBadge:O,selected:r}))}))}b.displayName="ChannelPinsButton";var I=b;t.default=I},92332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=I(n(88500)),u=I(n(136873)),l=n(205562),s=I(n(825724)),d=I(n(493051)),f=I(n(30269)),c=I(n(27245)),p=I(n(635014)),v=I(n(290629)),y=I(n(387692)),h=I(n(730977)),m=I(n(119431)),_=I(n(79027)),g=I(n(878556)),E=n(956506),S=n(770348),O=n(376293),b=I(n(247001));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}var P=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleStartCall=function(e,n){var r=t.props,a=r.channel,o=r.notFriend,u=r.appContext,l=o?a.getRecipientId():null,s=function(){return i.default.call(a.id,n,!o&&!a.isManaged()&&e&&!e.shiftKey,l)};n?(0,f.default)(s,u):s()};t.handleJoinCall=function(e){u.default.selectVoiceChannel(t.props.channel.id,e)};t.handleVoiceClick=function(e){var n=t.props,r=n.callUnavailable,a=n.callActive;if(!r)return a?t.handleJoinCall(!1):t.handleStartCall(e,!1)};t.handleStartVideoCall=function(e){t.handleStartCall(e,!0)};t.handleJoinVideoCall=function(){var e=t.props.appContext;(0,f.default)((function(){return t.handleJoinCall(!0)}),e)};t.handleBrowserNotSupported=function(){(0,d.default)()};return t}var n=t.prototype;n.componentDidMount=function(){
E.ComponentDispatch.subscribe(S.ComponentActions.CALL_START,this.handleVoiceClick)};n.componentWillUnmount=function(){E.ComponentDispatch.unsubscribe(S.ComponentActions.CALL_START,this.handleVoiceClick)};n.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel,o=e.mode;if(t||n&&o===S.ChannelModes.VOICE)return null;var i,u=a.isManaged(),l=null,s=!1;if(p.default.supports(O.Features.VIDEO))if(n&&o===S.ChannelModes.VIDEO){i=this.handleJoinVideoCall;l=u?b.default.Messages.CONNECT:b.default.Messages.JOIN_VIDEO_CALL}else{i=this.handleStartVideoCall;l=u?b.default.Messages.CONNECT:b.default.Messages.START_VIDEO_CALL}else{s=!0;i=this.handleBrowserNotSupported;l=b.default.Messages.BROWSER_NOT_SUPPORTED}return T(g.default.Icon,{icon:_.default,onClick:i,disabled:s||r,tooltip:l})};n.renderVoiceCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel;if(t)return null;var o,i=a.isManaged(),u="",l=!1;if(r){
u=i?b.default.Messages.VOICE_UNAVAILABLE:b.default.Messages.CALL_UNAVAILABLE;o=h.default.Colors.RED;l=!0}else u=n?i?b.default.Messages.CONNECT:b.default.Messages.JOIN_VOICE_CALL:i?b.default.Messages.CONNECT:b.default.Messages.START_VOICE_CALL;return T(g.default.Icon,{icon:m.default,onClick:this.handleVoiceClick,disabled:l,tooltip:u,tooltipColor:o})};n.render=function(){return T(a.Fragment,{},void 0,this.renderVoiceCallButton(),this.renderVideoCallButton())};return t}(a.PureComponent);P.displayName="PrivateChannelCallButton";function M(e){var t=e.channel,n=(0,o.useStateFromStores)([s.default],(function(){return s.default.getMode(t.id)})),r=(0,o.useStateFromStores)([y.default],(function(){return y.default.isInChannel(t.id)})),a=(0,o.useStateFromStoresObject)([c.default],(function(){return{callActive:c.default.isCallActive(t.id),callUnavailable:c.default.isCallUnavailable(t.id)}
})),i=a.callActive,u=a.callUnavailable,d=t.getRecipientId(),f=t.type===S.ChannelTypes.DM&&null!=d&&!v.default.isFriend(d),p=(0,l.useAppContext)();return T(P,{channel:t,mode:n,inCall:r,callActive:i,callUnavailable:u,notFriend:f,appContext:p})}M.displayName="ConnectedPrivateChannelCallButton"},789620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(278352)),i=n(439142),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var s={init:function(){a.default.subscribe(u.ActionTypes.VOICE_CHANNEL_SELECT,(function(e){null==e.channelId&&o.hideHotspot(i.HotspotLocations.VOICE_PANEL_INTRODUCTION)}))}};t.default=s},954481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useHubStudyGroupExperiment=t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(770348);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}
var u=(0,a.createExperiment)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]});t.useHubStudyGroupExperiment=function(e){var t;r.useEffect((function(){null!=e&&e.hasFeature(o.GuildFeatures.HUB)&&u.trackExposure({guildId:e.id})}),[e]);return u.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{disable:null==e||!e.hasFeature(o.GuildFeatures.HUB)})};var l=u;t.default=l},241813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=f(n(689626)),i=f(n(81026)),u=f(n(876874)),l=f(n(728429)),s=n(770348),d=n(460703);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p=function(e){var t=(0,a.useStateFromStores)([i.default],(function(){return(null==e?void 0:e.hasFeature(s.GuildFeatures.HUB))?i.default.hasViewedPrompt(d.GuildPrompts.REAL_NAME_PROMPT,e.id):null})),n=(0,a.useStateFromStores)([l.default],(function(){return l.default.getCurrentUser()})),f=(0,a.useStateFromStores)([u.default],(function(){return null!=(null==e?void 0:e.id)&&null!=n?u.default.getMember(null==e?void 0:e.id,n.id):null})),c=null!=(null==f?void 0:f.nick);r.useEffect((function(){c&&null!=e&&!1===t&&o.default.viewPrompt(d.GuildPrompts.REAL_NAME_PROMPT,e.id)}),[c,e,t]);return!1===t&&!c};t.default=p},
404922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(956117)),i=n(194322),u=d(n(776360)),l=d(n(247001)),s=d(n(773022));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.hasHub;return v("div",{className:s.default.container},void 0,v("div",{className:s.default.iconContainer},void 0,v("div",{className:s.default.icon})),v(u.default,{strong:!0,color:u.default.Colors.HEADER_PRIMARY,size:u.default.Sizes.SIZE_20,className:s.default.header},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_HEADER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_HEADER),v(u.default,{
color:u.default.Colors.HEADER_SECONDARY,size:u.default.Sizes.SIZE_14,className:s.default.description},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_DESCRIPTION:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_DESCRIPTION),v("div",{className:s.default.gap}),v(o.default,{size:o.default.Sizes.LARGE,color:t?o.default.Colors.PRIMARY:o.default.Colors.GREEN,onClick:function(){return(0,i.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,v(u.default,{size:u.default.Sizes.SIZE_14,className:s.default.addButton,color:u.default.Colors.CUSTOM},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_ANOTHER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_MY_SCHOOOL)))};y.displayName="HubDiscoveryAddHubCard"
;var h=y;t.default=h},562200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=c(n(415275)),i=c(n(871778)),u=c(n(2022)),l=c(n(971639)),s=c(n(404922)),d=c(n(247001)),f=c(n(258199));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h=v(s.default,{hasHub:!0}),m=v(s.default,{hasHub:!1}),_=function(e){var t=e.guilds,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.theme})),r=t.map((function(e){return v(u.default,{className:f.default.guildCard,onView:function(){return o.default.transitionToGuildSync(e.id)},guild:y({},e,{presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0}),theme:n},e.id)}));return v("section",{
className:f.default.guildListSection},void 0,t.length>0?v("div",{},void 0,v(l.default,{className:f.default.title,size:l.default.Sizes.SIZE_20},void 0,d.default.Messages.YOUR_HUB),v("div",{className:f.default.guildList},void 0,r,h)):v("div",{className:f.default.guildList},void 0,m))};_.displayName="HubDiscoveryGuildList";var g=_;t.default=g},666895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(6505),i=p(n(652566)),u=p(n(252004)),l=p(n(97751)),s=p(n(776360)),d=n(227445),f=p(n(247001)),c=p(n(596964));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=y(u.default,{}),m=function(e){var t=e.handleCategorySelect,n=e.shouldDisplaySelectedCategory,r=e.currentCategoryId,u=(0,a.useStateFromStores)([i.default],(function(){return i.default.hasHotspot(o.HotspotLocations.HUB_NEW)}));return y(l.default,{avatar:h,
name:f.default.Messages.HUB_SCHOOL_HUBS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){t(d.DISCORD_HUB_ID);(0,o.hideHotspot)(o.HotspotLocations.HUB_NEW)},wrapContent:!0,selected:n&&d.DISCORD_HUB_ID===r,className:c.default.categoryItem,selectedClassName:c.default.selectedCategoryItem,innerClassName:c.default.itemInner},d.DISCORD_HUB_ID,u&&y("div",{className:c.default.new},void 0,y(s.default,{strong:!0,color:s.default.Colors.CUSTOM,size:s.default.Sizes.SIZE_12,className:c.default.newText},void 0,f.default.Messages.NEW)))};m.displayName="HubDiscoveryListItem";var _=m;t.default=_},39365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(971639)),i=y(n(776360)),u=y(n(582945)),l=n(465537),s=y(n(283642)),d=y(n(562200)),f=n(227445),c=y(n(247001)),p=y(n(250926)),v=y(n(237018));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){
var t=e.loadId,n=(0,s.default)();a.useEffect((function(){(0,l.trackDiscoveryViewed)(t,[],[],f.DISCORD_HUB_ID)}),[t]);return m(u.default,{className:p.default.scroller},void 0,m("div",{className:p.default.viewWrapper},void 0,m("div",{className:p.default.headerContainer},void 0,m("img",{alt:"",className:p.default.headerImage,src:v.default}),m("div",{className:p.default.headerContent},void 0,m(o.default,{className:p.default.headerText,size:i.default.Sizes.SIZE_24},void 0,c.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),m(i.default,{className:p.default.headerDescription,size:i.default.Sizes.SIZE_16,color:i.default.Colors.CUSTOM},void 0,c.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE))),m(d.default,{guilds:n}),m("div",{className:p.default.divider}),m(i.default,{className:p.default.footerDescription,size:i.default.Sizes.SIZE_14,color:i.default.Colors.HEADER_SECONDARY},void 0,c.default.Messages.HUB_DISCOVERY_FOOTER_DESCRIPTION)))};_.displayName="HubDiscoveryPage";var g=_;t.default=g},
529295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.HubEmailConnectionRoute=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=h(n(23170)),u=n(139982),l=h(n(30098)),s=h(n(795741)),d=h(n(194815)),f=n(549186),c=n(376022),p=n(770348),v=n(99043),y=h(n(400110));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.guildId,n=e.inviteCode,r=g(a.useState(v.WaveStates.INITIAL),2),h=r[0],m=r[1],E=g(a.useState(null!=n),2),S=E[0],O=E[1];a.useEffect((function(){null!=n&&i.default.resolveInvite(n,"Hub").finally((function(){return O(!1)}))}),[n]);var b=(0,o.useStateFromStores)([s.default],(function(){return null!=n?s.default.getInvite(n):null})),I=(0,o.useStateFromStores)([l.default],(function(){return l.default.getGuild(t)}));a.useEffect((function(){null!=I&&(0,u.transitionTo)(p.Routes.CHANNEL(t))}),[I,t]);var C=a.useCallback((function(e){m((function(t){
return Math.max(t,e)}))}),[]),T=(0,f.getArtForPath)();return _("div",{className:y.default.page},void 0,_(d.default,{embedded:!0,splash:T,waveState:h,showLogo:!1,updateWaveState:C},void 0,_("div",{className:y.default.dragRegion}),_("div",{className:y.default.contentWrapper},void 0,!S&&_(c.HubEmailConnectionModalView,{invite:b}))))};t.HubEmailConnectionRoute=S;S.displayName="HubEmailConnectionRoute";var O=S;t.default=O},185836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=d(n(918667)),i=n(194322),u=n(770348),l=d(n(247001)),s=d(n(140561));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,u,"next",e)}function u(e){p(o,r,a,i,u,"throw",e)}i(void 0)}))}}
function y(e){var t=e.guild,r=e.markAsDismissed;return c(o.default,{guild:t,onDismissed:r,onClick:function(){(0,i.openModalLazy)(v(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))},message:l.default.Messages.HUB_LINK_CHANNEL_NOTICE_BODY,cta:l.default.Messages.LEARN_MORE,trackingSource:u.ChannelNoticeCtaSources.HUB_LINK_NOTICE,type:u.ChannelNoticeTypes.HUB_LINK,image:s.default})}y.displayName="HubLinkChannelNotice"},283642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,a.useStateFromStores)([o.default],(function(){var e=o.default.getGuilds();return Object.entries(e).filter((function(e){var t=u(e,2);t[0];return t[1].hasFeature(i.GuildFeatures.HUB)
})).map((function(e){var t=u(e,2);t[0];return t[1]}))}))};var r,a=n(536211),o=(r=n(30098))&&r.__esModule?r:{default:r},i=n(770348);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},199808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;y(n(667294));var r,a=n(248088),o=n(536211),i=n(6505),u=y(n(517286)),l=p(n(689389)),s=p(n(365397)),d=p(n(782256)),f=n(864227),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.guild,n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getChannels(t.id)[u.GUILD_VOCAL_CHANNELS_KEY][0]})),r=(0,o.useStateFromStores)([l.default],(function(){return null!=n&&l.default.can(c.Permissions.CONNECT,n.channel)}));return t.hasFeature(c.GuildFeatures.HUB)?null==n?null:r?h(_,{channel:n.channel}):null:null};m.displayName="HubStudyRoomNoticeGuard";var _=function(e){
var t=e.channel,n=(0,o.useStateFromStores)([i.HotspotStore],(function(){return i.HotspotStore.hasHotspot(i.HotspotLocations.HUB_STUDY_ROOM_NOTICE)})),r=(0,f.useConnectedInCurrentHub)(t.guild_id),u=(0,a.useSpring)({maxHeight:r?0:300,overflow:"hidden",delay:400});return h(a.animated.div,{style:u},void 0,n?h(s.default,{channel:t}):h(d.default,{name:"📚☕ "+t.name,channel:t}))};_.displayName="HubStudyRoomNotice";var g=m;t.default=g},365397:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=p(n(294184)),o=n(6505),i=n(139982),u=n(637356),l=p(n(956117)),s=p(n(16941)),d=p(n(259530)),f=p(n(247001)),c=p(n(76889));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.channel;return y("div",{className:(0,a.default)(c.default.channelNotice,c.default.hubStudyGroup)},void 0,y(s.default,{onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE)},className:c.default.close,
"aria-label":f.default.Messages.DISMISS},void 0,y(d.default,{className:c.default.closeIcon})),y("div",{className:c.default.message},void 0,y("div",{className:c.default.title},void 0,f.default.Messages.HUB_STUDY_ROOM_NOTICE_TITLE),y("div",{className:c.default.description},void 0,f.default.Messages.HUB_STUDY_ROOM_NOTICE_DESCRIPTION),y(l.default,{className:c.default.btn,onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE);if(null!=t&&null!=t.getGuildId()){(0,u.connectAndOpen)(t);(0,i.transitionToGuild)(t.getGuildId(),t.id)}},color:l.default.Colors.GREEN},void 0,f.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA)))};h.displayName="HubStudyRoomNoticeOnboard";var m=h;t.default=m},782256:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(341186),i=n(513696),u=d(n(487372)),l=d(n(247001)),s=d(n(692657));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){
var t=e.name,n=e.channel,r=(0,a.useStateFromStoresArray)([u.default],(function(){return u.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),d=(0,o.getChannelIconComponent)(n);return c(i.GuildNoticeBody,{heading:l.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t,location:l.default.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=d?c(d,{width:16,height:16,className:s.default.icon}):null},void 0,c(i.LiveVoiceOrStageChannelNotice,{channel:n,speakers:r,voiceType:i.VoiceChannelType.STUDY_ROOM}))}p.displayName="HubStudyRoomNoticeVoice";var v=p;t.default=v},173708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VIDEO_BACKGROUND_ASPECT_RATIO=t.UploadTypes=t.SCHEDULED_EVENT_IMAGE_ASPECT_RATIO=t.MessageTypes=t.MAX_VIDEO_OVERLAY_HEIGHT=t.MAX_SCHEDULED_EVENT_IMAGE_OVERLAY_HEIGHT=t.MAX_GUILD_BANNER_OVERLAY_HEIGHT=t.MAX_BANNER_OVERLAY_HEIGHT=t.GUILD_BANNER_ASPECT_RATIO=t.EDITING_CONTAINER_WIDTH=t.BANNER_ASPECT_RATIO=void 0
;var r,a=n(280696);t.UploadTypes=r;!function(e){e[e.AVATAR=0]="AVATAR";e[e.BANNER=1]="BANNER";e[e.GUILD_AVATAR=2]="GUILD_AVATAR";e[e.GUILD_BANNER=3]="GUILD_BANNER";e[e.VIDEO_BACKGROUND=4]="VIDEO_BACKGROUND";e[e.SCHEDULED_EVENT_IMAGE=5]="SCHEDULED_EVENT_IMAGE"}(r||(t.UploadTypes=r={}));var o=568;t.EDITING_CONTAINER_WIDTH=o;t.BANNER_ASPECT_RATIO=2.5;var i=16/9;t.GUILD_BANNER_ASPECT_RATIO=i;t.SCHEDULED_EVENT_IMAGE_ASPECT_RATIO=2.5;t.MAX_BANNER_OVERLAY_HEIGHT=227.2;t.MAX_GUILD_BANNER_OVERLAY_HEIGHT=319.5;t.MAX_SCHEDULED_EVENT_IMAGE_OVERLAY_HEIGHT=227.2;var u=a.BACKGROUND_REPLACEMENT_SIZE.width/a.BACKGROUND_REPLACEMENT_SIZE.height;t.VIDEO_BACKGROUND_ASPECT_RATIO=u;var l,s=o/u;t.MAX_VIDEO_OVERLAY_HEIGHT=s;t.MessageTypes=l;!function(e){e[e.CROP_GIF_START=0]="CROP_GIF_START";e[e.CROP_GIF_COMPLETE=1]="CROP_GIF_COMPLETE";e[e.CROP_GIF_ERROR=2]="CROP_GIF_ERROR"}(l||(t.MessageTypes=l={}))},683749:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FileTypes=void 0;var n
;t.FileTypes=n;!function(e){e.MP4="video/mp4"}(n||(t.FileTypes=n={}))},810928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(213847)),u=p(n(429130)),l=p(n(908306)),s=p(n(670729)),d=n(770348),f=p(n(627962)),c=["enabled","imageClassName"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h=((r={})[d.ThemeTypes.DARK]=d.Colors.STATUS_GREY_500,r[d.ThemeTypes.LIGHT]=d.Colors.STATUS_GREY_600,r);function m(e){var t,n,r=e.enabled,d=e.imageClassName,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c),v=(0,i.default)(),m={height:18,width:18,color:h[v]};return a.createElement(s.default,y({className:(0,o.default)((t={},t[f.default.avatarUploader]=r,t[f.default.avatarUploaderDisabled]=!r,t)),imageClassName:(0,o.default)(d,f.default.avatarUploaderInnerSquare,(n={},n[f.default.avatarUploaderInnerSquareDisabled]=!r,n)),icon:null!=p.image&&""!==p.image?a.createElement(u.default,m):a.createElement(l.default,m),iconClassName:(0,o.default)(f.default.avatarUploadIcon,f.default.hideDefaultIcon),showIcon:!0,showIconDisabled:!0,
hideSize:!0},p))}m.displayName="BannerUploader"},32735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.processImage=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(707842)),o=n(164101),i=n(683749),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(e,t,n){!function(e,t){if(null!=e){
var n=new FileReader;n.onload=function(n){var r;"string"==typeof(null===(r=n.target)||void 0===r?void 0:r.result)&&t(n.target.result,e)};n.readAsDataURL(e)}}(e,(function(r){if(e.type===i.FileTypes.MP4)return t(r,e);var a=new Image;a.src=r;a.onload=function(){t(r,e)};a.onerror=function(){n()}}))}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];(t=e.call.apply(e,[this].concat(a))||this)._ref=r.createRef();t._isMounted=!1;t.handleFileChange=function(e){var n=t.props,r=n.onFileSizeError,a=n.maxFileSizeBytes;e.stopPropagation();e.preventDefault();if(null!=e.currentTarget.files)for(var o=0;o<e.currentTarget.files.length;o++){var i=e.currentTarget.files[o];i.size>a?null==r||r(a):f(i,t.handleFileRead,t.handleFileError)}};t.handleFileRead=function(e,n){var r=t.props.onChange;t._isMounted&&r(e,n)};t.handleFileError=function(){(0,o.openUploadError)({
title:u.default.Messages.PREMIUM_ALERT_ERROR_TITLE,help:u.default.Messages.UNABLE_TO_PROCESS_IMAGE})};return t}var n=t.prototype;n.componentDidMount=function(){this._isMounted=!0};n.activateUploadDialogue=function(){var e;null===(e=this._ref.current)||void 0===e||e.activateUploadDialogue()};n.render=function(){var e=this.props,t=e.multiple,n=e.disabled,o=e.className,i=e.tabIndex,l=e["aria-label"],s=e.filters;return r.createElement(a.default,{ref:this._ref,onChange:this.handleFileChange,filters:null!=s?s:[{name:u.default.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}],multiple:t,disabled:n,className:o,tabIndex:i,"aria-label":l})};return t}(r.PureComponent);c.displayName="ImageInput";c.defaultProps={multiple:!0,tabIndex:-1,maxFileSizeBytes:1/0};var p=c;t.default=p},670729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ImageUploaderIcon=E;t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=y(n(441143)),u=y(n(314234)),l=y(n(151097)),s=y(n(16941)),d=n(8916),f=y(n(32735)),c=n(770348),p=y(n(247001)),v=y(n(307436));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){_=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return _(e,t)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.className,n=e.icon,r=void 0===n?null:n;return g("div",{className:(0,o.default)(v.default.imageUploaderIcon,t)},void 0,r)}E.displayName="ImageUploaderIcon";var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).inputRef=a.createRef();t.handleRemove=function(){t.props.onChange(null)};return t}var n=t.prototype
;n.handleExternalFileChange=function(e){(0,i.default)(null!=this.inputRef.current,"ImageInputRef asked to handleExternalFileChange when not mounted");this.inputRef.current.handleFileChange(e)};n.render=function(){var e,t,n,r,i=this.props,y=i.image,h=i.hint,_=void 0===h?p.default.Messages.CHANGE_AVATAR:h,S=i.name,O=i.makeURL,b=i.disabled,I=i.onChange,C=i.showIcon,T=i.showIconDisabled,A=i.className,P=i.imageClassName,M=i.iconClassName,N=i.icon,R=i.hideSize,w=i.imageStyle,D=i.showRemoveButton,L=i.maxFileSizeBytes,j=i.onFileSizeError,k=i.onOpenImageSelectModal;null!=(e=null!=y&&/^data:/.test(y)?y:O(y))?t='url("'+e+'")':null!=S&&(n=g("div",{className:v.default.imageUploaderAcronym},void 0,(0,d.getAcronym)(S)));if(b)return g("div",{className:(0,o.default)(v.default.imageUploader,v.default.disabled,A)},void 0,g("div",{className:(0,o.default)(v.default.imageUploaderInner,P),style:m({},w,{backgroundImage:t})},void 0,n,T&&g("div",{className:(0,
o.default)(v.default.imageUploaderIcon,v.default.imageUploaderIconDisabled,M)},void 0,N)));null!=y?r=g(l.default,{className:v.default.removeButton,onClick:this.handleRemove},void 0,p.default.Messages.REMOVE):R||(r=g("small",{className:v.default.sizeInfo},void 0,p.default.Messages.MINIMUM_SIZE.format({size:c.AVATAR_SIZE})));return g("div",{className:(0,o.default)(v.default.imageUploader,A)},void 0,g(u.default,{within:!0},void 0,g("div",{className:(0,o.default)(v.default.imageUploaderInner,P),style:m({},w,{backgroundImage:t})},void 0,g("span",{"aria-hidden":!0},void 0,n),null!=_&&g("div",{className:v.default.imageUploaderHint,"aria-hidden":"true"},void 0,_),null!=k?g(s.default,{className:v.default.fileInput,"aria-label":null!=_?_:p.default.Messages.CHANGE_AVATAR,onClick:k}):a.createElement(f.default,{ref:this.inputRef,onChange:I,className:v.default.fileInput,"aria-label":null!=_?_:p.default.Messages.CHANGE_AVATAR,tabIndex:0,maxFileSizeBytes:L,onFileSizeError:j}),C&&g(E,{className:M,
icon:N}))),D?r:null)};return t}(a.PureComponent);S.displayName="ImageUploader";S.defaultProps={name:"",makeURL:function(e){return e},disabled:!1,showIcon:!1,hideSize:!1,showRemoveButton:!0,maxFileSizeBytes:1/0,icon:null};var O=S;t.default=O},936747:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(636602)),a=i(n(308920));n(497655);var o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}function s(e){return d.apply(this,arguments)}function d(){return(d=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(93212)]).then(n.bind(n,693212));case 2:r=e.sent;(0,r.openInteractionModal)(t);a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"interaction_modal",application_id:t.application.id});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f={init:function(){r.default.subscribe(o.ActionTypes.INTERACTION_MODAL_CREATE,s)},terminate:function(){r.default.unsubscribe(o.ActionTypes.INTERACTION_MODAL_CREATE,s)}};t.default=f},497655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.InteractionModalState=void 0;var r,a,o,i,u,l,s,d=m(n(441143)),f=m(n(536211)),c=m(n(636602)),p=m(n(786345)),v=n(81069),y=n(741464),h=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}t.InteractionModalState=a;!function(e){e[e.IN_FLIGHT=0]="IN_FLIGHT";e[e.ERRORED=1]="ERRORED";e[e.SUCCEEDED=2]="SUCCEEDED"
}(a||(t.InteractionModalState=a={}));var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getModalState=function(e){return e!==o?null:i};return t}(f.default.Store);g.displayName="InteractionModalStore";var E=new g(c.default,((r={})[h.ActionTypes.LOGOUT]=function(){o=null;i=null;u=null;l=null;s=null;return!0},r[h.ActionTypes.INTERACTION_MODAL_CREATE]=function(e){if(e.nonce===s){p.default.deleteMessage(l,u,!0);u=null;l=null;s=null}return!1},r[h.ActionTypes.INTERACTION_QUEUE]=function(e){var t=e.messageId,n=e.nonce,r=e.data;switch(r.interactionType){case v.InteractionTypes.APPLICATION_COMMAND:u=t;l=r.channelId;s=n;return!1;case v.InteractionTypes.MODAL_SUBMIT:(0,d.default)(null==o||i===a.ERRORED||i===a.SUCCEEDED,"cannot submit multiple modals at once");o=n;i=a.IN_FLIGHT;setTimeout((function(){o===n&&i===a.IN_FLIGHT&&(0,y.setFailed)(n)}),1e4);return!0;default:return!1}},
r[h.ActionTypes.INTERACTION_SUCCESS]=function(e){var t=e.nonce;if(null==t||t!==o)return!1;i=a.SUCCEEDED;return!0},r[h.ActionTypes.INTERACTION_FAILURE]=function(e){var t=e.nonce;if(null==t||t!==o)return!1;i=a.ERRORED;return!0},r));t.default=E},419523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=M(n(636602)),o=M(n(740207)),i=M(n(390557)),u=n(123516),l=M(n(105988)),s=M(n(177230)),d=n(747868),f=M(n(937196)),c=M(n(429074)),p=n(139982),v=M(n(610929)),y=n(205809),h=n(845634),m=M(n(607209)),_=M(n(644263)),g=M(n(635014)),E=M(n(211136)),S=M(n(663303)),O=M(n(728429)),b=M(n(81636)),I=M(n(945771)),C=M(n(949898)),T=M(n(911110)),A=n(770348),P=n(376293);function M(e){return e&&e.__esModule?e:{default:e}}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}function R(){var e=E.default.getVoiceChannelId(),t=_.default.getChannel(e);return(0,y.isSoundboardSupported)()&&(0,v.default)(t)}
var w=((r={})[A.GlobalKeybindActions.TOGGLE_PRIORITY_SPEAKER]={onTrigger:function(){},keyEvents:{}},r[A.GlobalKeybindActions.UNASSIGNED]={onTrigger:function(){},keyEvents:{}},r[A.GlobalKeybindActions.PUSH_TO_TALK]={onTrigger:function(e,t){if(g.default.getMode(t)===A.InputModes.PUSH_TO_TALK){w[A.GlobalKeybindActions.PUSH_TO_TALK].isPressed=e;g.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!1)}),t)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[A.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY]={onTrigger:function(e){if(g.default.getMode()===A.InputModes.PUSH_TO_TALK){w[A.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY].isPressed=e;g.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!0)}),P.MediaEngineContextTypes.DEFAULT)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[A.GlobalKeybindActions.PUSH_TO_MUTE]={onTrigger:function(e){if(g.default.getMode()===A.InputModes.VOICE_ACTIVITY&&!g.default.isSelfDeaf()){
w[A.GlobalKeybindActions.PUSH_TO_MUTE].isPressed=e;o.default.setTemporarySelfMute(e)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[A.GlobalKeybindActions.TOGGLE_MUTE]={onTrigger:function(){return o.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},r[A.GlobalKeybindActions.TOGGLE_DEAFEN]={onTrigger:function(){o.default.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},r[A.GlobalKeybindActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=g.default.getMode()===A.InputModes.PUSH_TO_TALK?A.InputModes.VOICE_ACTIVITY:A.InputModes.PUSH_TO_TALK;o.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},r[A.GlobalKeybindActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=b.default.enabled;i.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},r[A.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(e){var t=(0,T.default)();null!=t&&(e?i.default.setUILocked(!I.default.isUILocked(t),t):i.default.setInputLocked(!b.default.isInputLocked(t),t))},keyEvents:{keyup:!0,
keydown:!0}},r[A.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]={onTrigger:function(){var e=b.default.getFocusedPID();null!=e&&(null!=e||!1)&&I.default.isPinned(A.OverlayWidgets.TEXT)&&b.default.isReady(e)&&b.default.isInputLocked(e)&&i.default.activateRegion(A.OverlayActiveRegions.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},r[A.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING]={onTrigger:function(){var e=O.default.getCurrentUser();if(null!=e){var t=m.default.getActiveStreamForUser(e.id);if(null!=t&&e.id===t.ownerId)return(0,u.stopStream)((0,d.encodeStreamKey)(t));(0,f.default)()}},keyEvents:{keyup:!0,keydown:!1}},r[A.GlobalKeybindActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){l.default.setEnabled(!S.default.enabled)},keyEvents:{keyup:!0,keydown:!1}},r[A.GlobalKeybindActions.NAVIGATE_BACK]={onTrigger:function(){return(0,p.back)()},keyEvents:{keyup:!0,keydown:!1}},r[A.GlobalKeybindActions.NAVIGATE_FORWARD]={onTrigger:function(){return(0,p.forward)()},keyEvents:{keyup:!0,
keydown:!1}},r[A.GlobalKeybindActions.SOUNDBOARD]={onTrigger:function(){if(R())if(C.default.isFocused())(0,h.openSoundboardWindow)(!0);else{var e=(0,T.default)();null!=e&&(I.default.isUILocked(e)?(0,h.openSoundboardInOverlay)(!0,e):(0,h.closeSoundboardInOverlay)(e))}},keyEvents:{keyup:!0,keydown:!1}},r[A.GlobalKeybindActions.SOUNDBOARD_HOLD]={onTrigger:function(e){if(R())if(C.default.isFocused()&&e)(0,h.openSoundboardWindow)(!1);else if(e||!c.default.getWindowOpen(A.PopoutWindowKeys.SOUNDBOARD)){var t=(0,T.default)();null!=t&&(e?(0,h.openSoundboardInOverlay)(!1,t):(0,h.closeSoundboardInOverlay)(t))}else(0,h.closeSoundboardWindow)()},keyEvents:{keyup:!0,keydown:!0}},r),D=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.wait((function(){return a.default.dispatch({type:A.ActionTypes.KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS,
keybinds:w})}))};n._terminate=function(){};return t}(s.default));t.default=D},778885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=b(n(667294)),o=S(n(294184)),i=n(536211),u=S(n(415275)),l=S(n(678875)),s=n(139982),d=S(n(30098)),f=S(n(790597)),c=S(n(956117)),p=S(n(889167)),v=S(n(776360)),y=b(n(465537)),h=S(n(930409)),m=n(770348),_=S(n(247001)),g=S(n(5459)),E=S(n(944659));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){var e=(0,i.useStateFromStores)([f.default],(function(){return f.default.getGuildId()
}),[]),t=(0,i.useStateFromStores)([d.default],(function(){return d.default.getGuild(e)}),[e]),n=(0,i.useStateFromStores)([h.default],(function(){return h.default.getHistorySnapshot()}),[]),r=A(a.useState(!1),2),S=r[0],O=r[1];if(null==t)return null;var b=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0);e.prev=1;e.next=4;return u.default.joinGuild(t.id,{source:m.JoinGuildSources.NOTICE_BAR});case 4:r=e.sent;y.trackGuildJoinClicked(t.id);t.hasVerificationGate()&&null!=(null===(n=r.body)||void 0===n?void 0:n.member_verification_form)&&(0,l.default)(t.id);e.next=12;break;case 9:e.prev=9;e.t0=e.catch(1);O(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}()
;return I("div",{className:(0,o.default)(g.default.notice,E.default.notice)},void 0,I(c.default,{look:c.default.Looks.OUTLINED,color:c.default.Colors.WHITE,size:c.default.Sizes.NONE,className:(0,o.default)(g.default.button,g.default.back),innerClassName:g.default.iconButton,onClick:function(){var e=(0,s.getHistory)();null!=n&&null!=n.location?(0,s.replaceWith)(T({},n.location)):e.goBack()}},void 0,I(p.default,{width:16,height:16,className:g.default.arrow}),_.default.Messages.BACK),I(v.default,{className:g.default.header},void 0,_.default.Messages.LURKER_MODE_NAG_BAR_HEADER),I(c.default,{className:g.default.button,look:c.default.Looks.OUTLINED,color:c.default.Colors.WHITE,size:c.default.Sizes.NONE,submitting:S,onClick:b},void 0,_.default.Messages.LURKER_MODE_NAG_BAR_BUTTON.format({guild:t.name})))};M.displayName="LurkerModeNotice";var N=M;t.default=N},316200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=n(91817),a=u(n(636602)),o=u(n(177230)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).clearErrorTimeout=new r.Timeout;t.handleNoiseCancellationError=function(){t.clearErrorTimeout.start(3e3,(function(){return a.default.dispatch({type:i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR_RESET})}))};return t}var n=t.prototype;n._initialize=function(){a.default.subscribe(i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR,this.handleNoiseCancellationError)};n._terminate=function(){this.clearErrorTimeout.stop();a.default.unsubscribe(i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR,this.handleNoiseCancellationError)};return t
}(o.default));t.default=s},999607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(118777)),i=u(n(353326));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){return e.toFixed(0)+"%"},f=a.forwardRef((function(e,t){var n=e.value,r=e.minValue,u=void 0===r?0:r,l=e.maxValue,f=void 0===l?100:l,c=e.onChange,p=e.renderValue,v=void 0===p?d:p,y=e["aria-label"],h=a.useRef(null);a.useImperativeHandle(t,(function(){return{focus:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.focus()},blur:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.blur()},activate:function(){return!1}}}),[]);return s("div",{className:i.default.sliderContainer},void 0,a.createElement(o.default,{ref:h,mini:!0,handleSize:16,className:i.default.slider,initialValue:n,minValue:u,maxValue:f,onValueChange:c,asValueChanges:c,onValueRender:v,orientation:"horizontal","aria-label":y}))}))
;t.default=f},960736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MessageNoticeBanner=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(157358));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.bannerIcon,n=e.bannerHeader,r=e.bannerSubtext,i=e.containerStyles,u=e.headerStyles,s=e.children;return l("div",{className:o.default.spamBanner},void 0,l("div",{className:(0,a.default)(o.default.bannerTextContainer,i)},void 0,"string"==typeof t?l("img",{src:t,alt:"",className:o.default.bannerIcon}):t,l("div",{className:o.default.bannerText},void 0,l("div",{className:(0,a.default)(o.default.bannerHeader,u)},void 0,n),l("div",{className:o.default.bannerSubtext},void 0,r))),l("div",{className:o.default.actionButtons},void 0,s))}s.displayName="MessageNoticeBanner"},486030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(667294)),a=s(n(636602)),o=s(n(177230)),i=f(n(108101)),u=n(194322),l=n(770348)
;function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this)._openReportMessageModal=function(e){var t=e.channel,n=e.message;(0,u.openModal)((function(e){return r.createElement(i.default,c({channel:t,message:n},e))}),{modalKey:i.REPORT_MESSAGE_MODAL_KEY})};return t}var n=t.prototype;n._initialize=function(){a.default.subscribe(l.ActionTypes.REPORT_MESSAGE_MODAL_OPEN,this._openReportMessageModal)};n._terminate=function(){a.default.unsubscribe(l.ActionTypes.REPORT_MESSAGE_MODAL_OPEN,this._openReportMessageModal)};return t}(o.default));t.default=v},590886:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.removeAccount=function(e){o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_REMOVE_ACCOUNT,userId:e})};t.switchAccount=function(e){var t=r.default.getToken(e);if(null==t){o.default.dispatch({
type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE,userId:e});return}o.default.dispatch({type:d.ActionTypes.LOGOUT,isSwitchingAccount:!0});i.default.loginToken(t,!0);(0,u.transitionTo)(d.Routes.ME)};t.validateMultiAccountTokens=function(){var e=l.default.getId();s.default.getUsers().forEach(function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var i,u,l,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.id;if(null!=(u=r.default.getToken(i))&&""!==u){t.next=5;break}o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE,userId:i});return t.abrupt("return");case 5:o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST,userId:i});t.prev=6;t.next=9;return a.default.get({url:d.Endpoints.ME,headers:{authorization:u},retries:3});case 9:l=t.sent;t.next=17;break;case 12:t.prev=12;t.t0=t.catch(6);s=401===(null===t.t0||void 0===t.t0?void 0:t.t0.status)||403===(null===t.t0||void 0===t.t0?void 0:t.t0.status)
;o.default.dispatch({type:s?d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS,userId:i});return t.abrupt("return");case 17:o.default.dispatch({type:e===i?d.ActionTypes.CURRENT_USER_UPDATE:d.ActionTypes.USER_UPDATE,user:l.body});o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS,userId:i});case 19:case"end":return t.stop()}}),t,null,[[6,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}())};var r=f(n(653795)),a=f(n(118915)),o=f(n(636602)),i=f(n(939949)),u=n(139982),l=f(n(423046)),s=f(n(915574)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},393742:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountUsers=function(){var e=(0,a.useStateFromStoresObject)([u.default],(function(){return{isLoading:u.default.getIsValidatingUsers(),multiAccountUsers:u.default.getUsers()}}));r.useEffect((function(){o.default.wait((function(){i.validateMultiAccountTokens()}))}),[]);return e};var r=d(n(667294)),a=n(536211),o=l(n(636602)),i=d(n(590886)),u=l(n(915574));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}},359150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}var l=i("rect",{width:232,height:72,rx:36,fill:"#fff"}),s=i("g",{clipPath:"url(#prefix__clip0_1283_59574)"},void 0,i("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint0_linear_1283_59574)"}),i("path",{d:"M37.243 35.366l3.455-22.103a3.098 3.098 0 013.217-2.68 3.157 3.157 0 013.038 3.634l-3.395 22.876-6.315-1.727z",fill:"#E66CA5"}),i("path",{d:"M40.936 31.315l2.979-13.881a.476.476 0 01.536-.358c.238.06.417.239.357.477l-1.906 13.583-1.966.179z",fill:"#F085B7"}),i("path",{
d:"M40.698 13.264a3.157 3.157 0 011.132-2.026c-.536 3.634-1.55 10.068-2.979 20.792l-1.132.178 2.979-18.944z",fill:"#FFABBB"}),i("path",{d:"M18.357 93.928L9.897 52.94a.894.894 0 01.835-1.073h4.17a.953.953 0 01.894.715l8.578 41.345h-6.017z",fill:"#6E2B17"}),i("path",{d:"M39.745 55.442H14.068v4.522h25.677v-4.522z",fill:"#6E2B17"}),i("path",{d:"M25.923 12.549a3.932 3.932 0 00-2.264 4.885l6.434 18.826 8.281-2.443-7.387-19.064a3.932 3.932 0 00-5.064-2.204z",fill:"#E66CA5"}),i("path",{d:"M32.298 31.553l3.276-.477-4.527-11.26a1.191 1.191 0 00-1.728-.655 1.251 1.251 0 00-.655 1.49l3.634 10.902z",fill:"#F085B7"}),i("path",{d:"M30.51 31.553l-6.374-17.515a3.992 3.992 0 00-.477 3.396l4.885 14.357 1.966-.238z",fill:"#FFA3B5"}),i("path",{d:"M46.319 28.902l-24.281 3.154a6.374 6.374 0 00-5.5 7.142l.022.171a6.374 6.374 0 007.142 5.5l24.281-3.153a6.375 6.375 0 005.5-7.142l-.022-.172a6.374 6.374 0 00-7.142-5.5z",fill:"#FF85AB"}),i("path",{
d:"M27.294 66.702c-1.49-1.31-2.86-2.562-3.158-3.098-.298-.536.179-.596.953-.894.775-.298 1.31.655 2.085 2.145.775 1.49 1.43 3.038.12 1.847z",fill:"#F2C591"}),i("path",{d:"M47.608 50.915L25.864 54.37c-1.43 1.25-1.55 1.549-2.562 2.442-2.92 2.562-3.694 4.647-3.753 6.911-.179 3.157.119 3.038-.537 4.17-.655 1.132-1.31 1.55-.714 3.158a8.28 8.28 0 001.787 2.74H54.4c7.685-8.996.715-16.323-6.792-22.876z",fill:"#F7E5BC"}),i("path",{d:"M50.826 73.791H27.77s.12-2.025.239-7.208-.894-8.758-4.707-9.77c.775-.775 1.609-1.61 2.562-2.443l21.745-3.396c1.43 1.251 2.86 2.502 4.17 3.813a93.885 93.885 0 01-.953 19.004z",fill:"#1F3A70"}),i("path",{d:"M47.609 50.974h-.298l-.298.358a58.619 58.619 0 01-3.455 9.472s.119 1.191 1.727-1.132a25.974 25.974 0 003.694-7.506l-1.37-1.192zM28.306 54.37c4.23 5.064 5.66 6.256 7.209 7.268 1.549 1.013.238-.536-1.37-2.919a313.091 313.091 0 01-3.515-5.362l-2.324 1.013z",fill:"#172E5C"}),i("path",{
d:"M29.974 57.349s-.178.417-1.131 1.013c-.954.595-1.132.893-1.251.715a5.184 5.184 0 00-3.634-2.92c.595-.655 1.25-1.25 1.966-1.906 3.276 1.37 4.05 3.098 4.05 3.098z",fill:"#244AB0"}),i("path",{d:"M45.702 50.915l-4.409 16.442-11.2-15.906 15.609-.536z",fill:"#D4BF9B"}),i("path",{d:"M36.17 56.693l8.4 2.205-3.157 5.004-5.243-6.255c-.715-.834-1.37-1.311 0-.954z",fill:"#CCAC89"}),i("path",{d:"M32.536 54.072l10.247 1.37c1.132.12 1.191-1.131 1.787-3.574l-11.08.834-.954 1.37z",fill:"#DE5D98"}),i("path",{d:"M48.85 39.874L23.86 43.12a6.016 6.016 0 00-5.192 6.739 6.016 6.016 0 006.741 5.189l24.99-3.246a6.016 6.016 0 005.193-6.739 6.016 6.016 0 00-6.742-5.189z",fill:"#FF85AB"}),i("path",{d:"M50.17 51.808a6.136 6.136 0 005.421-6.493 6.017 6.017 0 00-4.05-5.183 6.492 6.492 0 002.025-5.54v-.18a6.256 6.256 0 00-7.09-5.48l-19.719 2.561c4.23 2.92 4.23 5.422 3.515 10.188-.05.726.116 1.452.477 2.085a9.353 9.353 0 01-1.013 10.723l20.434-2.68z",fill:"#F06EA8"}),i("path",{
d:"M47.31 67.417l-4.11 3.217a.596.596 0 01-.894-.12L37.6 64.2a.715.715 0 01.12-.894l4.17-3.217a.655.655 0 01.893.12l4.647 6.314a.594.594 0 01-.12.894zM53.923 67.476l-4.945-.357a.476.476 0 01-.416-.417l.357-8.281a.476.476 0 01.477-.417l4.944.357a.476.476 0 01.417.477l-.357 8.221a.477.477 0 01-.477.417z",fill:"#BA4E5D"}),i("path",{d:"M54.061 61.886l-2.09-2.446-2.59 2.213 2.089 2.446 2.591-2.213z",fill:"#AD3B4B"}),i("path",{d:"M53.983 66.344a.417.417 0 00.298-.536l-1.907-7.566-2.978-.238a.477.477 0 00-.477.417l-.357 8.28v.12a.417.417 0 00.357.12l5.064-.597z",fill:"#872C39"}),i("path",{d:"M53.328 66.285l-5.004.595a.477.477 0 01-.477-.298l-2.026-8.042a.36.36 0 01.187-.444.358.358 0 01.17-.033l5.005-.655a.476.476 0 01.477.298l2.025 8.042a.417.417 0 01-.357.537z",fill:"#BA4E5D"}),i("path",{d:"M51.773 61.16L49.2 59.23l-2.046 2.725 2.573 1.931 2.046-2.725zM44.153 63.485h-3.217v3.407h3.217v-3.407z",fill:"#AD3B4B"}),i("path",{
d:"M50.35 65.153l-3.337-7.209-.834.12a.358.358 0 00-.358.476l2.026 7.983 2.204-.774a.477.477 0 00.298-.596zM42.783 60.208a.655.655 0 00-.894-.119l-1.549 1.192 3.217 7.03a.358.358 0 00.477.178l3.276-1.072a.596.596 0 00.12-.894l-4.647-6.315z",fill:"#872C39"}),i("path",{d:"M49.753 66.106l-5.42 1.787a.476.476 0 01-.537-.238L40.34 60.15c-.12-.239 0-.477.297-.596L46 57.766a.477.477 0 01.536.238l3.456 7.506a.414.414 0 01-.082.504.417.417 0 01-.157.092z",fill:"#BA4E5D"}),i("path",{d:"M51.48 62.949c2.026 1.012 4.826 2.68 4.826 2.68a3.575 3.575 0 011.668 2.8v.537a3.574 3.574 0 01-3.514 3.693c-.12.06-.239 0-.358 0a3.277 3.277 0 01-2.383-1.37 20.37 20.37 0 00-2.145-2.502c-.417-.417-1.548-1.073-1.906-1.43-1.191-1.31-.953-1.906 0-3.396s1.549-2.144 3.813-1.012z",fill:"#F57FB5"}),i("path",{
d:"M37.71 41.344c.518-.407.459-1.344-.131-2.094-.59-.75-1.488-1.028-2.005-.621-.517.407-.458 1.345.132 2.094.59.75 1.488 1.028 2.005.621zM47.629 38.217c.16-.87-.207-1.668-.82-1.78-.613-.113-1.239.502-1.399 1.372-.16.871.207 1.668.82 1.78.613.113 1.239-.502 1.399-1.372z",fill:"#1E1C2B"}),i("path",{d:"M40.757 43.468l1.55 1.013a2.025 2.025 0 002.918-.834l.477-1.013",stroke:"#BA4173",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round"}),i("path",{d:"M22.051 43.647c-1.43-.358-3.157-.834-3.872-.894a6.554 6.554 0 002.502 1.787l-.239.239 3.694-.18c1.31-.178.775-.297-2.085-.952z",fill:"#F071AB"}),i("path",{d:"M20.676 36.013c.937-1.015 1.383-2.128.996-2.485-.387-.357-1.46.177-2.397 1.192-.937 1.016-1.383 2.129-.996 2.486.387.356 1.46-.177 2.397-1.193z",fill:"#FFA1BD"}),i("path",{d:"M20.443 67.357l3.276-1.37c.655-.238.06-.477-1.43-1.132-1.489-.655-1.787-.894-1.906.417-.12 1.31-.596 2.323.06 2.085z",fill:"#FAD596"}),i("path",{
d:"M28.544 66.642c.656-3.336.596-4.23.834-4.289.239-.06.834.775 1.311 1.787.477 1.013-2.145 2.502-2.145 2.502z",fill:"#172E5C"}),i("path",{d:"M57.974 68.43a3.573 3.573 0 00-1.668-2.8s-2.264-1.37-4.17-2.324a12.57 12.57 0 00-2.74 3.575 3.756 3.756 0 00-.477 1.37l.715.536a26.082 26.082 0 012.145 2.502 3.455 3.455 0 001.668 1.251c.805.23 1.663.188 2.442-.119a3.635 3.635 0 002.085-3.574v-.417z",fill:"#F073AB"}),i("path",{d:"M47.65 61.933l-2.874-1.446-1.53 3.045 2.873 1.445 1.531-3.044z",fill:"#AD3B4B"}),i("path",{d:"M12.4 53.476a2.204 2.204 0 100-4.408 2.204 2.204 0 000 4.408z",fill:"#6E2B17"})),d=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:82,cy:36,r:2}),i("circle",{cx:90,cy:36,r:2}),i("circle",{cx:98,cy:36,r:2})),f=i("g",{clipPath:"url(#prefix__clip1_1283_59574)",fill:"#4F5660"},void 0,i("path",{
d:"M121.04 25.2l-8.16.12c-.48 0-.72.72-.36 1.08l1.56 1.44c.48.48.48 1.2 0 1.68l-1.68 1.8c-1.32 1.44-1.32 3.72.12 5.04.48.48 1.2.48 1.68 0l2.52-2.64c.96-.96 2.4-.96 3.36 0l.72.6c.36.36 1.08.12.96-.48l-.12-8.04c0-.36-.24-.6-.6-.6zM110.72 47.4l8.16-.12c.48 0 .84-.72.36-1.08l-1.56-1.44a1.16 1.16 0 010-1.68l1.68-1.68c1.44-1.44 1.32-3.72-.12-5.04a1.16 1.16 0 00-1.68 0L115.04 39c-.96.96-2.4.96-3.36 0l-.72-.72c-.36-.36-.96-.12-.96.48l.12 8.04c0 .36.36.6.6.6z"})),c=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:134,cy:36,r:2}),i("circle",{cx:142,cy:36,r:2}),i("circle",{cx:150,cy:36,r:2})),p=i("g",{clipPath:"url(#prefix__clip2_1283_59574)"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint1_linear_1283_59574)"}),i("path",{d:"M197.886 21.806c1.902-7.234 2.816-8.517 7.188.815l-7.188-.815z",fill:"#D4E1FF"}),i("path",{
d:"M246.129 126.042c-5.929 2.098-21.615-.692-23.097-4.568-1.482-3.876 12.845-54.809 17.637-57.13 4.793-2.32 18.897 2.05 22.627 15.9 3.73 13.85-3.902 14.789-3.902 14.789s2.371 20.244 2.717 22.417c.346 2.173 1.556 5.95-2.717 6.419-4.274.469-7.115 0-13.265 2.173z",fill:"#4D90E8"}),i("path",{d:"M179.878 37.261l-.173.149c2.618 2.469 6.596 8.813 12.647 8.493 0 0 4.891 8.937 10.153 7.95 5.262-.988 9.164-8.395 9.164-8.395a27.582 27.582 0 002.989-8.197c-.074-.666-.321-1.185-.79-1.506-3.755-2.493-31.248-.493-33.99 1.506z",fill:"#1C1B29"}),i("path",{d:"M187.857 18.942l5.508 1.481a12.878 12.878 0 015.188-1.036c8.398 0 12.869 6.814 12.869 15.183 0 8.37-4.471 15.184-12.869 15.184-8.399 0-12.845-6.814-12.845-15.184a21.9 21.9 0 01.296-3.679c.569-3.21.418-6.508-.445-9.653a1.879 1.879 0 012.298-2.296z",fill:"#B3CAFF"}),i("path",{
d:"M211.126 38.2c-4.076 1.802-8.275-.1-12.326-2.42-4.422-2.543-7.263-8.987-8.473-11.036-1.21-2.05-2.94-2.444-4.125-5.431a1.852 1.852 0 00-.642 1.925 21.983 21.983 0 01.444 9.654 21.9 21.9 0 00-.296 3.678c0 8.37 4.471 15.184 12.845 15.184 7.139 0 11.437-4.938 12.573-11.555z",fill:"#8DAEF7"}),i("path",{d:"M210.385 35.705c0 6.518-3.878 11.802-8.646 11.802-4.767 0-8.621-5.284-8.621-11.802 0-10.764 6.694-1.95 11.462-1.95 4.767 0 5.928-7.283 5.805 1.95z",fill:"#FCFDFF"}),i("path",{d:"M201.882 41.99c.463-.039.785-.687.722-1.448-.064-.761-.491-1.346-.953-1.308-.462.04-.785.688-.721 1.448.064.761.49 1.347.952 1.308zM207.557 40.729c.138-.751-.12-1.428-.577-1.511-.456-.084-.938.457-1.076 1.208-.137.75.121 1.427.577 1.511.456.084.938-.457 1.076-1.208z",fill:"#1C1B29"}),i("path",{d:"M194.007 60.84s-5.755 4.369-11.288 2.073a.914.914 0 01-.544-1.086c.519-1.68 2.495-5.654 9.584-5.259 9.017.518 2.248 4.271 2.248 4.271z",fill:"#A62D69"}),i("path",{
d:"M192.352 53.21s-1.778-4.444-9.312-3.26a.868.868 0 00-.685.545.855.855 0 00.141.863 20.874 20.874 0 0011.091 6.617c8.004 1.728-1.235-4.765-1.235-4.765z",fill:"#A62D69"}),i("path",{d:"M193.785 57.728c-.321 3.16-5.41 3.284-6.052-.69-.642-3.976 2.297-4.593 4.397-3.284 2.1 1.308 1.655 3.974 1.655 3.974z",fill:"#79A0F7"}),i("path",{d:"M214.658 37.261z",fill:"#DE548C"}),i("path",{
d:"M226.639 116.734c-3.508.741-14.006-9.258-14.006-9.258 2.89 9.085 3.384 11.801 3.878 14.146.494 2.346.197 2.815 0 4.469-.198 1.654-.198 1.605.79 3.679.988 2.073 1.631 3.53 1.828 4.592a5.839 5.839 0 01-.074 1.851h-44.142s-.223-.987.716-3.728c.939-2.74 3.088-5.011 4.273-6.74 1.186-1.728 1.112-1.555.791-2.271-1.482-3.506.914-2.74 1.927-7.999 1.012-5.259 1.334-30.343 3.581-40.588 2.248-10.246 5.682-12.666 5.929-21.134-4.175-3.9-14.525-14.048-12.425-16.344 2.371 2.222 9.485 3.309 15.29 3.26a2.42 2.42 0 012.322 1.629c.988 2.987 3.483 8.888 7.411 8.122 3.928-.765 6.842-7.777 7.658-10.32a2.54 2.54 0 011.012-1.358 4.324 4.324 0 001.26-1.48c.544 4.863-7.534 17.75-7.534 17.75s2.001 17.48 6.003 23.232c4.001 5.753 15.241 5.753 15.512 11.234.272 5.48 1.483 26.515-2 27.256z",fill:"#BD4070"}),i("path",{
d:"M192.698 42.742c-2.915-.173-6.842-.667-13.141-3.802 1.012 3.678 9.041 11.48 12.573 14.813a24.5 24.5 0 01-1.408 7.703c3.186 4.518 7.04 1.58 7.732 14.27.296 5.407 4.273 12.591 8.423 20.368 4.15 7.777 4.718-6.518 4.545-13.554-.099-3.827-.864-8.567-1.68-13.085-1.753-6.839-2.618-14.443-2.618-14.443s5.657-9.036 7.188-14.813c-.386.24-.688.594-.864 1.012a106.604 106.604 0 01-5.138 10.098c-1.952 3.284-5.583 4.913-9.758-1.555-4.174-6.469-2.717-6.814-5.854-7.012z",fill:"#A12C66"}),i("path",{d:"M209.298 82.837c-1.087-.223-2.248-1.605-6.151-4.222 0 0-.173-3.308-4.693-2.889 0 0-1.828-4.74-3.335-8.986-1.507-4.247-5.434-1.852-6.25 2.468-1.827 9.826-2.47 28.022.742 34.515 1.877 3.802 3.705 4.592 10.547 6.543 1.482.716 4.743-4.716 6.373-13.382 2.174-11.53 2.767-12.196 2.767-14.047z",fill:"#BD4070"}),i("path",{d:"M205.984 24.434c.285-.416-.442-1.41-1.624-2.218-1.182-.809-2.371-1.127-2.656-.71-.285.415.442 1.409 1.624 2.217 1.182.81 2.371 1.128 2.656.711z",fill:"#D4E1FF"}),i("path",{
d:"M194.526 30.645c4.348 2.098 5.855 4.765 9.338 4.666 3.483-.099 4.841-1.778 6.249-4.024-.568-1.235-2.124 2.468-5.533 2.468-3.409 0-7.855-4.567-10.054-3.11z",fill:"#8DAEF7"}),i("path",{d:"M196.774 67.233c2.495 3.506-.864-7.036-.864-7.036h-4.768c-.642 2.197-1.531 4.172-2.47 6.567 1.433-3.605 4.471-4.592 8.102.469z",fill:"#A12C66"}),i("path",{d:"M224.959 53.136l1.853-.815c.049-.024.049-.074 0-.074l-1.853-.84h-.025l-.839-1.85c0-.05-.05-.05-.075 0l-.815 1.85h-.024l-1.878.84c-.025 0-.025.05 0 .074l1.878.815h.024l.815 1.876h.075l.839-1.876h.025z",fill:"#A1F7D7"})),v=i("defs",{},void 0,i("clipPath",{id:"prefix__clip0_1283_59574"},void 0,i("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("clipPath",{id:"prefix__clip1_1283_59574"},void 0,i("path",{fill:"#fff",transform:"translate(110 25.2)",d:"M0 0h11.76v22.2H0z"})),i("clipPath",{id:"prefix__clip2_1283_59574"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("linearGradient",{id:"prefix__paint0_linear_1283_59574",
x1:36,y1:64.254,x2:36,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})),i("linearGradient",{id:"prefix__paint1_linear_1283_59574",x1:196,y1:64.254,x2:196,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})));function y(e){return a.createElement("svg",u({width:232,height:72,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l,s,d,f,c,p,v)}y.displayName="MultiAccountWelcomeIcon"},719637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(972247)),i=v(n(956117)),u=v(n(776360)),l=v(n(308920)),s=v(n(359150)),d=n(198622),f=n(770348),c=v(n(247001)),p=v(n(342983));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){o.default.set(d.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");e();l.default.track(f.AnalyticEvents.UPSELL_CLICKED,{type:"multi_account_cta_tooltip",
action:"dismiss"})}function _(e){var t=e.markAsDismissed;a.useEffect((function(){l.default.track(f.AnalyticEvents.UPSELL_VIEWED,{type:"multi_account_cta_tooltip"});return function(){m(t);window.removeEventListener("keydown",n)}}),[]);var n=function(e){e.keyCode===f.KeyboardKeys.ESCAPE&&m(t)};window.addEventListener("keydown",n);return h("div",{className:p.default.container},void 0,h(s.default,{className:p.default.icon}),h(u.default,{className:p.default.title},void 0,c.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_TOOLTIP_TITLE),h(u.default,{size:u.default.Sizes.SIZE_14,className:p.default.subTitle},void 0,c.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_SUBTITLE.format({maxAltAccounts:d.MAX_ACCOUNTS-1})),h(i.default,{look:i.default.Looks.INVERTED,fullWidth:!0,onClick:function(){return m(t)}},void 0,c.default.Messages.GOT_IT),h("div",{className:p.default.pointer}))}_.displayName="MultiAccountCTATooltip"},241505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(){(0,i.openModalLazy)(f(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(25108)]).then(n.bind(n,825108));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){o.default.dispatch({type:l.ActionTypes.CLEAR_AUTHENTICATION_ERRORS});o.default.dispatch({type:l.ActionTypes.LOGIN_RESET,isMultiAccount:!0})},modalKey:u.SWITCH_ACCOUNTS_MODAL_KEY})};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322),u=n(198622),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}},678620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountMenuItems=function(){var e=(0,o.useStateFromStores)([s.default],(function(){return s.default.getCurrentUser()})),t=(0,o.useStateFromStores)([l.default],(function(){return l.default.hidePersonalInformation})),n=(0,m.useMultiAccountUsers)().multiAccountUsers,r=n.map((function(n){
var r=new u.default(n),a=r.id===(null==e?void 0:e.id),o=n.tokenStatus===h.MultiAccountTokenStatus.INVALID,l=t?null:"#"+r.discriminator;return C(i.MenuItem,{id:r.id,focusedClassName:S.default.focused,label:function(e){var t=e.isFocused;return C("div",{className:S.default.userMenuItem},void 0,C(c.default,{src:r.getAvatarURL(void 0,40),size:c.default.Sizes.SIZE_24,"aria-label":n.username}),C("div",{className:S.default.userMenuUsername},void 0,C(p.default,{className:S.default.userMenuText},void 0,r.toString()),C(p.default,{className:S.default.userMenuDiscriminator},void 0,l)),a&&C(d.default,{color:t?g.Colors.WHITE:g.Colors.BRAND_500,backgroundColor:t?g.Colors.BRAND_500:g.Colors.WHITE,width:18,height:18,className:S.default.activeIcon}),o&&C(f.default,{color:g.Colors.STATUS_RED,backgroundColor:g.Colors.WHITE,width:15,height:15,className:S.default.activeIcon}))},action:function(){o?(0,_.default)():function(t){if(t!==(null==e?void 0:e.id)){
v.default.track(g.AnalyticEvents.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:g.AnalyticsSections.PROFILE_POPOUT}});y.switchAccount(t)}}(r.id)}},r.id)}));r.push(a.createElement(a.Fragment,null,T,C(i.MenuItem,{id:"manage-accounts",label:E.default.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS,action:_.default})));return r};var r,a=I(n(667294)),o=n(536211),i=n(145122),u=O(n(759027)),l=O(n(663303)),s=O(n(728429)),d=O(n(474026)),f=O(n(417184)),c=O(n(628551)),p=O(n(776360)),v=O(n(308920)),y=I(n(590886)),h=n(915574),m=n(393742),_=O(n(241505)),g=n(770348),E=O(n(247001)),S=O(n(519276));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=C(i.MenuSeparator,{})},594570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ICON_SIZE=void 0;t.ICON_SIZE=64},737050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mount=function(){a.default.dispatch({type:o.ActionTypes.NOW_PLAYING_MOUNTED})};t.unmount=function(){a.default.dispatch({
type:o.ActionTypes.NOW_PLAYING_UNMOUNTED})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},4865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,i.useStateFromStoresObject)([f.default,s.default,d.default],(function(){return{nowPlayingCards:f.default.nowPlayingCards,loaded:f.default.loaded,needsRefresh:s.default.needsRefresh(),fetching:s.default.getFetching(),currentUser:d.default.getCurrentUser()}})),t=e.nowPlayingCards,n=e.loaded,r=e.needsRefresh,o=e.fetching,l=e.currentUser;a.useEffect((function(){u.default.wait((function(){return h.mount()}));return function(){return u.default.wait((function(){return h.unmount()}))}}),[null==l?void 0:l.id]);a.useEffect((function(){r&&!o&&N()}),[r,o]);var c=null;if(!n)return P("div",{className:b.default.emptyCard},void 0,R);c=t.length>0?t.map((function(e){var t=e.party;return P(M,{party:t},t.id)})):P("div",{className:b.default.emptyCard},void 0,P(v.default,{tag:v.default.Tags.H5,
size:v.default.Sizes.SIZE_16,className:b.default.emptyHeader},void 0,O.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER),P(y.default,{color:y.default.Colors.CUSTOM,className:b.default.emptyText},void 0,O.default.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY));return a.createElement(a.Fragment,null,c)};var r,a=T(n(667294)),o=I(n(496486)),i=n(536211),u=I(n(636602)),l=T(n(314022)),s=I(n(538983)),d=I(n(728429)),f=I(n(730655)),c=I(n(160629)),p=I(n(80828)),v=I(n(971639)),y=I(n(776360)),h=T(n(737050)),m=I(n(133260)),_=I(n(317134)),g=I(n(863946)),E=I(n(854923)),S=I(n(884809)),O=I(n(247001)),b=I(n(399978));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=(0,S.default)((function(e){
var t=e.party,n=e.onUserContextMenu,r=e.onChannelContextMenu,o=P(_.default,{party:t,onUserContextMenu:n}),i=P(m.default,{party:t,onChannelContextMenu:r}),u=P("div",{},void 0,o,i);return null!=o||null!=i?P(c.default,{position:c.default.Positions.LEFT,renderPopout:function(e){var n=e.closePopout;return P(E.default,{party:t,close:n})},spacing:8},void 0,(function(e,t){var n=t.isShown;return a.createElement(g.default,A({},e,{className:b.default.itemCard,active:n}),u)})):null})),N=o.default.throttle((function(){return l.fetchUserAffinities(!1)}),3e5),R=P(p.default,{})},133260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.party,n=e.onChannelContextMenu,r=t.voiceChannels,v=t.currentActivities,y=t.partiedMembers,h=t.applicationStreams,E=t.guildContext,S=[],O=function(e){var t,n,r=S.length;if(0!==r){
var a=S[r-1],o=""+(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:""),i=(""+(null!==(n=null==a?void 0:a.key)&&void 0!==n?n:"")).startsWith("game")&&o.startsWith("rich-presence");S.push(_(f.default.Separator,{inset:i},"sep-"+o));S.push(e)}else S.push(e)};r.length>0&&r.forEach((function(e){var t=e.members,r=e.channel,a=e.guild;O(_(f.default.VoiceSection,{guild:a,channel:r,members:t,partySize:g(t),onChannelContextMenu:n,onGuildClick:function(){(0,l.transitionToGuild)(a.id)}},"voice-"+r.id))}));for(var b,I=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
;var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.currentActivities);!(b=I()).done;){var C=b.value.activity;if(null!=C){var T=d.createBody(C);if(null!=T){O(T);break}}}h.length>0&&h.forEach((function(e){var t=e.stream,n=e.streamUser,r=e.activity;O(_(f.default.ApplicationStreamingSection,{guildId:null==E?void 0:E.id,user:n,activity:r,applicationStream:t,onPreviewClick:function(){a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)}},"application-stream-"+t.ownerId))}));v.forEach((function(e,t){var n=e.activity,a=e.game,o=e.playingMembers,l=e.activityUser;if(null==n||null==n.type)return null;if(v.length>1&&n.type===p.ActivityTypes.PLAYING&&!(0,i.hasRichActivity)(n)&&null!=a){var d,h;O(_(f.default.GameSection,{icon:a.getIconURL(c.ICON_SIZE),name:a.name,partySize:{
knownSize:o.length,unknownSize:0,totalSize:o.length},members:o},"game-"+(null!==(d=n.session_id)&&void 0!==d?d:t)+"-"+(null!==(h=n.application_id)&&void 0!==h?h:t)))}else if((0,u.default)(n)){var m,g=new Set(o.map((function(e){return e.id}))),S=null===(m=r.find((function(e){return null!=e})))||void 0===m?void 0:m.channel;null!=S&&O(_(f.default.EmbeddedActivitySection,{activity:n,participants:g,channel:S,guildId:S.guild_id},"embedded-activity-"+n.application_id))}else if(null==n.assets&&!(0,i.hasRichActivity)(n)||n.type!==p.ActivityTypes.PLAYING){if((0,i.isStreaming)(n)){var b,I=r.length>0&&r[0].members.length>1,C=o.length>1;O(_(f.default.TwitchSection,{guildId:null==E?void 0:E.id,activity:n,user:I||C?l:null,getAssetImage:s.getAssetImage},"streaming-"+(null!==(b=n.session_id)&&void 0!==b?b:t)))}else if((0,i.isListeningOnSpotify)(n)){var T;O(_(f.default.SpotifySection,{activity:n,isSolo:1===y.length,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},
getAssetImage:s.getAssetImage,members:o},"spotify-"+(null!==(T=n.session_id)&&void 0!==T?T:t)+"-"+l.id))}else if((0,i.isOnXbox)(n)){var A;O(_(f.default.XboxSection,{title:a.name},"xbox-"+(null!==(A=n.session_id)&&void 0!==A?A:t)))}}else{var P;O(_(f.default.RichPresenceSection,{activity:n,getAssetImage:s.getAssetImage},"rich-presence-"+(null!==(P=n.session_id)&&void 0!==P?P:t)+"-"+l.id))}}));return S.length>0?_(f.default.Body,{},void 0,S):null};h(n(667294));var r,a=v(n(136873)),o=n(123516),i=n(144166),u=v(n(762605)),l=n(95034),s=n(698243),d=h(n(101047)),f=v(n(863946)),c=n(594570),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){var n,r=e.length,a=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var o=t.party.size;a=Math.max(o[0]-e.length,0);n=o[1]}else n=r+a;return{
knownSize:r,unknownSize:a,totalSize:n}}},101047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createBody=function(e){var t,n=e.application_id;if(null==n)return;var r=f[n];if(null!=(null==r?void 0:r.body)&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))){var a=r.body;return d("section",{className:l.default.section},"delegate-"+n,d(a,{activity:e}))}};t.createHeader=function(e){var t,n=e.application_id;if(null==n)return;var r=f[n];if(null!=r&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e)))return r.createHeader(e)};t.shouldShowActivity=function(e){var t,n=e.application_id;if(null==n)return!0;var r=f[n];return null==r||!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o,i=n(248414),u=n(808961),l=(r=n(885836))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=((a={})[u.STAGE_APPLICATION_ID]=new i.StageChannelNowPlayingDelegate,a)},317134:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=m;y(n(667294));var r,a=p(n(441143)),o=n(144166),i=p(n(762605)),u=p(n(73393)),l=y(n(101047)),s=p(n(863946)),d=n(594570),f=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.party,r=e.onUserContextMenu,p=t.priorityMembers,v=t.guildContext,y=p[0],m=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map((function(e){return e.user.id}))),a=n.filter((function(e){return!r.has(e.id)})),o=t[0].user.toString(),i=null!=t[1]?t[1].user.toString():null!=a[0]?a[0].toString():null;switch(n.length){case 1:return o;case 2:return c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:o,user2:i});default:return c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:o,user2:i,extras:n.length-2})}}(t),_=function(e){
var t,r=e.priorityMembers,p=e.partiedMembers,v=e.voiceChannels,y=e.currentActivities,m=r.length,_=m+(p.length-m)===1,g=y[0],E=null==g?void 0:g.activity,S=null==g?void 0:g.startedPlayingTime,O={name:null!==(t=null==E?void 0:E.name)&&void 0!==t?t:""};if((0,i.default)(E)&&null!=E)return{subtitle:h(u.default,{start:S,location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:O}),icon:null};if(_&&null!=g){var b=g.game;if(null==E)return{subtitle:null,icon:null};var I=l.createHeader(E);if(null!=I)return I;switch(E.type){case f.ActivityTypes.PLAYING:return(0,o.isOnXbox)(E)?{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:h(s.default.Header.Icon,{src:s.default.Header.Icon.Src.XBOX})}:{subtitle:h(u.default,{start:S,location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:O}),icon:null!=b?h(s.default.Header.Icon,{src:null!=b.getIconURL(d.ICON_SIZE)?b.getIconURL(d.ICON_SIZE):n(534413)}):null};case f.ActivityTypes.STREAMING:return{
subtitle:c.default.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=b&&null!=b.getIconURL(d.ICON_SIZE)?h(s.default.Header.Icon,{src:b.getIconURL(d.ICON_SIZE)}):null};case f.ActivityTypes.LISTENING:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:h(s.default.Header.Icon,{src:s.default.Header.Icon.Src.SPOTIFY})};case f.ActivityTypes.WATCHING:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=b&&null!=b.getIconURL(d.ICON_SIZE)?h(s.default.Header.Icon,{src:b.getIconURL(d.ICON_SIZE)}):null};default:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}if(0===y.length){if(v.length>0)return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};var C=y[0];if(null!=C){var T=C.activity;if(null!=T){var A=l.createHeader(T);if(null!=A)return A}if(null!=T&&T.type===f.ActivityTypes.LISTENING)return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,
icon:h(s.default.Header.Icon,{src:s.default.Header.Icon.Src.SPOTIFY})}}}else if(1===y.length){var P=y.find((function(e){return null!=e.activity}));if(null==P)throw new Error("Invalid Activity State - AF 2.0: No activity");var M=P.activity,N=P.game,R=P.startedPlayingTime;(0,a.default)(null!=M,"Activity was null somehow");return{subtitle:h(u.default,{start:R,location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:O}),icon:null!=N&&null!=N.getIconURL(d.ICON_SIZE)?h(s.default.Header.Icon,{src:N.getIconURL(d.ICON_SIZE)}):null}}return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:h(s.default.Header.Icon,{src:s.default.Header.Icon.Src.MULTIPLE})}}(t),g=_.subtitle,E=_.icon;return h(s.default.Header,{priorityUser:y,guildId:null==v?void 0:v.id,title:m,subtitle:g,icon:E,onContextMenu:function(e){return r(e,y.user)}})}m.displayName="NowPlayingHeader"},863946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=$(n(294184)),i=$(n(213192)),u=n(536211),l=$(n(675060)),s=n(556470),d=n(205562),f=$(n(155502)),c=$(n(309994)),p=$(n(93392)),v=$(n(853177)),y=$(n(969015)),h=$(n(319879)),m=$(n(663953)),_=$(n(93879)),g=$(n(205990)),E=$(n(678928)),S=$(n(314234)),O=$(n(645923)),b=n(830543),I=$(n(423046)),C=$(n(288356)),T=$(n(728429)),A=$(n(974661)),P=$(n(956117)),M=$(n(16941)),N=$(n(562475)),R=$(n(73393)),w=$(n(427370)),D=$(n(803949)),L=$(n(11888)),j=$(n(303213)),k=$(n(149982)),U=$(n(628551)),G=$(n(776360)),F=$(n(528175)),x=n(698243),B=n(71246),V=$(n(316681)),W=n(770348),H=n(418173),z=$(n(247001)),Y=$(n(885836)),K=["children","className"];function $(e){return e&&e.__esModule?e:{default:e}}function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}function Z(){Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return Z.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){J=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return J(e,t)}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te=64,ne=160,re=[14,14,12,12,10,8,6],ae=function(e,t){void 0===t&&(t=null);return ee(G.default,{className:(0,o.default)(Y.default.sectionTitle,Y.default.textContent,t),size:G.default.Sizes.SIZE_14},void 0,e)};ae.displayName="renderSectionTitle";var oe=function(e,t){void 0===t&&(t=null);return ee(G.default,{className:(0,o.default)(Y.default.textContent,t),size:G.default.Sizes.SIZE_12},void 0,e)}
;oe.displayName="renderSectionText";var ie=(0,l.default)((function(e){var t=e.message;return ee("div",{className:Y.default.timestamp},void 0,t)})),ue=function(e){var t=e.children;return ee("section",{className:Y.default.section},void 0,t)};ue.displayName="Section";var le=function(e){var t,n=e.inset,r=e.className;return ee("div",{className:(0,o.default)(Y.default.separator,(t={},t[Y.default.inset]=n,t),r)})};le.displayName="Separator";var se=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;J(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.renderTimePlayed=function(){var e,t=this.props.activity,n=t.timestamps;if(null==n||!(0,v.default)(t)||(0,y.default)(t))return null;e=(0,p.default)(t)?ee(ie,{timestamps:n}):ee(R.default,{start:n.start,end:n.end,location:R.default.Locations.USER_ACTIVITY,className:Y.default.playTime});return oe(e)};r.render=function(){
var e,t,r,a=this.props,i=a.activity,u=i.assets,l=i.details,s=i.state,d=i.application_id,f=a.getAssetImage;return ee(ue,{},void 0,ee("div",{className:Y.default.activitySection},void 0,null!=u&&0!==Object.keys(u).length?ee("div",{className:Y.default.activitySectionAssets},void 0,ee("img",{alt:null!==(e=u.large_text)&&void 0!==e?e:"",src:f(d,u.large_image,[ne,ne]),className:(0,o.default)(Y.default.largeImage,(t={},t[Y.default.largeImageMask]=null!=u.small_image,t))}),null!=u.small_image?ee("img",{alt:null!==(r=u.small_text)&&void 0!==r?r:"",src:f(d,u.small_image,[te,te]),className:Y.default.smallImage}):null):ee("div",{className:Y.default.activitySectionAssets},void 0,ee("img",{alt:"",src:n(534413),className:Y.default.largeImage})),ee("div",{},void 0,ae(null!=l&&""!==l?l:z.default.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=s?oe(s):null,this.renderTimePlayed())))};return t}(a.Component);se.displayName="RichPresenceSection";var de=ee("div",{}),fe=function(e){
var t,n,r=e.activity,a=r.assets,i=r.details,u=r.state,l=r.application_id,s=e.partySize,d=e.members,f=e.isSolo,c=e.getAssetImage;return ee(ue,{},void 0,ee("div",{className:Y.default.spotifySection},void 0,null!=a?ee("div",{className:Y.default.activitySectionAssets},void 0,ee("img",{alt:null!==(t=a.large_text)&&void 0!==t?t:"",src:c(l,a.large_image,[ne,ne]),className:(0,o.default)(Y.default.largeImage,Y.default.borderRadius0,(n={},n[Y.default.largeImageMask]=null!=a.small_image,n))}),f?null:ee(L.default,{className:Y.default.smallImage,color:W.Colors.SPOTIFY})):de,ee("div",{},void 0,null!=i?ae(i):null,null!=u?oe(u):null),ee(V.default,{minAvatarsShown:f?2:1,partySize:s,members:d})))};fe.displayName="SpotifySection";var ce=function(e){var t,r,a=e.activity,i=e.user,u=e.getAssetImage,l=e.guildId,s=a.name,d=a.details,p=a.assets,v=a.application_id;if(null!=p&&(0,h.default)(a)){var y;r=ee(A.default,{className:Y.default.twitchSectionPreviewWrapper,aspectRatio:16/9},void 0,ee(M.default,{href:(0,
c.default)(a),tag:"a",target:"_blank"},void 0,ee("img",{alt:null!==(y=p.large_text)&&void 0!==y?y:"",src:u(v,p.large_image,[900,500]),className:Y.default.twitchSectionPreview}),ee("img",{src:n(182105),className:Y.default.twitchSectionPlayButton,alt:""})))}return ee(ue,{},void 0,ee("div",{className:(0,o.default)((t={},t[Y.default.twitchSectionSimple]=null==i,t[Y.default.twitchSectionFull]=null!=i,t))},void 0,ee("img",{alt:"",src:f.default.get(W.PlatformTypes.TWITCH).icon.lightSVG,className:Y.default.twitchSectionIcon}),ee("div",{},void 0,ae(s),null!=d?oe(d):null),null!=i?ee(U.default,{src:i.getAvatarURL(l,24),"aria-label":i.username,className:Y.default.twitchSectionAvatar,size:U.default.Sizes.SIZE_24}):null),r)};ce.displayName="TwitchSection";var pe=function(e){var t,n,r=e.guild,i=e.channel,u=e.onGuildClick,l=e.partySize,s=e.members,d=e.onChannelContextMenu,f=a.useRef(null),c=(0,E.default)(i,!0);return ee(ue,{},void 0,a.createElement("div",{className:Y.default.voiceSection,ref:f,
onContextMenu:function(e){return d(e,i)}},ee(M.default,{onClick:u,"aria-hidden":!0,tabIndex:-1},void 0,ee("div",{className:Y.default.voiceSectionAssets},void 0,null!=r.getIconURL(32)?ee("img",{alt:"",src:null!==(t=r.getIconURL(32))&&void 0!==t?t:void 0,className:(0,o.default)(Y.default.voiceSectionGuildImage,Y.default.largeImageMask)}):ee("div",{className:Y.default.voiceSectionNoGuildImageWrapper},void 0,ee("div",{className:Y.default.voiceSectionNoGuildImage,style:{fontSize:null!==(n=re[r.acronym.length])&&void 0!==n?n:re[re.length-1]}},void 0,r.acronym)),ee("div",{className:Y.default.voiceSectionIconWrapper},void 0,ee(k.default,{className:Y.default.voiceSectionIcon})))),ee(M.default,{onClick:u,focusProps:{ringTarget:f}},void 0,ee("div",{className:Y.default.voiceSectionDetails},void 0,ae(r.toString(),Y.default.voiceSectionText),oe(c,Y.default.voiceSectionText))),ee(V.default,{partySize:l,members:s,guildId:r.id})))};pe.displayName="VoiceSection";var ve=function(e){var t=e.title
;return ee(ue,{},void 0,ee("div",{className:Y.default.xboxSection},void 0,ee(j.default,{className:Y.default.xboxSectionIcon}),ee("div",{className:Y.default.xboxSectionDetails},void 0,ae(t),oe(z.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX))))};ve.displayName="XboxSection";var ye=function(e){var t=e.icon,n=e.name,r=e.partySize,a=e.members;return ee(ue,{},void 0,ee("div",{className:Y.default.gameSection},void 0,null!=t?ee("img",{alt:"",src:t,className:Y.default.gameSectionIcon}):null,ee("div",{},void 0,ae(n),oe(z.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:r.totalSize}))),ee(V.default,{partySize:r,members:a})))};ye.displayName="GameSection";var he=function(e){var t,n=e.activity,r=e.user,a=e.applicationStream,o=e.onPreviewClick,i=e.guildId,u=ee(A.default,{className:Y.default.applicationStreamingPreviewWrapper,aspectRatio:16/9},void 0,ee(M.default,{onClick:o,className:Y.default.applicationStreamingPreviewSize},void 0,ee(O.default,{stream:a,
className:Y.default.applicationStreamingPreviewSize}),ee("div",{className:Y.default.applicationStreamingHoverWrapper},void 0,ee("div",{className:Y.default.applicationStreamingHoverText},void 0,z.default.Messages.WATCH_STREAM)))),l=null!==(t=(0,m.default)(n,a))&&void 0!==t?t:z.default.Messages.SHARING_SCREEN;return ee(ue,{},void 0,ee("div",{className:Y.default.applicationStreamingSection},void 0,ee(U.default,{size:U.default.Sizes.SIZE_32,src:r.getAvatarURL(i,32),"aria-label":r.username,className:Y.default.applicationStreamingAvatar}),ee("div",{},void 0,ae(r.toString()),oe(l)),ee(F.default,{size:F.default.Sizes.SMALL})),u)};he.displayName="ApplicationStreamingSection";var me=function(e){var t,n=e.activity,r=e.channel,o=e.guildId,i=e.participants,l=(0,_.default)(),f=(0,d.useAppContext)(),c=X(a.useState(null),2),p=c[0],v=c[1];a.useEffect((function(){null!=n.application_id&&(0,x.getAssetIds)(n.application_id,["embedded_background"]).then((function(e){var t=X(e,1)[0];return v(t)}))
}),[n.application_id]);var y=(0,u.useStateFromStoresArray)([T.default,I.default],(function(){return Array.from(i).map((function(e){return I.default.getId()===e?null:T.default.getUser(e)})).filter(B.isNotNullish)})),h=(0,s.useAnalyticsContext)(),m=C.default.getGame(null!==(t=null==n?void 0:n.application_id)&&void 0!==t?t:"");if(null==m)return null;var E=null!=n.created_at&&n.created_at>0?{start:n.created_at}:void 0,S=(0,x.getAssetImage)(m.id,p,300);return ee(ue,{},void 0,ee("div",{className:Y.default.embeddedActivityTopRow},void 0,ee(N.default,{game:m,size:N.default.Sizes.XSMALL,className:Y.default.embeddedActivityIcon}),ee("div",{className:Y.default.embeddedActivityName},void 0,ee(G.default,{strong:!0},void 0,m.name)),null!=E?ee("div",{className:Y.default.embeddedActivityTimeElapsed},void 0,ee(G.default,{color:G.default.Colors.MUTED},void 0,ee(ie,{timestamps:E}))):null),ee(A.default,{aspectRatio:16/9},void 0,ee("div",{className:Y.default.embeddedActivityPlayerContainer
},void 0,null!=S?ee("img",{src:S,alt:m.name,className:Y.default.embeddedActivityImage}):null,ee("div",{className:Y.default.embeddedActivityImageOverlay},void 0,ee(b.Avatars,{users:y,guildId:o}),ee("div",{className:Y.default.embeddedActivityJoinWrapper},void 0,ee(P.default,{size:P.default.Sizes.SMALL,onClick:function(e){e.stopPropagation();(0,g.default)(n,!0,l,r.id,H.ActivityIntent.PLAY,h.location,f)}},void 0,z.default.Messages.JOIN))))))};me.displayName="EmbeddedActivitySection";var _e=(0,i.default)({XBOX:null,SPOTIFY:null,MULTIPLE:null}),ge=function(e){var t,n=e.src,r=e.onClick,a=e.onContextMenu;switch(n){case _e.XBOX:t=ee(j.default,{className:Y.default.headerIcon,color:W.Colors.PRIMARY_DARK_300});break;case _e.SPOTIFY:t=ee(L.default,{className:Y.default.headerIcon,color:W.Colors.SPOTIFY});break;case _e.MULTIPLE:t=ee("div",{className:Y.default.multipleIconWrapper},void 0,ee(D.default,{className:(0,o.default)(Y.default.headerIcon,Y.default.multipleIcon),color:W.Colors.PRIMARY_DARK_300
}));break;default:t=ee("img",{src:null!=n?n:void 0,alt:"",className:Y.default.headerIcon})}return null!=r||null!=a?ee(M.default,{onClick:r,className:(0,o.default)(null!=r?Y.default.clickableIcon:""),onContextMenu:a},void 0,t):t};ge.Src=_e;var Ee=function(e){var t=e.priorityUser,n=e.title,r=e.subtitle,a=e.icon,i=e.onContextMenu,u=e.guildId;return ee("header",{className:null!=a?Y.default.headerFull:Y.default.headerSimple},void 0,ee(U.default,{src:t.user.getAvatarURL(u,32),"aria-label":t.user.username,size:U.default.Sizes.SIZE_32,className:Y.default.headerAvatar,status:t.status,onContextMenu:i}),ee("div",{className:Y.default.headerDetails},void 0,ee(G.default,{className:(0,o.default)(Y.default.sectionTitle,Y.default.textContent),size:G.default.Sizes.SIZE_16},void 0,n),ee(G.default,{color:G.default.Colors.HEADER_SECONDARY,className:Y.default.textContent},void 0,r)),null!=a?a:null)};Ee.displayName="NowPlayingHeader";Ee.Icon=ge;var Se=function(e){var t=e.children;return ee(w.default,{
inset:!0,padded:!1,className:Y.default.body},void 0,t)};Se.displayName="NowPlayingBody";var Oe=function(e){var t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,K);return ee(S.default,{},void 0,a.createElement(w.default,Z({className:(0,o.default)(n,Y.default.wrapper),padded:!0},r),t))};Oe.displayName="NowPlayingItem";Oe.Header=Ee;Oe.Body=Se;Oe.Separator=le;Oe.VoiceSection=pe;Oe.GameSection=ye;Oe.RichPresenceSection=se;Oe.XboxSection=ve;Oe.SpotifySection=fe;Oe.TwitchSection=ce;Oe.ApplicationStreamingSection=he;Oe.EmbeddedActivitySection=me;var be=Oe;t.default=be},352636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(923387),i=h(n(284382)),u=h(n(305081)),l=h(n(717681)),s=h(n(8549)),d=h(n(971639)),f=h(n(582945)),c=h(n(4865)),p=n(770348),v=h(n(247001)),y=h(n(716875));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=_(c.default,{});function E(){var e=(0,a.useStateFromStores)([s.default],(function(){return s.default.hasConsented(p.Consents.PERSONALIZATION)}))?[]:[o.DismissibleContent.NOW_PLAYING_CONSENT_CARD];return _(i.default,{section:p.AnalyticsSections.ACTIVE_NOW_COLUMN},void 0,_("div",{className:y.default.container},void 0,_(f.default,{className:y.default.scroller},void 0,_(d.default,{tag:d.default.Tags.H3,size:d.default.Sizes.SIZE_20,className:y.default.header},void 0,v.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),_(u.default,{contentTypes:e},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;if(t===o.DismissibleContent.NOW_PLAYING_CONSENT_CARD)return _(l.default,{className:y.default.consentCard,markAsDismissed:n})})),g)))}E.displayName="NowPlayingSidebar"},316681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(496486)),i=y(n(257175)),u=y(n(711195)),l=y(n(414068)),s=y(n(160629)),d=y(n(298408)),f=y(n(628551)),c=n(71246),p=n(770348),v=y(n(877001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.member,n=e.empty,r=e.analyticsContext,o=e.guildId;if(n)return _("div",{className:v.default.partyMemberEmpty});if(null==t)return _("div",{className:v.default.partyMemberUnknown},void 0,_(d.default,{className:v.default.partyMemberUnknownIcon}));var i={location:m({},r.location,{object:p.AnalyticsObjects.AVATAR})};return _("div",{className:v.default.partyMemberKnown},void 0,_(s.default,{preload:function(){return(0,u.default)(t.id,t.getAvatarURL(o,80),{guildId:o})},renderPopout:function(e){return a.createElement(l.default,m({},e,{userId:t.id,analyticsParams:i}))},
position:s.default.Positions.LEFT},void 0,(function(e){return a.createElement(f.default,m({},e,{src:t.getAvatarURL(o,24),"aria-label":t.username,size:f.default.Sizes.SIZE_24,className:v.default.partyMember}))})))};g.displayName="PartyMember";var E=(0,i.default)(g),S=function(e){var t=e.partySize,n=e.members,r=e.minAvatarsShown,a=void 0===r?1:r,i=e.maxAvatarsShown,u=void 0===i?2:i,l=e.guildId,s=t.unknownSize,d=t.totalSize,f=t.knownSize;if(d<a)return null;for(var p=(0,o.default)(n).filter(c.isNotNullish).take(u).map((function(e){return _(E,{member:e,guildId:l},e.id)})).value(),y=0;y<s&&p.length<u;y++)p.push(_(E,{guildId:l},"unknown-member-"+y));for(var h=d-f-s,m=0;m<h&&p.length<u;m++)p.push(_(E,{empty:!0,guildId:l},"empty-member-"+m));var g=Math.max(Math.min(d-p.length,99),0);if(1===g){var S=n[u];p.push(_(E,{member:S,guildId:l},S.id))}return _("div",{className:v.default.wrapper},void 0,_("div",{className:v.default.partyMembers},void 0,p,g>1?_("div",{
className:v.default.partyMemberOverflow},void 0,"+",g):null))};S.displayName="PartyAvatars";var O=S;t.default=O},854923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;v(n(667294));var r,a=v(n(145122)),o=c(n(729661)),i=c(n(984399)),u=c(n(485820)),l=c(n(602613)),s=c(n(709037)),d=c(n(568235)),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.party,n=e.close,r=e.onSelect,c=(0,u.default)(t),p=(0,d.default)(t),v=(0,s.default)(t),h=(0,l.default)(t),m=(0,o.default)(t),_=(0,i.default)(t);return y(a.default,{navId:"now-playing-menu",onClose:n,"aria-label":f.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onSelect:r},void 0,c,y(a.MenuGroup,{},void 0,p,v),y(a.MenuGroup,{},void 0,h),y(a.MenuGroup,{},void 0,m),_)}h.displayName="NowPlayingCardMenu"},27916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NowPlayingUnknownMemberMenuItem=c;t.default=f;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(294184)),o=l(n(252149)),i=l(n(628551)),u=l(n(446926));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.user,n=e.status,r=e.isFocused,a=e.guildId;return d("div",{className:u.default.memberItem},void 0,d(i.default,{src:t.getAvatarURL(a,24),className:u.default.avatar,"aria-label":t.username,size:i.default.Sizes.SIZE_24,status:n,statusColor:r?"currentColor":void 0}),d(o.default,{user:t,hideDiscriminator:!0}))}f.displayName="NowPlayingMemberMenuItem";function c(e){var t=e.label;return d("div",{className:u.default.memberItem},void 0,d("div",{className:(0,a.default)(u.default.avatar,u.default.unknown)}),d("div",{},void 0,t))}c.displayName="NowPlayingUnknownMemberMenuItem"},729661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t,n=e.currentActivities.length>1,r=D(e),i=function(e){var t=e.currentActivities,n=a.useContext(E.AnalyticsContext);return(0,
o.useStateFromStoresArray)([_.default,m.default,p.default,g.default,h.default],(function(){return t.filter((function(e){return!(0,c.default)(e.activity)})).map((function(e){var t=e.activity,r=e.game,a=m.default.getActiveLibraryApplication(r.id);return N({},e,{libraryApplication:a,canJoin:null!=t&&(0,f.default)(t,b.ActivityFlags.JOIN)&&t.type===b.ActivityTypes.PLAYING,canPlay:(0,S.isLaunchable)(m.default,p.default,g.default,h.default,r.id,null!=a?a.branchId:null),isLaunching:p.default.launchingGames.has(r.id),isRunning:_.default.getRunningVerifiedApplicationIds().includes(r.id),location:n.location})}))}),[t])}(e),u=[],l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i);!(t=l()).done;){var s=t.value,d=s.activity;null!=d&&null!=d.type&&u.push(L(s,n),j(s,n))}return[r].concat(u)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=C(n(312260)),u=C(n(136873)),l=C(n(226800)),s=C(n(155502)),d=n(144166),f=C(n(351093)),c=C(n(762605)),p=C(n(703124)),v=n(145122),y=C(n(513266)),h=C(n(504762)),m=C(n(191839)),_=C(n(834162)),g=C(n(432310)),E=n(308920),S=n(539331),O=n(409873),b=n(770348),I=C(n(247001));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=s.default.get(b.PlatformTypes.XBOX).name;function D(e){var t=e.currentActivities,n=(0,o.useStateFromStores)([y.default],(function(){return y.default.getAccounts().some((function(e){return e.type===s.default.get(b.PlatformTypes.XBOX).type}))})),r=t.some((function(e){var t=e.activity;return(0,d.isOnXbox)(t)}));return n||!r?null:R(v.MenuItem,{id:"xbox-connect",action:function(){return l.default.open(b.UserSettingsSections.CONNECTIONS)},
label:I.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:w})})}D.displayName="useXboxConnectItem";function L(e,t){var n=e.canJoin,r=e.activity,a=e.activityUser;if(!n||null==r)return null;function o(){return(o=M(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return i.default.sendActivityInviteUser({type:b.ActivityActionTypes.JOIN_REQUEST,userId:a.id,activity:r,location:b.AnalyticsLocations.PROFILE_POPOUT});case 4:null!=(t=e.sent)&&u.default.selectPrivateChannel(t.id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return R(v.MenuItem,{id:"join-"+r.session_id,label:t?I.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:a.toString()}):I.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,action:function(){return o.apply(this,arguments)}})}L.displayName="renderAskToJoinItem";function j(e,t){
var n=e.activity,r=e.game,a=e.libraryApplication,o=e.location,i=e.canPlay,u=e.isRunning,l=e.isLaunching;if(!i||null==n)return null;var s=u?I.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:r.name}):l?I.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:r.name}):void 0;return R(v.MenuItem,{id:"play-"+n.session_id,action:function(){(0,O.playApplication)(r.id,a,{analyticsParams:{location:N({},o,{object:b.AnalyticsObjects.LIST_ITEM})}})},label:t?I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:r.name}):I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,subtext:s})}j.displayName="renderPlayGameItem"},984399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=e.currentActivities,a=e.guildContext,u=new Set(t.map((function(e){return e.user.id}))),l=n.filter((function(e){return!u.has(e.id)})),s=o.useMemo((function(){
var e=r.flatMap((function(e){return e.playingMembers})).map((function(e){return e.id}));return n.filter((function(t){return!e.includes(t.id)}))}),[n,r]);if(r.length<=1&&0===s.length){var f,c;return p(i.MenuGroup,{label:n.length>1?d.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:n.length}):void 0},void 0,_(t,l,n.length,null!==(f=null===(c=r[0])||void 0===c?void 0:c.activity)&&void 0!==f?f:void 0,null==a?void 0:a.id))}var v=r.map((function(e){var n=e.playingMembers,r=e.game,o=e.activity,l=new Set(n.map((function(e){return e.id})));return p(i.MenuGroup,{label:r.name+" - "+n.length},void 0,_(t.filter((function(e){var t=e.user;return l.has(t.id)})),n.filter((function(e){return!u.has(e.id)})),n.length,null!=o?o:void 0,null==a?void 0:a.id))})),y=s.map((function(e){return e.id})),g=p(i.MenuGroup,{label:d.default.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER+" - "+s.length},void 0,_(t.filter((function(e){var t=e.user;return y.includes(t.id)
})),s.filter((function(e){return!u.has(e.id)})),s.length,void 0,null==a?void 0:a.id));return[].concat((E=v,function(e){if(Array.isArray(e))return m(e)}(E)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||h(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[g]);var E};var r,a,o=c(n(667294)),i=n(145122),u=n(910992),l=c(n(27916)),s=n(770348),d=(r=n(247001))&&r.__esModule?r:{default:r};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,a){for(var f,c=[],h=function(){var e=f.value,t=e.user,n=e.status;c.push(p(i.MenuItem,{id:t.id,keepItemStyles:!0,render:function(e){return o.createElement(l.default,v({},e,{user:t,status:n,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:t.id,
analyticsLocation:{section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},m=y(e);!(f=m()).done;)h();for(var _,g=function(){var e=_.value;c.push(p(i.MenuItem,{id:e.id,keepItemStyles:!0,render:function(t){return o.createElement(l.default,v({},t,{user:e,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:e.id,analyticsLocation:{section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},E=y(t);!(_=E()).done;)g();var S=n-c.length;S>0&&c.push(p(i.MenuItem,{id:"unknown-members-"+(null==r?void 0:r.session_id),render:function(e){return o.createElement(l.NowPlayingUnknownMemberMenuItem,v({},e,{label:d.default.Messages.GAME_FEED_UNKNOWN_PLAYERS.format({count:S})}))}}));return c}},485820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(709403)),i=c(n(844784)),u=n(145122),l=n(540671),s=n(308920),d=n(770348),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t){void 0===t&&(t=!1);var n=e.priorityMembers,r=e.partiedMembers,c=a.useContext(s.AnalyticsContext),p=n.map((function(e){return e.user.id})),h=1===r.length&&1===n.length,m=n.length-r.length>0;if(!((h||t)&&!m)||0===p.length)return null;return v(u.MenuItem,{id:"message",action:function(){o.default.openPrivateChannel(p).then((function(t){return i.default.trackWithMetadata(d.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,y({source:y({},c.location,{object:d.AnalyticsObjects.LIST_ITEM}),channel_id:t,recipient_id:"string"==typeof p?p:p[0],af_recently_played:!1},(0,l.getPartyMetadata)(e)))}))},label:f.default.Messages.SEND_DM})}h.displayName="useNowPlayingMessageItem"},602613:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.currentActivities,n=e.isSpotifyActivity,r=t[0],o=(0,a.default)(null==r?void 0:r.activity,null==r?void 0:r.activityUser);return n?o:null};var r,a=(r=n(619476))&&r.__esModule?r:{default:r}},709037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e.applicationStreams.map((function(e){var t=e.stream,n=e.streamUser;return d(i.MenuItem,{id:"spectate-"+t.ownerId,action:function(){a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)},label:u.default.Messages.WATCH_USER_STREAM.format({streamerName:n.toString()})})}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(136873)),o=n(123516),i=n(145122),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},568235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a.useContext(c.AnalyticsContext),n=e.voiceChannels[0],r=(0,o.useStateFromStores)([d.default],(function(){
return null!=n&&d.default.can(p.Permissions.CONNECT,n.channel)}));if(null==n)return null;return[m(l.MenuItem,{id:"join-voice",action:function(){(0,s.transitionToGuild)(n.guild.id);i.default.selectVoiceChannel(n.channel.id);u.default.trackWithMetadata(p.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,_({source:_({},t.location,{object:p.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,channel_id:n.channel.id},(0,f.getPartyMetadata)(e)))},label:v.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL,disabled:!r}),m(l.MenuItem,{id:"goto-server",action:function(){(0,s.transitionToGuild)(n.guild.id);u.default.trackWithMetadata(p.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,_({source:_({},t.location,{object:p.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,af_recently_played:!1},(0,f.getPartyMetadata)(e)))},label:v.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER})]};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=y(n(136873)),u=y(n(844784)),l=n(145122),s=n(95034),d=y(n(689389)),f=n(540671),c=n(308920),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u
}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}},884809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,i.default)(function(t){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(i,t);function i(){return t.apply(this,arguments)||this}var l=i.prototype;l.render=function(){return r.createElement(e,c({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))};l.handleMessageUser=function(e,t){return a.default.openPrivateChannel(t.id)}
;l.handleUserContextMenu=function(e,t,a){(0,o.openContextMenuLazy)(e,f(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,c({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:a})};l.handleGuildContextMenu=function(e,t){(0,o.openContextMenuLazy)(e,f(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(53734)]).then(n.bind(n,853734));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,c({},e,{guild:t}))}));case 5:case"end":return e.stop()}}),e)}))))};l.handleChannelContextMenu=function(e,t){var a=u.default.getGuild(t.getGuildId());if(null==a)return null;(0,
o.openContextMenuLazy)(e,f(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(44700)]).then(n.bind(n,44700));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return r.createElement(i,c({},e,{channel:t,guild:a}))}));case 5:case"end":return e.stop()}}),e)}))))};return i}(r.Component))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(709403)),o=n(378158),i=l(n(257175)),u=l(n(30098));function l(e){return e&&e.__esModule?e:{default:e}}
function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}},520310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setNewUser=function(e){a.default.wait((function(){return a.default.dispatch({type:o.ActionTypes.NUF_NEW_USER,newUserType:e})}))};t.setNewUserFlowCompleted=function(){
a.default.wait((function(){return a.default.dispatch({type:o.ActionTypes.NUF_COMPLETE})}))};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},754949:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NewUserTypes=t.NUF_VALUE_PROPS_MODAL_KEY=t.NUF_NOTIFICATION_MODAL_KEY=t.NUF_IN_APP_EDUCATION_KEY=t.NUF_DISCOVERABILITY_MODAL_KEY=void 0;var n;t.NewUserTypes=n;!function(e){e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(n||(t.NewUserTypes=n={}));t.NUF_NOTIFICATION_MODAL_KEY="nuf-notification-modal-key";t.NUF_DISCOVERABILITY_MODAL_KEY="nuf-discoverability-modal-key";t.NUF_IN_APP_EDUCATION_KEY="nuf-in-app-education-modal-key";t.NUF_VALUE_PROPS_MODAL_KEY="nuf-value-props-modal-key"},322033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=null;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){var t;s=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};n.getType=function(){return s};n.getState=function(){return{type:s}};return t}(a.default.PersistedStore);d.displayName="NewUserStore";d.persistKey="nuf";var f=new d(o.default,((r={})[i.ActionTypes.NUF_NEW_USER]=function(e){var t=e.newUserType;s=t},r[i.ActionTypes.NUF_COMPLETE]=function(){s=null},r));t.default=f},763840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NUF_MODAL_KEY=t.NUFSlides=void 0;var n;t.NUFSlides=n;!function(e){e.AGE_GATE="age-gate";e.CHOOSE_TEMPLATE="choose-template"
;e.CUSTOMIZE_GUILD="customize-server";e.CHANNEL_PROMPT="channel-prompt";e.JOIN_GUILD="join-server";e.CREATION_INTENT="creation-intent";e.COMPLETE="complete"}(n||(t.NUFSlides=n={}));t.NUF_MODAL_KEY="nuf-refresh-modal"},900996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=M(n(667294)),o=A(n(636602)),i=A(n(177230)),u=M(n(160866)),l=M(n(583490)),s=A(n(678875)),d=A(n(885986)),f=n(508079),c=M(n(131629)),p=A(n(250650)),v=A(n(30098)),y=A(n(790597)),h=A(n(728429)),m=n(194322),_=M(n(71246)),g=n(864489),E=M(n(520310)),S=A(n(322033)),O=n(754949),b=n(763840),I=n(770348),C=n(27577),T=n(33989);function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}function L(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){null!=r&&(0,m.closeModal)(r)}var U=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){
o.default.subscribe(I.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);o.default.subscribe(I.ActionTypes.LOGOUT,k)};i._terminate=function(){o.default.unsubscribe(I.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);o.default.unsubscribe(I.ActionTypes.LOGOUT,k)};i.handleConnectionOpen=function(){var e=S.default.getType();if(null!=e){switch(e){case O.NewUserTypes.INVITE_UNCLAIMED:d.default.flowStart(T.FlowType.INVITE,T.RegistrationSteps.NUF_STARTED);break;case O.NewUserTypes.ORGANIC_REGISTERED:d.default.flowStart(T.FlowType.ORGANIC,T.RegistrationSteps.NUF_STARTED);break;case O.NewUserTypes.MARKETING_UNCLAIMED:d.default.flowStart(T.FlowType.ORGANIC_MARKETING,T.RegistrationSteps.NUF_STARTED)}var t=!1,o=y.default.getGuildId();if(e===O.NewUserTypes.INVITE_UNCLAIMED){var i=v.default.getGuild(o);if(null==i?void 0:i.hasVerificationGate()){t=!0;(0,f.fetchWelcomeScreen)(i.id)}}var A=function(){return 0===p.default.totalGuilds&&!g.isPlatformEmbedded},P=u.userNeedsAgeGate();!function(e){
var t=function(){E.setNewUserFlowCompleted();d.default.flowStep(T.FlowType.ANY,T.RegistrationSteps.NUF_COMPLETE,!0)};L(e).reverse().forEach((function(e){var n=t;t=function(){e.predicate()?e.open(n):n()}}));t()}([{key:"Unified NUF Modal",open:function(e){return M.apply(this,arguments)},predicate:function(){return A()&&!C.CONFERENCE_MODE_ENABLED}},{key:"New User Age Gate",open:l.openNewUserAgeGateModal,predicate:function(){return P&&!A()&&!C.CONFERENCE_MODE_ENABLED}},{key:"Claim Account Modal",open:function(e){return l.openClaimAccountModal(g.isPlatformEmbedded,e)},predicate:function(){var e;return!t&&null!=h.default.getCurrentUser()&&!(null===(e=h.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!C.CONFERENCE_MODE_ENABLED}},{key:"Verification Gate with Claim Account",open:function(e){return(0,s.default)(o,e)},predicate:function(){var e;return t&&!(null===(e=h.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!C.CONFERENCE_MODE_ENABLED}},{key:"Guild Welcome Modal",
open:function(e){return(0,m.openModalLazy)(w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{guildId:o}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:e})},predicate:function(){return null!=o&&null!=c.default.get(o)&&c.default.get(o)!==c.NO_WELCOME_SCREEN}}])}function M(){return(M=w(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(e){switch(e){case b.NUFSlides.AGE_GATE:d.default.flowStep(T.FlowType.ANY,T.RegistrationSteps.AGE_GATE);break;case b.NUFSlides.CHOOSE_TEMPLATE:d.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.GUILD_TEMPLATES);break;case b.NUFSlides.CUSTOMIZE_GUILD:d.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.GUILD_CREATE);break
;case b.NUFSlides.CHANNEL_PROMPT:d.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.CHANNEL_PROMPT);break;case b.NUFSlides.JOIN_GUILD:d.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.JOIN_GUILD);break;case b.NUFSlides.CREATION_INTENT:d.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.CREATION_INTENT);break;case b.NUFSlides.COMPLETE:d.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.SUCCESS);break;case null:break;default:_.assertNever(e)}};e.next=3;return(0,m.openModalLazy)(w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(69156),n.e(91948)]).then(n.bind(n,91948));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{onSlideChange:o}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:I.NOOP,onCloseCallback:t,modalKey:r});case 3:r=e.sent;case 4:case"end":return e.stop()}}),e)
})))).apply(this,arguments)}};return t}(i.default));t.default=U},61045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.STATUS_HEADER_HEIGHT=t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=t.PEOPLE_LIST_ITEM_HEIGHT=void 0;t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=64;t.PEOPLE_LIST_ITEM_HEIGHT=62;t.STATUS_HEADER_HEIGHT=24},334200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=d(n(294184)),u=d(n(16941)),l=d(n(730977)),s=d(n(969261));function d(e){return e&&e.__esModule?e:{
default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.DENY=1]="DENY";e[e.DEFAULT=2]="DEFAULT"}(a||(a={}));function v(e){var t=e.icon,n=e.tooltip,r=e.onClick,d=e.actionType,f=void 0===d?a.DEFAULT:d,v=e.shouldHighlight;return p(l.default,{
text:n},void 0,(function(e){var l;return o.createElement(u.default,c({},e,{"aria-label":n,onClick:r,className:(0,i.default)(s.default.actionButton,(l={},l[s.default.actionAccept]=f===a.ACCEPT,l[s.default.actionDeny]=f===a.DENY,l[s.default.highlight]=v,l))}),p(t,{className:s.default.icon}))}))}v.displayName="ActionButton";v.ActionTypes=a;var y=v;t.default=y},518319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=f(n(184608)),i=n(688388),u=f(n(767695)),l=n(770348),s=f(n(247001)),d=f(n(184338));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p(o.default,{});function y(){return p("header",{className:d.default.header},void 0,p(i.FormTitle,{tag:i.FormTitle.Tags.H2,className:d.default.title},void 0,s.default.Messages.ADD_FRIEND),v)}y.displayName="AddFriendHeader";var h=p(y,{});function m(){return p(a.Fragment,{},void 0,h,p("div",{
className:d.default.emptyState},void 0,p(u.default,{type:l.FriendsSections.ADD_FRIEND})))}m.displayName="AddFriend";var _=m;t.default=_},89411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(237923)),i=n(910992),u=y(n(523356)),l=n(308920),s=y(n(334200)),d=y(n(906507)),f=y(n(739148)),c=n(770348),p=y(n(247001)),v=y(n(685904));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){
return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.user,n=e.key,r=e.isFocused,y=a.useContext(l.AnalyticsContext),h=function(e){e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})};return m(d.default,{isFocused:r,onClick:function(){return(0,i.openUserProfileModal)({userId:t.id,analyticsLocation:y.location})},user:t},n,(function(e){return m("div",{className:v.default.listItemContents},void 0,m(f.default,{user:t,hovered:e,status:c.StatusTypes.UNKNOWN,subText:p.default.Messages.BLOCKED}),m(s.default,{icon:u.default,actionType:s.default.ActionTypes.DENY,
tooltip:p.default.Messages.UNBLOCK,onClick:h,shouldHighlight:e}))}))}_.displayName="BlockedRow"},717681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=y(n(294184)),o=n(642230),i=y(n(226800)),u=y(n(956117)),l=y(n(427370)),s=y(n(971639)),d=y(n(776360)),f=n(770348),c=n(583551),p=y(n(247001)),v=y(n(95898));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.className,n=e.markAsDismissed;return m(l.default,{className:(0,a.default)(v.default.card,t)},void 0,m(s.default,{size:s.default.Sizes.SIZE_16,className:v.default.header},void 0,p.default.Messages.NOW_PLAYING_GDPR_HEADER),m(d.default,{size:s.default.Sizes.SIZE_14},void 0,p.default.Messages.NOW_PLAYING_GDPR_BODY.format({onPrivacyClick:function(){return i.default.open(f.UserSettingsSections.PRIVACY_AND_SAFETY)}})),m("div",{className:v.default.buttonContainer},void 0,m(u.default,{size:u.default.Sizes.SMALL,onClick:function(){return(0,
o.setConsents)([f.Consents.PERSONALIZATION],[])}},void 0,p.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES),m(u.default,{color:u.default.Colors.PRIMARY,size:u.default.Sizes.SMALL,onClick:function(){return n(c.ContentDismissActionType.DISMISS)},look:u.default.Looks.LINK},void 0,p.default.Messages.NO_THANKS)))}_.displayName="ConsentCard"},724603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=P(n(496486)),i=n(536211),u=P(n(709403)),l=n(378158),s=P(n(237923)),d=N(n(145122)),f=n(139982),c=P(n(644263)),p=P(n(635014)),v=P(n(37985)),y=P(n(301927)),h=P(n(502197)),m=n(194322),_=P(n(776360)),g=P(n(334200)),E=P(n(906507)),S=P(n(666561)),O=P(n(739148)),b=n(770348),I=n(474477),C=n(376293),T=P(n(247001)),A=P(n(684753));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e){var t=e.user,n=e.onSelect;var r=function(){s.default.removeRelationship(t.id,{location:"Friends"})},o=(0,i.useStateFromStores)([p.default],(function(){return p.default.supports(C.Features.VIDEO)}));return D(d.default,{navId:"friend-row","aria-label":T.default.Messages.USER_ACTIONS_MENU_LABEL,onClose:l.closeContextMenu,onSelect:n},void 0,o?D(d.MenuItem,{id:"start-video-call",label:T.default.Messages.START_VIDEO_CALL,action:function(){u.default.openPrivateChannel(t.id,!0,!0)}}):null,D(d.MenuItem,{id:"start-voice-call",label:T.default.Messages.START_VOICE_CALL,action:function(){u.default.openPrivateChannel(t.id,!0)}}),D(d.MenuItem,{id:"remove-friend",label:T.default.Messages.REMOVE_FRIEND,action:function(){(0,m.openModal)((function(e){return a.createElement(h.default,w({
header:T.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.toString()}),confirmText:T.default.Messages.REMOVE_FRIEND,cancelText:T.default.Messages.CANCEL,onConfirm:r},e),D(_.default,{size:_.default.Sizes.SIZE_16},void 0,T.default.Messages.REMOVE_FRIEND_BODY.format({name:t.toString()})))}))},color:I.MenuItemColor.DANGER}))}L.displayName="ActionsPopout";var j=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).peopleListItemRef=a.createRef();t.state={isActiveRow:!1};t.handleOpenPrivateChannel=function(e){var n=t.props.user;e.stopPropagation();var r=o.default.find(c.default.getMutablePrivateChannels(),(function(e){return e.type===b.ChannelTypes.DM&&e.getRecipientId()===n.id}));null!=r?(0,f.transitionTo)(b.Routes.CHANNEL(b.ME,r.id)):u.default.openPrivateChannel(n.id)};t.handleOpenActionsMenu=function(e){
var n=t.props.user;(0,l.openContextMenu)(e,(function(e){return a.createElement(L,w({},e,{user:n}))}),{onClose:function(){t.setState({isActiveRow:!1})}});t.setState({isActiveRow:!0})};return t}var n=t.prototype;n.componentWillLeave=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)};n.componentWillEnter=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)};n.render=function(){var e=this,t=this.props,n=t.user,r=t.isFocused,o=t.activities,i=t.applicationStream,u=t.status,s=t.isMobile,d=this.state.isActiveRow;return a.createElement(E.default,{ref:this.peopleListItemRef,isFocused:r,isActive:d,user:n,onOtherHover:function(){return d?null:(0,l.closeContextMenu)()},onClick:this.handleOpenPrivateChannel},(function(t){return D("div",{className:A.default.listItemContents},void 0,D(O.default,{user:n,status:u,isMobile:s,subText:D(S.default,{hovered:t,activities:o,applicationStream:i,status:u}),
hovered:t}),D("div",{className:A.default.actions},void 0,D(g.default,{icon:v.default,tooltip:T.default.Messages.SEND_DM,onClick:e.handleOpenPrivateChannel,shouldHighlight:t}),D(g.default,{icon:y.default,tooltip:T.default.Messages.MORE,onClick:e.handleOpenActionsMenu,shouldHighlight:t})))}))};return t}(a.PureComponent);j.displayName="FriendRow";var k=j;t.default=k},767695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FriendsSearchStatus=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=v(n(74854)),u=v(n(536211)),l=v(n(871778)),s=v(n(956117)),d=v(n(737705)),f=n(770348),c=v(n(247001)),p=v(n(303649));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.FriendsSearchStatus=a;!function(e){e.SECTION_NO_RESULTS="SECTION_NO_RESULTS"}(a||(t.FriendsSearchStatus=a={}));var _=Object.freeze({SECTION_ALL:{lightSrc:n(607603),
darkSrc:n(74700),width:376,height:162,renderContent:function(e){return m(o.Fragment,{},void 0,m(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_ALL}),m(s.default,{className:p.default.button,onClick:e},void 0,c.default.Messages.ADD_FRIEND))}},SECTION_ONLINE:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return m(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})}},SECTION_BLOCKED:{lightSrc:n(399898),darkSrc:n(492623),width:433,height:232,renderContent:function(){return m(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})}},SECTION_PENDING:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return m(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_PENDING})}},SECTION_SUGGESTIONS:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return m(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_SUGGESTIONS})}},
SECTION_NO_RESULTS:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return m(d.default.Text,{note:c.default.Messages.FRIEND_REQUEST_NO_RESULTS_FOUND})}}});var g=function(e){var t=e.theme,n=c.default.Messages.FRIENDS_EMPTY_STATE_ALL,r=_.SECTION_ALL;return m(o.Fragment,{},void 0,m(d.default,{theme:t},void 0,m(d.default.Image,{width:r.width,height:r.height,lightSrc:r.lightSrc,darkSrc:r.darkSrc}),m(d.default.Text,{note:n})))};g.displayName="AddFriendEmpty";var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={opacity:new i.default.Value(1)};t.componentWillEnter=function(e){t.state.opacity.setValue(0);i.default.timing(t.state.opacity,{toValue:1,duration:250}).start(e)};t.componentWillLeave=function(e){i.default.timing(t.state.opacity,{toValue:0,duration:250
}).start(e)};return t}t.prototype.render=function(){var e=this.props,t=e.type,n=e.onClick,r=e.theme,o={opacity:this.state.opacity},u=function(e){switch(e){case f.FriendsSections.ADD_FRIEND:case f.FriendsSections.ALL:return _.SECTION_ALL;case f.FriendsSections.ONLINE:return _.SECTION_ONLINE;case f.FriendsSections.PENDING:return _.SECTION_PENDING;case f.FriendsSections.SUGGESTIONS:return _.SECTION_SUGGESTIONS;case f.FriendsSections.BLOCKED:return _.SECTION_BLOCKED;case a.SECTION_NO_RESULTS:return _.SECTION_NO_RESULTS;default:throw new Error("FriendsEmptyState: Invalid empty state")}}(t);return t===f.FriendsSections.ADD_FRIEND?m(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,m(g,{theme:r})):m(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,m(d.default,{theme:r},void 0,m(d.default.Image,{width:u.width,height:u.height,lightSrc:u.lightSrc,darkSrc:u.darkSrc}),u.renderContent(n)))};return t}(o.PureComponent);E.displayName="FriendsEmptyState"
;var S=u.default.connectStores([l.default],(function(){return{theme:l.default.theme}}),{forwardRef:!0})(E);t.default=S},539417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(237923)),i=n(910992),u=h(n(992193)),l=h(n(259530)),s=n(308920),d=h(n(334200)),f=h(n(906507)),c=h(n(739148)),p=n(770348),v=h(n(247001)),y=h(n(679396));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){
return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.user,n=e.type,r=e.status,h=e.isFocused,m=a.useContext(s.AnalyticsContext),g=function(e){e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})},E=function(e){e.stopPropagation();o.default.addRelationship(t.id,{location:"Friends"})},S=r===p.StatusTypes.OFFLINE?p.StatusTypes.UNKNOWN:r,O=n===p.RelationshipTypes.PENDING_INCOMING?v.default.Messages.INCOMING_FRIEND_REQUEST:v.default.Messages.OUTGOING_FRIEND_REQUEST;return _(f.default,{isFocused:h,user:t,onClick:function(){return(0,i.openUserProfileModal)({
userId:t.id,analyticsLocation:m.location})}},void 0,(function(e){var r=n===p.RelationshipTypes.PENDING_INCOMING?a.createElement(a.Fragment,null,_(d.default,{icon:u.default,actionType:d.default.ActionTypes.ACCEPT,tooltip:v.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:E,shouldHighlight:e}),_(d.default,{icon:l.default,actionType:d.default.ActionTypes.DENY,tooltip:v.default.Messages.FRIEND_REQUEST_IGNORE,onClick:g,shouldHighlight:e})):_(d.default,{icon:l.default,actionType:d.default.ActionTypes.DENY,tooltip:v.default.Messages.FRIEND_REQUEST_CANCEL,onClick:g,shouldHighlight:e});return _("div",{className:y.default.listItemContents},void 0,_(c.default,{user:t,hovered:e,status:S,subText:O,className:y.default.userInfo}),_("div",{className:y.default.actions},void 0,r))}))}g.displayName="PendingRow"},424359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=T(n(667294)),o=I(n(294184)),i=n(536211),u=I(n(99694)),l=I(n(284382)),s=I(n(235879)),d=I(n(290629)),f=I(n(106605)),c=I(n(949898)),p=I(n(665759)),v=I(n(89411)),y=I(n(724603)),h=T(n(767695)),m=I(n(539417)),_=I(n(662632)),g=I(n(634634)),E=I(n(67993)),S=n(770348),O=I(n(247001)),b=I(n(65234));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}
return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=e.sectionFilter,n=(0,i.useStateFromStoresObject)([f.default],(function(){return f.default.getState()})),r=n.rows,I=n.section,C=(0,i.useStateFromStores)([c.default],(function(){return c.default.isFocused()})),T=(0,i.useStateFromStores)([d.default],(function(){return d.default.getRelationshipCount()})),N=M(a.useState((function(){
for(var e={},t=0,n=Object.values(S.FriendsSections);t<n.length;t++){e[n[t]]=""}return e})),2),R=N[0],w=N[1];var D=a.useCallback((function(e){var n;w(P({},R,((n={})[t]=e,n)))}),[R,t]),L=a.useCallback((function(){var e;w(P({},R,((e={})[t]="",e)))}),[R,t]),j=r.filter(t,R[t]);if(0===j.length&&""===R[t])return A("div",{className:b.default.emptyStateContainer},void 0,A(h.default,{type:t,onClick:function(){u.default.setSection(S.FriendsSections.ADD_FRIEND)}},I));var k=[j],U=0===j.length&&""!==R[t];return A(l.default,{section:S.AnalyticsSections.FRIENDS_LIST},void 0,A(p.default,{className:(0,o.default)(b.default.searchBar,U?b.default.searchEmptyState:null),query:R[t],onChange:D,onClear:L,size:p.default.Sizes.MEDIUM}),A("div",{className:b.default.SectionTitle},void 0,A(g.default,{title:function(){var e=j.length;switch(t){case S.FriendsSections.ONLINE:return O.default.Messages.FRIENDS_ONLINE_HEADER.format({online:e.toString()});case S.FriendsSections.PENDING:
return O.default.Messages.FRIENDS_PENDING_HEADER.format({count:e.toString()});case S.FriendsSections.SUGGESTIONS:return O.default.Messages.FRIENDS_FRIEND_SUGGESTIONS_HEADER.format({count:e.toString()});case S.FriendsSections.BLOCKED:return O.default.Messages.FRIENDS_BLOCKED_HEADER.format({count:e.toString()});default:return O.default.Messages.FRIENDS_ALL_HEADER.format({count:e.toString()})}}()})),U?A("div",{className:b.default.emptyStateContainer},void 0,A(h.default,{type:h.FriendsSearchStatus.SECTION_NO_RESULTS},I)):A(_.default,{relationshipCount:T,statusSections:k,renderRow:function(e){switch(t){case S.FriendsSections.BLOCKED:return a.createElement(v.default,P({},e,{isFocused:C}));case S.FriendsSections.PENDING:return a.createElement(m.default,P({},e,{isFocused:C}));case S.FriendsSections.SUGGESTIONS:return a.createElement(E.default,P({},e,{isFocused:C}));case S.FriendsSections.ONLINE:case S.FriendsSections.ALL:default:return a.createElement(y.default,P({},e,{isFocused:C}))}},
searchQuery:R[t],useReducedMotion:s.default.useReducedMotion}))}R.displayName="PeopleList";var w=R;t.default=w},906507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(74854)),u=n(798628),l=n(378158),s=c(n(314234)),d=n(61045),f=c(n(833151));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).state={height:new i.default.Value(d.PEOPLE_LIST_ITEM_HEIGHT),opacity:new i.default.Value(1),hovered:!1,isContextMenuActive:!1};t.handleMouseEnter=function(){var e=t.props,n=e.isFocused,r=e.isActive,a=e.onOtherHover,o=t.state.isContextMenuActive;t.setState({hovered:n});!n||r||o||null==a||a()};t.handleMouseLeave=function(){t.setState({hovered:!1})};t.handleContextMenu=function(e,r){t.setState({isContextMenuActive:!0});(0,l.openContextMenuLazy)(e,m(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){
return a.createElement(o,y({},e,{user:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:function(){t.setState({isContextMenuActive:!1})}})};return t}var r=t.prototype;r.componentWillLeave=function(e){i.default.parallel([i.default.timing(this.state.opacity,{toValue:0,duration:200}),i.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)};r.componentWillEnter=function(e){this.state.opacity.setValue(0);this.state.height.setValue(0);i.default.parallel([i.default.timing(this.state.opacity,{toValue:1,duration:200}),i.default.timing(this.state.height,{toValue:d.PEOPLE_LIST_ITEM_HEIGHT,duration:200})]).start(e)};r.render=function(){var e=this,t=this.state,n=t.height,r=t.opacity,l=t.hovered,d=t.isContextMenuActive,c=this.props,p=c.children,h=c.user,m=c.onClick,_=c.isActive;return v(u.ListNavigatorItem,{id:h.id},void 0,(function(t){var u;return v(s.default,{offset:{left:-8,right:-8}},void 0,a.createElement(i.default.div,y({className:(0,
o.default)(f.default.peopleListItem,(u={},u[f.default.active]=_||d,u)),onContextMenu:function(t){return e.handleContextMenu(t,h)},onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onClick:null!=m?m:void 0,style:{height:n,opacity:r}},t),p(l||_||d)))}))};return t}(a.PureComponent);g.displayName="PeopleListItem";var E=g;t.default=E},662632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.relationshipCount,n=e.statusSections,r=e.renderRow,u=e.searchQuery,l=e.useReducedMotion;return t>=i.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD?s(a.default,{statusSections:n,renderRow:r,searchQuery:u}):s(o.default,{statusSections:n,renderRow:r,searchQuery:u,useReducedMotion:l})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(390389)),o=u(n(104889)),i=n(61045);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},390389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=c(n(235879)),l=n(521358),s=n(61045),d=c(n(65234)),f=["ref"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e){var t=e.statusSections,n=e.renderRow,r=e.searchQuery,c=function(e){return 0===t[e].length?0:s.STATUS_HEADER_HEIGHT+16},p=function(e){var r=e.section,a=e.row,o=t[r];if(null==o||null==a)return null;var i=o[a];return null==i?null:n(i)},v=(0,i.useStateFromStores)([u.default],(function(){return u.default.keyboardModeEnabled})),m=a.useRef(null),_=a.useCallback((function(){return new Promise((function(e){var t=m.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))
}),[]),g=a.useCallback((function(){return new Promise((function(e){var t=m.current;if(null==t)return e();t.scrollToBottom({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),E=a.useCallback((function(e){var t=document.querySelector(e),n=m.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:function(){return null==t?void 0:t.focus()}})}),[]),S=(0,o.default)({id:"people-list",isEnabled:v,scrollToStart:_,scrollToEnd:g,setFocus:E});return y(o.ListNavigatorProvider,{navigator:S},void 0,y(o.ListNavigatorContainer,{},void 0,(function(e){var n=e.ref,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return a.createElement(l.ListAuto,h({ref:function(e){var t;m.current=e;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},sectionHeight:c,renderRow:p,rowHeight:s.PEOPLE_LIST_ITEM_HEIGHT,sections:t.map((function(e){
return""!==r&&0===e.length?e.length+1:e.length})),className:d.default.peopleList},o))})))}m.displayName="PeopleListSectionedLazy";var _=m;t.default=_},104889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=c(n(550024)),l=c(n(235879)),s=n(582945),d=c(n(65234)),f=["ref"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){
y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){
var t=e.statusSections,n=e.renderRow,r=e.searchQuery,c=e.useReducedMotion,p=(0,i.useStateFromStores)([l.default],(function(){return l.default.keyboardModeEnabled})),v=(0,o.default)({id:"people",isEnabled:p,scrollToStart:function(){return _(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},scrollToEnd:function(){return _(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}),m=t.map((function(e,t){return c||""!==r?h("div",{},t,e.map(n)):h(u.default,{transitionAppear:!1,component:"div"},t,e.map(n))}));return h(o.ListNavigatorProvider,{navigator:v},void 0,h(o.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f)
;return a.createElement(s.ScrollerAuto,y({ref:t,className:d.default.peopleList},n),m)})))}g.displayName="PeopleListSectionedNonLazy";var E=g;t.default=E},547403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=C(n(667294)),o=n(370405),i=n(536211),u=C(n(588136)),l=b(n(99694)),s=b(n(677520)),d=b(n(463024)),f=b(n(992634)),c=b(n(352636)),p=n(887299),v=b(n(106605)),y=C(n(186465)),h=b(n(652047)),m=n(598671),_=b(n(518319)),g=b(n(424359)),E=n(770348),S=b(n(247001)),O=b(n(342894));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=T(d.default.Divider,{});function P(){return T("div",{className:O.default.inviteToolbar},void 0,T(f.default,{tooltip:S.default.Messages.NEW_GROUP_DM}),A)}P.displayName="HeaderToolbar";var M=T(o.Helmet,{title:"Discord"}),N=T(P,{}),R=T(d.default.Icon,{icon:h.default,"aria-hidden":!0}),w=T(d.default.Divider,{}),D=T(_.default,{}),L=T(c.default,{})
;function j(e){var t=e.initialSection;a.useEffect((function(){u.setHomeLink(E.Routes.FRIENDS);(0,p.trackAppUIViewed)("friends")}));a.useEffect((function(){null!=t&&l.default.setInitialSection(t)}),[t]);var n=(0,i.useStateFromStoresObject)([v.default],(function(){return v.default.getState()})),r=n.section,o=n.pendingCount,f=(0,i.useStateFromStoresObject)([s.default],(function(){return s.default.getSuggestionCount()}));return T("div",{className:O.default.container},void 0,M,T(d.default,{toolbar:N},void 0,R,T(d.default.Title,{},void 0,S.default.Messages.FRIENDS),w,T(y.default,{"aria-label":S.default.Messages.FRIENDS,selectedItem:r,type:y.Types.TOP_PILL,onItemSelect:function(e){l.default.setSection(e)},className:O.default.tabBar},void 0,T(y.Item,{id:E.FriendsSections.ONLINE,className:O.default.item},void 0,S.default.Messages.FRIENDS_SECTION_ONLINE),T(y.Item,{id:E.FriendsSections.ALL,className:O.default.item},void 0,S.default.Messages.FRIENDS_SECTION_ALL),T(y.Item,{
id:E.FriendsSections.PENDING,className:O.default.item,"aria-label":S.default.Messages.FRIENDS_SECTION_PENDING},void 0,S.default.Messages.FRIENDS_SECTION_PENDING,o>0?T(m.NumberBadge,{count:o,className:O.default.badge,style:{paddingRight:0}}):null),f>0?T(y.Item,{id:E.FriendsSections.SUGGESTIONS,className:O.default.item,"aria-label":S.default.Messages.FRIENDS_SECTION_SUGGESTIONS},void 0,S.default.Messages.FRIENDS_SECTION_SUGGESTIONS,T(m.NumberBadge,{count:f,className:O.default.badge,style:{paddingRight:0}})):null,T(y.Item,{id:E.FriendsSections.BLOCKED,className:O.default.item},void 0,S.default.Messages.BLOCKED),T(y.Item,{"aria-label":S.default.Messages.FRIENDS_SECTION_ADD_FRIEND,className:O.default.item,color:E.Colors.STATUS_GREEN_600,id:E.FriendsSections.ADD_FRIEND},void 0,T("span",{"aria-hidden":"true"},void 0,S.default.Messages.FRIENDS_SECTION_ADD_FRIEND)))),T("div",{className:O.default.tabBody},void 0,T(y.Panel,{id:r,className:O.default.peopleColumn
},void 0,r===E.FriendsSections.ADD_FRIEND?D:T(g.default,{sectionFilter:r})),T("div",{className:O.default.nowPlayingColumn},void 0,L)))}j.displayName="PeoplePage";var k=j;t.default=k},634634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(325908)),o=i(n(858162));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.title;return l(a.default,{className:o.default.title},void 0,t)}s.displayName="SectionTitle"},666561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(433473)),o=n(873838),i=u(n(78080));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.hovered,n=e.activities,r=e.applicationStream,u=e.status;return n.length>0?s(a.default,{className:i.default.activity,textClassName:i.default.text,emojiClassName:i.default.customStatusEmoji,activities:n,applicationStream:r,
animate:t}):s("div",{className:i.default.text},void 0,(0,o.humanizeStatus)(u))};t.default=d},67993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(237923)),i=m(n(651473)),u=n(910992),l=m(n(992193)),s=m(n(259530)),d=n(308920),f=m(n(334200)),c=m(n(906507)),p=m(n(739148)),v=n(770348),y=m(n(247001)),h=m(n(380625));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}
function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.user,n=e.nickname,r=e.status,m=e.isFocused,_=a.useContext(d.AnalyticsContext),E=function(e){null==e||e.stopPropagation();o.default.addRelationship(t.id,{location:"Friends"},void 0,void 0,!0)},S=function(e){null==e||e.stopPropagation();i.default.ignore(t.id)},O=r===v.StatusTypes.OFFLINE?v.StatusTypes.UNKNOWN:r;return g(c.default,{isFocused:m,user:t,onClick:function(){return(0,u.openUserProfileModal)({userId:t.id,analyticsLocation:_.location})}},void 0,(function(e){var r=a.createElement(a.Fragment,null,g(f.default,{icon:l.default,
actionType:f.default.ActionTypes.ACCEPT,tooltip:y.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:E,shouldHighlight:e}),g(f.default,{icon:s.default,actionType:f.default.ActionTypes.DENY,tooltip:y.default.Messages.FRIEND_REQUEST_IGNORE,onClick:S,shouldHighlight:e}));return g("div",{className:h.default.listItemContents},void 0,g(p.default,{user:t,hovered:e,status:O,subText:n,className:h.default.userInfo}),g("div",{className:h.default.actions},void 0,r))}))}E.displayName="SuggestionRow"},739148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(294184)),o=n(536211),i=d(n(252149)),u=d(n(435160)),l=d(n(290629)),s=d(n(107793));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t,n=e.user,r=e.hovered,d=e.subText,f=e.status,p=e.isMobile,v=e.className,y=(0,o.useStateFromStores)([l.default],(function(){return l.default.getNickname(n.id)}));return c("div",{className:(0,a.default)(s.default.userInfo,v,(t={},
t[s.default.hovered]=r,t))},void 0,c(u.default,{user:n,className:s.default.avatar,animate:r,status:f,isMobile:p}),c("div",{className:s.default.text},void 0,c(i.default,{nick:y,user:n,className:s.default.discordTag,usernameClass:s.default.username,discriminatorClass:s.default.discriminator,botClass:s.default.botTag}),c("div",{className:s.default.subtext},void 0,d)))}p.displayName="UserInfo";var v=p;t.default=v},864062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=s(n(536211)),i=s(n(636602)),u=n(914392),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=(0,u.getDefaultCountryCode)();function c(e){var t,n=e.countryCode;null!=n&&(f=null!==(t=(0,u.getCountryCodeByAlpha2)(n))&&void 0!==t?t:(0,u.getDefaultCountryCode)())}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e)
;function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(a=e.selectedCountryCode)};n.getUserAgnosticState=function(){return{selectedCountryCode:a}};n.getCountryCode=function(){return null!=a?a:f};return t}(o.default.DeviceSettingsStore);p.displayName="PhoneStore";p.persistKey="PhoneStore";var v=new p(i.default,((r={})[l.ActionTypes.PHONE_SET_COUNTRY_CODE]=function(e){var t=e.countryCode;a=t},r[l.ActionTypes.CONNECTION_OPEN]=c,r[l.ActionTypes.SET_LOCATION_METADATA]=c,r));t.default=v},885159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;f(n(667294));var r,a=s(n(636602)),o=s(n(177230)),i=n(329117),u=f(n(8475)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=(0,i.makeLazy)({createPromise:function(){
return n.e(41446).then(n.bind(n,209354))},webpackId:209354,name:"PopoutWindowChannelCall"}),y=(0,i.makeLazy)({createPromise:function(){return n.e(38634).then(n.bind(n,224287))},webpackId:224287,name:"PopoutWindowStageChannelCall"}),h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(l.ActionTypes.CHANNEL_CALL_POPOUT_WINDOW_OPEN,this.handleOpenChannelCallPopout)};n._terminate=function(){a.default.unsubscribe(l.ActionTypes.CHANNEL_CALL_POPOUT_WINDOW_OPEN,this.handleOpenChannelCallPopout)};n.handleOpenChannelCallPopout=function(e){var t=e.channel;u.open(l.PopoutWindowKeys.CHANNEL_CALL_POPOUT,(function(e){return t.isGuildStageVoice()?c(y,{windowKey:e,channel:t}):c(v,{windowKey:e,channel:t})}),{defaultWidth:854,defaultHeight:480})};return t}(o.default));t.default=h},554147:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(74854)),a=s(n(636602)),o=s(n(177230)),i=n(581525),u=s(n(902305)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleMainWindowFocus=function(e){e.focused&&t.injectWindowAnimationFrame(window)};t.handlePopoutWindowChange=function(){var e=u.default.getWindowKeys().find((function(e){return u.default.getWindowFocused(e)}));if(null==e)return t.injectWindowAnimationFrame(window);var n=u.default.getWindow(e);if(null==n||n.closed)return t.injectWindowAnimationFrame(window);t.injectWindowAnimationFrame(n)};return t}var n=t.prototype;n._initialize=function(){
u.default.addChangeListener(this.handlePopoutWindowChange);a.default.subscribe(l.ActionTypes.WINDOW_FOCUS,this.handleMainWindowFocus)};n._terminate=function(){u.default.removeChangeListener(this.handlePopoutWindowChange);a.default.unsubscribe(l.ActionTypes.WINDOW_FOCUS,this.handleMainWindowFocus);this.injectWindowAnimationFrame(window)};n.injectWindowAnimationFrame=function(e){var t=function(t){return e.requestAnimationFrame(t)},n=function(t){return e.cancelAnimationFrame(t)};r.default.inject.RequestAnimationFrame(t);r.default.inject.CancelAnimationFrame(n);i.frameLoop.setRAF(t,n)};return t}(o.default));t.default=f},401039:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PromotionPreviewExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-06_preview_promotions",label:"Promotions Preview",defaultConfig:{previewEnabled:!1},treatments:[{id:1,label:"Preview Enabled",config:{previewEnabled:!0}}]});t.PromotionPreviewExperiment=r},
496357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(636602)),a=n(832635),o=n(851792),i=p(n(177230)),u=p(n(697952)),l=p(n(146771)),s=p(n(47969)),d=n(685677),f=n(265517),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).maybeFetchSubscriptions=function(){
var e=y(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.user.premium_type){e.next=9;break}if(l.default.hasFetchedSubscriptions()){e.next=5;break}e.next=5;return(0,a.fetchSubscriptions)();case 5:if(null!=(null==(n=l.default.getPremiumSubscription())?void 0:n.paymentSourceId)||s.default.applicationIdsFetched.has(c.PREMIUM_SUBSCRIPTION_APPLICATION)){e.next=9;break}e.next=9;return(0,o.fetchUserEntitlementsForApplication)(c.PREMIUM_SUBSCRIPTION_APPLICATION);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.maybeFetchMostRecentSubscription=function(e){var t=e.user;null==t.premium_type&&null!=t.purchased_flags&&((0,d.hasFlag)(t.purchased_flags,f.PurchasedFlags.PREMIUM_TIER_1)||(0,d.hasFlag)(t.purchased_flags,f.PurchasedFlags.PREMIUM_TIER_2))&&(0,a.fetchMostRecentSubscription)()};t.maybeFetchCountryCode=function(){
var e=y(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n.user.premium_type){e.next=4;break}e.next=4;return t.fetchCountryCode();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.fetchCountryCode=y(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,a.fetchIpCountryCode)();case 2:if(null==(t=u.default.ipCountryCode)||c.LocalizedPricingCountryCodes.includes(t)){e.next=6;break}e.next=6;return(0,a.fetchPaymentSources)();case 6:case"end":return e.stop()}}),e)})));return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchSubscriptions);r.default.subscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchCountryCode);r.default.subscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchMostRecentSubscription)}
;n._terminate=function(){r.default.unsubscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchSubscriptions);r.default.unsubscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchCountryCode);r.default.unsubscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchMostRecentSubscription)};return t}(i.default));t.default=m},745108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.fetchActiveOutboundPromotions=p;var r=d(n(118915)),a=d(n(636602)),o=n(851792),i=d(n(871778)),u=n(401039),l=d(n(297143)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}function p(){return v.apply(this,arguments)}function v(){
return(v=c(regeneratorRuntime.mark((function e(){var t,n,d,f,c,p,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.default.isFetchingActiveOutboundPromotions){e.next=2;break}return e.abrupt("return");case 2:e.prev=2;a.default.dispatch({type:s.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH});t=u.PromotionPreviewExperiment.getCurrentConfig({}).previewEnabled?s.Endpoints.OUTBOUND_PROMOTIONS_PREVIEW:s.Endpoints.OUTBOUND_PROMOTIONS;e.next=7;return r.default.get({url:t,query:{locale:i.default.locale},oldFormErrors:!0});case 7:n=e.sent;d=n.body;f=l.default.consumedInboundPromotionId;if(l.default.hasFetchedConsumedInboundPromotionId){e.next=16;break}e.next=13;return(0,o.fetchUserEntitlementsForApplication)(s.PREMIUM_SUBSCRIPTION_APPLICATION,!1);case 13:p=e.sent;v=p.find((function(e){return null!=e.promotion_id&&!0===e.consumed}));f=null!==(c=null==v?void 0:v.promotion_id)&&void 0!==c?c:null;case 16:a.default.dispatch({
type:s.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH_SUCCESS,activeOutboundPromotions:d,consumedInboundPromotionId:f});e.next=22;break;case 19:e.prev=19;e.t0=e.catch(2);a.default.dispatch({type:s.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH_FAIL});case 22:case"end":return e.stop()}}),e,null,[[2,19]])})))).apply(this,arguments)}var y={fetchActiveOutboundPromotions:p,dismissOutboundPromotionNotice:function(){a.default.dispatch({type:s.ActionTypes.OUTBOUND_PROMOTION_NOTICE_DISMISS})},markOutboundPromotionsSeen:function(){a.default.dispatch({type:s.ActionTypes.OUTBOUND_PROMOTIONS_SEEN})}};t.default=y},110210:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(745108),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(i.ActionTypes.CONNECTION_OPEN,this.maybeFetchActiveOutboundPromotions)};n._terminate=function(){r.default.unsubscribe(i.ActionTypes.CONNECTION_OPEN,this.maybeFetchActiveOutboundPromotions)};n.maybeFetchActiveOutboundPromotions=function(e){e.user.premium_type===i.PremiumTypes.TIER_2&&(0,o.fetchActiveOutboundPromotions)()};return t}(a.default));t.default=s},877454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;v(n(667294));var r,a=c(n(683767)),o=c(n(655205)),i=c(n(41024)),u=v(n(177101)),l=n(152960),s=n(770348),d=c(n(247001)),f=c(n(202192));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.dismissCurrentNotice,n=(0,l.usePremiumTrialOffer)(),r=(0,a.default)(null!=n&&null!=n.expires_at?Date.parse(n.expires_at):0)
;return null==n||null==n.expires_at||Object.values(r).every((function(e){return 0===e}))?null:y(u.default,{color:u.NoticeColors.PREMIUM_TIER_2},void 0,y(u.NoticeCloseButton,{onClick:t}),y(i.default,{className:f.default.premiumIcon}),r.days>0?d.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_DAYS.format({days:r.days}):r.hours>0?d.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_HOURS.format({hours:r.hours}):d.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_MINUTES.format({minutes:Math.max(r.minutes,1)}),y(u.NoticeButton,{onClick:function(){(0,o.default)({trialId:n.trial_id,subscriptionTier:s.PremiumSubscriptionSKUs.TIER_2,analyticsObject:{page:s.AnalyticsPages.IN_APP,section:s.AnalyticsSections.NOTIFICATION_BAR,object:s.AnalyticsObjects.BUTTON_CTA}})}},void 0,d.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_CTA))};h.displayName="PremiumTier2TrialEndingNotice";var m=h;t.default=m},929214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s
;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(739477));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.icon,n=e.iconClassName,r=e.description,i=e.color;return l("div",{className:o.default.perkRow},void 0,l("div",{className:o.default.perkIconContainer},void 0,l(t,{color:i,className:(0,a.default)(o.default.perkIcon,n)})),l("div",{className:o.default.perkDescription},void 0,r))}s.displayName="PremiumUpsellPerkRow"},216920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(636602)),o=n(825185),i=p(n(177230)),u=n(799393),l=p(n(728429)),s=n(194322),d=p(n(838583)),f=n(770348),c=n(173708);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){a.default.subscribe(f.ActionTypes.PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL,this.maybeOpenProfilePreviewModal)};i._terminate=function(){a.default.unsubscribe(f.ActionTypes.PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL,this.maybeOpenProfilePreviewModal)};i.maybeOpenProfilePreviewModal=function(e){var t=e.imageSrc,a=e.file,i=e.uploadType,f=e.guildId,p=null!=f?u.setPendingAvatar:o.setPendingAvatar,v=null!=f?u.setPendingBanner:o.setPendingBanner,h=l.default.getCurrentUser();if(i===c.UploadTypes.AVATAR){if(d.default.canUploadAnimatedAvatar(h)||"image/gif"!==a.type){p(t);return}(0,s.openModalLazy)(m(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default
;return e.abrupt("return",(function(e){return r.createElement(o,y({avatarSrc:t,onSubscribe:function(){return p(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))}else if(i===c.UploadTypes.BANNER){if(d.default.canUsePremiumProfileCustomization(h)){v(t);return}(0,s.openModalLazy)(m(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,y({bannerSrc:t,onSubscribe:function(){return v(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))}};return t}(i.default));t.default=g},126515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(536211)),o=c(n(972247)),i=c(n(636602)),u=c(n(311492)),l=c(n(30098)),s=c(n(689389)),d=n(732978),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){
p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v="publicUpsellChannelNoticeGuilds",y=new Set;var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e;this.waitFor(s.default,l.default,u.default);this.syncWith([s.default,l.default,u.default],f.NOOP);y=null!==(e=new Set(o.default.get(v)))&&void 0!==e?e:new Set};n.isVisible=function(e){if(null!=e){var t=u.default.getMemberCount(e.id);return!y.has(e.id)&&null!=t&&t>=d.COMMUNITY_UPSELL_MINIMUM_GUILD_SIZE&&s.default.can(f.Permissions.ADMINISTRATOR,e)&&!e.hasFeature(f.GuildFeatures.COMMUNITY)}};return t}(a.default.Store);h.displayName="EnablePublicGuildUpsellNoticeStore";var m=new h(i.default,((r={})[f.ActionTypes.PUBLIC_UPSELL_NOTICE_DISMISS]=function(e){var t=e.guildId;if(!y.has(t)){y.add(t);o.default.set(v,y);return!0}},r));t.default=m},666280:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=f(n(918667)),u=f(n(964285)),l=n(770348),s=f(n(247001)),d=f(n(864244));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=a.useCallback((function(){(0,o.hideEnablePublicGuildUpsellNotice)(t.id)}),[t.id]);return p(i.default,{guild:t,onDismissed:n,onClick:function(){return u.default.open(t.id,l.GuildSettingsSections.COMMUNITY)},message:s.default.Messages.NOTICE_ENABLE_PUBLIC_GUILD_UPSELL_MESSAGE,trackingSource:l.ChannelNoticeCtaSources.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:l.ChannelNoticeTypes.PUBLIC_UPSELL,image:d.default,cta:s.default.Messages.LEARN_MORE})};v.displayName="EnablePublicGuildUpsellNotice";var y=v;t.default=y},348612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(522731)),i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e){e.relationship.type===i.RelationshipTypes.PENDING_INCOMING&&o.showPendingNotification(e.relationship.user)}function s(e){var t=e.user;o.showAcceptedNotification(t)}var d={init:function(){a.default.subscribe(i.ActionTypes.RELATIONSHIP_ADD,l);a.default.subscribe(i.ActionTypes.FRIEND_REQUEST_ACCEPTED,s)}};t.default=d},861798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.VALIDATE_SOCKET_THROTTLERS=t.VALIDATE_SOCKET_PERIOD_MS=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=void 0;t.computeActivityFlags=function(e,t){void 0===t&&(t=!1);var n=e.instance,r=e.secrets,a=e.party,o=0;n&&(o|=I.ActivityFlags.INSTANCE);null!=(null==r?void 0:r.join)&&(o|=I.ActivityFlags.JOIN);if(t){o|=I.ActivityFlags.EMBEDDED;return o|=I.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL}if((null==a?void 0:a.privacy)===I.ActivityPartyPrivacy.PUBLIC||u.default.get("ACTIVITIES_FORCE_PUBLIC")){c.AllowActivityPartyPrivacyFriends.getSetting()&&(o|=I.ActivityFlags.PARTY_PRIVACY_FRIENDS);c.AllowActivityPartyPrivacyVoiceChannel.getSetting()&&(o|=I.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL)}return o};t.containsSameValues=function(e,t){return r.default.isEqual(e,r.default.pick(t,Object.keys(e)))};t.fetchApplicationsRPC=function(e,t,n){return o.default.get({url:I.Endpoints.APPLICATION_RPC(t),oldFormErrors:!0,retries:3}).then((function(r){
var a=r.body,o=a.rpc_origins,i=a.id,u=a.name,l=a.icon,d=a.cover_image,f=a.flags;if("string"==typeof n)if(e.transport===I.TransportTypes.POST_MESSAGE){var c=(0,s.default)(t);if(null==c||!j(n,[c]))throw new O.default(I.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin")}else if(!j(n,o))throw new O.default(I.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin");e.application={id:i,name:u,icon:l,coverImage:d,flags:f}}),(function(){throw new O.default(I.RPCCloseCodes.INVALID_CLIENTID,"Invalid Client ID")}))};t.getDeprecatedVoiceSettingsWithShortcut=function(e){var t=y.default.getSettings(),n=function(e){return Object.values(e).sort((function(e,t){return e.index-t.index})).map((function(e){return{id:e.id,name:e.name}}))},r=e(t);return{input:{available_devices:n(y.default.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(y.default.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,
threshold:t.modeOptions.threshold,shortcut:r,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}};t.getRemoteIconURL=L;t.getVoiceConnectionState=function(e){switch(e){case I.RTCConnectionStates.RTC_CONNECTED:case I.RTCConnectionStates.RTC_CONNECTING:case I.RTCConnectionStates.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}};t.getVoiceSettingsWithShortcut=function(e,t){var n=y.default.getSettings(e),r=t(n);return{input_mode:{type:n.mode,shortcut:r},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}};t.hasMessageReadPermission=function(e,t,n){var r=v.default.getGuild(e.getGuildId());return(null!=r?r.getApplicationId():e.getApplicationId())===t||n.indexOf(I.OAuth2Scopes.MESSAGES_READ)>-1};t.isMatchingOrigin=function(e){if(null==e)return!1
;var t,n=window.location.origin;if(e===n)return!0;try{t=a.default.parse(e).hostname}catch(e){return!1}if(window.location.hostname===t&&"localhost"===t)return!0;if(null!=e.match("staging"))return!1;if(N.test(e)&&N.test(n))return!0;return!1};t.processSocketThrottlers=function(e,t){return G.apply(this,arguments)};t.transformChannel=function(e,t){var n=[],r=e.getGuildId();[I.ChannelTypes.GUILD_CATEGORY].concat((a=p.GUILD_VOCAL_CHANNEL_TYPES,function(e){if(Array.isArray(e))return P(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(a)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).includes(e.type)||n.push(new Promise((function(t){h.default.whenReady(e.id,(function(){return t()}));l.default.fetchMessages({channelId:e.id,limit:I.MAX_MESSAGES_PER_CHANNEL})})));var a;return Promise.all(n).then((function(){var n,a=(!e.isNSFW()||!0===(null===(n=_.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed))&&t?h.default.getMessages(e.id).toArray().map(k):[],o=Object.values(g.default.getVoiceStatesForChannel(e.id)).map((function(t){return U(r,e.id,t)}));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:r,position:e.position,messages:a,voice_states:o}}))};t.transformInternalTextMessage=k;t.transformRelationship=function(e,t,n){var r=_.default.getUser(t);return{type:e,user:null!=r?(0,b.default)(r):null,presence:{status:m.default.getStatus(t),
activity:null!=n?m.default.getApplicationActivity(t,n):m.default.getPrimaryActivity(t)}}};t.transformVoiceState=U;t.validateActivityInvite=function(e,t,n){if(e===I.ActivityActionTypes.JOIN)return null!=t&&null!=t.id&&null!=n.join;return!1};t.validateApplication=function(e){if(null==e.id)throw new O.default(I.RPCErrors.INVALID_COMMAND,"Invalid application")};t.validateOrigin=j;t.validateOriginAndUpdateSocket=function(e,t){null==t&&(e.authorization.scopes=[I.RPC_LOCAL_SCOPE])};t.validatePostMessageTransport=function(e){if(e!==I.TransportTypes.POST_MESSAGE)throw new O.default(I.RPCErrors.INVALID_COMMAND,'command not available from "'+e+" transport")};var r=C(n(496486)),a=C(n(608575)),o=C(n(118915)),i=C(n(229354)),u=C(n(972247)),l=C(n(786345)),s=C(n(525917)),d=C(n(268389)),f=n(907932),c=n(894826),p=n(567186),v=C(n(30098)),y=C(n(635014)),h=C(n(201292)),m=C(n(788739)),_=C(n(728429)),g=C(n(387692)),E=C(n(29652)),S=C(n(827513)),O=C(n(248369)),b=C(n(838641)),I=n(770348);function C(e){
return e&&e.__esModule?e:{default:e}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){var e=I.API_HOST.split(":")[0];if(!e.includes("."))return e;var t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),N=new RegExp("^"+S.default.escape("https://")+"(?:[a-z]+\\.)?("+S.default.escape(M)+"|discordapp.com|discord.com)$");t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=2;t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=60;var R=6e4;t.VALIDATE_SOCKET_PERIOD_MS=R;var w={};t.VALIDATE_SOCKET_THROTTLERS=w;function D(e){"customEmoji"===e.type&&(e.type="emoji");"emoji"===e.type&&e.src&&(e.src=L(e.src))
;Array.isArray(e.content)&&(e.content=e.content.map(D));return e}function L(e){return/^http/.test(e)?e:location.protocol+"//"+location.host+("/"===e.charAt(0)?"":"/")+e}function j(e,t){void 0===t&&(t=[]);return t.indexOf(e)>-1}function k(e){var t=d.default.parseToAST(e.content,!0,{channelId:e.channel_id}).map(D),n=(0,f.getMessageAuthor)(e),r=n.colorString,a=n.nick;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:a,author_color:r,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:e.author?(0,b.default)(e.author):void 0,pinned:e.pinned,type:e.type}}function U(e,t,n){var r=n.mute,a=n.deaf,o=n.selfMute,i=n.selfDeaf,u=n.suppress,l=n.userId,s=_.default.getUser(l);if(null==s)throw new Error("Invalid user id: "+l);return{
nick:E.default.getName(e,t,s),mute:y.default.isLocalMute(s.id),volume:y.default.getLocalVolume(s.id),pan:y.default.getLocalPan(s.id),voice_state:{mute:r,deaf:a,self_mute:o,self_deaf:i,suppress:u},user:(0,b.default)(s)}}function G(){return(G=A(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(r=w[t])){a=n?2:60;r=new i.default(a,R);w[t]=r}e.next=4;return r.process();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},676606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n={HANDSHAKE:0,FRAME:1,CLOSE:2,HELLO:3};t.default=n},318671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a({},e);(function(e){var t=e;return"object"==typeof t.args&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{args:a({},e.args,{access_token:o})});return a({},e)}(t))
;(function(e){var t=e;return"object"==typeof t.data&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{data:a({},e.data,{access_token:o})});return a({},e)}(t));return t};var r=n(770348);function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}var o="<removed>"},682644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=C(n(496486)),a=n(536211),o=C(n(636602)),i=C(n(644263)),u=C(n(876874)),l=C(n(319111)),s=C(n(361585)),d=C(n(635014)),f=C(n(788739)),c=C(n(893160)),p=C(n(290629)),v=C(n(211136)),y=C(n(538983)),h=C(n(728429)),m=C(n(387692)),_=C(n(308920)),g=n(71246),E=n(864489),S=n(861798),O=C(n(838641)),b=n(770348),I=n(376293);function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){function e(e){this.rpcServer=e.server;this.transports=e.transports
;this.rpcCommandHandlers=e.commands;this.rpcEventHandlers=e.events;this.stores=e.stores;this.registerTransportsForEmbeddedPlatform=e.registerTransportsForEmbeddedPlatform}var t=e.prototype;t.loadServer=function(){E.isPlatformEmbedded&&this.registerTransportsForEmbeddedPlatform();for(var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.transports);!(e=t()).done;){var n=e.value;this.rpcServer.registerTransport(n)}for(var r=this.rpcCommandHandlers,a=0,o=Object.entries(r);a<o.length;a++){var i=T(o[a],2),u=i[0],l=i[1];this.rpcServer.setCommandHandler(u,l)}
for(var s=this.rpcEventHandlers,d=0,f=Object.entries(s);d<f.length;d++){var c=T(f[d],2),p=c[0],v=c[1];this.rpcServer.setEventHandler(p,v)}};t.init=function(){var e=this;this.rpcServer.getCurrentUser=function(){return h.default.getCurrentUser()};this.rpcServer.onConnect=function(e){o.default.dirtyDispatch({type:b.ActionTypes.RPC_APP_CONNECTED,socketId:e.id,application:e.application});_.default.track(b.AnalyticEvents.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})};this.rpcServer.onDisconnect=function(e,t){o.default.dirtyDispatch({type:b.ActionTypes.RPC_APP_DISCONNECTED,socketId:e.id,application:e.application,reason:t})};var t=[i.default,u.default,f.default,m.default,d.default,c.default];new a.BatchedStoreListener(t.concat(this.stores),(function(){return e.rpcServer.updateSubscriptions()})).attach("RPCServerManager");o.default.subscribe(b.ActionTypes.MESSAGE_CREATE,(function(t){return e.handleMessage(t)}))
;o.default.subscribe(b.ActionTypes.MESSAGE_UPDATE,(function(t){return e.handleMessage(t)}));o.default.subscribe(b.ActionTypes.MESSAGE_DELETE,(function(t){return e.handleMessage(t)}));o.default.subscribe(b.ActionTypes.SPEAKING,(function(t){return e.handleSpeaking(t)}));o.default.subscribe(b.ActionTypes.OAUTH2_TOKEN_REVOKE,(function(t){return e.handleOAuth2TokenRevoke(t)}));o.default.subscribe(b.ActionTypes.GUILD_CREATE,(function(t){return e.handleGuildCreate(t)}));o.default.subscribe(b.ActionTypes.CHANNEL_CREATE,(function(t){return e.handleChannelCreate(t)}));o.default.subscribe(b.ActionTypes.LOGOUT,(function(){return e.handleLogout()}));o.default.subscribe(b.ActionTypes.VOICE_CHANNEL_SELECT,(function(t){return e.handleVoiceChannelSelect(t)}));o.default.subscribe(b.ActionTypes.RPC_NOTIFICATION_CREATE,(function(t){return e.handleNotificationCreate(t)}));o.default.subscribe(b.ActionTypes.ACTIVITY_JOIN,(function(t){return e.handleActivityJoin(t)}))
;o.default.subscribe(b.ActionTypes.ACTIVITY_PIP_MODE_UPDATE,(function(t){return e.handleActivityPIPModeUpdate(t)}));o.default.subscribe(b.ActionTypes.RELATIONSHIP_ADD,(function(t){return e.handleRelationshipAdd(t)}));o.default.subscribe(b.ActionTypes.RELATIONSHIP_REMOVE,(function(t){return e.handleRelationshipRemove(t)}));o.default.subscribe(b.ActionTypes.PRESENCE_UPDATES,(function(t){return e.handlePresenceUpdate(t)}));o.default.subscribe(b.ActionTypes.PRESENCES_REPLACE,(function(){return e.handlePresencesReplace()}));o.default.subscribe(b.ActionTypes.LOBBY_UPDATE,(function(t){return e.handleLobbyUpdate(t)}));o.default.subscribe(b.ActionTypes.LOBBY_DELETE,(function(t){return e.handleLobbyDelete(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_CONNECT,(function(t){return e.handleLobbyMemberConnect(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_UPDATE,(function(t){return e.handleLobbyMemberUpdate(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_DISCONNECT,(function(t){
return e.handleLobbyMemberDisconnect(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MESSAGE,(function(t){return e.handleLobbyMessage(t)}));o.default.subscribe(b.ActionTypes.ENTITLEMENT_CREATE,(function(t){return e.handleEntitlementCreate(t)}));o.default.subscribe(b.ActionTypes.ENTITLEMENT_DELETE,(function(t){return e.handleEntitlementDelete(t)}));o.default.subscribe(b.ActionTypes.USER_ACHIEVEMENT_UPDATE,(function(t){return e.handleUserAchievementUpdate(t)}))};t.handleMessage=function(e){e.type===b.ActionTypes.MESSAGE_CREATE&&this.handleActivityMessage(e);var t,n,r,a=null;switch(e.type){case b.ActionTypes.MESSAGE_CREATE:if("SENDING"===e.message.state)return;t=b.RPCEvents.MESSAGE_CREATE;n=e.channelId;r=e.message;a=""+t+e.message.id;break;case b.ActionTypes.MESSAGE_UPDATE:t=b.RPCEvents.MESSAGE_UPDATE;n=e.message.channel_id;r=e.message;break;case b.ActionTypes.MESSAGE_DELETE:t=b.RPCEvents.MESSAGE_DELETE;n=e.channelId;r={id:e.id};a=""+t+e.id;break;default:return(0,g.assertNever)(e)}
null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,S.transformInternalTextMessage)(r)},a)};t.handleSpeaking=function(e){var t=this,n=0!==e.speakingFlags?b.RPCEvents.SPEAKING_START:b.RPCEvents.SPEAKING_STOP;if(e.context===I.MediaEngineContextTypes.DEFAULT){var r=v.default.getVoiceChannelId();if(null!=r){var a=i.default.getChannel(r);if(null==a)return;var o=m.default.getVoiceState(a.getGuildId(),e.userId);if(null==o)return;this.rpcServer.dispatchToSubscriptions(n,{channel_id:o.channelId},{channel_id:o.channelId,user_id:e.userId})}}else s.default.getLobbyIdsForUser(e.userId).forEach((function(r){var a=l.default.getLobby(r);null!=a&&a.application_id===e.context&&t.rpcServer.dispatchToSubscriptions(n,{},{lobby_id:r,user_id:e.userId})}))};t.handleVoiceChannelSelect=function(e){var t=e.guildId,n=e.channelId;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})};t.handleNotificationCreate=function(e){
var t=e.channelId,n=e.message,r=e.icon,a=e.title,o=e.body;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,S.transformInternalTextMessage)(n),icon_url:null!=r?(0,S.getRemoteIconURL)(r):null,title:a,body:o})};t.handleActivityJoin=function(e){var t=e.applicationId,n=e.secret,r=e.intent,a={secret:n};e.embedded&&(a.intent=r);this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN,(function(e){return e.socket.application.id===t}),a);this.rpcServer.dispatchToSubscriptions(b.RPCEvents.GAME_JOIN,(function(e){return e.socket.application.id===t}),a)};t.handleActivityPIPModeUpdate=function(e){var t=e.applicationId,n={is_pip_mode:e.isPIPMode};this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_PIP_MODE_UPDATE,(function(e){return e.socket.application.id===t}),n)};t.handleActivityMessage=function(e){var t=e.channelId,n=e.message,r=n.application,a=n.activity;if(null!=r&&null!=a&&null!=a.party_id){var o=h.default.getUser(n.author.id)
;if(null!=o){var i=h.default.getCurrentUser();if(null!=i&&o.id!==i.id){var u=a.type===b.ActivityActionTypes.JOIN_REQUEST?f.default.getApplicationActivity(i.id,r.id):f.default.getApplicationActivity(o.id,r.id);if(null!=u&&null!=u.party&&u.party.id===a.party_id){var l=u.application_id;switch(a.type){case b.ActivityActionTypes.JOIN:this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_INVITE,(function(e){return e.socket.application.id===l}),{user:(0,O.default)(o),activity:u,type:a.type,channel_id:t,message_id:n.id});break;case b.ActivityActionTypes.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN_REQUEST,(function(e){return e.socket.application.id===l}),{user:(0,O.default)(o)})}}}}}};t.handleOAuth2TokenRevoke=function(e){var t=e.accessToken;this.rpcServer.sockets.forEach((function(e){e.authorization.accessToken===t&&e.close(b.RPCCloseCodes.TOKEN_REVOKED,"Token revoked")}))};t.handleGuildCreate=function(e){var t=e.guild,n=t.id,r=t.name
;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.GUILD_CREATE,{},{id:n,name:r})};t.handleChannelCreate=function(e){var t=e.channel,n=t.id,r=t.name,a=t.type;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.CHANNEL_CREATE,{},{id:n,name:r,type:a})};t.handleLogout=function(){this.rpcServer.sockets.forEach((function(e){return e.close(b.RPCCloseCodes.CLOSE_NORMAL,"User logout")}))};t.handleRelationshipAdd=function(e){var t=e.relationship,n=t.id,r=t.type;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(r,n))};t.handleRelationshipRemove=function(e){var t=e.relationship.id;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(b.RelationshipTypes.NONE,t))};t.handlePresenceUpdate=function(e){var t=this;e.updates.forEach((function(e){var n=e.guildId,r=e.user.id;if(null==n){var a=p.default.getRelationshipType(r)
;a===b.RelationshipTypes.NONE&&y.default.getUserAffinitiesUserIds().has(r)&&(a=b.RelationshipTypes.IMPLICIT);a!==b.RelationshipTypes.NONE&&t.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(a,r))}}))};t.handlePresencesReplace=function(){var e=this;r.default.forEach(p.default.getRelationships(),(function(t,n){e.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(t,n))}))};t.handleLobbyUpdate=function(e){var t=e.lobby;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_UPDATE,{},t)};t.handleLobbyDelete=function(e){var t=e.lobbyId;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_DELETE,{},{id:t})};t.handleLobbyMemberConnect=function(e){var t=e.lobbyId,n=e.member;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_CONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMemberUpdate=function(e){var t=e.lobbyId,n=e.member
;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_UPDATE,{},{lobby_id:t,member:n})};t.handleLobbyMemberDisconnect=function(e){var t=e.lobbyId,n=e.member;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_DISCONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMessage=function(e){var t=e.lobbyId,n=e.senderId,r=e.data;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MESSAGE,{},{lobby_id:t,sender_id:n,data:r})};t.handleEntitlementCreate=function(e){var t=e.entitlement;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ENTITLEMENT_CREATE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleEntitlementDelete=function(e){var t=e.entitlement;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ENTITLEMENT_DELETE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleUserAchievementUpdate=function(e){var t=e.userAchievement,n=t.application_id
;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.USER_ACHIEVEMENT_UPDATE,(function(e){return e.socket.application.id===n}),{user_achievement:t})};return e}();t.default=M},964125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n;return(n={})[p.RPCCommands.AUTHENTICATE]={handler:function(n){var a=n.socket,o=n.args.access_token;if(null==o&&a.transport===p.TransportTypes.IPC){var u=a.application.id;if(null==u)throw new c.default(p.RPCErrors.INVALID_COMMAND,"No application.");var l=p.OAuth2Scopes.IDENTIFY,s=function(){return S({client_id:u,scope:l,response_type:"token"},e,t).then((function(e){if(null==e)throw new c.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=e.split(/#|\?/),n=r.default.parse(t[t.length-1]);if(null!=n.error){var o;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+n.error+": "+(null!==(o=n.error_description)&&void 0!==o?o:"unknown error"))}!function(e,t,n,r){
var a,o=null!==(a=i.default.get(E))&&void 0!==a?a:{};o[e]={accessToken:t,scope:n,expires:Date.now()+r};i.default.set(E,o)}(u,n.access_token,n.scope,n.expires_in);return b(a,n.access_token)}))};o=function(e,t){var n=i.default.get(E);if(null!=n&&null!=n[e]){var r=n[e];if(!(r.scope!==t||r.expires<=Date.now()))return r.accessToken;delete n[e];i.default.set(E,n)}}(u,l);return null!=o?b(a,o).catch((function(){!function(e){var t,n=null!==(t=i.default.get(E))&&void 0!==t?t:{};delete n[e];i.default.set(E,n)}(u);return s()})):s()}if(null==o)throw new c.default(p.RPCErrors.INVALID_TOKEN,"No access token provided");return b(a,o)}},n[p.RPCCommands.AUTHORIZE]={handler:function(n){var a=n.socket,i=n.args,u=i.client_id;if(!u)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"No client id provided");if(null!=a.authorization.accessToken)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(a.authorization.authing)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authing")
;a.authorization.authing=!0;return o.default.get({url:p.Endpoints.APPLICATION_RPC(u),oldFormErrors:!0}).then((function(n){var r=n.body;if(a.application.id!==r.id)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's");var o=i.scopes||i.scope;delete i.scopes;return S(y({},i,{scope:o}),e,t)}),(function(){throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Invalid client id: "+u)})).then((function(e){a.authorization.authing=!1;if(null==e)throw new c.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=r.default.parse(e.split("?")[1].split("#")[0]);if(null!=t.error){var n;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+t.error+": "+(null!==(n=t.error_description)&&void 0!==n?n:"unknown error"))}return{code:t.code}})).catch((function(e){a.authorization.authing=!1;throw e}))}},n}
;var r=v(n(817673)),a=v(n(267258)),o=v(n(118915)),i=v(n(972247)),u=v(n(636602)),l=n(552720),s=n(830608),d=v(n(728429)),f=v(n(656016)),c=v(n(248369)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}var E="CachedTokens";function S(e,t,n){return O.apply(this,arguments)}function O(){return(O=g(regeneratorRuntime.mark((function e(t,n,r){var o,i,u,v,y,h,m,_,g,E,S,O,b,I,C,T,A,P,M;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.client_id,i=t.response_type,u=void 0===i?"code":i,v=t.redirect_uri,y=t.code_challenge,h=t.code_challenge_method,m=t.state,_=t.scope,g=t.permissions,E=t.guild_id,
S=t.channel_id,O=t.prompt,b=t.disable_guild_select;if(null!=o){e.next=3;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"No Client ID provided");case 3:if(null==v){e.next=5;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");case 5:I=[];"string"==typeof _?I=_.split(" ").filter((function(e){return e.length>0})):Array.isArray(_)&&(I=_);if(null!=d.default.getCurrentUser()){e.next=10;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"Client is not logged in");case 10:e.prev=10;e.next=13;return(0,l.fetchAuthorization)(o,I,u,v,y,h,m);case 13:C=e.sent;e.next=20;break;case 16:e.prev=16;e.t0=e.catch(10);T=e.t0.body;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorization Error: "+(T.message||"Unknown Error"));case 20:if(O!==s.OAuth2Prompts.NONE||null==C||!C.authorized){e.next=32;break}e.prev=21;e.next=24;return(0,l.authorize)(!0,o,I,u,v,y,h,m);case 24:A=e.sent;return e.abrupt("return",A.location);case 28:e.prev=28
;e.t1=e.catch(21);P=e.t1.body;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorize Error: "+(P.message||"Unknown Error"));case 32:null==r||r(C.application);M=f.default.NONE;try{M=a.default.deserialize(null!=g?g:0)}catch(e){}return e.abrupt("return",n(o,C,I,M,u,v,y,h,m,E,S,O,b));case 36:case"end":return e.stop()}}),e,null,[[10,16],[21,28]])})))).apply(this,arguments)}function b(e,t){if(e.authorization.accessToken)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(e.authorization.authing)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticating");e.authorization.authing=!0;return o.default.get({url:p.Endpoints.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer "+t},oldFormErrors:!0}).then((function(n){e.authorization.authing=!1;var r=n.body,a=r.application,o=r.user,i=r.scopes,l=r.expires;if(e.application.id!==a.id)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's")
;var s=d.default.getCurrentUser();if(null==s||!o||s.id!==o.id)throw new c.default(p.RPCErrors.INVALID_TOKEN,"Token does not match current user");e.authorization.scopes=[].concat(h(e.authorization.scopes),h(i),[p.RPC_AUTHENTICATED_SCOPE]);e.authorization.accessToken=t;e.authorization.expires=new Date(l);u.default.dispatch({type:p.ActionTypes.RPC_APP_AUTHENTICATED,socketId:e.id,application:e.application});return y({},n.body,{access_token:t})}),(function(){throw new c.default(p.RPCErrors.INVALID_TOKEN,"Invalid access token: "+t)})).catch((function(t){e.authorization.authing=!1;throw t}))}},311809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=s(n(94047)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var d=((o={})[l.RPCCommands.SET_USER_ACHIEVEMENT]={scope:(r={},r[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],r),validation:function(e){return e.object().required().keys({
achievement_id:e.string().min(2).max(128),percent_complete:e.number().min(0).max(100).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.achievement_id,a=n.percent_complete,o=t.application.id;if(null==o)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.setUserAchievement(o,r,a).catch((function(e){var t=e.status,n=e.body;switch(t){case 429:throw new u.default(l.RPCErrors.RATE_LIMITED,"You are being rate limited.");case 403:throw null!=n&&n.code===l.AbortCodes.USER_NOT_AUTHORIZED_FOR_APPLICATION?new u.default(l.RPCErrors.UNAUTHORIZED_FOR_ACHIEVEMENT,"Not authorized to update this achievement."):new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".");default:throw new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".")}})).then((function(){return null}))}},o[l.RPCCommands.GET_USER_ACHIEVEMENTS]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),handler:function(e){
var t=e.socket.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.fetchForApplication(t).then((function(e){return e||[]}))}},o);t.default=d},421700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=n(360307),u=(r=n(248369))&&r.__esModule?r:{default:r},l=n(770348),s=n(376293);var d=((o={})[l.RPCCommands.SET_CERTIFIED_DEVICES]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),validation:function(e){return e.object().required().keys({devices:e.array().items(e.object().keys({type:e.string().required().valid([s.DeviceTypes.AUDIO_INPUT,s.DeviceTypes.AUDIO_OUTPUT,s.DeviceTypes.VIDEO_INPUT]),id:e.string().required().min(1),vendor:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),model:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),
noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))})},handler:function(e){var t=e.socket,n=e.args.devices;if(null==t.application.id)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");(0,i.setCertifiedDevices)(t.application.id,n.map((function(e){return{type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter((function(e){return n.some((function(t){return t.id===e}))})),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute}})))}},o);t.default=d},588648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=E(n(496486)),i=E(n(23170)),u=E(n(136873)),l=n(139982),s=n(567186),d=E(n(644263)),f=E(n(30098)),c=E(n(689389)),p=E(n(211136)),v=E(n(387692)),y=n(319986),h=E(n(248369)),m=n(861798),_=n(770348),g=["channel_id"];function E(e){return e&&e.__esModule?e:{default:e}}
function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var b=((a={})[_.RPCCommands.GET_CHANNEL]={scope:_.OAuth2Scopes.RPC,handler:function(e){var t=e.args.channel_id,n=e.socket,r=d.default.getChannel(t);if(null==r)throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return(0,m.transformChannel)(r,(0,m.hasMessageReadPermission)(r,n.application.id,n.authorization.scopes))}},a[_.RPCCommands.GET_CHANNELS]={scope:_.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id,n=o.default.values(d.default.loadAllGuildAndPrivateChannelsFromDisk());if(t){var r=f.default.getGuild(t);if(null==r)throw new h.default(_.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);n=n.filter((function(e){return e.guild_id===r.id}))}return{channels:n.filter((function(e){return c.default.can(_.Permissions.VIEW_CHANNEL,e)})).map((function(e){return{id:e.id,name:e.name,type:e.type}}))}}},a[_.RPCCommands.SELECT_VOICE_CHANNEL]={scope:_.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),
timeout:e.number().min(0).max(60),force:e.boolean()})},handler:function(e){var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o,l=r.force,g=void 0!==l&&l;if(!a){u.default.selectVoiceChannel(null);return null}var E=p.default.getVoiceChannelId();if(null!=E&&E!==a&&!1===g)throw new h.default(_.RPCErrors.SELECT_VOICE_FORCE_REQUIRED,"User is already joined to a voice channel.");return t.storeWait(n,(function(){return d.default.getChannel(a)}),i).catch((function(){throw new h.default(_.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select voice channel timed out.")})).then((function(e){if(null==e)throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,s.isVoiceChannel)(e.type))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,m.transformChannel)(e,(0,m.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){
var t=S(e,2),n=t[0],r=t[1];if(r.guild_id){if((0,y.isChannelFull)(n,v.default,f.default))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Channel is full");if(!c.default.can(_.Permissions.CONNECT,n))throw new h.default(_.RPCErrors.INVALID_PERMISSIONS,"Connect permission required to join channel")}u.default.selectVoiceChannel(n.id);return r}))}},a[_.RPCCommands.GET_SELECTED_VOICE_CHANNEL]={scope:(r={},r[_.RPC_SCOPE_CONFIG.ANY]=[_.OAuth2Scopes.RPC,_.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.socket,n=p.default.getVoiceChannelId(),r=null!=n?d.default.getChannel(n):null;return null!=r?(0,m.transformChannel)(r,(0,m.hasMessageReadPermission)(r,t.application.id,t.authorization.scopes)):null}},a[_.RPCCommands.SELECT_TEXT_CHANNEL]={scope:_.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)})},handler:function(e){
var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o;if(!a){(0,l.transitionTo)(_.Routes.ME);return null}return t.storeWait(n,(function(){return d.default.getChannel(a)}),i).catch((function(){throw new h.default(_.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select text channel timed out.")})).then((function(e){if(null==e)throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,s.isTextChannel)(e.type))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,m.transformChannel)(e,(0,m.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=S(e,2),n=t[0],r=t[1];if(r.guild_id&&!c.default.can(_.Permissions.VIEW_CHANNEL,n))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"No permission to see channel");r.guild_id?(0,l.replaceWith)(_.Routes.CHANNEL(r.guild_id,n.id)):u.default.selectPrivateChannel(n.id);return r}))}},
a[_.RPCCommands.CREATE_CHANNEL_INVITE]={scope:_.OAuth2Scopes.RPC,handler:function(e){var t=e.args,n=t.channel_id,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,g);return i.default.createInvite(n,r,"RPC").catch((function(){throw new h.default(_.RPCErrors.INVALID_PERMISSIONS,"Unable to generate an invite for "+n+". Does this user have permissions?")}))}},a);t.default=b},148400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(636602)),o=u(n(248369)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.SET_CONFIG]={scope:i.RPC_AUTHENTICATED_SCOPE,validation:function(e){return e.object().required().keys({use_interactive_pip:e.boolean()})},handler:function(e){var t=e.socket,n=e.args.use_interactive_pip
;if(t.transport!==i.TransportTypes.POST_MESSAGE)throw new o.default(i.RPCErrors.INVALID_COMMAND,'command not available from "'+t.transport+" transport");if(null==t.application.id)throw new o.default(i.RPCErrors.INVALID_COMMAND,"invalid application");a.default.dispatch({type:i.ActionTypes.EMBEDDED_ACTIVITY_SET_CONFIG,applicationId:t.application.id,config:{useInteractivePIP:n}});return Promise.resolve({use_interactive_pip:n})}},r);t.default=l},985918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.crossPlatformCommands=void 0;var r=m(n(311809)),a=m(n(421700)),o=m(n(588648)),i=m(n(148400)),u=m(n(701302)),l=m(n(490305)),s=m(n(220928)),d=m(n(219995)),f=m(n(506979)),c=m(n(819016)),p=m(n(839777)),v=m(n(855566)),y=m(n(511502)),h=m(n(663148));function m(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return _.apply(this,arguments)}var g=_({},r.default,{},a.default,{},o.default,{},i.default,{},u.default,{},l.default,{},s.default,{},d.default,{},f.default,{},c.default,{},p.default,{},v.default,{},h.default,{},y.default);t.crossPlatformCommands=g},701302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(496486)),o=l(n(30098)),i=l(n(248369)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_GUILD]={scope:u.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.socket,n=e.server,r=e.args,a=r.guild_id,l=r.timeout,s=void 0===l?0:l;return n.storeWait(t,(function(){return o.default.getGuild(a)}),s).catch((function(){throw new i.default(u.RPCErrors.GET_GUILD_TIMED_OUT,"Request to get guild timed out.")})).then((function(e){var t
;if(null==e)throw new i.default(u.RPCErrors.INVALID_GUILD,"Invalid guild id: "+a);return{id:e.id,name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}}))}},r[u.RPCCommands.GET_GUILDS]={scope:u.OAuth2Scopes.RPC,handler:function(){var e=o.default.getGuilds();return{guilds:a.default.map(e,(function(e){return{id:e.id,name:e.name,icon_url:e.getIconURL(128)}}))}}},r);t.default=s},490305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(728429)),o=s(n(692711)),i=n(175235),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var d=((r={})[l.RPCCommands.GET_IMAGE]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])})},handler:function(e){
var t,n=e.args,r=n.type,s=n.id,d=n.format,f=void 0===d?"png":d,c=n.size,p=void 0===c?128:c;if("user"===r){var v=a.default.getUser(s);if(null==v)throw new u.default(l.RPCErrors.INVALID_USER,"Invalid user id: "+s);t=o.default.getUserAvatarURL(v,!1,p,f);var y=window.GLOBAL_ENV.CDN_HOST;null!=y&&-1!==t.indexOf(y)&&(t+="&_=")}if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No valid type.");return fetch(t).then((function(e){return e.blob()})).then((function(e){return(0,i.readFileAsBase64)(e)})).then((function(e){return{data_url:e}}))}},r);t.default=d},220928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(165551)),o=n(262710),i=n(864489),u=d(n(248369)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}var f=((r={})[s.RPCCommands.OPEN_EXTERNAL_LINK]={validation:function(e){return e.object().required().keys({url:e.string().required()})},handler:function(e){var t=e.socket,n=e.args.url;(0,
l.validatePostMessageTransport)(t.transport);try{var r=new URL(n);i.isPlatformEmbedded&&a.default.focus(null,!0);(0,o.handleClick)({href:r.toString()})}catch(e){throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid URL: "+n)}}},r);t.default=f},219995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(24794);n(226720);var a,o,i,u,l,s,d,f,c,p=n(319111),v=(a=n(248369))&&a.__esModule?a:{default:a},y=n(770348);function h(e){if(e instanceof p.LobbyError)switch(e.code){case y.LobbyErrors.FULL:throw new v.default(y.RPCErrors.LOBBY_FULL,"Lobby is full.");case y.LobbyErrors.INVALID_SECRET:throw new v.default(y.RPCErrors.INVALID_LOBBY_SECRET,"Lobby secret is invalid.");case y.LobbyErrors.NOT_FOUND:throw new v.default(y.RPCErrors.INVALID_LOBBY,"Lobby does not exist.");case y.LobbyErrors.SERVICE_UNAVAILABLE:throw new v.default(y.RPCErrors.SERVICE_UNAVAILABLE,"Lobby service is unavailable.");case y.LobbyErrors.ALREADY_CONNECTING:
throw new v.default(y.RPCErrors.INVALID_COMMAND,"Already connecting to lobby.");default:throw new v.default(y.RPCErrors.UNKNOWN_ERROR,"Unknown error has occured.")}throw e}var m=((c={})[y.RPCCommands.CREATE_LOBBY]={scope:(o={},o[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({type:e.number().valid(Object.values(y.LobbyTypes)),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t=e.socket,n=e.args,a=n.type,o=n.capacity,i=n.locked,u=n.metadata;if(null==t.application.id)throw new v.default(y.RPCErrors.INVALID_COMMAND,"No application.");return(0,r.createLobby)(t.id,t.application.id,{type:a,capacity:o,locked:i,metadata:u}).catch(h)}},c[y.RPCCommands.UPDATE_LOBBY]={scope:(i={},i[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({id:e.string().required(),type:e.number().valid(Object.values(y.LobbyTypes)),owner_id:e.string(),capacity:e.number(),
locked:e.boolean(),metadata:e.object()})},handler:function(e){var t=e.args,n=t.id,a=t.type,o=t.owner_id,i=t.capacity,u=t.locked,l=t.metadata;return(0,r.updateLobby)(n,{type:a,owner_id:o,capacity:i,locked:u,metadata:l}).catch(h)}},c[y.RPCCommands.DELETE_LOBBY]={scope:(u={},u[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],u),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,r.deleteLobby)(t).catch(h)}},c[y.RPCCommands.UPDATE_LOBBY_MEMBER]={scope:(l={},l[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],l),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),user_id:e.string().required(),metadata:e.object()})},handler:function(e){var t=e.args,n=t.lobby_id,a=t.user_id,o=t.metadata;return(0,r.updateLobbyMember)(n,a,{metadata:o}).catch(h)}},c[y.RPCCommands.CONNECT_TO_LOBBY]={scope:(s={},s[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],s),validation:function(e){
return e.object().required().keys({id:e.string().required(),secret:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,a=n.id,o=n.secret;return(0,r.connect)(t.id,a,o).catch(h)}},c[y.RPCCommands.DISCONNECT_FROM_LOBBY]={scope:(d={},d[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],d),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.disconnect)(t)}},c[y.RPCCommands.SEND_TO_LOBBY]={scope:(f={},f[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],f),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),data:e.string().required()})},handler:function(e){var t=e.args,n=t.lobby_id,a=t.data;return(0,r.send)(n,a).catch(h)}},c[y.RPCCommands.SEARCH_LOBBIES]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({filter:e.array().items(e.object().keys({key:e.string().required(),comparison:e.number().required(),cast:e.number().required(),
value:e.string().required()})),sort:e.array().items(e.object().keys({key:e.string().required(),cast:e.number().required(),near_value:e.string()})),limit:e.number(),distance:e.number()})},handler:function(e){var t=e.socket,n=e.args,a=n.filter,o=n.sort,i=n.limit,u=n.distance;return(0,r.search)({application_id:t.application.id,filter:a,sort:o,limit:i,distance:u}).catch(h)}},c[y.RPCCommands.CONNECT_TO_LOBBY_VOICE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.voiceConnect)(t)}},c[y.RPCCommands.DISCONNECT_FROM_LOBBY_VOICE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.voiceDisconnect)(t)}},c);t.default=m},506979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(118915)),o=u(n(308920)),i=n(770348);function u(e){
return e&&e.__esModule?e:{default:e}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=((r={})[i.RPCCommands.GET_NETWORKING_CONFIG]={scope:i.RPC_LOCAL_SCOPE,handler:function(){return Promise.all([a.default.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3}).then((function(e){return e.body.address})),a.default.post({url:i.Endpoints.NETWORKING_TOKEN,retries:3,oldFormErrors:!0}).then((function(e){return e.body.token}))]).then((function(e){var t=l(e,2);return{address:t[0],token:t[1]}}))}},r[i.RPCCommands.NETWORKING_SYSTEM_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;o.default.track(i.AnalyticEvents.NETWORKING_SYSTEM_METRICS,n)}},r[i.RPCCommands.NETWORKING_PEER_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;o.default.track(i.AnalyticEvents.NETWORKING_PEER_METRICS,n)}},r[i.RPCCommands.NETWORKING_CREATE_TOKEN]={scope:i.RPC_LOCAL_SCOPE,handler:function(){
return a.default.post({url:i.Endpoints.NETWORKING_TOKEN,retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}},r);t.default=d},819016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(496486)),o=d(n(290629)),i=d(n(538983)),u=d(n(728429)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var c=((r={})[s.RPCCommands.GET_RELATIONSHIPS]={scope:s.RPC_LOCAL_SCOPE,handler:function(){var e=f({},o.default.getRelationships());i.default.getUserAffinitiesUserIds().forEach((function(t){null==e[t]&&null!=u.default.getUser(t)&&(e[t]=s.RelationshipTypes.IMPLICIT)}));return{relationships:a.default.map(e,(function(e,t){return(0,l.transformRelationship)(e,t)}))}}},r);t.default=c},839777:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=c(n(496486)),i=c(n(636602)),u=c(n(308920)),l=n(698243),s=c(n(248369)),d=n(861798),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=["349134787773988865"],h=((a={})[f.RPCCommands.SET_ACTIVITY]={scope:(r={},r[f.RPC_SCOPE_CONFIG.ANY]=[f.OAuth2Scopes.RPC,f.OAuth2Scopes.RPC_ACTIVITIES_WRITE,f.RPC_LOCAL_SCOPE],r),validation:function(e){return e.object().required().keys({pid:e.number().min(0),activity:e.object().keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:e.object().keys({start:e.number().min(1),end:e.number().min(1)}),assets:e.object().keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:e.object().keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(1)).length(2),
privacy:e.number().default(f.ActivityPartyPrivacy.PRIVATE).valid([f.ActivityPartyPrivacy.PRIVATE,f.ActivityPartyPrivacy.PUBLIC])}),secrets:e.object().keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),game_session_id:e.string().max(128),buttons:e.array().items(e.object().keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(f.ActivityTypes.PLAYING).valid(f.ActivityTypes.PLAYING,f.ActivityTypes.WATCHING)}).allow(null)})},handler:function(e){var t,n=e.socket,r=e.args,a=r.pid,c=r.activity,v=e.isSocketConnected;if(![f.TransportTypes.IPC,f.TransportTypes.WEBSOCKET,f.TransportTypes.POST_MESSAGE].includes(n.transport))throw new s.default(f.RPCErrors.INVALID_COMMAND,'command not available from "'+n.transport+'" transport')
;if(null==a&&f.TransportTypes.IPC===n.transport)throw new s.default(f.RPCErrors.INVALID_COMMAND,"nonzero pid required");if(null==c){i.default.dispatch({type:f.ActionTypes.LOCAL_ACTIVITY_UPDATE,socketId:n.id,pid:a,activity:c});return Promise.resolve(c)}c.name=n.application.name;c.application_id=n.application.id;var h=n.transport===f.TransportTypes.POST_MESSAGE,m=(0,d.computeActivityFlags)(c,h);m>0&&(c.flags=m);delete c.instance;null===(t=c.party)||void 0===t||delete t.privacy;var _=c.game_session_id;delete c.game_session_id;var g,E=c.assets,S=c.party,O=c.secrets,b=c.timestamps,I=c.buttons,C=c.type;(null==C||C!==f.ActivityTypes.PLAYING&&!h)&&(c.type=f.ActivityTypes.PLAYING);if(null!=O){var T=o.default.values(O).filter((function(e){return!!e}));if(null!=S&&o.default.intersection(T,[S.id]).length>0&&!y.includes(n.application.id))throw new s.default(f.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot match the party id")
;if(o.default.uniq(T).length<T.length)throw new s.default(f.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets must be unique");if(null!=I)throw new s.default(f.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot currently be sent with buttons")}if(null!=I){c.metadata={button_urls:I.map((function(e){return e.url}))};c.buttons=I.map((function(e){return e.label}))}if(null!=b)for(var A=0,P=Object.keys(b);A<P.length;A++){var M=P[A];Date.now().toString().length-b[M].toString().length>2&&(b[M]=Math.floor(1e3*b[M]))}if(null==E)g=Promise.resolve([]);else{if(null==n.application||null==n.application.id)throw new Error;g=(0,l.getAssetIds)(n.application.id,[E.large_image,E.small_image])}return g.then((function(e){var t=p(e,2),r=t[0],o=t[1];if(null!=E){null!=r?E.large_image=r:delete E.large_image;null!=o?E.small_image=o:delete E.small_image}if(v()){i.default.dispatch({type:f.ActionTypes.LOCAL_ACTIVITY_UPDATE,socketId:n.id,pid:a,activity:c,activitySessionId:_});var l=c.secrets,s=c.party,d={
application_id:n.application.id,type:c.type};if(null!=l){d.has_match_secret=!!l.match;d.has_join_secret=!!l.join}null!=E&&(d.has_images=!(!E.large_image&&!E.small_image));if(null!=s){d.party_max=null!=s.size?s.size[1]:void 0;d.party_id=s.id}null!=_&&(d.activity_session_id=_);u.default.track(f.AnalyticEvents.ACTIVITY_UPDATED,d);return c}}))}},a);t.default=h},855566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(248369)),o=u(n(424062)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.SUBSCRIBE]={handler:function(e){var t=e.server,n=e.socket,r=e.evt,u=e.args;return new Promise((function(e){var l=t.events[r];if(null==l)throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);if(!(0,o.default)(n.authorization.scopes,l.scope))throw new a.default(i.RPCErrors.INVALID_PERMISSIONS,"Not authenticated or invalid scope");var s=l.handler({args:u,socket:n});setImmediate((function(){
return t.addSubscription(n,r,u,s)}));e({evt:r})}))}},r[i.RPCCommands.UNSUBSCRIBE]={handler:function(e){var t=e.server,n=e.socket,r=e.evt,o=e.args;if(null==t.events[r])throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);t.removeSubscription(n,r,o);return{evt:r}}},r);t.default=l},511502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=(r=n(871778))&&r.__esModule?r:{default:r},i=n(770348);var u=((a={})[i.RPCCommands.USER_SETTINGS_GET_LOCALE]={scope:i.OAuth2Scopes.IDENTIFY,handler:function(){return{locale:o.default.locale}}},a);t.default=u},663148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(483559),o=l(n(248369)),i=l(n(838641)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_USER]={scope:u.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id
;return(0,a.getUser)(t).then(i.default).catch((function(){throw new o.default(u.RPCErrors.INVALID_USER,"Invalid user id: "+t)}))}},r);t.default=s},655369:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r;return(r={})[o.RPCEvents.VOICE_SETTINGS_UPDATE]={scope:(n={},n[o.RPC_SCOPE_CONFIG.ANY]=[o.OAuth2Scopes.RPC,o.OAuth2Scopes.RPC_VOICE_READ],n),handler:function(){return function(t){var n=t.prevState,r=t.dispatch,o=e();a.default.isEqual(o,n)||r(o);return o}}},r[o.RPCEvents.VOICE_SETTINGS_UPDATE_2]={scope:o.RPC_LOCAL_SCOPE,handler:function(e){var n=e.socket;return function(e){var r=e.prevState,o=e.dispatch;if(null==n.application.id)return r;var i=t(n.application.id);a.default.isEqual(i,r)||o(i);return i}}},r};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(770348)},768050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i,u,l,s,d,f,c,p,v,y,h,m,_,g,E,S,O,b,I,C,T,A=F(n(496486)),P=F(n(389726)),M=F(n(644263)),N=F(n(30098)),R=F(n(319111)),w=F(n(893160)),D=F(n(728429)),L=F(n(387692)),j=F(n(248369)),k=n(861798),U=F(n(838641)),G=n(770348);function F(e){return e&&e.__esModule?e:{default:e}}function x(e){var t,n=e.args.channel_id,r=e.socket,a=M.default.getChannel(n);if(null==a||!(0,k.hasMessageReadPermission)(a,r.application.id,r.authorization.scopes))throw new j.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+n);if(a.isNSFW()&&!0!==(null===(t=D.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed))throw new j.default(G.RPCErrors.INVALID_CHANNEL,"Invalid nsfw channel id: "+a.id)}function B(e){var t=e.args,n=t.lobby_id,r=t.channel_id;if(null!=r){if(null==M.default.getChannel(r))throw new j.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+r)}if(null!=n){if(null==R.default.getLobby(n))throw new j.default(G.RPCErrors.INVALID_LOBBY,"Invalid lobby id: "+n)}}
var V=((T={})[G.RPCEvents.GUILD_STATUS]={scope:G.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id;if(null==N.default.getGuild(t))throw new j.default(G.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);return function(e){var n,r=e.prevState,a=e.dispatch,o=N.default.getGuild(t);if(null!=o){var i={guild:{id:o.id,name:o.name,icon_url:null!==(n=o.getIconURL(128))&&void 0!==n?n:null},online:0};A.default.isEqual(r,i)||a(i);return i}}}},T[G.RPCEvents.VOICE_STATE_CREATE]={scope:(r={},r[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.args.channel_id;if(null==M.default.getChannel(t))throw new j.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=M.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id));if(n){A.default.differenceBy(i,n,(function(e){return e.userId})).forEach((function(e){return r((0,
k.transformVoiceState)(o,a.id,e))}))}return i}}}},T[G.RPCEvents.VOICE_STATE_DELETE]={scope:(a={},a[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(e){var t=e.args.channel_id;if(null==M.default.getChannel(t))throw new j.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=M.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id));A.default.differenceBy(n,i,(function(e){return e.userId})).forEach((function(e){return r((0,k.transformVoiceState)(o,a.id,e))}));return i}}}},T[G.RPCEvents.VOICE_STATE_UPDATE]={scope:(o={},o[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],o),handler:function(e){var t=e.args.channel_id;if(null==M.default.getChannel(t))throw new j.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=M.default.getChannel(t)
;if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id)).map((function(e){return(0,k.transformVoiceState)(o,a.id,e)}));A.default.differenceWith(i,n,A.default.isEqual).forEach((function(e){return r(e)}));return i}}}},T[G.RPCEvents.VOICE_CONNECTION_STATUS]={scope:(i={},i[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],i),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={state:(0,k.getVoiceConnectionState)(w.default.getState()),hostname:w.default.getHostname(),pings:w.default.getPings(),average_ping:w.default.getAveragePing(),last_ping:w.default.getLastPing()};A.default.isEqual(r,t)||n(r);return r}}},T[G.RPCEvents.MESSAGE_CREATE]={scope:G.OAuth2Scopes.RPC,handler:x},T[G.RPCEvents.MESSAGE_UPDATE]={scope:G.OAuth2Scopes.RPC,handler:x},T[G.RPCEvents.MESSAGE_DELETE]={scope:G.OAuth2Scopes.RPC,handler:x},
T[G.RPCEvents.SPEAKING_START]=((u={})[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ,G.RPC_LOCAL_SCOPE],u.handler=B,u),T[G.RPCEvents.SPEAKING_STOP]=((l={})[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ,G.RPC_LOCAL_SCOPE],l.handler=B,l),T[G.RPCEvents.GUILD_CREATE]={scope:G.OAuth2Scopes.RPC,handler:function(){}},T[G.RPCEvents.CHANNEL_CREATE]={scope:G.OAuth2Scopes.RPC,handler:function(){}},T[G.RPCEvents.GAME_JOIN]={scope:(s={},s[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],s),handler:function(){}},T[G.RPCEvents.GAME_SPECTATE]={scope:(d={},d[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],d),handler:function(){}},T[G.RPCEvents.ACTIVITY_JOIN]={scope:(f={},f[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],f),handler:function(){}},T[G.RPCEvents.ACTIVITY_JOIN_REQUEST]={scope:(c={},c[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],c),
handler:function(){}},T[G.RPCEvents.ACTIVITY_SPECTATE]={scope:(p={},p[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],p),handler:function(){}},T[G.RPCEvents.ACTIVITY_INVITE]={scope:(v={},v[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],v),handler:function(){}},T[G.RPCEvents.ACTIVITY_PIP_MODE_UPDATE]={scope:(y={},y[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],y),handler:function(){}},T[G.RPCEvents.VOICE_CHANNEL_SELECT]={scope:G.OAuth2Scopes.RPC,handler:function(){}},T[G.RPCEvents.NOTIFICATION_CREATE]={scope:(h={},h[G.RPC_SCOPE_CONFIG.ALL]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_NOTIFICATIONS_READ],h),handler:function(){}},T[G.RPCEvents.RELATIONSHIP_UPDATE]={scope:G.RPC_LOCAL_SCOPE,handler:function(){}},T[G.RPCEvents.CURRENT_USER_UPDATE]={scope:(m={},m[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.OAuth2Scopes.IDENTIFY],m),handler:function(){return function(e){
var t=e.prevState,n=e.dispatch,r={currentUser:D.default.getCurrentUser()};null==r.currentUser||null!=t&&(0,P.default)(r,t)||n((0,U.default)(r.currentUser));return r}}},T[G.RPCEvents.LOBBY_UPDATE]={scope:(_={},_[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],_),handler:function(){}},T[G.RPCEvents.LOBBY_DELETE]={scope:(g={},g[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],g),handler:function(){}},T[G.RPCEvents.LOBBY_MEMBER_CONNECT]={scope:(E={},E[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],E),handler:function(){}},T[G.RPCEvents.LOBBY_MEMBER_UPDATE]={scope:(S={},S[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],S),handler:function(){}},T[G.RPCEvents.LOBBY_MEMBER_DISCONNECT]={scope:(O={},O[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],O),handler:function(){}},T[G.RPCEvents.LOBBY_MESSAGE]={scope:(b={},b[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],
b),handler:function(){}},T[G.RPCEvents.ENTITLEMENT_CREATE]={scope:(I={},I[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.RPC_AUTHENTICATED_SCOPE],I),handler:function(){}},T[G.RPCEvents.ENTITLEMENT_DELETE]={scope:(C={},C[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.RPC_AUTHENTICATED_SCOPE],C),handler:function(){}},T[G.RPCEvents.USER_ACHIEVEMENT_UPDATE]={scope:G.RPC_LOCAL_SCOPE,handler:function(){}},T);t.default=V},641402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(496486)),a=i(n(248369)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){this.transport=e;this.version=t;this.encoding=n;this.id=r.default.uniqueId();this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)};this.application={id:null,name:null,icon:null};if(null==t||t>o.RPC_VERSION||t<1)throw new a.default(o.RPCCloseCodes.INVALID_VERSION,"Invalid Version: "+t)}},524650:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(248369)),a=u(n(676606)),o=u(n(641402)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(t,n,a,o,u,l,s,d){var f;f=e.call(this,i.TransportTypes.POST_MESSAGE,o,u)||this;if(-1===["etf","json"].indexOf(u))throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+u);if("etf"===u)throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");f.origin=t;f.postMessageToRPCClient=n;f.frameId=a;f.logger=l;f.postClose=s;f.onSendingToRPCClient=d;return f}var n=t.prototype;n.send=function(e){var t;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id);this.postMessageToRPCClient([a.default.FRAME,e],this.origin)};n.close=function(e,t){
this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient)};return t}(o.default);t.default=s},478370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(717187)),a=n(956506),o=l(n(248369)),i=l(n(676606)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()
}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=new Map,y=new Set,h=function(e,t,n){n([i.default.CLOSE,t],e)},m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(t,r,i,l){var s;(s=e.call(this)||this).disconnectSocket=function(e,t,n){var r,a;void 0===n&&(n=!1)
;s.emit("disconnect",e,n?void 0:t);e.close(t.code,null!==(r=t.message)&&void 0!==r?r:"Unknown");var o=null!==(a=Array.from(v.entries()).find((function(t){var n=f(t,2);n[0];return n[1]===e})))&&void 0!==a?a:[null,null],i=f(o,1)[0];null!=i&&v.delete(i)};s.handleIFrameMount=function(e){var t=e.id;y.add(t)};s.handleIFrameUnmount=function(e){var t,n=e.id;y.delete(n);var r=null!==(t=Array.from(v.entries()).find((function(e){var t=f(e,2);t[0];return t[1].frameId===n})))&&void 0!==t?t:[null,null],a=f(r,2),o=a[0],i=a[1];if(null!=i&&null!=o){s.disconnectSocket(i,{code:u.RPCCloseCodes.CLOSE_NORMAL,message:"iFrame gone"},!0);v.delete(o)}};s.handleMessage=function(e,t,n){var r=v.get(t);try{s.routeEvent(r,t,e,n)}catch(e){null!=r?s.disconnectSocket(r,{code:e.code,message:e.message},!0):h(t,{code:e.code,message:e.message},n)}};s.handleFrame=function(e,t,n){var r,a,i;if(e!==t.origin)throw new o.default(u.RPCCloseCodes.INVALID_ORIGIN,"Origin has changed");try{i="string"==typeof n?JSON.parse(n):n
}catch(e){throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not recognized encoding")}null===(r=(a=s).onFrameHandled)||void 0===r||r.call(a,i,s.logger,t);s.emit("request",t,i)};s.handleHandshake=function(){var e=d(regeneratorRuntime.mark((function e(t,r,a){var i,l,d,f,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:i=e.sent.default;e.prev=3;i.assert(r,i.object().required().keys({v:i.number().min(1).max(1).required(),encoding:i.string().equal("json").optional(),client_id:i.string().required(),frame_id:i.string().required()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:d=(l=r).frame_id;if(!!y.has(d)){e.next=16;break}s.logger.error("Unrecognized frame ID "+d);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+d);case 16:e.prev=16
;f=s.createPostMessageProxySocket(t,a,d,Number(l.v),null!==(c=l.encoding)&&void 0!==c?c:"json",s.logger,h);e.next=24;break;case 20:e.prev=20;e.t1=e.catch(16);s.logger.error("Error opening window socket "+e.t1);throw e.t1;case 24:s.logger.info("Socket Opened: "+f.id);e.prev=25;e.next=28;return s.validateSocketClient(f,t,l.client_id);case 28:if(y.has(d)){e.next=31;break}s.logger.error("Frame ID "+d+" no longer exists");throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+d);case 31:v.set(t,f);y.delete(d);s.emit("connect",f);s.logger.info("Socket Validated: "+f.id);e.next=41;break;case 37:e.prev=37;e.t2=e.catch(25);s.logger.info("Socket Closed: "+f.id+", "+e.t2.message);throw e.t2;case 41:case"end":return e.stop()}}),e,null,[[3,7],[16,20],[25,37]])})));return function(t,n,r){return e.apply(this,arguments)}}();s.handleClose=function(){var e=d(regeneratorRuntime.mark((function e(t,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:a=e.sent.default;e.prev=3;a.assert(r,a.object().required().unknown(!0).keys({code:a.number().valid(Object.values(u.RPCCloseCodes)).required(),message:a.string().optional()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:i=r;s.disconnectSocket(t,i);case 12:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,n){return e.apply(this,arguments)}}();a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_MOUNT,s.handleIFrameMount);a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_UNMOUNT,s.handleIFrameUnmount);s.validateSocketClient=t;s.logger=r;s.createPostMessageProxySocket=i;s.onFrameHandled=l;return s}t.prototype.routeEvent=function(e,t,n,r){if(!Array.isArray(n))throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Protocol error");var a=f(n,2),l=a[0],s=a[1];switch(l){case i.default.HANDSHAKE:
if(null!=e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Already connected");return this.handleHandshake(t,s,r);case i.default.FRAME:if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleFrame(t,e,s);case i.default.CLOSE:if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleClose(e,s);default:throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Invalid opcode")}};return t}(r.default);t.default=m},542490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=m(n(945771)),a=m(n(922629)),o=n(985918),i=m(n(768050)),u=m(n(43889)),l=m(n(267735)),s=n(766552),d=m(n(406266)),f=m(n(180450)),c=m(n(594875)),p=m(n(965443)),v=m(n(572110)),y=m(n(261469)),h=m(n(632303));function m(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var g=_({},o.crossPlatformCommands,{},d.default,{},f.default,{},c.default,{},p.default,{},v.default,{},h.default,{},y.default,{},u.default.authCommands),E=_({},i.default,{},s.overlayEventHandlers,{},u.default.voiceSettingsEvents);var S={server:l.default,commands:g,events:E,stores:[r.default],transports:[u.default.postMessageTransport],registerTransportsForEmbeddedPlatform:function(){a.default.ensureModule("discord_rpc").then((function(){for(var e=0,t=[n(444287).Z,n(650801).Z];e<t.length;e++){var r=t[e];l.default.registerTransport(r)}}))}};t.default=S},43889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(192367),a=i(n(81436)),o=i(n(593621));function i(e){return e&&e.__esModule?e:{default:e}}var u={authCommands:a.default,voiceSettingsEvents:r.voiceSettingsEventHandlers,postMessageTransport:o.default};t.default=u},
766552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.overlayEventHandlers=void 0;var r,a=s(n(496486)),o=s(n(191839)),i=s(n(81636)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var d=((r={})[l.RPCEvents.OVERLAY_UPDATE]={scope:l.RPC_LOCAL_SCOPE,handler:function(e){var t=e.args.pid,n=e.socket;if("number"!=typeof t||t<10)throw new u.default(l.RPCErrors.INVALID_EVENT,"Invalid pid");return function(e){var r=e.prevState,u=e.dispatch,l=i.default.enabled,s=!0,d=n.application.id;if(null!=d){var f=o.default.getActiveLibraryApplication(d);null!=f&&(l=l&&f.isOverlayEnabled());s=i.default.isInputLocked(t)}var c={enabled:l,locked:s};a.default.isEqual(c,r)||u(c);return c}}},r);t.overlayEventHandlers=d},192367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.voiceSettingsEventHandlers=void 0;var r,a=(r=n(655369))&&r.__esModule?r:{default:r},o=n(367983);var i=(0,
a.default)(o.getDeprecatedVoiceSettings,o.getVoiceSettings);t.voiceSettingsEventHandlers=i},367983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getVoiceSettings=t.getDeprecatedVoiceSettings=void 0;t.unlockOverlay=function(e){if(a.default.isReady(e)){r.default.setLocked(!1,e);return{lock:function(){r.default.setLocked(!0,e)},context:s.AppContext.OVERLAY}}o.default.focus(null,!0);return{lock:function(){o.default.setForegroundProcess(e)},context:s.AppContext.APP}};t.validateSocketClient=void 0;t.validateTransportType=function(e){if(s.TransportTypes.IPC!==e&&s.TransportTypes.POST_MESSAGE!==e)throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid transport.")};var r=d(n(390557)),a=d(n(81636)),o=d(n(922629)),i=n(339943),u=d(n(248369)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var c=["207646673902501888"]
;var p=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,l.validateOriginAndUpdateSocket)(t,n);if(null!=r&&""!==r||!(0,l.isMatchingOrigin)(n)){e.next=6;break}t.authorization.scopes=[s.RPC_PRIVATE_SCOPE,s.RPC_PRIVATE_LIMITED_SCOPE];return e.abrupt("return",Promise.resolve());case 6:if(null!=r&&""!==r){e.next=8;break}return e.abrupt("return",Promise.reject(new u.default(s.RPCCloseCodes.INVALID_CLIENTID,"No Client ID Specified")));case 8:a=o.default.releaseChannel!==s.PublicReleaseChannels.CANARY&&!c.includes(r)&&t.transport!==s.TransportTypes.POST_MESSAGE;e.next=11;return(0,l.processSocketThrottlers)(r,a);case 11:return e.abrupt("return",(0,l.fetchApplicationsRPC)(t,r,n));case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))})
;return function(e,n,r){return t.apply(this,arguments)}}();t.validateSocketClient=p;t.getDeprecatedVoiceSettings=function(){return(0,l.getDeprecatedVoiceSettingsWithShortcut)((function(e){var t=[];null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=function(e){return e.map((function(e){var t;return{type:e[0],code:e[1],name:null!==(t=(0,i.codeToKey)(e))&&void 0!==t?t:"unknown"}}))}(e.modeOptions.shortcut));return t}))};t.getVoiceSettings=function(e){return(0,l.getVoiceSettingsWithShortcut)(e,(function(e){var t="";null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,i.toString)(e.modeOptions.shortcut));return t}))}},804135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(682644)),a=o(n(542490));function o(e){return e&&e.__esModule?e:{default:e}}var i=new r.default(a.default);t.default=i},406266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i,u,l,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),d=N(n(312260)),f=n(557782),c=N(n(234161)),p=n(508510),v=N(n(767766)),y=n(689575),h=N(n(902305)),m=N(n(644263)),_=N(n(30098)),g=N(n(423086)),E=N(n(689389)),S=N(n(211136)),O=N(n(690445)),b=n(194322),I=n(245838),C=N(n(248369)),T=n(861798),A=n(367983),P=n(770348),M=n(371621);function N(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(){w=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}function j(e,t,n,r,a){return k.apply(this,arguments)}function k(){return(k=L(regeneratorRuntime.mark((function e(t,n,r,a,o){var i,u,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o="");if(null!=(i=g.default.getApplicationActivity(n))&&null!=i.secrets&&(0,T.validateActivityInvite)(a,i.party,i.secrets)){e.next=4;break}throw new C.default(P.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.")
;case 4:if(!(u=(0,v.default)(i,O.default))){e.next=8;break}l=(0,A.unlockOverlay)(t),s=l.lock;return e.abrupt("return",(0,f.openModal)(i,u).then((function(){s();throw new C.default(P.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")})));case 8:e.next=10;return d.default.sendActivityInviteUser({userId:r,type:a,activity:i,content:o,location:"In-Game Invite"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=((l={})[P.RPCCommands.SEND_ACTIVITY_JOIN_INVITE]={scope:(r={},r[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],r),handler:function(e){var t=e.socket,n=e.args,r=n.user_id,a=n.pid,o=t.application.id;if(null==o)throw new C.default(P.RPCErrors.INVALID_COMMAND,"No application.");return j(a,o,r,P.ActivityActionTypes.JOIN)}},l[P.RPCCommands.CLOSE_ACTIVITY_JOIN_REQUEST]={scope:(a={},a[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],a),handler:function(e){
var t=e.args.user_id,n=m.default.getDMFromUserId(t);null!=n&&(0,p.ack)(n,!0,!0)}},l[P.RPCCommands.ACTIVITY_INVITE_USER]={scope:(o={},o[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({user_id:e.string().required(),type:e.number().required().valid([P.ActivityActionTypes.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.content,i=n.pid,u=t.application.id;if(null==u)throw new C.default(P.RPCErrors.INVALID_COMMAND,"No application.");return j(i,u,a,r,o)}},l[P.RPCCommands.ACCEPT_ACTIVITY_INVITE]={scope:(i={},i[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({type:e.number().required().valid([P.ActivityActionTypes.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()})
},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.session_id,i=n.channel_id,u=n.message_id,l=t.application.id;if(null==l)throw new C.default(P.RPCErrors.INVALID_COMMAND,"No application.");var s=Promise.resolve(!1);if(r===P.ActivityActionTypes.JOIN)s=c.default.join(a,o,l,i,u);return s.then((function(e){if(!e)throw new C.default(P.RPCErrors.INVALID_INVITE,"Invite is expired or invalid.")}))}},l[P.RPCCommands.OPEN_INVITE_DIALOG]={scope:(u={},u[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],u),handler:function(e){var t,r,a=e.socket,o=S.default.getVoiceChannelId(),i=m.default.getChannel(o);if(null==i)throw new C.default(P.RPCErrors.INVALID_CHANNEL,"Invalid channel "+o);var u=_.default.getGuild(i.getGuildId());if(null==u)throw new C.default(P.RPCErrors.INVALID_CHANNEL,"Invalid guild "+i.getGuildId());if(!(0,y.canViewInviteModal)(E.default,u,i))throw new C.default(P.RPCErrors.INVALID_PERMISSIONS,"No invite permissions for "+o)
;var l=h.default.getWindow(P.PopoutWindowKeys.CHANNEL_CALL_POPOUT);(null===(t=l)||void 0===t?void 0:t.closed)&&(l=null);var d=null!=l?P.AppContext.POPOUT:P.AppContext.APP;(0,I.exitFullScreen)({},void 0,null===(r=l)||void 0===r?void 0:r.document);(0,b.openModalLazy)(L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return s.createElement(r,w({},e,{guild:u,channel:i,applicationId:a.application.id,analyticsLocation:P.AnalyticsLocations.ACTIVITY_RPC,source:P.InstantInviteSources.ACTIVITY_INVITE}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:d===P.AppContext.POPOUT?M.POPOUT_MODAL_CONTEXT:M.DEFAULT_MODAL_CONTEXT})}},l);t.default=U},180450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=b(n(118915)),u=n(91817),l=n(851792),s=b(n(644263)),d=b(n(288356)),f=b(n(211136)),c=b(n(728429)),p=b(n(47969)),v=b(n(424099)),y=n(194322),h=b(n(308920)),m=n(685677),_=b(n(922629)),g=b(n(248369)),E=n(861798),S=n(770348),O=n(418173);function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(e,t){var n=p.default.isEntitledToSku(c.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,l.fetchUserEntitlementsForApplication)(t).then((function(){return!0===p.default.isEntitledToSku(c.default.getCurrentUser(),e,t)}))}var M=((a={})[S.RPCCommands.VALIDATE_APPLICATION]={scope:S.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;try{if(null==t)throw new g.default(S.RPCErrors.INVALID_COMMAND,"No application.");var r=d.default.getGame(t);if(null==r)throw new g.default(S.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.")
;var a=r.primarySkuId;if(null==a)throw new g.default(S.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.");return Promise.race([P(a,r.id).then((function(e){if(!e)throw new g.default(S.RPCErrors.INVALID_ENTITLEMENT,"User does not have entitlement.")})),(0,u.timeoutPromise)(1e4).then((function(){throw new g.default(S.RPCErrors.INVALID_ENTITLEMENT,"Timed out fetching entitlement.")}))])}catch(e){if(e.code===S.RPCErrors.INVALID_ENTITLEMENT){_.default.focus(null,!0);(0,y.openModalLazy)(A(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return o.createElement(a,C({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))))}throw e}}},a[S.RPCCommands.GET_ENTITLEMENT_TICKET]={scope:S.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id
;if(null==t)throw new g.default(S.RPCErrors.INVALID_COMMAND,"No application.");return i.default.post({url:S.Endpoints.ENTITLEMENT_TICKET(t),body:{test_mode:v.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){_.default.focus(null,!0);(0,y.openModalLazy)(A(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return o.createElement(a,C({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))));throw e}))}},a[S.RPCCommands.GET_ACTIVITY_JOIN_TICKET]=((r={})[S.RPC_SCOPE_CONFIG.ANY]=[S.OAuth2Scopes.RPC,S.RPC_AUTHENTICATED_SCOPE],r.handler=function(e){var t=e.socket;(0,E.validatePostMessageTransport)(t.transport);(0,E.validateApplication)(t.application);var n=t.application.id
;if(!O.JOIN_TICKET_EMBEDDED_APPS.has(n))throw new g.default(S.RPCErrors.INVALID_COMMAND,"This application cannot access this API");var r=s.default.getChannel(f.default.getVoiceChannelId()),a=null==r?void 0:r.getGuildId();if(null==r||null==a)throw new g.default(S.RPCErrors.INVALID_COMMAND,"Invalid channel");return i.default.post({url:S.Endpoints.ACTIVITY_JOIN_TICKET(n,a,r.id),retries:2,oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){throw e}))},r),a[S.RPCCommands.SEND_GENERIC_EVENT]={scope:S.RPC_AUTHENTICATED_SCOPE,handler:function(){console.warn("The SEND_GENERIC_EVENT api has been deprecated.")}},a[S.RPCCommands.SEND_ANALYTICS_EVENT]={validation:function(e){return e.object().required().keys({event_name:e.string().required(),event_properties:e.object().required()})},handler:function(e){var t,n=e.socket,r=e.args,a=r.event_name,o=r.event_properties;(0,E.validatePostMessageTransport)(n.transport);(0,E.validateApplication)(n.application)
;var i=n.application.id,u=s.default.getChannel(f.default.getVoiceChannelId()),l=null==u?void 0:u.getGuildId();if(null==u||null==l)throw new g.default(S.RPCErrors.INVALID_COMMAND,"Invalid channel");var c=d.default.getGame(i);if(!(0,m.hasFlag)(null!==(t=null==c?void 0:c.flags)&&void 0!==t?t:0,S.ApplicationFlags.EMBEDDED_FIRST_PARTY))throw new g.default(S.RPCErrors.INVALID_COMMAND,"This application cannot access this API");h.default.track(a,C({},o,{activity_application_id:i,activity_guild_id:l}))}},a[S.RPCCommands.GET_APPLICATION_TICKET]={scope:S.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;if(null==t)throw new g.default(S.RPCErrors.INVALID_COMMAND,"No application.");return i.default.post({url:S.Endpoints.APPLICATION_TICKET(t),body:{test_mode:v.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body}))}},a);t.default=M},81436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(480831)),o=n(94066),i=n(194322),u=n(864489),l=c(n(922629)),s=c(n(964125)),d=n(770348),f=n(371621);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=(0,
s.default)((function(e,t,n,u,l,s,d,c,p,y,h,m,_){var g="OAuth2Authorize_"+e+"_"+y+"_"+h;return new Promise((function(E){var S=function(e){E(e)};(0,i.openModal)((function(a){return r.createElement(o.OAuth2AuthorizeModal,v({},a,{authorization:t,clientId:e,scopes:null!=n?n:[],callback:S,responseType:l,redirectUri:s,codeChallenge:d,codeChallengeMethod:c,state:p,permissions:u,guildId:y,channelId:h,prompt:m,disableGuildSelect:"boolean"==typeof _?_:"true"===_}))}),{modalKey:g,onCloseRequest:function(){(0,i.closeModal)(g);E(void 0)}},(0,a.default)(t.application)?f.POPOUT_MODAL_CONTEXT:f.DEFAULT_MODAL_CONTEXT)}))}),(function(e){if(u.isPlatformEmbedded){var t=(0,a.default)(e)?d.PopoutWindowKeys.CHANNEL_CALL_POPOUT:null;(0,u.isWindows)()?l.default.minimize(t):l.default.restore(t);l.default.focus(t)}}));t.default=y},594875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=h(n(636602)),o=n(557782),i=h(n(23170)),u=h(n(390557)),l=h(n(767766)),s=h(n(423086)),d=h(n(690445)),f=n(194322),c=h(n(248369)),p=n(861798),v=n(367983),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}var E=((r={})[y.RPCCommands.SET_OVERLAY_LOCKED]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.locked,r=t.pid
;if(null==e.socket.application.id)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");u.default.setLocked(n,r)}},r[y.RPCCommands.OPEN_OVERLAY_ACTIVITY_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.number().required().valid([y.ActivityActionTypes.JOIN]),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.pid,i=t.application.id;if(null==i)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");var u=s.default.getApplicationActivity(i);if(null==u||null==u.secrets||!(0,p.validateActivityInvite)(r,u.party,u.secrets))throw new c.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");var f=(0,v.unlockOverlay)(a).lock,h=(0,l.default)(u,d.default);return(0,o.openModal)(u,h).then((function(){f()
;if(h)throw new c.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))}},r[y.RPCCommands.OPEN_OVERLAY_GUILD_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({code:e.string().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.code,r=t.pid;if(null==e.socket.application.id)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");return i.default.resolveInvite(n,"Game SDK").then((function(e){var t=e.invite,n=e.code;if(null==t)throw new c.default(y.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);var o=(0,v.unlockOverlay)(r),i=o.context,u=o.lock;return new Promise((function(e){a.default.dispatch({type:y.ActionTypes.INVITE_MODAL_OPEN,invite:t,code:n,context:i,resolve:e})})).then(u)}))}},r[y.RPCCommands.OPEN_OVERLAY_VOICE_SETTINGS]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({
pid:e.number().min(0).required()})},handler:function(e){var t=e.args.pid,r=e.socket,a=r.application.id;if(null==a)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");var o=(0,v.unlockOverlay)(t).lock;return new Promise((function(e){(0,f.openModalLazy)(g(regeneratorRuntime.mark((function t(){var i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(72936),n.e(15560)]).then(n.bind(n,215560));case 2:i=t.sent;u=i.default;return t.abrupt("return",(function(t){return React.createElement(u,m({},t,{mediaEngineContext:a,title:r.application.name,onClose:function(){t.onClose();o();e()}}))}));case 5:case"end":return t.stop()}}),t)}))))}))}},r);t.default=E},965443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(919094),i=S(n(636602)),u=n(832635),l=n(241889),s=S(n(861315)),d=S(n(740852)),f=S(n(23170)),c=S(n(920061)),p=n(139982),v=S(n(728429)),y=n(194322),h=S(n(308920)),m=S(n(608417)),_=S(n(922629)),g=S(n(248369)),E=n(770348);function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){
n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t){null!=e&&h.default.track(E.AnalyticEvents.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,o.extractId)(e),link_type:t})}var A=((r={})[E.RPCCommands.INVITE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return C(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.args.code;t.next=3;return f.default.resolveInvite(n,"Desktop Modal");case 3:r=t.sent;if(null!=(a=r.invite)){t.next=7;break}throw new g.default(E.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);case 7:i.default.dispatch({type:E.ActionTypes.INVITE_MODAL_OPEN,invite:a,code:n,context:E.AppContext.APP})
;return t.abrupt("return",{invite:a,code:n});case 9:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GUILD_TEMPLATE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return C(regeneratorRuntime.mark((function t(){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.args.code;if(null!=v.default.getCurrentUser()){t.next=3;break}return t.abrupt("return");case 3:t.next=5;return c.default.resolveGuildTemplate(r);case 5:o=t.sent;if(null!=(i=o.guildTemplate)){t.next=9;break}throw new g.default(E.RPCErrors.INVALID_GUILD_TEMPLATE,"Invalid guild template id: "+r);case 9:_.default.focus();(0,y.openModalLazy)(C(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(4053)]).then(n.bind(n,704053));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,b({},e,{guildTemplate:i}))}));case 5:case"end":
return e.stop()}}),e)}))));return t.abrupt("return",{guildTemplate:i,code:r});case 12:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GIFT_CODE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args.code;return new Promise((function(e,r){i.default.wait((function(){d.default.resolveGiftCode(t,!0,!0).then((function(r){var o=r.giftCode;_.default.focus();h.default.track(E.AnalyticEvents.OPEN_MODAL,{type:"gift_accept",location:E.DIRECT_ANALYTICS_LOCATION});(0,y.openModalLazy)(C(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(9199)]).then(n.bind(n,109199));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,b({code:t},e))}));case 5:case"end":return e.stop()}}),e)}))));e({giftCode:o})})).catch((function(){return r(new g.default(E.RPCErrors.INVALID_GIFT_CODE,"Invalid gift code: "+t))}))}))}))}},
r[E.RPCCommands.DEEP_LINK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.type,r=t.params;_.default.focus();switch(n){case E.RPCDeepLinks.USER_SETTINGS:if(null!=r){(0,p.replaceWith)(E.Routes.SETTINGS(r.section,r.subsection));T(r.fingerprint,E.DynamicLinkType.SETTINGS)}break;case E.RPCDeepLinks.CHANGELOG:if(null!=r){(0,p.replaceWith)(m.default.formatPathWithQuery(E.Routes.CHANGELOGS(r.date),r.query));T(r.fingerprint,E.DynamicLinkType.CHANGELOG)}break;case E.RPCDeepLinks.LIBRARY:(0,p.replaceWith)(E.Routes.APPLICATION_LIBRARY);null!=r&&T(r.fingerprint,E.DynamicLinkType.LIBRARY);break;case E.RPCDeepLinks.STORE_HOME:(0,p.replaceWith)(E.Routes.APPLICATION_STORE);null!=r&&T(r.fingerprint,E.DynamicLinkType.STORE);break;case E.RPCDeepLinks.STORE_LISTING:if(null!=r){(0,p.replaceWith)(E.Routes.APPLICATION_STORE_LISTING_SKU(r.skuId,r.slug));T(r.fingerprint,E.DynamicLinkType.STORE)}}}},r[E.RPCCommands.BROWSER_HANDOFF]={scope:E.RPC_PRIVATE_LIMITED_SCOPE,handler:function(e){
var t=e.args,n=t.handoffToken,r=t.fingerprint;_.default.focus(null,!0);(0,l.handoffEnd)(n,r)}},r[E.RPCCommands.CONNECTIONS_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.providerType,r=t.code,a=t.openid_params,o=t.state;return s.default.callback(n,{code:r,openid_params:a,state:o})}},r[E.RPCCommands.BRAINTREE_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.state,r=t.path,a=t.query;return(0,u.popupBridgeCallback)({paymentSourceType:E.PaymentSourceTypes.PAYPAL,state:n,path:r,query:a})}},r[E.RPCCommands.BILLING_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.state,r=t.path,a=t.query,o=t.payment_source_type;return(0,u.popupBridgeCallback)({paymentSourceType:o,state:n,path:r,query:a})}},r);t.default=A},572110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i,u,l=g(n(851792)),s=g(n(723420)),d=g(n(376543)),f=n(168558),c=m(n(231765)),p=m(n(424099)),v=m(n(248369)),y=n(367983),h=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e){if(null==e)return{lock:h.NOOP_NULL,context:h.AppContext.APP};var t=(0,y.unlockOverlay)(e);return{lock:t.lock,context:t.context}}function S(e,t){var n={subscriptionTier:h.PremiumSubscriptionSKUs.TIER_2,analyticsObject:t}
;switch(e){case h.AppContext.APP:return c.default.openPremiumPaymentModalInApp(n);case h.AppContext.OVERLAY:return c.default.openPremiumPaymentModalInOverlay(n);default:throw new Error("Unexpected app context: "+e)}}var O=((u={})[h.RPCCommands.START_PURCHASE]=((r={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],r.validation=function(e){return e.object().required().keys({sku_id:e.string().required(),pid:e.number().min(0)})},r.handler=function(e){var t=e.socket,n=e.args,r=n.sku_id,a=n.pid;(0,y.validateTransportType)(t.transport);var o=t.application.id;if(null==o)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.");var i=E(t.transport!==h.TransportTypes.POST_MESSAGE?a:null),u=i.lock,l=i.context,s={page:h.AnalyticsPages.IN_APP};return(0,f.openIAPPurchaseModal)(o,r,(function(){return S(l,s)}),s,l).then((function(e){u();return e}),(function(e){u();if(null!=e)throw new v.default(h.RPCErrors.PURCHASE_ERROR,e)
;throw new v.default(h.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},r),u[h.RPCCommands.GET_SKUS]=((a={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],a.handler=function(e){var t=e.socket;(0,y.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.");return p.default.inTestModeForApplication(n)?s.fetchSKUsForApplication(n).then((function(e){return e.filter((function(e){return null!=e.price}))})):d.fetchAllStoreListingsForApplication(n).then((function(e){return(null!=e?e:[]).map((function(e){return e.sku})).filter((function(e){return null!=e.price}))}))},a),u[h.RPCCommands.START_PREMIUM_PURCHASE]=((o={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],o.validation=function(e){return e.object().keys({pid:e.number().min(0)})},o.handler=function(e){var t=e.socket,n=e.args.pid;(0,y.validateTransportType)(t.transport)
;if(null==t.application.id)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.");var r=E(t.transport!==h.TransportTypes.POST_MESSAGE?n:null),a=r.lock;return S(r.context,{page:h.AnalyticsPages.IN_APP}).then((function(){a()}),(function(e){a();if(null!=e)throw new v.default(h.RPCErrors.PURCHASE_ERROR,e);throw new v.default(h.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},o),u[h.RPCCommands.GET_ENTITLEMENTS]=((i={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],i.handler=function(e){var t=e.socket;(0,y.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.");return l.fetchUserEntitlementsForApplication(n).then((function(e){return null!=e?e:[]}))},i),u);t.default=O},261469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(740207)),o=s(n(635014)),i=n(339943),u=s(n(248369)),l=n(770348);function s(e){
return e&&e.__esModule?e:{default:e}}function d(e){var t=e.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return t}var f=((r={})[l.RPCCommands.SET_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({input_mode:e.object().keys({type:e.string().valid(Object.keys(l.InputModes)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.input_mode,u=n.self_mute,l=n.self_deaf,s=d(t);null!=r&&a.default.setMode(r.type,{shortcut:(0,i.toCombo)(r.shortcut)},s);null!=u&&u!==o.default.isSelfMute(s)&&a.default.toggleSelfMute(s);null!=l&&l!==o.default.isSelfDeaf(s)&&a.default.toggleSelfDeaf(s)}},r[l.RPCCommands.SET_USER_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){
var t=e.socket,n=e.args,r=n.user_id,i=n.mute,u=n.volume,l=d(t);null!=i&&i!==o.default.isLocalMute(r,l)&&a.default.toggleLocalMute(r,l);null!=u&&a.default.setLocalVolume(r,u,l)}},r);t.default=f},632303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u=p(n(740207)),l=p(n(635014)),s=p(n(728429)),d=p(n(248369)),f=n(367983),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}var v=((i={})[c.RPCCommands.SET_USER_VOICE_SETTINGS]={scope:(r={},r[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_WRITE],r),validation:function(e){return e.object().required().keys({user_id:e.string().required(),pan:e.object().keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.user_id,r=t.pan,a=t.volume,o=t.mute,i=s.default.getCurrentUser()
;if(null==s.default.getUser(n)||(null==i?void 0:i.id)===n)throw new d.default(c.RPCErrors.INVALID_USER,"Invalid user id: "+n);null!=r&&u.default.setLocalPan(n,r.left,r.right);null!=a&&u.default.setLocalVolume(n,a);if(null!=o){var f=l.default.isLocalMute(n);(f&&!o||!f&&o)&&u.default.toggleLocalMute(n)}return{user_id:n,pan:l.default.getLocalPan(n),volume:l.default.getLocalVolume(n),mute:l.default.isLocalMute(n)}}},i[c.RPCCommands.GET_VOICE_SETTINGS]={scope:(a={},a[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(){return(0,f.getDeprecatedVoiceSettings)()}},i[c.RPCCommands.SET_VOICE_SETTINGS]={scope:(o={},o[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_WRITE],o),validation:function(e){return e.object().required().keys({input:e.object().keys({device_id:e.string().valid(Object.keys(l.default.getInputDevices())),volume:e.number().min(0).max(100)}),output:e.object().keys({
device_id:e.string().valid(Object.keys(l.default.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:e.object().keys({type:e.string().valid(Object.keys(c.InputModes)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items(e.object().keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.input,r=t.output,a=t.mode,o=t.automatic_gain_control,i=t.echo_cancellation,s=t.noise_suppression,d=t.qos,c=t.silence_warning,p=t.deaf,v=t.mute;if(n){null!=n.device_id&&u.default.setInputDevice(n.device_id);null!=n.volume&&u.default.setInputVolume(n.volume)}if(r){null!=r.device_id&&u.default.setOutputDevice(r.device_id);null!=r.volume&&u.default.setOutputVolume(r.volume)}if(a){
var y=l.default.getMode(),h=l.default.getModeOptions();null!=a.type&&(y=a.type);null!=a.auto_threshold&&(h.autoThreshold=a.auto_threshold);null!=a.threshold&&(h.threshold=a.threshold);null!=a.shortcut&&(h.shortcut=a.shortcut.map((function(e){return[e.type,e.code]})));null!=a.delay&&(h.delay=a.delay);u.default.setMode(y,h)}null!=o&&u.default.setAutomaticGainControl(o);null!=i&&u.default.setEchoCancellation(i);null!=s&&u.default.setNoiseSuppression(s);null!=d&&u.default.setQoS(d);null!=c&&u.default.setSilenceWarning(c);if(null!=p){var m=l.default.isSelfDeaf();(m&&!p||!m&&p)&&u.default.toggleSelfDeaf()}if(null!=v){var _=l.default.isSelfMute();(_&&!v||!_&&v)&&u.default.toggleSelfMute()}return(0,f.getDeprecatedVoiceSettings)()}},i);t.default=v},650801:(e,t,n)=>{"use strict";({value:!0});t.Z=void 0;var r=n(348764),a=c(n(717187)),o=c(n(496486)),i=c(n(791548)),u=c(n(922629)),l=c(n(318671)),s=c(n(641402)),d=n(367983),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}
function p(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y,h=u.default.requireModule("discord_rpc").RPCIPC,m=new i.default("RPCServer:IPC"),_={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function g(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function E(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function S(e){return new Promise((function(t,n){"string"==typeof e&&(e=h.net.createConnection(e));e.pause();e.on("readable",(function(){try{b(e)}catch(t){e.end(O(_.CLOSE,{code:1003,message:t.message}));e.destroy()}}));var r=function(){try{e.end();e.destroy()}catch(e){}},a=Promise.race([new Promise((function(t){return e.on("error",(function(){return t()}))})),new Promise((function(t,n){e.on("pong",(function(){return n(new Error("socket responded with pong"))}))})),new Promise((function(e,t){
setTimeout((function(){return t(new Error("socket alive timeout"))}),1e3)}))]).then((function(){r()}),(function(e){r();throw e}));e.write(O(_.PING,o.default.uniqueId()));return a.then(t,n)}))}function O(e,t){t=JSON.stringify(t);var n=r.Buffer.byteLength(t),a=r.Buffer.alloc(8+n);a.writeInt32LE(e,0);a.writeInt32LE(n,4);a.write(t,8,n);return function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}(a)}function b(e){var t=e.read(8);if(t){var n=(t=r.Buffer.from(t)).readInt32LE(0),a=t.readInt32LE(4);if(!Object.values(_).includes(n)||a<0)throw new Error("protocol error");if(!(t=e.read(a)))throw new Error("data size does not match what was received");t=r.Buffer.from(t);var o=JSON.parse(t.toString());switch(n){case _.PING:e.emit("ping",o);e.write(O(_.PONG,o));break;case _.PONG:e.emit("pong",o);break;case _.HANDSHAKE:if(E(e))throw new Error("already did handshake");g(e,!0);e.emit("handshake",o);break;case _.FRAME:if(!E(e))throw new Error("did not handshake");e.emit("request",o)
;break;case _.CLOSE:e.end();e.destroy()}b(e)}}var I=function(e){p(t,e);function t(t,n,r){var a;(a=e.call(this,"ipc",n,r)||this)._socket=t;return a}var n=t.prototype;n.send=function(e){m.info("Socket Emit: "+this.id,(0,l.default)(e));this._socket.write(O(_.FRAME,e))};n.close=function(e,t){this._socket.end(O(_.CLOSE,{code:e,message:t}));this._socket.destroy()};return t}(s.default),C=new(function(e){p(t,e);function t(){var t;t=e.call(this)||this;(y=h.net.createServer((function(e){return t.handleConnection(e)}))).on("error",(function(e){return m.error("Error: "+e.message)}));h.getAvailableSocket(S).then((function(e){y.listen(e,(function(){("function"==typeof y.listening?y.listening():y.listening)&&m.info("Starting on "+y.address())}))}));return t}t.prototype.handleConnection=function(e){var t=this;g(e,!1);e.pause();e.on("readable",(function(){try{b(e)}catch(t){e.end(O(_.CLOSE,{code:f.RPCCloseCodes.CLOSE_UNSUPPORTED,message:t.message}));e.destroy()}}));e.once("handshake",(function(n){
var r,a=n.client_id,o=+n.v;try{r=new I(e,o,"json")}catch(t){e.end(O(_.CLOSE,{code:t.code,message:t.message}));e.destroy();return}m.info("Socket Opened: "+r.id);e.on("error",(function(e){return m.error("Socket Error: "+e.message)}));e.on("close",(function(){m.info("Socket Close: "+r.id);t.emit("disconnect",r)}));(0,d.validateSocketClient)(r,null,a).then((function(){e.on("request",(function(e){m.info("Socket Message: "+r.id,(0,l.default)(e));t.emit("request",r,e)}));t.emit("connect",r)})).catch((function(e){var t=e.code,n=e.message;return r.close(t,n)}))}))};return t}(a.default));t.Z=C},444287:(e,t,n)=>{"use strict";var r=n(348764).Buffer;({value:!0});t.Z=void 0;var a,o=_(n(717187)),i=_(n(496486)),u=_(n(817673)),l=_(n(608575)),s=_(n(636602)),d=_(n(791548)),f=_(n(909243)),c=_(n(922629)),p=_(n(248369)),v=_(n(318671)),y=_(n(641402)),h=n(367983),m=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}
function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}try{a=c.default.requireModule("discord_erlpack")}catch(e){try{a=c.default.requireModule("erlpack")}catch(e){}}var I,C=c.default.requireModule("discord_rpc").RPCWebSocket,T=window.GLOBAL_ENV.MARKETING_ENDPOINT,A=new d.default("RPCServer:WSS"),P=[];function M(e){return"function"==typeof e?e():e}function N(e){void 0===e&&(e=0);var t=e>0?void 0:function(){if(M(I.listening)){var e=I.address().port;A.info("Starting on "+e);s.default.dispatch({type:m.ActionTypes.RPC_SERVER_READY,port:e})}};I.listen(m.RPC_STARTING_PORT+e%m.RPC_PORT_RANGE,"127.0.0.1",t)}function R(e,t,n,a,o){void 0===a&&(a=200);void 0===o&&(o={});var i=M(e.headers).origin?{"Access-Control-Allow-Origin":M(e.headers).origin,
"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":["Content-Type","Authorization"].join(", ")}:{};n=n?JSON.stringify(n):"";a=200!==a||n.length?a:204;t.setHeader("Content-Length",r.byteLength(n));t.setHeader("Content-Type","application/json");t.writeHead(a,b({},o,{},i));t.end(n)}function w(e,t,n,r,a){void 0===a&&(a=0);R(e,t,{code:a,message:r},n)}var D=function(e){S(t,e);function t(t,n,r){var o;o=e.call(this,"ws",n,r)||this;if(-1===["etf","json"].indexOf(r))throw new p.default(m.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+r);if("etf"===r&&null==a)throw new p.default(m.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");o._socket=t;return o}var n=t.prototype;n.send=function(e){(f.default.isLoggingOverlayEvents||e.cmd!==m.RPCCommands.OVERLAY&&e.evt!==m.RPCEvents.OVERLAY)&&A.info("Socket Emit: "+this.id,(0,v.default)(e))
;null!=a&&"etf"===this.encoding?this._socket.send(a.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))};n.close=function(e,t){this._socket.close(e,t)};return t}(y.default),L=function(e){S(t,e);function t(t,n,r,a){var o;o=e.call(this,"http",r,a)||this;if("json"!==a)throw new p.default(m.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+a);o._sendCallback=t;o._closeCallback=n;return o}var n=t.prototype;n.send=function(e){(f.default.isLoggingOverlayEvents||e.cmd!==m.RPCCommands.OVERLAY)&&A.info("Socket Emit: "+this.id,e);this._sendCallback(e)};n.close=function(e,t){this._closeCallback(t,e)};return t}(y.default),j=new(function(e){S(t,e);function t(){var t;t=e.call(this)||this;var n=0;(I=C.http.createServer()).on("error",(function(e){A.error("Error: "+e.message);("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout((function(){return N(++n)}),1e3)}));I.on("request",t.handleRequest.bind(function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)));N(n);var r={instanceId:I.instanceId||0,server:I};new C.ws.Server(r).on("connection",(function(e){return t.handleConnection(e)}));return t}var n=t.prototype;n.handleRequest=function(e,t){var n=this,r=g(M(e.url).split("?"),2),a=r[0],o=r[1],i=M(e.method);if("/rpc"!==a||"OPTIONS"!==i){var s="POST"===i;if("/rpc"!==a||"GET"!==i&&!s)w(e,t,404,"Not Found");else{var d=u.default.parse(o),f=s?M(e.headers)["content-type"].split("/")[1]:"json",c=function(){var e=l.default.parse(d.callback),n=e.protocol,r=e.host;n===location.protocol&&r===location.host?t.setHeader("Location",d.callback):t.setHeader("Location",T);t.writeHead(301);t.end()},p=new L(s?R.bind(null,e,t):c,s?w.bind(null,e,t,400):c,+d.v,f);if(s)(0,h.validateSocketClient)(p,M(e.headers).origin,d.client_id).then((function(){var r="";e.on("data",(function(e){return r+=e}));e.on("error",(function(){
return w(e,t,500,"Internal Server Error")}));e.on("end",(function(){return n.handleMessage(p,r)}))})).catch((function(e){var t=e.code,n=e.message;return p.close(t,n)}));else{p.authorization.scopes=[m.RPC_PRIVATE_LIMITED_SCOPE];this.handleMessage(p,decodeURIComponent(d.payload))}}}else R(e,t,{body:""})};n.handleConnection=function(e){var t,n=this,r=u.default.parse(M(e.upgradeReq).url.split("?")[1]),a=M(e.upgradeReq).headers.origin||"";try{t=new D(e,+r.v,r.encoding||"json")}catch(t){e.close(t.code,t.message);return}A.info("Socket Opened: "+t.id);e.on("error",(function(e){return A.error("WS Error: "+e.message)}));e.on("close",(function(e,r){A.info("Socket Closed: "+t.id+", code "+e+", message "+r);i.default.remove(P,(function(e){return e===t}));n.emit("disconnect",t)}));(0,h.validateSocketClient)(t,a,r.client_id).then((function(){P.push(t);e.on("message",(function(e){return n.handleMessage(t,e)}));n.emit("connect",t)})).catch((function(e){var n=e.code,r=e.message;return t.close(n,r)}))}
;n.handleMessage=function(e,t){var n;try{if(null!=a&&"etf"===e.encoding)n=a.unpack(t);else{if("string"!=typeof t)throw new Error;n=JSON.parse(t)}}catch(t){e.close(m.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not "+e.encoding);return}(f.default.isLoggingOverlayEvents||n.cmd!==m.RPCCommands.OVERLAY)&&A.info("Socket Message: "+e.id,(0,v.default)(n));this.emit("request",e,n)};return t}(o.default));t.Z=j},593621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(791548)),a=d(n(909243)),o=d(n(318671)),i=d(n(478370)),u=n(367983),l=d(n(176829)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}var f=new r.default("RPCServer:PostMessage"),c=function(e,t,n){(a.default.isLoggingOverlayEvents||e.cmd!==s.RPCCommands.OVERLAY)&&t.info("Socket Message: "+n.id,(0,o.default)(e))};var p=function(){var e=new i.default(u.validateSocketClient,f,l.default,c);window.addEventListener("message",(function(t){
if(window!==t.source)if(null!=t.source&&null!=t.source.postMessage){var n=t.source,r=t.data,a=t.origin;e.handleMessage(r,a,(function(e,t){n.postMessage(e,t)}))}else f.error("Unknown event source")}));return e}();t.default=p},176829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(909243)),a=u(n(318671)),o=u(n(524650)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n,u,l,s,d){return new o.default(e,t,n,u,l,s,d,(function(e,t){(r.default.isLoggingOverlayEvents||e.cmd!==i.RPCCommands.OVERLAY&&e.evt!==i.RPCEvents.OVERLAY)&&s.info("Socket Emit: "+t,(0,a.default)(e))}))};t.default=l},478910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(21774),i=n(770348);var u={init:function(){a.default.subscribe(i.ActionTypes.USER_SETTINGS_UPDATE,o.refreshSearchTokens)
;a.default.subscribe(i.ActionTypes.I18N_LOAD_SUCCESS,o.refreshSearchTokens)}};t.default=u},626643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useStateFromStores)([l.default],(function(){var t,n=l.default.getQuery(e),r=l.default.getRawResults(e);if(null==n||null==r)return[];var u=(0,a.createASTHighlighter)(null!==(t=n.content)&&void 0!==t?t:"");return r.map((function(e){return e.map((function(e){var t=(0,o.createMessageRecord)(e);return t.isSearchHit?t.set("customRenderedContent",(0,i.default)(t,{postProcessor:u})):t}))}))}),[e],r.statesWillNeverBeEqual),n=(0,r.useStateFromStores)([u.default],(function(){var e=0;return[t.map((function(t){return t.filter((function(t){var n=u.default.isBlocked(t.author.id);n&&t.isSearchHit&&e++;return!n||t.isSearchHit}))})),e]}),[t],r.statesWillNeverBeEqual),s=(p=n,v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],c=s[1];var p,v;return{searchResults:f,blockCount:c}};var r=n(536211),a=n(697255),o=n(202929),i=s(n(116518)),u=s(n(290629)),l=s(n(205982));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},326648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(151097)),i=v(n(80828)),u=v(n(186465)),l=v(n(730977)),s=v(n(776360)),d=v(n(550270)),f=n(770348),c=v(n(247001)),p=v(n(794097));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.searchMode,n=e.searchByMode;return m("header",{className:p.default.searchHeader},void 0,a.createElement(g,e),m(u.default,{orientation:"horizontal",className:p.default.searchHeaderTabList,selectedItem:t,onItemSelect:n},void 0,m(u.default.Item,{id:f.SearchModes.NEWEST},void 0,c.default.Messages.SEARCH_NEWEST_SHORT),m(u.default.Item,{id:f.SearchModes.OLDEST
},void 0,c.default.Messages.SEARCH_OLDEST_SHORT),m(u.default.Item,{id:f.SearchModes.MOST_RELEVANT},void 0,c.default.Messages.SEARCH_MOST_RELEVANT_SHORT)))}_.displayName="SearchHeader";function g(e){var t,n=e.isSearching,r=e.isIndexing,o=e.documentsIndexed;(r||n)&&(t=m("div",{className:p.default.spinnerWrapper},void 0,m(i.default,{type:i.default.Type.SPINNING_CIRCLE,className:p.default.spinner,itemClassName:p.default.spinnerPath})));var u=r&&!n;return m("div",{className:p.default.totalResults,role:"status"},void 0,u?m(l.default,{text:c.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:o})},void 0,(function(n){return a.createElement("div",h({className:p.default.totalResultsWrapper},n),a.createElement(E,e),t)})):a.createElement(E,e),u?null:t)}g.displayName="TotalContent";function E(e){var t=e.isSearching,n=e.isIndexing,r=e.totalResults;if(t)return m(s.default,{size:s.default.Sizes.SIZE_16,color:s.default.Colors.HEADER_PRIMARY},void 0,c.default.Messages.SEARCHING)
;if(n)return m(s.default,{size:s.default.Sizes.SIZE_16},void 0,m(o.default,{className:p.default.helpdeskLink,href:d.default.getArticleURL(f.HelpdeskArticles.SEARCH_INDEXING)},void 0,c.default.Messages.STILL_INDEXING));var a=r.toLocaleString();return m(s.default,{size:s.default.Sizes.SIZE_16,color:s.default.Colors.HEADER_PRIMARY},void 0,c.default.Messages.TOTAL_RESULTS.format({count:a}))}},301929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(668281)),o=i(n(574628));function i(e){
return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.changePage,n=e.offset,r=e.totalResults,i=e.pageLength,u=Math.floor(n/i)+1;return l("div",{className:o.default.container},void 0,l(a.default,{currentPage:u,totalCount:r,pageSize:i,onPageChange:t,maxVisiblePages:5}))}s.displayName="SearchPagination"},458517:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(496486)),i=n(659779),u=n(378158),l=v(n(314234)),s=v(n(2914)),d=v(n(644263)),f=v(n(16941)),c=v(n(247001)),p=v(n(248556));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function S(e,t){var n,r=null===(n=window)||void 0===n?void 0:n.getSelection();if(null!=r&&!r.isCollapsed)return!0;if(null==e||null==t)return!1;for(;(0,
i.isElement)(e)&&e!==t;){var a=e.tagName;if("A"===a||"IMG"===a||"BUTTON"===a)return!0;e=e.parentNode}return!1}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).containerRef=a.createRef();t.hitRef=a.createRef();t.handleContextMenu=function(e,t){var r=d.default.getChannel(t.channel_id);if(null!=r){e.stopPropagation();(0,u.openContextMenuLazy)(e,g(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(56530),n.e(25496)]).then(n.bind(n,925496));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,m({},e,{message:t,channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))}};t.jumpTo=function(e){if(null!=e){e.preventDefault();e.stopPropagation()}
var n=t.props,r=n.onJump,a=n.result.find((function(e){return e.isSearchHit}));null!=a&&r(a)};t.handleMessageClick=function(e){S(e.target,t.containerRef.current)?e.stopPropagation():t.jumpTo(e)};return t}t.prototype.render=function(){var e=this,t=this.props,n=t.result,r=t.listItemProps,i=t.searchOffset,u=t.index,v=t.totalResults,y=o.default.find(n,(function(e){return e.isSearchHit}));if(null==y)return null;var _=d.default.getChannel(y.channel_id);if(null==_)return null;var g="search-result-"+y.id;return h(l.default,{ringTarget:this.hitRef,ringClassName:p.default.searchResultFocusRing,offset:4},void 0,a.createElement("li",m({className:p.default.container},r,{"aria-posinset":1+i+u,"aria-setsize":v,"aria-labelledby":g}),h(f.default,{tabIndex:-1,onClick:this.handleMessageClick,innerRef:this.containerRef,className:p.default.searchResult,focusProps:{enabled:!1}},void 0,a.createElement("div",{ref:this.hitRef,className:p.default.message,key:y.id},h(s.default,{id:g,message:y,channel:_,
onContextMenu:function(t){return e.handleContextMenu(t,y)},animateAvatar:!1,subscribeToComponentDispatch:!1}))),h("div",{className:p.default.buttonsContainer,"aria-hidden":!0},void 0,h(f.default,{className:p.default.button,onClick:this.jumpTo},void 0,c.default.Messages.JUMP))))};return t}(a.PureComponent);t.default=O;O.displayName="SearchResult"},315021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.search,n=e.searchId,r=e.renderEmbeds,w=e.scrollTo,D=e.searchResults,L=e.blockCount,U=t.offset,G=t.totalResults,F=t.isSearching,x=t.showBlockedResults,B=h.RenderSpoilers.useSetting(),V=a.useCallback((function(e){e!==S.default.getChannelId()&&u.default.transitionToInviteChannelSync(e)}),[]),W=a.useCallback((function(e){F||s.changePage(n,e-1)}),[n,F]),H=a.useCallback((function(e){if(e.blocked)i.default.show({title:N.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:N.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),
confirmText:N.default.Messages.OKAY});else{var t=m.default.getChannel(e.channel_id),r=null!=t?t.getGuildId():null;l.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:E.default.getAnalyticsId(n)});(0,y.transitionTo)(M.Routes.CHANNEL(r,e.channel_id,e.id))}}),[n]),z=a.useMemo((function(){if(null==D)return[];var e,t=0;return D.reduce((function(n,r){var a=r.find((function(e){return e.isSearchHit}));if(!x&&null!=a&&g.default.isBlocked(a.author.id))return n;var o=m.default.getChannel(r[0].channel_id);if(null==o)return n;null!=e&&e===o.id||n.push({channel:o,results:[],startIndex:t});t+=1;n[n.length-1].results.push(r);e=null==o?void 0:o.id;return n}),[])}),[D,x]),Y=a.useRef([]),K=z.reduce((function(e,t){return e+1+t.results.length}),0),$=a.useCallback((function(e,t){if(d.default.keyboardModeEnabled){var n=Y.current,r=null!=t?n[t]:void 0;if(null!=r&&null!=r.hitRef.current){var a=r.hitRef.current.getClientRects()[0],o=a.top-.5*a.height;w(o,!1,(function(){var t
;null===(t=document.getElementById(e))||void 0===t||t.focus()}))}}}),[w]),q=a.useCallback((function(e){var t=Y.current[e];null==t||t.jumpTo()}),[]),Z=(0,o.useListNavigator)({navId:"search-results",itemCount:K,focusedIndex:0,setFocus:$,onSelect:q}),X=z.map((function(e){var t,o=e.channel,i=e.results,u=e.startIndex,l=null!=o?(0,f.computeChannelName)(o,O.default,g.default,!1):"???",s=null!==(t=(0,c.default)(o))&&void 0!==t?t:C.default,d=_.default.can(M.Permissions.MANAGE_MESSAGES,o);return k(I.SpoilerDisplayContext.Provider,{value:(0,v.default)(B,d)},void 0,k("ul",{role:"group",className:R.default.searchResultGroup,"aria-label":l},o.id+"-"+u,k(b.default,{onClick:function(){return V(o.id)}},void 0,k(T.default,{className:R.default.channelName,size:T.default.Sizes.SIZE_16,color:T.default.Colors.HEADER_PRIMARY},void 0,k(s,{className:R.default.channelNameIcon,width:16,height:16}),k("span",{},void 0,l))),i.map((function(e,t){var o=u+t;return a.createElement(P.default,{ref:function(e){
return Y.current[o]=e},totalResults:G,scrollTo:w,searchId:n,renderEmbeds:r,searchOffset:U,pageResultsLength:i.length,result:e,index:o,key:"search-result-"+o,onJump:H,listItemProps:Z.getItemProps({index:o})})}))))}));X.push();var Q=a.useRef(null);a.useLayoutEffect((function(){var e;null===(e=Q.current)||void 0===e||e.focus()}),[D]);var J=(0,p.useFocusJumpSection)();return a.createElement(a.Fragment,null,a.createElement("div",j({ref:Q},Z.getContainerProps(),J,{"aria-busy":F}),X),L>0?k(b.default,{tag:"div",className:R.default.resultsBlocked,onClick:function(){return s.setShowBlockedResults(n,!x)}},void 0,k("div",{className:R.default.resultsBlockedImage}),k("div",{className:R.default.resultsBlockedText},void 0,x?N.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:L}):N.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:L}))):null,!F&&k(A.default,{changePage:W,offset:U,totalResults:G,pageLength:M.SEARCH_PAGE_SIZE}))}
;var r,a=L(n(667294)),o=n(515664),i=w(n(190040)),u=w(n(23170)),l=w(n(786345)),s=L(n(896846)),d=w(n(235879)),f=n(678928),c=w(n(786661)),p=n(632123),v=w(n(916372)),y=n(139982),h=n(894826),m=w(n(644263)),_=w(n(689389)),g=w(n(290629)),E=w(n(205982)),S=w(n(211136)),O=w(n(728429)),b=w(n(16941)),I=n(364767),C=w(n(562796)),T=w(n(776360)),A=w(n(301929)),P=w(n(458517)),M=n(770348),N=w(n(247001)),R=w(n(464999));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}function j(){j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return j.apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},225379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=j
;var r,a=T(n(667294)),o=I(n(294184)),i=I(n(496486)),u=n(536211),l=I(n(23170)),s=T(n(896846)),d=I(n(844784)),f=n(894826),c=I(n(205982)),p=I(n(211136)),v=I(n(871778)),y=I(n(49465)),h=I(n(235742)),m=n(956506),_=I(n(626643)),g=I(n(326648)),E=I(n(315021)),S=n(770348),O=I(n(247001)),b=I(n(22542));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}var R=function(e){M(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).autoAnalytics=function(e){void 0===e&&(e=null);if(null!=t.props.searchAnalyticsId){var n=0,r=0,a=0,o=0
;null!=t.props.searchResults&&(0,i.default)(t.props.searchResults).flatten().filter((function(e){return e.isSearchHit})).forEach((function(e){if(null!=e.content&&""!==e.content){n++;/https?:\/\/[^\s]+/.test(e.content)&&o++}null!=e.embeds&&e.embeds.length>0&&a++;null!=e.attachments&&e.attachments.length>0&&r++}));d.default.trackWithMetadata(S.AnalyticEvents.SEARCH_RESULT_VIEWED,{search_type:t.props.searchType,search_id:t.props.searchAnalyticsId,prev_search_id:e!==t.props.searchAnalyticsId?e:null,is_error:t.props.searchHasError,limit:t.props.searchLimit,offset:t.props.searchOffset,page:Math.floor(t.props.searchOffset/t.props.searchLimit)+1,total_results:t.props.searchTotalResults,page_results:null!=t.props.searchResults?t.props.searchResults.length:null,is_indexing:t.props.searchIsIndexing,page_num_messages:n,page_num_links:o,page_num_embeds:a,page_num_attach:r})}};return t}var n=t.prototype;n.componentDidMount=function(){this.autoAnalytics()};n.componentDidUpdate=function(e){
this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)};n.render=function(){return null};return t}(a.Component);R.displayName="SearchResultsViewedAutoAnalytics";var w=function(e){var t=e.children;return P("div",{className:b.default.emptyResultsWrap},void 0,P("div",{className:b.default.emptyResultsContent},void 0,t))};w.displayName="EmptyResults";var D=P(y.default,{}),L=function(e){M(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).state={searchMode:S.SearchModes.NEWEST};t.scrollerRef=a.createRef();t.scrollTo=function(e,n,r){var a=t.scrollerRef.current;if(null!=a){var o=a.getScrollerState().scrollTop-e;a.scrollTo({to:o,animate:n,callback:r})}};t.selectChannel=function(e){e!==p.default.getChannelId()&&l.default.transitionToInviteChannelSync(e)};t.searchPrevious=function(){var e=t.props,n=e.searchId
;e.search.isSearching||s.searchPreviousPage(n)};t.searchNext=function(){var e=t.props,n=e.searchId;e.search.isSearching||s.searchNextPage(n)};t.handleSearchResultsClose=function(){var e=t.props.searchId;s.clearSearchState(e)};t.searchByMode=function(e){var n=t.props,r=n.searchId,a=n.search.isSearching;if(e!==t.state.searchMode&&!a){d.default.trackWithMetadata(S.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED,{search_id:c.default.getAnalyticsId(r),new_sort_type:e});s.searchByMode(r,e);t.setState({searchMode:e})}};t.toggleShowBlockedMessages=function(){var e=t.props,n=e.searchId,r=e.search.showBlockedResults;s.setShowBlockedResults(n,!r)};t.renderHeader=function(){var e=t.state.searchMode,n=t.props.search,r=n.totalResults,a=n.isSearching,o=n.isHistoricalIndexing,i=n.documentsIndexed;return P(g.default,{searchMode:e,searchByMode:t.searchByMode,totalResults:r,isSearching:a,isIndexing:o,documentsIndexed:i})};t.renderIndexing=function(){
var e=c.default.getSearchType(t.props.searchId)===S.SearchTypes.GUILD?O.default.Messages.SEARCH_GUILD_STILL_INDEXING:O.default.Messages.SEARCH_DM_STILL_INDEXING;return P(w,{},void 0,D,P("div",{className:(b.default.emptyResultsText,b.default.stillIndexing)},void 0,e))};t.renderNoResults=function(){var e,n,r=t.props.search.showNoResultsAlt,a=r?O.default.Messages.SEARCH_NO_RESULTS_ALT:O.default.Messages.SEARCH_NO_RESULTS;return P(w,{},void 0,P("div",{className:(0,o.default)(b.default.noResultsImage,(e={},e[b.default.alt]=r,e))}),P("div",{className:(0,o.default)(b.default.emptyResultsText,b.default.noResults,(n={},n[b.default.alt]=r,n))},void 0,a))};t.renderError=function(){return P(w,{},void 0,P("div",{className:b.default.errorImage}),P("div",{className:(0,o.default)(b.default.emptyResultsText,b.default.errorMessage)},void 0,O.default.Messages.SEARCH_ERROR))};t.renderContent=function(){
var e=t.props,n=e.searchResults,r=e.blockCount,a=t.props.search,o=a.totalResults,i=a.isSearching,u=a.isIndexing;return a.hasError?t.renderError():u?t.renderIndexing():i?null:o>0?P(E.default,{search:t.props.search,searchResults:n,blockCount:r,searchId:t.props.searchId,renderEmbeds:t.props.renderEmbeds,scrollTo:t.scrollTo}):t.renderNoResults()};return t}var n=t.prototype;n.componentDidMount=function(){m.ComponentDispatch.subscribe(S.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};n.componentWillUnmount=function(){m.ComponentDispatch.unsubscribe(S.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};n.componentDidUpdate=function(e){var t=e.search;if(this.props.search.showBlockedResults!==t.showBlockedResults){var n=this.scrollerRef.current;if(null==n)return;n.scrollToBottom()}};n.render=function(){
var e=this.props,t=e.searchAnalyticsId,n=e.searchType,r=e.searchResults,o=this.props.search,i=o.offset,u=o.hasError,l=o.totalResults,s=o.isHistoricalIndexing;return P("section",{className:b.default.searchResultsWrap,"aria-label":O.default.Messages.SEARCH_RESULTS_SECTION_LABEL},void 0,this.renderHeader(),a.createElement(h.default,{ref:this.scrollerRef,className:b.default.scroller},this.renderContent()),P(R,{searchType:n,searchAnalyticsId:t,searchResults:r,searchOffset:i,searchLimit:S.SEARCH_PAGE_SIZE,searchHasError:u,searchTotalResults:l,searchIsIndexing:s}))};return t}(a.PureComponent);L.displayName="SearchResults";function j(e){var t=e.searchId;return a.createElement(L,A({searchId:t},(0,u.useStateFromStoresObject)([c.default],(function(){return{search:c.default.getResultsState(t),searchAnalyticsId:c.default.getAnalyticsId(t),searchType:c.default.getSearchType()}}),[t]),(0,_.default)(t),{renderEmbeds:f.RenderEmbeds.useSetting(),developerMode:f.DeveloperMode.useSetting()},(0,
u.useStateFromStoresObject)([v.default],(function(){return{theme:v.default.theme}}))))}j.displayName="ConnectedSearchResults"},394444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.UserSettingsManager=void 0;var r=l(n(636602)),a=l(n(929031)),o=l(n(177230)),i=l(n(871778)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=!1,f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(u.ActionTypes.CONNECTION_OPEN,this.setVerifyTimezone);r.default.subscribe(u.ActionTypes.CONNECTION_OPEN_SUPPLEMENTAL,this.maybeShowChangeLanguageToast);r.default.subscribe(u.ActionTypes.OVERLAY_INITIALIZE,this.setVerifyTimezone)
;r.default.subscribe(u.ActionTypes.USER_SETTINGS_UPDATE,this.ensureTimezoneUpdated)};n.maybeShowChangeLanguageToast=function(){};n._terminate=function(){r.default.unsubscribe(u.ActionTypes.CONNECTION_OPEN,this.setVerifyTimezone);r.default.unsubscribe(u.ActionTypes.OVERLAY_INITIALIZE,this.setVerifyTimezone);r.default.unsubscribe(u.ActionTypes.USER_SETTINGS_UPDATE,this.ensureTimezoneUpdated)};n.setVerifyTimezone=function(){d=!0};n.ensureTimezoneUpdated=function(){if(d){d=!1;var e=(new Date).getTimezoneOffset();i.default.timezoneOffset!==e&&setImmediate((function(){return a.default.updateRemoteSettings({timezoneOffset:e})}))}};return t}(o.default);t.UserSettingsManager=f;var c=new f;t.default=c},610929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(null==e)return!1;return a.default.getCurrentConfig({guildId:e.guild_id}).allowSoundboard&&e.type!==o.ChannelTypes.GUILD_STAGE_VOICE};var r,a=(r=n(915188))&&r.__esModule?r:{default:r},o=n(770348)
},205809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isSoundboardSupported=u;t.useIsSoundboardSupported=function(){return(0,a.useStateFromStores)([o.default],(function(){return u(o.default)}))};var r,a=n(536211),o=(r=n(635014))&&r.__esModule?r:{default:r},i=n(376293);function u(e){void 0===e&&(e=o.default);return e.supports(i.Features.SAMPLE_PLAYBACK)}},362978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.sounds,r=e.guild,y=f.BoostedGuildFeatures[r.premiumTier].limits.soundboardSounds,h=t.length>=y;function g(){(0,s.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65026)]).then(n.bind(n,465026));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,_({},e,{guildId:r.id}))}));case 5:case"end":return e.stop()}}),e)}))))}
var S=function(e){var t;return a.createElement(i.default,_({},e,{className:(0,o.default)(p.default.soundButton,v.default.soundAddButton,(t={},t[v.default.soundAddButtonDisabled]=h,t)),onClick:h?void 0:g}),m(l.default,{className:v.default.soundAddIcon}),m(d.default,{size:d.default.Sizes.SIZE_12,color:d.default.Colors.HEADER_PRIMARY},void 0,c.default.Messages.SOUNDBOARD_SOUND_ADD_SOUND),m("div",{className:(0,o.default)(v.default.buttonOverlay,p.default.buttonOverlay)}))};if(h)return m(u.default,{text:c.default.Messages.SOUNDBOARD_SOUND_ADD_DISABLED.format({maxSounds:y})},void 0,(function(e){return S(e)}));return S()};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=y(n(16941)),u=y(n(730977)),l=y(n(155393)),s=n(194322),d=y(n(776360)),f=n(265517),c=y(n(247001)),p=y(n(573473)),v=y(n(842496));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}},830900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=v(n(423405)),i=v(n(222935)),u=v(n(143414)),l=v(n(160629)),s=v(n(982244)),d=v(n(915188)),f=v(n(751037)),c=v(n(247001)),p=["channel"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){
var t=e.channel,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p),r=t.getGuildId(),v=(0,o.default)(t),y=v.mute,_=v.suppress;d.default.useExperiment({guildId:null!=r?r:""},{autoTrackExposure:null!=r});return null==r||y||_?null:m(l.default,{position:l.default.Positions.TOP,renderPopout:function(e){var t=e.closePopout;return m(i.default,{},void 0,m(f.default,{guildId:r,onClose:t,analyticsSource:"call button"}))}},void 0,(function(e){return a.createElement(u.default,h({},e,{label:c.default.Messages.GUILD_SETTINGS_SOUNDBOARD,iconComponent:s.default},n))}))}_.displayName="SoundboardCallButton"},954500:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(948924),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}
var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){__OVERLAY__||r.default.subscribe(i.ActionTypes.GUILD_SOUNDBOARD_SOUND_REQUEST_PLAY,this._handleSoundboardRequestPlay)};n._terminate=function(){__OVERLAY__||r.default.unsubscribe(i.ActionTypes.GUILD_SOUNDBOARD_SOUND_REQUEST_PLAY,this._handleSoundboardRequestPlay)};n._handleSoundboardRequestPlay=function(e){var t=e.soundId,n=e.analyticsLocation;(0,o.playSoundboardSound)(t,n)};return t}(a.default));t.default=s},751037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k
;var r,a=R(n(667294)),o=n(47354),i=n(536211),u=M(n(954140)),l=M(n(37039)),s=M(n(185948)),d=M(n(526098)),f=M(n(964285)),c=M(n(30098)),p=M(n(893160)),v=M(n(151097)),y=M(n(16941)),h=M(n(80828)),m=n(688388),_=M(n(634230)),g=n(194322),E=M(n(776360)),S=R(n(948924)),O=M(n(637193)),b=M(n(625483)),I=M(n(273872)),C=M(n(362978)),T=n(770348),A=M(n(247001)),P=M(n(883740));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}var j=w(h.default,{});function k(e){var t=e.guildId,r=e.analyticsSource,c=e.onClose,h=(0,i.useStateFromStores)([O.default],(function(){return O.default.getSoundsForGuild(t)})),I=(0,i.useStateFromStores)([O.default],(function(){
return O.default.getIsFetchingSoundsForGuild(t)})),C=(0,i.useStateFromStores)([p.default],(function(){return p.default.getMediaSessionId()})),M=(0,l.default)(u.default.SOUNDBOARD_POPOUT),N=M.analyticsLocations,R=M.AnalyticsLocationProvider,D=(0,b.default)(),k=D.playSound,G=D.checkIsPlayingSound;function F(){c();(0,g.openModalLazy)(L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(72936),n.e(31656)]).then(n.bind(n,431656));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}(0,s.default)({type:o.ImpressionTypes.POPOUT,name:o.ImpressionNames.SOUNDBOARD_POPOUT,properties:{source:r,guild_id:t,media_session_id:C}});a.useEffect((function(){S.fetchSoundsForGuild(t)}),[t]);return w(R,{},void 0,w("div",{className:P.default.root},void 0,w("div",{className:P.default.header
},void 0,w(m.FormTitle,{className:P.default.headerText},void 0,A.default.Messages.GUILD_SETTINGS_SOUNDBOARD,w(d.default,{className:P.default.betaTag})),w(y.default,{className:P.default.settingsClickArea,onClick:function(){c();f.default.open(t,T.GuildSettingsSections.SOUNDBOARD)}},void 0,w(_.default,{className:P.default.settingsIcon}))),I?j:w(U,{guildId:t,onPlay:function(e){k(e,N)},checkIsPlayingSound:G,sounds:h}),w(E.default,{className:P.default.keybindHint,size:E.default.Sizes.SIZE_12},void 0,A.default.Messages.SOUNDBOARD_KEYBIND_HINT.format({openSettingsHook:function(e,t){return w(v.default,{onClick:F},t,e)}}))))}k.displayName="SoundboardPopout";function U(e){var t=e.sounds,n=e.guildId,r=e.onPlay,a=e.checkIsPlayingSound,o=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuild(n)}));return null==o?null:w("div",{className:P.default.soundGrid},void 0,t.map((function(e){return w(I.default,{playing:a(e.id),sound:e,onPlay:function(){return r(e.id)}},e.id)
})),w(C.default,{sounds:t,guild:o}))}U.displayName="SoundGrid"},131020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(468811)),i=n(923387),u=E(n(954140)),l=E(n(37039)),s=n(55922),d=E(n(265328)),f=E(n(423405)),c=E(n(956117)),p=E(n(160629)),v=E(n(730977)),y=E(n(982244)),h=E(n(915188)),m=E(n(751037)),_=E(n(247001)),g=["channel","iconClassName"];function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(S=function(e){return e?n:t})(e)}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=e.channel,n=e.iconClassName,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,g),E=(0,f.default)(t),S=E.mute,C=E.suppress,T=t.getGuildId(),A=I((0,
s.useGetDismissibleContent)([i.DismissibleContent.SOUNDBOARD_EDUCATION]),2),P=A[0],M=A[1],N=(0,l.default)(u.default.SOUNDBOARD_BUTTON).AnalyticsLocationProvider,R=o.default.v4();function w(e){null==e||e();M()}h.default.useExperiment({guildId:null!=T?T:""},{autoTrackExposure:null!=T});if(null==T)return null;var D=b(y.default,{className:n}),L=function(e){return b(p.default,{position:p.default.Positions.TOP,renderPopout:function(e){var t=e.closePopout;return b(m.default,{guildId:T,onClose:t,analyticsSource:"rtc panel"})}},void 0,(function(t){return a.createElement(c.default,O({},e,t,{disabled:S||C,onClick:function(n){var r;w();null==e||null===(r=e.onClick)||void 0===r||r.call(e);t.onClick(n)},fullWidth:!0,size:c.default.Sizes.SMALL},r),D)}))};if(P===i.DismissibleContent.SOUNDBOARD_EDUCATION)return b(p.default,{positionKey:R,position:p.default.Positions.TOP,align:p.default.Align.CENTER,shouldShow:!0,renderPopout:function(e){var t=e.closePopout;return b(d.default,{
header:_.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_HEADER,body:_.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_BODY,tryItText:_.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_GOT_IT,onTryFeature:function(){return w(t)},closePopout:function(){return w(t)},analyticsName:"Soundboard"})}},void 0,(function(){return L()}));return b(N,{},void 0,b(v.default,{text:S?_.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE:C?_.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED:_.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD},void 0,(function(e){return L(e)})))}T.displayName="SoundboardRTCPanelButton"},619476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r=(0,a.useStateFromStores)([u.default,i.default],(function(){return null!=t?(0,s.default)(u.default,i.default,t,e):void 0}),[e,t]);if(null==r||null==e||null==t)return null
;var v=r.isCurrentUser||r.notPlayable||r.playingSameTrack,y=r.isCurrentUser||r.syncingWithUser||r.syncingWithParty;return[h(o.MenuItem,{id:"spotify-play-"+e.session_id,action:function(){return(0,f.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_PLAY,n)},label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_PLAY_ON_SPOTIFY,subtext:v?(0,l.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_PLAY):void 0,disabled:v}),r.canPlaySpotify?h(o.MenuItem,{id:"spotify-sync-"+e.session_id,action:function(){return(0,d.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_SYNC,n)},label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG,subtext:y?(0,l.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_SYNC):void 0,disabled:y}):null]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=v(n(423046)),u=v(n(146411)),l=v(n(601715)),s=v(n(985923)),d=v(n(909630)),f=v(n(669790)),c=n(673810),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},1430:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.audienceAckRequestToSpeak=E;t.editStage=function(e,t,n){return b.apply(this,arguments)};t.endStage=function(e){return I.apply(this,arguments)};t.inviteUserToStage=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,t),body:{suppress:!1,request_to_speak_timestamp:(new Date).toISOString(),channel_id:e.id}})};t.moveSelfToAudience=function(e){var t=null==e?void 0:e.getGuildId();(0,r.default)(null!=t,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(t),body:{suppress:!0,channel_id:e.id,self_video:!1,self_stream:!1}})};t.moveUserToAudience=function(e,t){if(null==t||null==e)return;var n=t.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");S(t,e.id,!0);return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,e.id),body:{suppress:!0,channel_id:t.id,
self_video:!1,self_stream:!1}})};t.removeUserFromChannel=function(e,t){var n=null==t?void 0:t.getGuildId();if(null==n||null==e)return;u.default.setChannel(n,e.id,null)};t.setEveryoneRolePermissionAllowed=function(e,t,n){var o=e.getGuildId();(0,r.default)(null!=o,"Channel cannot be guildless");var u=e.permissionOverwrites[o],s=g({id:o,type:l.PermissionOverwriteType.ROLE,allow:f.default.NONE,deny:f.default.NONE},u);if(n){s.allow=a.default.add(s.allow,t);s.deny=a.default.remove(s.deny,t)}else{s.allow=a.default.remove(s.allow,t);s.deny=a.default.add(s.deny,t)}i.default.updatePermissionOverwrite(e.id,s)};t.setUserSuppress=S;t.startStage=function(e,t,n,r){return O.apply(this,arguments)};t.toggleRequestToSpeak=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");t&&(0,s.trackWithMetadata)(y.AnalyticEvents.REQUEST_TO_SPEAK_INITIATED,g({},(0,c.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{
request_to_speak_timestamp:t?(new Date).toISOString():null,channel_id:e.id}})};var r=h(n(441143)),a=h(n(267258)),o=h(n(118915)),i=h(n(709403)),u=h(n(415275)),l=n(81069),s=n(844784),d=h(n(387692)),f=h(n(656016)),c=n(411315),p=n(169769),v=n(104144),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){var n=null==e?void 0:e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");var a=d.default.getVoiceStateForChannel(e.id);(0,
v.getAudienceRequestToSpeakState)(a)!==v.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK||t||(0,s.trackWithMetadata)(y.AnalyticEvents.PROMOTED_TO_SPEAKER,g({},(0,c.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{suppress:t,request_to_speak_timestamp:null,channel_id:e.id}})}function S(e,t,n){var a=e.getGuildId();(0,r.default)(null!=a,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(a,t),body:{suppress:n,channel_id:e.id}})}function O(){return(O=_(regeneratorRuntime.mark((function e(t,n,r,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.startStageInstance)(t.id,n,r,a);case 4:o=e.sent;E(t,!1);return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=_(regeneratorRuntime.mark((function e(t,n,r){var a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.updateStageInstance)(t.id,n,r);case 4:a=e.sent;return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=_(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,p.endStageInstance)(t.id);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},685810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.participantMemberInfo=function(e){var t;if((0,a.isNewUser)(e.user))return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_TO_DISCORD;var n=null===(t=e.member)||void 0===t?void 0:t.joinedAt;if(null==n)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NON_MEMBER;if(null!=e.member&&e.member.roles.length>0){var r,i
;return null!==(r=null===(i=e.role)||void 0===i?void 0:i.name)&&void 0!==r?r:o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER_ROLES}if((new Date).getTime()-Date.parse(n)<864e5)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_MEMBER;return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER};var r,a=n(873838),o=(r=n(247001))&&r.__esModule?r:{default:r}},411315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fillChunk=function(e,t,n){var a=(0,r.chunk)(e,t),o=null!=n?n:t;return a.reduce((function(e,t){if(o<=t.length)return[].concat(v(e),[t]);var n=[].concat(v(t),v(new Array(o-t.length).fill(null)));return[].concat(v(e),[n])}),[])};t.getRemoveModeratorTooltipHint=function(e,t){switch(e){case d.RowType.OWNER:return f.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case d.RowType.ADMINISTRATOR:return f.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case d.RowType.MEMBER:case d.RowType.ROLE:
return t?f.default.Messages.CHANNEL_PERMISSIONS_CANNOT_REMOVE_PERMISSIONS:f.default.Messages.CHANNEL_PERMISSIONS_REMOVE_MODERATOR_TOOLTIP;case d.RowType.EMPTY_STATE:return null}};t.getStageChannelMetadata=function(e){var t=u.default.getStageInstanceByChannel(e.id);return{channel_id:e.id,guild_id:e.guild_id,topic:null==t?void 0:t.topic,media_session_id:a.default.getMediaSessionId(),request_to_speak_state:i.default.canEveryoneRole(s.Permissions.REQUEST_TO_SPEAK,e)?l.RequestToSpeakPermissionStates.EVERYONE:l.RequestToSpeakPermissionStates.NO_ONE,stage_instance_id:null==t?void 0:t.id}};t.isVersionEqual=function(e,t){var n=p(e,2)[1],r=p(t,2)[1];return n===r};t.summarizeUsernamesParticipating=function(e,t,n,r){var a=t[0],i=o.default.getName(e,n,a),u=null!=r?r:t.length;if(1===u&&null!=a)return i;if(null==a)return f.default.Messages.SPEAKING_COUNT.format({count:u});return f.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:i,count:u-1})}
;t.summarizeUsernamesParticipatingWithSpeakerNickname=function(e,t,n){var r=null!=n?n:e.length;if(1===r&&null!=t)return t;if(null==t)return f.default.Messages.SPEAKING_COUNT.format({count:r});return f.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:t,count:r-1})};var r=n(496486),a=c(n(893160)),o=c(n(29652)),i=c(n(656016)),u=c(n(217964)),l=n(808961),s=n(770348),d=n(739889),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||y(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},342716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=v(n(636602)),a=v(n(740207)),o=n(123516),i=v(n(177230)),u=n(747868),l=v(n(607209)),s=v(n(423046)),d=v(n(644263)),f=v(n(635014)),c=n(104144),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).handleVoiceStateUpdates=function(e){var n=e.voiceStates,r=s.default.getId();n.forEach((function(e){var n;if(e.userId===r){if(null===(n=d.default.getChannel(e.channelId))||void 0===n?void 0:n.isGuildStageVoice()){if(!((0,c.getAudienceRequestToSpeakState)(e)===c.RequestToSpeakStates.ON_STAGE)){t.handleStopStream(e);t.handleStopUserVideo()}}}}))};t.handleStopStream=function(e){var t=l.default.getActiveStreamForUser(e.userId)
;null!=t&&(0,o.stopStream)((0,u.encodeStreamKey)(t),!1)};t.handleStopUserVideo=function(){f.default.isVideoEnabled()&&a.default.setVideoEnabled(!1)};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(p.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};n._terminate=function(){r.default.unsubscribe(p.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};return t}(i.default));t.default=h},169769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.endStageInstance=function(e){return a.default.delete(o.Endpoints.STAGE_INSTANCE(e))};t.startStageInstance=function(e,t,n,r,a){return l.apply(this,arguments)};t.updateStageInstance=function(e,t,n){return s.apply(this,arguments)};var r,a=(r=n(118915))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){i(o,r,a,u,l,"next",e)}function l(e){i(o,r,a,u,l,"throw",e)}u(void 0)}))}}function l(){return(l=u(regeneratorRuntime.mark((function e(t,n,r,i,u){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.post({url:o.Endpoints.STAGE_INSTANCES,body:{channel_id:t,topic:n,privacy_level:r,guild_scheduled_event_id:u,send_start_notification:i}});case 2:l=e.sent;return e.abrupt("return",l.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=u(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.patch({url:o.Endpoints.STAGE_INSTANCE(t),body:{topic:n,privacy_level:r}});case 2:i=e.sent;return e.abrupt("return",i.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},913687:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.isGuildStageVoice())return!1;if(!u.default.isLive(e.id))return!1;var t=r.default.getId();if(!i.default.isModerator(t,e.id))return!1;var n=a.default.getMutableParticipants(e.id,o.StageChannelParticipantNamedIndex.MODERATOR);if(n.length<=1)return!0;if(!i.default.isSpeaker(t,e.id))return!1;return n.filter((function(e){return e.id!==t&&e.speaker})).length<=0};var r=l(n(423046)),a=l(n(897191)),o=n(921867),i=l(n(258079)),u=l(n(217964));function l(e){return e&&e.__esModule?e:{default:e}}},530877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getId()}));return(0,i.default)(t,e)===i.RequestToSpeakStates.ON_STAGE};var r,a=n(536211),o=(r=n(423046))&&r.__esModule?r:{default:r},i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(104144));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},724571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,r.useStateFromStores)([a.default,o.default,i.default],(function(){var t=a.default.getId();return o.default.getVoiceChannelId()===e?i.default.getPermissionsForUser(t,e):null}),[e])};var r=n(536211),a=u(n(423046)),o=u(n(211136)),i=u(n(258079));function u(e){return e&&e.__esModule?e:{default:e}}},902477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useRequestToSpeakPermission=function(e){
var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getChannel(e)}),[e]),n=i.default.canEveryoneRole(l.Permissions.REQUEST_TO_SPEAK,t),s=(p=r.useState(n),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(p,v)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],c=s[1];var p,v;r.useEffect((function(){n!==d&&c(n)}),[n]);return[d,function(e){if(null!=t){c(e);(0,u.setEveryoneRolePermissionAllowed)(t,l.Permissions.REQUEST_TO_SPEAK,e)}}]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=s(n(644263)),i=s(n(656016)),u=n(1430),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},945544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useStageChannelParticipantsList=m;t.useStageChannelParticipantsListThrottled=function(e,t,n,r){void 0===r&&(r=!1);var a=m(e,t,r),o=v(a,2),i=o[0],u=o[1],l=v((0,f.useThrottledState)(a,n,[t[s.StageChannelParticipantNamedIndex.AUDIENCE]]),2),d=l[0],c=l[1],p=[i[_.SELECTED],i[_.SPEAKER],d[_.AUDIENCE]],y=[u[_.SELECTED],u[_.SPEAKER],c[_.AUDIENCE]];if(r){p.splice(1,0,i[_.MEDIA]);y.splice(1,0,u[_.MEDIA])}return[p,y]};t.useThrottleDurationForChannel=function(e){var t=(0,l.useStageParticipantsCount)(e,s.StageChannelParticipantNamedIndex.AUDIENCE),n=v(r.useState(!1),2),a=n[0],o=n[1];r.useEffect((function(){t>100?o(!0):t<75&&o(!1)}),[t]);return a?5e3:0};var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486),o=n(536211),i=c(n(825724)),u=c(n(897191)),l=n(216554),s=n(921867),d=n(411315),f=n(2663);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0
;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){var l=(0,o.useStateFromStores)([u.default],(function(){return[e,u.default.getParticipantsVersion(e)]}),[e],d.isVersionEqual),f=(0,o.useStateFromStores)([i.default],(function(){return i.default.getSelectedParticipantId(e)}),[e]);return r.useMemo((function(){var r=[],o=[],i=-1,d=[];if(n)for(var c,p=function(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(u.default.getMutableParticipants(e,s.StageChannelParticipantNamedIndex.SPEAKER));!(c=p()).done;){var v=c.value;if(!v.voiceState.selfVideo&&v.type!==s.StageChannelParticipantTypes.STREAM)break;v.id!==f&&d.push(v);i++}var h=function(e,t,n){var u=n?e.filter((function(e,t){return e.id!==f&&t>i})):e,l=(0,a.chunk)(u,t);o.push(l);r.push(l.length)},m=null!=f?u.default.getParticipant(e,f):null;(null==m?void 0:m.speaker)?h([m],1,!1):h([],1,!1);[s.StageChannelParticipantNamedIndex.SPEAKER,s.StageChannelParticipantNamedIndex.AUDIENCE].forEach((function(e){
h(u.default.getMutableParticipants(l[0],e),t[e],e===s.StageChannelParticipantNamedIndex.SPEAKER)}));h(d,1,!1);return[r,o]}),[l,t,f,n,e])}var _;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE";e[e.MEDIA=3]="MEDIA"}(_||(_={}))},641474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=3);return(n=(0,a.useStateFromStores)([o.default],(function(){for(var n,r=o.default.getMutableParticipants(e),a=[],i=function(){var e=n.value;if(a.length>=t)return"break";if(null!=a.find((function(t){return t.id===e.user.id})))return"continue";a.push(e.user)},l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(n=l()).done;){var s=i();if("break"===s)break}return[{participants:r,usersInSummary:a},o.default.getParticipantsVersion(e)]}),[e,t],i.isVersionEqual),r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(n,r)||u(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];var n,r};var r,a=n(536211),o=(r=n(897191))&&r.__esModule?r:{default:r},i=n(411315);function u(e,t){if(e){
if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},2663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useThrottledState=t.useThrottledFunction=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486);function o(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){return e};t.useThrottledState=function(e,t,n,a){void 0===n&&(n=[]);var o=s(l,t,n,a),i=r.useRef(e)
;r.useEffect((function(){var t=o(e);i.current=t}),[e,o]);return 0===t?e:i.current};var s=function(e,t,n,o){void 0===n&&(n=[]);var u=r.useRef((0,a.throttle)(e,t,o));r.useEffect((function(){u.current=(0,a.throttle)(e,t,o);return function(){var e;null===(e=u.current)||void 0===e||e.cancel()}}),[e,t,o].concat(i(n)));return u.current};t.useThrottledFunction=s},462867:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getId()})),n=(0,l.default)(t,e.id),r=n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK||n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,s=(p=a.useState(r),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],c=s[1];var p,v;a.useEffect((function(){c(r)}),[r]);return[d,function(){n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK?(0,u.audienceAckRequestToSpeak)(e,!0):(0,u.toggleRequestToSpeak)(e,!d);c(!d)}]};var r,a=d(n(667294)),o=n(536211),i=(r=n(423046))&&r.__esModule?r:{default:r},u=n(1430),l=d(n(104144));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t
})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},158579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=s(n(667294)),i=s(n(2850)),u=(r=n(339753))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=o.memo((function(e){var t=e.channel,n=e.participants,r=e.maxTiles;if(0===n.length)return null;for(var a=[],o=0;o<r;o++)if(o<n.length){var l=n[o];a.push(d(i.default,{channel:t,participant:l},l.id))}else a.push(d(i.AudienceEmptyTile,{},o))
;return d("div",{className:u.default.participants},void 0,a)}));t.default=f},386191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(776360)),i=l(n(247001)),u=l(n(326714));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=a.memo((function(e){var t,n=e.role,r=e.participantCount;return d("div",{className:u.default.roleContainer},void 0,d(o.default,{className:u.default.roleName,size:o.default.Sizes.SIZE_12},void 0,null!==(t=null==n?void 0:n.name)&&void 0!==t?t:i.default.Messages.AUDIENCE_LABEL,"—",r))}));t.default=f},2850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.AudienceEmptyTile=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=b(n(294184)),i=b(n(441143)),u=n(536211),l=n(378158),s=n(205562),d=b(n(711195)),f=b(n(414068)),c=b(n(876874)),p=b(n(16941)),v=b(n(160629)),y=b(n(337322)),h=b(n(782732)),m=b(n(924671)),_=b(n(776360)),g=b(n(29652)),E=n(104144),S=n(770348),O=b(n(967709));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=a.memo((function(e){var t=e.guildId,n=e.channelId,r=e.user,a=e.isPremium,o=e.isBlocked;return P("div",{className:O.default.textContainer},void 0,o?P(y.default,{className:O.default.blockedIcon,color:S.Colors.STATUS_RED}):null,P(_.default,{className:O.default.text,size:_.default.Sizes.SIZE_14,color:_.default.Colors.HEADER_PRIMARY},void 0,g.default.getName(t,n,r)),a?P(h.default,{
className:O.default.boost,color:S.Colors.GUILD_BOOSTING_PINK}):null)})),N=a.memo((function(e){var t,n,r,i=e.participant,u=e.guildId,l=e.channel,s=e.isPremium,d=i.user,f=i.blocked,c=i.rtsState,p=c===E.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,v=c===E.RequestToSpeakStates.REQUESTED_TO_SPEAK||p;return a.createElement(a.Fragment,null,P("div",{className:O.default.avatarContainer},void 0,v&&P(m.default,{className:(0,o.default)(O.default.icon,(t={},t[O.default.invited]=p,t))}),P("img",{src:null!==(n=d.getAvatarURL(l.guild_id,56,!1))&&void 0!==n?n:void 0,alt:d.username,"aria-label":d.username,className:(0,o.default)(O.default.avatar,(r={},r[O.default.faded]=f,r))})),P(M,{guildId:u,channelId:l.id,user:d,isPremium:s,isBlocked:f}))})),R=function(){return P("div",{className:O.default.tileBaseContainer})};t.AudienceEmptyTile=R;R.displayName="AudienceEmptyTile";var w=a.memo((function(e){var t=e.participant,r=e.channel,y=t.user,h=t.blocked,m=r.getGuildId(),_=(0,
s.useAppContext)(),g=(0,u.useStateFromStores)([c.default],(function(){var e;return null!=m&&null!=(null===(e=c.default.getMember(m,y.id))||void 0===e?void 0:e.premiumSince)}),[m,y.id]);(0,i.default)(null!=m,"Channel cannot be guildless");var E=a.useCallback((function(e){(0,l.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,C({},e,{user:y,guildId:m,channelId:r.id,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:_})}),[y,m,r.id,_]),S=a.useCallback((function(e){return a.createElement(f.default,C({},e,{guildId:m,channelId:r.id,userId:y.id}))}),[r.id,m,y.id]),b=P(N,{participant:t,guildId:m,channel:r,
isPremium:g});return P(v.default,{preload:function(){return(0,d.default)(y.id,y.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:S,position:v.default.Positions.RIGHT,spacing:8},void 0,(function(e){var t;return a.createElement(p.default,C({className:(0,o.default)(O.default.tileContainer,(t={},t[O.default.singleIcon]=g||h,t[O.default.doubleIcon]=g&&h,t)),onContextMenu:E},e),b)}))}));t.default=w},226155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=d(n(709578)),i=d(n(635014)),u=d(n(974661)),l=d(n(180573)),s=["aspectRatio","blocked","channel","className","focused","children","inCall","inPopout","noBorder","onClick","onContextMenu","onDoubleClick","onVideoResize","paused","pulseSpeakingIndicator","participant","width"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.aspectRatio,n=e.blocked,r=e.channel,d=e.className,f=e.focused,v=e.children,y=e.inCall,h=e.inPopout,m=e.noBorder,_=e.onClick,g=e.onContextMenu,E=e.onDoubleClick,S=e.onVideoResize,O=e.paused,b=e.pulseSpeakingIndicator,I=e.participant,C=e.width,T=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),A=i.default.getVideoComponent();return c("div",{style:{width:C},className:l.default.spaceBetweenTiles},void 0,c(u.default,{className:l.default.tileSizer,aspectRatio:t},void 0,a.createElement(o.default,p({blocked:n,channel:r,className:d,focused:f,inCall:y,inPopout:h,noBorder:m,onClick:_,onContextMenu:g,onDoubleClick:E,onVideoResize:S,participant:I,paused:O,pulseSpeakingIndicator:b,videoComponent:A,width:C},T)),v))}v.displayName="AutosizingCallTile"},991636:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(247001)),i=s(n(300443)),u=s(n(483683)),l=s(n(63685));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.className,n=e.children;return f("div",{className:(0,a.default)(i.default.container,t)},void 0,f("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:l.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleBottom)}),n,f("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:u.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleTop)}))}c.displayName="IconWithSparkles"},542402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;_(n(667294));var r,a=h(n(294184)),o=h(n(644263)),i=h(n(211136)),u=h(n(956117)),l=h(n(337322)),s=_(n(177101)),d=h(n(776360)),f=n(1430),c=h(n(14325)),p=n(123718),v=h(n(247001)),y=h(n(110717));function h(e){
return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=i.default.getVoiceChannelId();if(null!=t){var n=o.default.getChannel(t);null!=n&&(0,f.audienceAckRequestToSpeak)(n,e)}}function S(){var e,t=(0,c.default)(),n=null!==(e=(0,p.useStageBlockedUsersCount)(null==t?void 0:t.id))&&void 0!==e?e:0;return g(s.default,{className:y.default.container,color:s.NoticeColors.NOTIFICATION},void 0,g("div",{},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER),n>0?g("div",{className:y.default.blocked},void 0,g(l.default,{width:12,height:12,className:y.default.blockedIcon}),g("div",{className:y.default.blockedText},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER_BLOCKED_USERS.format({number:n}))):null,g(u.default,{className:(0,a.default)(y.default.button,y.default.acceptButton),size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!1)}},void 0,g(d.default,{className:y.default.acceptText,size:d.default.Sizes.SIZE_12,color:d.default.Colors.CUSTOM
},void 0,v.default.Messages.STAGE_SPEAK_INVITE_ACCEPT)),g(u.default,{className:(0,a.default)(y.default.button,y.default.declineButton),look:u.default.Looks.OUTLINED,size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!0)}},void 0,g(d.default,{className:y.default.declineText,size:d.default.Sizes.SIZE_12,color:d.default.Colors.CUSTOM},void 0,v.default.Messages.STAGE_SPEAK_INVITE_DECLINE)))}S.displayName="InvitedToSpeakNotice"},214563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}(n(667294)),o=d(n(730977)),i=d(n(980351)),u=n(478036),l=d(n(247001)),s=d(n(817463));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(){return p(o.default,{text:l.default.Messages.STAGE_MODERATOR_TOOLTIP
},void 0,(function(e){return a.createElement("div",c({},e,{className:s.default.container}),p(i.default,{color:u.Colors.WHITE}))}))};v.displayName="ModeratorBadge";var y=v;t.default=y},397789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(966708),u=h(n(145122)),l=h(n(563621)),s=h(n(160629)),d=h(n(91424)),f=h(n(811198)),c=h(n(878556)),p=n(770348),v=h(n(247001)),y=h(n(607673));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,i.useChannelNotificationRadioItems)(t);return S(u.default,{navId:"notification-settings",onClose:n,"aria-label":v.default.Messages.NOTIFICATION_SETTINGS,onSelect:r},void 0,a)}O.displayName="NotificationSettingsMenu";function b(e){
var t=e.channel,n=g(a.useState(!1),2),r=n[0],i=n[1],u=(0,o.useStateFromStores)([l.default],(function(){return l.default.getChannelOverrides(t.guild_id)[t.id]}),[t.guild_id,t.id]),h=(null==u?void 0:u.message_notifications)===p.UserNotificationSettings.NO_MESSAGES,m=v.default.Messages.NOTIFICATION_SETTINGS;return S(s.default,{shouldShow:r,animation:s.default.Animation.NONE,position:s.default.Positions.BOTTOM,align:s.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return i(!1)},renderPopout:function(e){return a.createElement(O,_({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(c.default.Icon,_({},e,{onClick:function(){return i((function(e){return!e}))},tooltip:n?null:m,icon:h?f.default:d.default,foreground:h?y.default.strikethrough:null,"aria-label":m}))}))}b.displayName="NotificationSettingsButton"},885903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(332282)),o=u(n(991636)),i=u(n(364266));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.className;return s(o.default,{className:t},void 0,s("div",{className:i.default.background},void 0,s(a.default,{className:i.default.foreground,width:32,height:32})))}d.displayName="RaisedHandsEmptyStateImage"},460936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=oe;var r,a=F(n(667294)),o=U(n(294184)),i=U(n(441143)),u=n(536211),l=n(378158),s=F(n(538930)),d=n(982437),f=U(n(711195)),c=U(n(414068)),p=U(n(876874)),v=U(n(689389)),y=U(n(788739)),h=U(n(956117)),m=U(n(16941)),_=U(n(160629)),g=U(n(567668)),E=U(n(730977)),S=U(n(259530)),O=U(n(855480)),b=U(n(833837)),I=U(n(924671)),C=U(n(776360)),T=U(n(521358)),A=n(1430),P=n(216554),M=n(685810),N=n(104144),R=U(n(801967)),w=n(902477),D=U(n(885903)),L=n(478036),j=U(n(247001)),k=U(n(983953));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(G=function(e){return e?n:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return x.apply(this,arguments)}function B(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,u,"next",e)}function u(e){B(o,r,a,i,u,"throw",e)}i(void 0)
}))}}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Y,K=z(I.default,{}),$=z(S.default,{}),q=a.memo((function(e){var t=e.toggleRequestToSpeakSidebar;return z("div",{className:k.default.headerContainer},void 0,K,z(C.default,{className:k.default.headerTitle,size:C.default.Sizes.SIZE_16,color:C.default.Colors.HEADER_PRIMARY},void 0,j.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE),z(m.default,{className:k.default.headerClose,onClick:t,"aria-label":j.default.Messages.CLOSE},void 0,$))})),Z=z(O.default,{width:16,height:16}),X=a.memo((function(e){var t=e.channel;return z(m.default,{
className:k.default.selfSpeakerContainer,onClick:function(){(0,A.audienceAckRequestToSpeak)(t,!1)}},void 0,z("div",{className:(0,o.default)(k.default.buttonContainer,k.default.selfSpeakerButton)},void 0,Z),z(C.default,{className:k.default.selfSpeakerText,size:C.default.Sizes.SIZE_16,color:C.default.Colors.CUSTOM},void 0,j.default.Messages.MODERATOR_RAISE_OWN_HAND))})),Q=z(b.default,{width:16,height:16}),J=z(S.default,{width:16,height:16}),ee=a.memo((function(e){var t=e.channel,r=e.participant,v=e.tempDisableOnInit,g=void 0!==v&&v,S=W(a.useState(g),2),O=S[0],b=S[1];a.useEffect((function(){if(O){var e=setTimeout((function(){return b(!1)}),1e3);return function(){return clearTimeout(e)}}}),[]);var I=t.getGuildId();(0,i.default)(null!=I,"Channel cannot be guildless");var T=(0,u.useStateFromStoresObject)([y.default],(function(){return{isMobile:y.default.isMobileOnline(r.user.id),status:y.default.getStatus(r.user.id,I)}})),P=T.isMobile,R=T.status,w=(0,
u.useStateFromStores)([p.default],(function(){return p.default.getMember(I,r.user.id)})),D=a.useMemo((function(){var e;return(e={})[I]=[r.user.id],e}),[I,r.user.id]);(0,d.useSubscribeGuildMembers)(D);var L=r.rtsState===N.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;function U(){(0,A.setUserSuppress)(t,r.user.id,!1)}function G(){(0,A.setUserSuppress)(t,r.user.id,!0)}var F=function(e){(0,l.openContextMenuLazy)(e,V(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,x({},e,{user:r.user,guildId:I,channelId:t.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};return z("div",{className:k.default.participantRowContainer},void 0,z(_.default,{preload:function(){
return(0,f.default)(r.user.id,r.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){return a.createElement(c.default,x({},e,{userId:r.user.id,guildId:I,channelId:t.id}))},position:_.default.Positions.LEFT,spacing:16},void 0,(function(e){var t;return a.createElement(m.default,x({className:k.default.participantMemberContainer,onContextMenu:F},e),z(s.default,{size:s.Sizes.SIZE_40,className:k.default.participantAvatar,user:r.user,isMobile:P,status:R}),z("div",{className:k.default.participantTextContainer},void 0,z(C.default,{className:k.default.participantName,size:C.default.Sizes.SIZE_16,color:C.default.Colors.CUSTOM,style:{color:null!==(t=null==w?void 0:w.colorString)&&void 0!==t?t:void 0}},void 0,r.userNick),z(C.default,{size:C.default.Sizes.SIZE_12,color:C.default.Colors.HEADER_SECONDARY},void 0,(0,M.participantMemberInfo)(r))))})),z(E.default,{text:L?j.default.Messages.REQUEST_TO_SPEAK_INVITATION_SEND:j.default.Messages.REQUEST_TO_SPEAK_ACCEPT
},void 0,(function(e){return a.createElement(h.default,x({},e,{innerClassName:k.default.buttonContainer,look:h.default.Looks.BLANK,size:h.default.Sizes.NONE,onClick:U,disabled:L||O}),Q)})),z(E.default,{text:j.default.Messages.REQUEST_TO_SPEAK_DECLINE},void 0,(function(e){return a.createElement(h.default,x({},e,{innerClassName:(0,o.default)(k.default.buttonContainer,k.default.buttonMargin),look:h.default.Looks.BLANK,size:h.default.Sizes.NONE,onClick:G}),J)})))})),te=a.memo((function(e){var t=e.channel,n=W((0,w.useRequestToSpeakPermission)(t.id),2),r=n[0],a=n[1];return z(g.default,{className:k.default.toggle,onChange:a,value:r},void 0,j.default.Messages.MODERATOR_ALLOW_EVERYONE_RAISE_HAND)})),ne=z(D.default,{}),re=a.memo((function(){return z("div",{className:k.default.emptyStateContainer},void 0,ne,z(C.default,{className:k.default.emptyStateTitle,size:C.default.Sizes.SIZE_20,color:C.default.Colors.HEADER_PRIMARY},void 0,j.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_TITLE),z(C.default,{
className:k.default.emptyStateBody,size:C.default.Sizes.SIZE_14,color:C.default.Colors.HEADER_SECONDARY},void 0,j.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_BODY))}));!function(e){e[e.TOGGLE_REQUEST_TO_SPEAK=0]="TOGGLE_REQUEST_TO_SPEAK";e[e.MAKE_SPEAKER=1]="MAKE_SPEAKER";e[e.PARTICIPANTS=2]="PARTICIPANTS"}(Y||(Y={}));var ae=z(re,{},"participants-empty");function oe(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=(0,R.default)(t.id).speaker,a=(0,P.useSortedRequestToSpeakParticipants)(t.id),o=[(0,u.useStateFromStores)([v.default],(function(){return v.default.can(L.Permissions.MANAGE_CHANNELS,t)||v.default.can(L.Permissions.MANAGE_ROLES,t)}))?1:0,r?0:1,Math.max(1,a.length)];var i=z(te,{channel:t},"rts-toggle"),l=z(X,{channel:t},"make-speaker");return z("div",{className:k.default.container},void 0,z(q,{toggleRequestToSpeakSidebar:n}),z(T.default,{className:k.default.contentContainer,sections:o,sectionHeight:function(e){return e===Y.PARTICIPANTS?40:0},rowHeight:function(e){switch(e){
case Y.TOGGLE_REQUEST_TO_SPEAK:return 66;case Y.MAKE_SPEAKER:return 48;case Y.PARTICIPANTS:return 0===a.length?178:48}return 0},renderRow:function(e){var n=e.section,r=e.row;switch(n){case Y.TOGGLE_REQUEST_TO_SPEAK:return i;case Y.MAKE_SPEAKER:return l;case Y.PARTICIPANTS:if(0===a.length)return ae;var o=a[r];return z(ee,{channel:t,participant:o,tempDisableOnInit:!0},o.id)}return null},renderSection:function(e){return e.section===Y.PARTICIPANTS?z(C.default,{className:k.default.listTitle,size:C.default.Sizes.SIZE_12,color:C.default.Colors.HEADER_SECONDARY},"participants-section",a.length>0?j.default.Messages.REQUEST_TO_SPEAK_LIST_TITLE.format({numHands:a.length}):j.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE):null}}))}oe.displayName="RequestToSpeakSidebar"},492626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=(r=n(203418))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var l=function(e){var t=e.children;return e.shouldAnimate?u("div",{
className:o.default.outerContainer},void 0,u("div",{className:o.default.innerContainer},void 0,t)):t};l.displayName="SpeakerPulse";var s=l;t.default=s},551619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=J;var r,a=V(n(667294)),o=x(n(294184)),i=x(n(441143)),u=n(496486),l=n(473727),s=n(536211),d=x(n(972247)),f=x(n(636602)),c=n(205562),p=x(n(825724)),v=x(n(66384)),y=n(596271),h=V(n(8475)),m=x(n(902305)),_=n(139982),g=V(n(430251)),E=x(n(866219)),S=x(n(561603)),O=x(n(423046)),b=x(n(211136)),I=n(194322),C=n(319986),T=n(864489),A=n(518802),P=x(n(922629)),M=V(n(285256)),N=x(n(460936)),R=x(n(460372)),w=x(n(600577)),D=x(n(268372)),L=x(n(35997)),j=x(n(357474)),k=n(770348),U=n(859089),G=x(n(247001)),F=x(n(76034));function x(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function W(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,u,"next",e)}function u(e){W(o,r,a,i,u,"throw",e)}i(void 0)}))}}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var $="HasBeenInStageChannel",q=function(e,t){return function(){var n=e.getGuildId();null!=n&&null!=t&&(0,_.transitionToGuild)(n,t);h.openChannelCallPopout(e)}},Z=function(){f.default.wait((function(){return h.close(k.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))};function X(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,o=e.popoutWindow,i=e.selectedParticipant,u=t.getGuildId(),l=(0,s.useStateFromStores)([b.default],(function(){return b.default.getMostRecentSelectedTextChannelId(u)}),[u]),d=O.default.getId(),f=!(0,s.useStateFromStores)([p.default],(function(){return p.default.isFullscreenInContext(n)}))&&(!T.isPlatformEmbedded||T.isPlatformEmbedded&&P.default.supportsFeature(k.NativeFeatures.POPOUT_WINDOWS)),c=null!=i&&i.type!==U.ParticipantTypes.ACTIVITY&&i.user.id!==d,y=a.useMemo((function(){var e
;return null!==(e=null==o?void 0:o.window)&&void 0!==e?e:window}),[o]),h=(0,j.default)({channel:t,appContext:n,popoutOpen:r,popoutWindow:o,currentWindow:y});return a.createElement(a.Fragment,null,c?K(S.default,{context:(0,v.default)(i.type),userId:i.user.id,currentWindow:y,sliderClassName:F.default.volumeSlider}):null,f?K(E.default,{className:F.default.rightTrayIcon,popoutOpen:r,onOpenPopout:q(t,l),onClosePopout:Z}):null,h)}function Q(e){var t,n=e.channel,r=e.toggleRequestToSpeakSidebar,o=e.showRequestToSpeakSidebar,d=(0,c.useAppContext)(),f=(0,s.useStateFromStores)([m.default],(function(){return m.default.getWindow(k.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),v=null!=f&&!f.closed,h=(0,s.useStateFromStores)([b.default],(function(){return b.default.getVoiceChannelId()===n.id}),[n.id]),_=(0,s.useStateFromStores)([p.default],(function(){return p.default.getSelectedParticipant(n.id)}),[n.id]),E=v&&d!==k.AppContext.POPOUT,S=z(a.useState(0),2),O=S[0],I=S[1],T=(0,
M.default)().isOnStartStageScreen;(0,M.useUpdateIsOnStartStageScreenEffect)(n);a.useEffect((function(){!h&&v&&Z()}),[v,h]);if(!h&&!v){var A=(0,y.getGuildIdForGenericRedirect)(n),P=n.getGuildId();(0,i.default)(null!=P,"Guild voice channel without guild id.");return K(l.Redirect,{to:(0,C.previousTextChannelRouteForGuild)(null!=A?A:P)})}t=T?K(L.default,{channel:n,onContinueClick:function(){return(0,M.setIsOnStartStageScreen)(!1)}}):K(w.default,{channel:n,onScroll:function(e){var t=e.target.scrollTop;(0,u.debounce)((function(){return I(t)}),1e3,{leading:!0})()}});var N=K(D.default,{channel:n,toggleRequestToSpeakSidebar:r,showRequestToSpeakSidebar:o,isOnStartStageScreen:T}),j=K(X,{channel:n,appContext:d,popoutOpen:v,popoutWindow:f,selectedParticipant:_}),U=K(R.default,{channel:n});return K(g.default,{disableGradients:0===O&&g.DisableGradient.TOP,renderBottomCenter:function(){return N},renderBottomRight:function(){return j},renderHeader:function(){return U},onActive:function(){},
onPreventIdle:function(){},onAllowIdle:function(){},onForceIdle:function(){},screenMessage:E?{mainText:G.default.Messages.POPOUT_PLAYER_OPENED}:null,idle:!1},void 0,!E&&t)}Q.displayName="StageChannelCallContent";function J(e){var t,r=e.channel,i=z(a.useState(!1),2),u=i[0],l=i[1],s=a.useCallback((function(){l(!u)}),[u]);a.useEffect((function(){if(null==d.default.get($)){(0,I.openModalLazy)(H(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2345)]).then(n.bind(n,102345));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))));d.default.set($,Date.now())}}),[]);return K("div",{className:F.default.container},void 0,K("div",{className:(0,o.default)(F.default.callContainer,(0,A.getThemeClass)(k.ThemeTypes.DARK),(t={},t[F.default.sidebarVisible]=u,t))},void 0,K(Q,{channel:r,
toggleRequestToSpeakSidebar:s,showRequestToSpeakSidebar:u})),u?K(N.default,{channel:r,toggleRequestToSpeakSidebar:s}):null)}J.displayName="StageChannelCall"},460372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=D;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=C(n(294184)),i=n(536211),u=n(205562),l=C(n(678928)),s=C(n(981706)),d=C(n(689389)),f=C(n(634230)),c=C(n(332282)),p=C(n(878556)),v=C(n(776360)),y=n(864489),h=n(518802),m=C(n(922629)),_=n(559133),g=n(365744),E=C(n(217964)),S=C(n(397789)),O=n(770348),b=C(n(247001)),I=C(n(903330))
;function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(){return R.apply(this,arguments)}function R(){
return(R=M(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,y.isOSX)()||!y.isPlatformEmbedded){e.next=14;break}e.next=3;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?m.default.minimize():"Maximize"===a&&m.default.maximize();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.channel,n=(0,u.useAppContext)(),r=(0,i.useStateFromStores)([d.default],(function(){return d.default.can(g.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}));return a.createElement(a.Fragment,null,A(S.default,{channel:t}),A(s.default,{guildId:t.guild_id,className:I.default.eventsButton}),r?A(p.default.Icon,{onClick:function(){(0,
_.openStageChannelSettings)(t,n)},tooltip:b.default.Messages.STAGE_SETTINGS,"aria-label":b.default.Messages.STAGE_SETTINGS,icon:f.default}):null)}function D(e){var t=e.channel,n=(0,l.default)(t),r=(0,i.useStateFromStores)([E.default],(function(){return E.default.getStageInstanceByChannel(t.id)}));return A(p.default,{toolbar:A(w,{channel:t}),onDoubleClick:N,transparent:!0,className:(0,o.default)((0,h.getThemeClass)(O.ThemeTypes.DARK),I.default.participants)},void 0,A(p.default.Icon,{icon:c.default,disabled:!0,"aria-label":b.default.Messages.STAGE_CHANNEL,className:I.default.icon}),A(p.default.Title,{className:I.default.channelName},void 0,n),null!=r?a.createElement(a.Fragment,null,A(p.default.Divider,{className:I.default.divider}),A(v.default,{size:v.default.Sizes.SIZE_16,color:v.default.Colors.HEADER_SECONDARY,className:I.default.title},void 0,null==r?void 0:r.topic)):null)}D.displayName="StageChannelCallHeader"},25974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=n(536211),u=h(n(689389)),l=h(n(337322)),s=h(n(878338)),d=h(n(855480)),f=h(n(776360)),c=n(365744),p=h(n(217964)),v=h(n(247001)),y=h(n(957652));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=14;var E=function(e){var t=e.subtitle;return _(f.default,{color:f.default.Colors.HEADER_SECONDARY,size:f.default.Sizes.SIZE_14,className:(0,o.default)(y.default.subtitle,y.default.height)},void 0,t)};E.displayName="StageSubtitle";var S=function(e){var t=e.speakerCount,n=e.audienceCount,r=e.blockedCount;return _("div",{className:y.default.height},void 0,_("div",{className:y.default.stageSummary},void 0,_(d.default,{height:g,width:g,className:y.default.icon}),_(f.default,{color:f.default.Colors.HEADER_SECONDARY,size:f.default.Sizes.SIZE_12},void 0,v.default.Messages.SPEAKING_COUNT.format({count:String(t)})),_("div",{className:y.default.dotSeparator}),_(s.default,{width:g,height:g,className:y.default.icon}),_(f.default,{
color:f.default.Colors.HEADER_SECONDARY,size:f.default.Sizes.SIZE_12},void 0,v.default.Messages.LISTENING_COUNT.format({count:String(n)})),r>0?a.createElement(a.Fragment,null,_("div",{className:y.default.dotSeparator}),_(l.default,{width:g,height:g,className:y.default.icon}),_(f.default,{color:f.default.Colors.HEADER_SECONDARY,size:f.default.Sizes.SIZE_12},void 0,v.default.Messages.BLOCKED_COUNT.format({count:String(r)}))):null))};S.displayName="StageSummary";var O=function(e){var t=e.channel,n=e.speakerCount,r=e.audienceCount,a=e.blockedCount,o=(0,i.useStateFromStores)([p.default],(function(){return p.default.getStageInstanceByChannel(t.id)}),[t.id]),l=(0,i.useStateFromStores)([u.default],(function(){return u.default.can(c.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),s=function(e,t){return t?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR:v.default.Messages.STAGE_START_PROMPT_TITLE}(0,l),d=null!=o,h=l&&!d?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR_DESKTOP:void 0
;return _("div",{className:y.default.container},void 0,!d&&_(f.default,{size:f.default.Sizes.SIZE_20,color:f.default.Colors.HEADER_PRIMARY,className:y.default.title},void 0,s),null!=h?_(E,{subtitle:h}):_(S,{speakerCount:n,audienceCount:r,blockedCount:a}))};O.displayName="StageChannelCallTopic";var b=O;t.default=b},600577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.LayoutSections=void 0;var r,a=b(n(667294)),o=n(536211),i=S(n(864345)),u=S(n(825724)),l=S(n(728429)),s=S(n(387692)),d=S(n(897191)),f=n(921867),c=S(n(217964)),p=n(945544),v=S(n(158579)),y=S(n(386191)),h=S(n(25974)),m=S(n(586315)),_=S(n(576989)),g=b(n(533646)),E=S(n(298579));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A,P=424,M=624,N=824;t.LayoutSections=A;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE"}(A||(t.LayoutSections=A={}));var R=function(e){
var t,n,r,i=e.channel,S=e.width,O=e.onScroll,b=(0,o.useStateFromStores)([l.default],(function(){var e;return null===(e=l.default.getCurrentUser())||void 0===e?void 0:e.id}),[]),T=(0,o.useStateFromStores)([u.default],(function(){return u.default.getSelectedParticipantId(i.id)})),R=(0,o.useStateFromStores)([s.default],(function(){return s.default.isInChannel(i.id,b)}),[b,i.id]),w=(0,o.useStateFromStoresObject)([d.default],(function(){var e=d.default.getParticipantCount(i.id,f.StageChannelParticipantNamedIndex.AUDIENCE);return{speakerCount:d.default.getParticipantCount(i.id,f.StageChannelParticipantNamedIndex.SPEAKER),audienceCount:e,blockedCount:d.default.getParticipantCount(i.id,f.StageChannelParticipantNamedIndex.BLOCKED),selectedStageParticipant:null!=T?d.default.getParticipant(i.id,T):null}}),[T]),D=w.speakerCount,L=w.audienceCount,j=w.blockedCount,k=w.selectedStageParticipant,U=function(e){return Math.floor((e-32)/102)}(S),G=function(e){return e<P?1:e<M?2:e<N?3:4
}(S),F=((t={})[f.StageChannelParticipantNamedIndex.SPEAKER]=G,t[f.StageChannelParticipantNamedIndex.AUDIENCE]=U,t[f.StageChannelParticipantNamedIndex.SELECTED]=1,t),x=(0,p.useThrottleDurationForChannel)(i.id),B=C((0,p.useStageChannelParticipantsListThrottled)(i.id,F,x),2),V=B[0],W=B[1],H=[Math.max(null!==(n=V[A.SELECTED])&&void 0!==n?n:1,1),Math.max(null!==(r=V[A.SPEAKER])&&void 0!==r?r:1,1),V[A.AUDIENCE]],z=function(e,t){var n=Math.floor(e/t-8);return{speakerTileWidth:n,speakerTileHeight:Math.floor(n/g.SPEAKER_TILE_ASPECT_RATIO)}}(S,G),Y=z.speakerTileWidth,K=z.speakerTileHeight,$=Math.min(S-64,3*Y+8),q=null!=(0,o.useStateFromStores)([c.default],(function(){return c.default.getStageInstanceByChannel(i.id)}),[i.id]),Z=function(e){return e===V.length-1},X=I(h.default,{channel:i,audienceCount:L,speakerCount:D,blockedCount:j},"speaker-header");return R?I(m.default,{sections:H,renderSection:function(e){var t=e.section;return t===A.SELECTED?X:t===A.AUDIENCE?0===L?null:I(y.default,{
participantCount:L},"audience-header-"+t):null},sectionHeight:function(e){return e===A.SPEAKER?q?90:154:64},renderRow:function(e){var t=e.section,n=e.row,r=W[t][n];if(null==(null==r?void 0:r.length))return null;switch(t){case A.SELECTED:return 0===r.length||null==r[0]?null:I("div",{className:E.default.focusedRow},"selected-participant",I(g.default,{channel:i,participant:r[0],width:$}));case A.SPEAKER:return I(a.Fragment,{},"speakers-"+t+"-"+n,I(_.default,{tileWidth:Y,channel:i,participants:r,selectedParticipant:k}));case A.AUDIENCE:return I(v.default,{channel:i,participants:r,maxTiles:U},"audience-"+t+"-"+n);default:return null}},rowHeight:function(e){return null==W[e][A.SELECTED]?0:e===A.SELECTED?$/g.SPEAKER_TILE_ASPECT_RATIO+8:e===A.SPEAKER?K:98},renderFooter:function(e){var t=e.section;return t===A.SPEAKER?I("div",{className:E.default.divider},"speaker-divider"):Z(t)?I("div",{className:E.default.spacer},"bottom-spacer"):null},footerHeight:function(e){
return e===A.SPEAKER?24:Z(e)?88:0},className:E.default.scroller,chunkSize:60,onScroll:O}):null};R.displayName="StageChannelCallView";var w=(0,i.default)(R);t.default=w},268372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=ce(n(667294)),o=de(n(294184)),i=n(536211),u=de(n(136873)),l=n(205562),s=de(n(825724)),d=de(n(190320)),f=de(n(932018)),c=de(n(590087)),p=de(n(379310)),v=n(668516),y=de(n(5031)),h=de(n(620859)),m=de(n(473842)),_=ce(n(145122)),g=de(n(373115)),E=de(n(431388)),S=de(n(770404)),O=de(n(423405)),b=n(839166),I=de(n(493051)),C=de(n(222935)),T=n(143414),A=de(n(607576)),P=de(n(645675)),M=de(n(423046)),N=de(n(30098)),R=de(n(635014)),w=de(n(689389)),D=de(n(728429)),L=de(n(956117)),j=de(n(160629)),k=de(n(930600)),U=de(n(155084)),G=de(n(833837)),F=de(n(2604)),x=de(n(924671)),B=de(n(496709)),V=de(n(233121)),W=n(194322),H=ce(n(272544)),z=de(n(776360)),Y=n(559133),K=n(1430),$=n(216554),q=n(921867),Z=n(318678),X=n(365744),Q=de(n(258079)),J=de(n(217964)),ee=de(n(461713)),te=de(n(913687)),ne=de(n(530877)),re=de(n(697160)),ae=de(n(462867)),oe=n(770348),ie=n(474477),ue=n(371621),le=de(n(247001)),se=de(n(639286));function de(e){return e&&e.__esModule?e:{default:e}}function fe(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(fe=function(e){return e?n:t})(e)}function ce(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=fe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function pe(){pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return pe.apply(this,arguments)}function ve(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){ve(o,r,a,i,u,"next",e)}function u(e){ve(o,r,a,i,u,"throw",e)}i(void 0)}))}}function he(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e){var t=e.channel,n=e.appContext;(0,te.default)(t)?(0,Y.openEndStageModal)(t,n):u.default.disconnect()}function Ee(e,t){return e?le.default.Messages.AUDIENCE_LOWER_HAND:t?le.default.Messages.AUDIENCE_RAISE_HAND_CTA:le.default.Messages.AUDIENCE_RAISE_HAND_NO_PERMISSION}var Se=a.memo((function(e){var t=e.channel,n=me((0,ae.default)(t),2),r=n[0],a=n[1],o=(0,i.useStateFromStores)([w.default],(function(){return w.default.can(oe.Permissions.REQUEST_TO_SPEAK,t)}))
;return he("div",{className:se.default.container},void 0,he(T.CenterControlButton,{color:r?"white":"primaryDark",label:Ee(r,o),iconComponent:function(){return he(x.default,{className:r?se.default.raisedHandButtonIconActive:se.default.raisedHandButtonIcon})},onClick:a,disabled:!o&&!r}),he(Te,{channel:t}),he(Ne,{channel:t}))})),Oe={16:H.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_16,22:H.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_22,29:H.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_29};var be=he(B.default,{});function Ie(e){var t=e.toggleRequestToSpeakSidebar,n=e.showRequestToSpeakSidebar;return he(T.CenterControlButton,{className:(0,o.default)(se.default.speakerRaiseHandButton),color:n?"white":"primaryDark",label:n?le.default.Messages.REQUEST_TO_SPEAK_AREA_CLOSE:le.default.Messages.REQUEST_TO_SPEAK_AREA_OPEN,iconComponent:function(){return be},onClick:t})}Ie.displayName="RequestToSpeakButton";var Ce=he(F.default,{});function Te(e){var t=e.channel,r=(0,l.useAppContext)(),o=(0,
i.useStateFromStores)([w.default],(function(){return w.default.can(oe.Permissions.CREATE_INSTANT_INVITE,t)})),u=(0,i.useStateFromStores)([N.default],(function(){return N.default.getGuild(t.guild_id)})),s=(0,i.useStateFromStores)([J.default],(function(){return J.default.getStageInstanceByChannel(t.id)})),d=o||null!=(null==s?void 0:s.invite_code);if(null==u||!d)return null;return he(T.CenterControlButton,{className:se.default.buttonSpacing,label:le.default.Messages.INSTANT_INVITE,iconComponent:function(){return Ce},onClick:function(){(0,W.openModalLazy)(ye(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,pe({},e,{guild:u,channel:t,source:oe.InstantInviteSources.CHANNEL_CALL}))}));case 5:case"end":return e.stop()}}),e)}))),{
contextKey:r===oe.AppContext.POPOUT?ue.POPOUT_MODAL_CONTEXT:ue.DEFAULT_MODAL_CONTEXT})}})}Te.displayName="InviteButton";var Ae=he(G.default,{});function Pe(e){var t=e.onClick;return he(T.CenterControlButton,{className:(0,o.default)(se.default.makeMeASpeakerButton),label:le.default.Messages.MODERATOR_RAISE_OWN_HAND,iconComponent:function(){return Ae},onClick:t})}Pe.displayName="MakeMeASpeakerButton";var Me=he(V.default,{height:24,width:24});function Ne(e){var t=e.channel,n=e.onSelect,r=(0,l.useAppContext)(),a=(0,v.useCanCreateEditDeleteEvent)(t.guild_id,t),u=(0,i.useStateFromStores)([J.default],(function(){return J.default.getStageInstanceByChannel(t.id)}),[t.id]),s=null!=(null==u?void 0:u.guild_scheduled_event_id),d=M.default.getId(),f=Q.default.isModerator(d,t.id);return s&&(a||f)?he(j.default,{renderPopout:function(e){var a=e.closePopout;return he(C.default,{},void 0,he(_.default,{navId:"exit-options","aria-label":le.default.Messages.SET_STATUS,onClose:a,onSelect:n
},void 0,he(_.MenuItem,{id:"end-stage",color:ie.MenuItemColor.DANGER,action:function(){return(0,Y.openEndGuildEventConfirmationModal)(t,r)},label:le.default.Messages.END_GUILD_EVENT_FOR_EVERYONE,icon:k.default})))},align:j.default.Align.CENTER,position:j.default.Positions.TOP,animation:j.default.Animation.FADE},void 0,(function(e){var n=e.onClick;return he(T.CenterControlButton,{className:se.default.buttonSpacing,label:le.default.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:function(){return Me},onClick:function(){return ge({channel:t,appContext:r})},onPopoutClick:n})})):he(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.RED,className:(0,o.default)(se.default.buttonSpacing,se.default.leaveQuietlyButton),onClick:function(){return ge({channel:t,appContext:r})}},void 0,he("div",{className:se.default.leaveQuietlyButtonInnerContainer},void 0,he(z.default,{color:z.default.Colors.CUSTOM},void 0,le.default.Messages.AUDIENCE_DISCONNECT),he(V.default,{
height:24,width:24,className:se.default.leaveQuietlyIcon})))}Ne.displayName="ExitStageButton";var Re=he(U.default,{});function we(e){var t=e.onClick;return he(T.CenterControlButton,{className:(0,o.default)(se.default.audienceButton),label:le.default.Messages.MOVE_ME_TO_AUDIENCE,iconComponent:function(){return Re},onClick:t})}we.displayName="MoveToAudienceButton";var De=a.memo((function(e){var t,n,r=e.channel,u=e.toggleRequestToSpeakSidebar,l=e.showRequestToSpeakSidebar,s=(0,O.default)(r),v=s.suppress,y=s.selfMute,h=s.mute,m=v||y||h,_=(0,Z.useCanModerateRequestToSpeak)(r.id),T=ee.default.useExperiment({guildId:null!==(t=r.getGuildId())&&void 0!==t?t:""}).showVideoControls,M=(0,g.default)(),N=M.cameraUnavailable,w=M.enabled,L=(0,S.default)(r),k=(0,E.default)(r),U=k.limit,G=k.reachedLimit,F=(0,i.useStateFromStores)([D.default],(function(){return D.default.getCurrentUser()})),x=(0,i.useStateFromStores)([R.default],(function(){return(0,p.default)(R.default)})),B=(0,
$.useStageParticipantsCount)(r.id,q.StageChannelParticipantNamedIndex.REQUESTED_TO_SPEAK_ONLY),V=(n=B)<10?16:n<100?22:29;if(null==F)return null;var W=a.createElement(a.Fragment,null,he(j.default,{renderPopout:function(e){var t=e.closePopout;return he(C.default,{},void 0,he(f.default,{onClose:t}))},position:j.default.Positions.TOP,align:j.default.Align.CENTER,animation:j.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return he(P.default,{centerButton:!0,color:w?"white":"primaryDark",hasPermission:L,enabled:w,cameraUnavailable:N,onChange:b.handleToggleVideo,onCameraUnavailable:I.default,channelLimitReached:G,channelLimit:U,popoutOpen:r,onPopoutClick:n})})),he(b.GoLiveButton,{coloring:["primaryDark","white"],channel:r,currentUser:F,exitFullScreen:function(){return null},canGoLive:x,hasPermission:L}));return he("div",{className:se.default.container},void 0,!v&&he(we,{onClick:function(){return(0,K.moveSelfToAudience)(r)}}),_&&v&&he(Pe,{onClick:function(){return(0,
K.audienceAckRequestToSpeak)(r,!1)}}),v?null:he("div",{className:se.default.avControls},void 0,T&&W,he(j.default,{renderPopout:function(e){var t=e.closePopout;return he(C.default,{},void 0,he(d.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0}))},align:j.default.Align.CENTER,position:j.default.Positions.TOP,animation:j.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return he(A.default,{color:m?"white":"primaryDark",centerButton:!0,onPopoutClick:n,selfMute:y,serverMute:h,suppress:v,popoutOpen:r,onClick:function(){return(0,c.default)(h,v)}})}))),_?he("div",{className:(0,o.default)(se.default.speakerRaiseHandButtonContainer,se.default.buttonSpacing)},void 0,B>0?he(H.default,{mask:Oe[V],width:56,height:56},void 0,he(Ie,{toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:l})):he(Ie,{toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:l}),B>0?he(z.default,{className:se.default.speakerRaiseHandBadge,size:z.default.Sizes.SIZE_12,style:{width:V
}},void 0,B>=100?"99+":B):null):null,he(Te,{channel:r}),he(Ne,{channel:r}))}));function Le(e){var t=e.channel;return he("div",{className:se.default.container},void 0,he(Ne,{channel:t}))}Le.displayName="StartStageControlTray";var je=a.memo((function(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=e.showRequestToSpeakSidebar,a=e.isOnStartStageScreen,o=(0,ne.default)(t.id),u=(0,Z.useCanModerateRequestToSpeak)(t.id),l=(0,i.useStateFromStores)([w.default],(function(){return w.default.can(X.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),d=t.guild_id,f=(0,v.useCanCreateEditDeleteEvent)(d,t),c=(0,re.default)(t.id),p=(0,i.useStateFromStores)([s.default],(function(){return null!=t?s.default.getSelectedParticipant(t.id):null})),_=!c&&null==p;return a?he(Le,{channel:t}):o||u?he("div",{className:se.default.containerColumn},void 0,he("div",{className:se.default.eventPrompts},void 0,_?he(h.default,{guildId:d,channelId:null==t?void 0:t.id}):null,he("div",{className:se.default.separator
}),_&&l?he(m.default,{channel:t}):null,he("div",{className:se.default.separator}),_&&f?he(y.default,{guildId:d}):null,he("div",{className:se.default.separator})),he(De,{channel:t,toggleRequestToSpeakSidebar:n,showRequestToSpeakSidebar:r})):he(Se,{channel:t})}));t.default=je},525339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(636602)),o=c(n(177230)),i=c(n(423046)),u=c(n(644263)),l=c(n(121441)),s=n(194322),d=n(104144),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}
function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _="STAGE_INVITED_TO_SPEAK_MODAL",g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c]
;(t=e.call.apply(e,[this].concat(o))||this).handleVoiceStateUpdates=function(e){var t,a=e.voiceStates,o=i.default.getId(),c=null===(t=l.default.getSession())||void 0===t?void 0:t.sessionId,p=a.find((function(e){return e.userId===o&&e.sessionId===c}));if(null!=p){var y=p.channelId;if(null!=y){var m=u.default.getChannel(y);if(null==m?void 0:m.isGuildStageVoice()){var g=(0,d.getAudienceRequestToSpeakState)(p)===d.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=m&&g){if((0,s.hasModalOpen)(_))return;(0,s.openModalLazy)(h(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7025)]).then(n.bind(n,207025));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,v({},e,{channel:m}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:_,onCloseRequest:f.NOOP_NULL})}}}else(0,s.hasModalOpen)(_)&&(0,s.closeModal)(_)}}
;return t}var o=t.prototype;o._initialize=function(){a.default.subscribe(f.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};o._terminate=function(){a.default.unsubscribe(f.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};return t}(o.default));t.default=g},586315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(753274),o=u(n(237727)),i=u(n(790875));function u(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)(i.default.auto,i.default.fade,null!==(r=ResizeObserver)&&void 0!==r?r:a.ResizeObserver);t.default=l},248414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.StageChannelNowPlayingDelegate=void 0;var r,a=y(n(667294)),o=p(n(342518)),i=p(n(644263)),u=p(n(16941)),l=p(n(971639)),s=y(n(637356)),d=n(13761),f=p(n(217964)),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t,n,r=e.activity,p=(null!==(t=(0,
d.unpackStageChannelParty)(r))&&void 0!==t?t:{}).channelId,v=(0,o.default)([f.default],(function(){return f.default.getStageInstanceByChannel(p)}),[p]),y=a.useRef(null),m=a.useCallback((function(){var e=i.default.getChannel(p);null!=e&&s.connectAndOpen(e)}),[p]),_=null!==(n=null==v?void 0:v.topic)&&void 0!==n?n:r.name,g=c.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_JOIN.format({channel:_});return a.createElement("div",{ref:y},h(u.default,{onClick:m,focusProps:{ringTarget:y}},void 0,h(l.default,{},void 0,g)))}m.displayName="StageChannelBody";var _=function(){function e(){this.body=m}var t=e.prototype;t.shouldShow=function(e){return(0,d.shouldShowActivity)(e)};t.createHeader=function(e){return{subtitle:c.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_DEFAULT,icon:null}};return e}();t.StageChannelNowPlayingDelegate=_},576989:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(533646)),i=u(n(403800));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=a.memo((function(e){var t=e.channel,n=e.participants,r=e.tileWidth,a=e.selectedParticipant;return s("div",{className:i.default.rowContainer},void 0,n.map((function(e){return e.id===(null==a?void 0:a.id)?null:s(o.default,{channel:t,participant:e,width:r},e.id)})))}));t.default=d},533646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.SPEAKER_TILE_ASPECT_RATIO=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=P(n(441143)),i=n(536211),u=P(n(229132)),l=n(378158),s=n(123516),d=n(205562),f=n(836233),c=P(n(825724)),p=n(747868),v=n(385753),y=P(n(711195)),h=P(n(414068)),m=P(n(607209)),_=P(n(30098)),g=P(n(689389)),E=P(n(387692)),S=P(n(160629)),O=P(n(258079)),b=P(n(226155)),I=P(n(214563)),C=n(770348),T=n(859089),A=P(n(892314));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}var L=16/9;t.SPEAKER_TILE_ASPECT_RATIO=L;var j=w(I.default,{}),k=function(e){var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.guildId,i=e.user,u=e.width,l=e.isModerator,s=e.onContextMenu,d=e.inPopout,c=a.useContext(f.AccessibilityPreferencesContext).reducedMotion,p=t.blocked,v=t.id;return w(S.default,{preload:null==n?void 0:function(){return(0,y.default)(n.user.id,n.user.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:function(e){return a.createElement(h.default,D({},e,{guildId:o,channelId:r.id,userId:i.id}))},
position:S.default.Positions.RIGHT,spacing:8},void 0,(function(e){return a.createElement(b.default,D({key:v},e,{participant:n,aspectRatio:L,blocked:p,channel:r,className:A.default.tile,inCall:!0,inPopout:d,paused:!1,pulseSpeakingIndicator:!c.enabled,width:u,onClick:function(t,n){return e.onClick(n)},onContextMenu:s}),l&&j)}))};k.displayName="StageVoiceTile";var U=w(I.default,{}),G=function(e){var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.width,l=e.isModerator,d=e.onContextMenu,y=e.inPopout,h=a.useContext(f.AccessibilityPreferencesContext).reducedMotion,S=t.id,O=t.blocked,I=(0,i.useStateFromStoresArray)([m.default],(function(){return m.default.getAllActiveStreams()}),[]),P=(0,i.useStateFromStores)([c.default],(function(){return null!=r?c.default.getSelectedParticipant(r.id):null})),M=a.useCallback((function(e,t){if(e.type===T.ParticipantTypes.STREAM){if(0===I.filter((function(t){return(0,p.encodeStreamKey)(t)===e.id&&t.state!==C.ApplicationStreamStates.ENDED})).length){
if(!(0,v.canWatchStream)(r,E.default,_.default,g.default))return;(0,s.watchStream)((0,p.decodeStreamKey)(e.id),{forceMultiple:t.shiftKey})}}(null==P?void 0:P.id)===e.id?u.default.selectParticipant(r.id,null):u.default.selectParticipant(r.id,e.id)}),[I,r,P]);return w(b.default,{participant:n,aspectRatio:L,blocked:O,channel:r,className:A.default.tile,inCall:!0,inPopout:y,onClick:M,onContextMenu:d,paused:!1,pulseSpeakingIndicator:!h.enabled,width:o},S,l&&U)};G.displayName="StageMediaTile";var F=a.memo((function(e){var t,r=e.participant,u=e.channel,s=e.width,f=(0,d.useAppContext)(),p=u.getGuildId();(0,o.default)(null!=p,"Channel cannot be guildless");var v=r.user,y=(0,i.useStateFromStores)([c.default],(function(){return c.default.getParticipant(u.id,r.id)}),[u.id,r.id]),h=(0,i.useStateFromStores)([O.default],(function(){return O.default.isModerator(v.id,u.id)}),[u.id,v.id]);if(null==y||y.type===T.ParticipantTypes.ACTIVITY)return null;var m=function(e,t){switch(e.type){
case T.ParticipantTypes.HIDDEN_STREAM:case T.ParticipantTypes.STREAM:(0,l.openContextMenuLazy)(t,R(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return n.e(96434).then(n.bind(n,596434));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,D({},t,{stream:e.stream,appContext:f,exitFullscreen:function(){}}))}));case 5:case"end":return t.stop()}}),t)}))),{context:f});return;case T.ParticipantTypes.USER:default:(0,l.openContextMenuLazy)(t,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,D({},e,{user:v,guildId:p,channelId:u.id,showMediaItems:!0,showStageChannelItems:!0,
showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:f})}},_=y.type===T.ParticipantTypes.USER&&!(null===(t=y.voiceState)||void 0===t?void 0:t.selfVideo);return a.createElement(a.Fragment,null,w(_?k:G,{stageParticipant:r,rtcParticipant:y,channel:u,guildId:p,user:v,width:s,isModerator:h,onContextMenu:m,inPopout:f===C.AppContext.POPOUT}))}));t.default=F},35997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContinuePrompt=T;t.default=P;I(n(667294));var r,a=n(536211),o=n(668516),i=O(n(176079)),u=O(n(5031)),l=O(n(620859)),s=O(n(473842)),d=O(n(689389)),f=O(n(332282)),c=O(n(971639)),p=O(n(776360)),v=I(n(152731)),y=n(365744),h=O(n(641474)),m=O(n(697160)),_=O(n(991636)),g=n(770348),E=O(n(247001)),S=O(n(910215));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.onClick;return C(i.default,{iconContainerClassName:S.default.continueIconContainer,icon:C(f.default,{className:S.default.continueIcon,height:20,
width:20}),color:g.Colors.PRIMARY_DARK_700,title:E.default.Messages.STAGE_CONTINUE_PROMPT_TITLE,description:E.default.Messages.STAGE_CONTINUE_PROMPT_SUBTITLE,onClick:t})}T.displayName="ContinuePrompt";function A(e){var t=e.channel,n=(0,h.default)(t.id),r=n.participants,a=n.usersInSummary;return C("div",{className:S.default.audienceSummary},void 0,C(v.default,{className:S.default.summaryItem,guildId:t.guild_id,users:a,size:v.Sizes.SIZE_16}),C(p.default,{size:p.default.Sizes.SIZE_14,color:p.default.Colors.HEADER_SECONDARY},void 0,function(e){if(0===e.length)return"";if(1===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_ONE.format({first:e[0].userNick});if(2===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_TWO.format({first:e[0].userNick,second:e[1].userNick});var t=e.length-2;return E.default.Messages.STAGE_AUDIENCE_WAITING_MANY.format({first:e[0].userNick,second:e[1].userNick,numOthers:t})}(r)))}A.displayName="AudienceSummary";function P(e){
var t=e.channel,n=e.onContinueClick,r=(0,a.useStateFromStores)([d.default],(function(){return d.default.can(y.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),i=t.guild_id,v=(0,o.useCanCreateEditDeleteEvent)(i,t),h=(0,m.default)(t.id);return C("div",{className:S.default.container},void 0,C(_.default,{},void 0,C("div",{className:S.default.iconBackground},void 0,C(f.default,{width:40,height:40,className:S.default.icon}))),C("div",{className:S.default.headerContainer},void 0,C(c.default,{className:S.default.title,size:c.default.Sizes.SIZE_24},void 0,E.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR),C(p.default,{className:S.default.subtitle,size:p.default.Sizes.SIZE_14},void 0,E.default.Messages.STAGE_START_PROMPT_SUBTITLE)),h?null:C(l.default,{guildId:i,channelId:t.id}),r?C(s.default,{className:S.default.eventPrompt,channel:t}):null,v?C(u.default,{className:S.default.eventPrompt,guildId:i}):null,C("hr",{className:S.default.separator}),C(T,{onClick:n}),C(A,{channel:t}))}
P.displayName="StartStageChannelCallView"},357474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=O(n(667294)),o=n(536211),i=E(n(636602)),u=E(n(229132)),l=E(n(833692)),s=n(844784),d=E(n(825724)),f=O(n(8475)),c=E(n(278851)),p=E(n(211136)),v=E(n(308920)),y=n(956506),h=n(864489),m=n(245838),_=n(770348),g=E(n(76034));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function C(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,E=e.popoutWindow,S=e.currentWindow,O=n===_.AppContext.POPOUT,C=a.useRef(null),T=(0,o.useStateFromStoresObject)([d.default],(function(){var e=d.default.getMode(t.id),r=n===_.AppContext.POPOUT;r&&(e=_.ChannelModes.VIDEO);var a=e===_.ChannelModes.VIDEO?d.default.getLayout(t.id,n):_.ChannelLayouts.MINIMUM
;r&&a!==_.ChannelLayouts.FULL_SCREEN&&(a=_.ChannelLayouts.NO_CHAT);return{currentLayout:a,mode:e}}),[t,n]),A=T.currentLayout,P=T.mode,M=(0,o.useStateFromStores)([p.default],(function(){return p.default.getVoiceChannelId()===t.id}),[t.id]);a.useEffect((function(){C.current=P}));var N=a.useRef(A),R=a.useMemo((function(){var e=null!=E&&O?E.document:document,t=S.document.getElementById("app-mount");return{currentWindow:S,currentDocument:e,rootNode:t}}),[E,O,S]),w=R.currentDocument,D=R.rootNode,L=r&&!O,j=P===_.ChannelModes.VIDEO&&M&&!L,k=a.useCallback((function(e,r){if(r!==e){u.default.updateLayout(t.id,r,n);r===_.ChannelLayouts.FULL_SCREEN&&t.isPrivate()&&y.ComponentDispatch.dispatch(_.ComponentActions.TEXTAREA_BLUR)}}),[n,t]),U=a.useCallback((function(e){if(null!=D&&e===_.ChannelLayouts.FULL_SCREEN){k(e,N.current);(0,m.exitFullScreen)((function(e){N.current=e}),l.default.resized,w)}}),[w,k,D]),G=a.useCallback((function(e){return function(){if(null!=D)if(e!==_.ChannelLayouts.FULL_SCREEN){
N.current=e;k(e,_.ChannelLayouts.FULL_SCREEN);(0,m.requestFullScreen)(D,l.default.resized)}else U(e)}}),[k,U,D]);a.useEffect((function(){var e=function(){null!=D&&((0,m.isFullScreen)(D,w)||A!==_.ChannelLayouts.FULL_SCREEN||G(A)())};w.addEventListener(m.FULLSCREEN_CHANGE_EVENT,e);return function(){w.removeEventListener(m.FULLSCREEN_CHANGE_EVENT,e)}}),[w,A,G,D]);a.useEffect((function(){v.default.track(_.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,I({video_layout:O?"popout":A},(0,s.collectVoiceAnalyticsMetadata)(t.id)));return function(){O&&(0,h.isOSX)()||U(A)}}),[]);a.useEffect((function(){null!=D&&C.current===_.ChannelModes.VIDEO&&P===_.ChannelModes.VOICE&&(0,m.exitFullScreen)(D,l.default.resized,w)}),[w,P,C,D]);a.useEffect((function(){!M&&O&&i.default.wait((function(){return f.close(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))}),[M,O]);return j?b(c.default,{themeable:!1,node:D,guestWindow:E,className:g.default.rightTrayIcon,onClick:G(A)}):null}C.displayName="useFullscreenChannelCallButton"},
192110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PrivateThreadMode=void 0;t.getDefaultThreadName=O;t.getIsPrivate=S;t.useCreateThreadCommon=function(e,t,n,r,i,l,f,v,y,_){return a.useCallback(function(){var a,g=(a=regeneratorRuntime.mark((function a(g,E,I){var C,T,A,P,M,N,R,w;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:T=null==t||!1;A=S(r,i);if(""===(P=null!==(C=r.name)&&void 0!==C?C:"")&&y){M=O(e,t);P=""!==M?M:m.default.Messages.THREAD}N=e.isForumChannel()?(0,p.getPostAutoArchiveDuration)(e,n):(0,p.getAutoArchiveDuration)(e,n,r.autoArchiveDuration);R=s.default.getChannel(t);a.next=8;return c.default.createThread(e,t,P,A?h.ChannelTypes.PRIVATE_THREAD:e.type===h.ChannelTypes.GUILD_ANNOUNCEMENT?h.ChannelTypes.ANNOUNCEMENT_THREAD:h.ChannelTypes.PUBLIC_THREAD,l,N,f);case 8:if((w=a.sent)!==R){o.default.clearDraft(e.id,d.DraftType.ThreadSettings);o.default.clearDraft(e.id,d.DraftType.FirstThreadMessage)
;u.default.clearAll(e.id,d.DraftType.FirstThreadMessage);null==v||v(w);(T||g.length>0||null!=E&&E.length>0||null!=I&&I.length>0)&&b(w,g,E,I,_)}case 10:case"end":return a.stop()}}),a)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){E(o,n,r,i,u,"next",e)}function u(e){E(o,n,r,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return g.apply(this,arguments)}}(),[e,t,n,r,v,i,f,l,y,_])};t.usePrivateThreadMode=function(e){var t=(0,v.useCanStartPublicThread)(e),n=(0,v.useCanStartPrivateThread)(e),a=(0,v.useCouldStartPrivateThreadWithFeature)(e);return n?t?r.Enabled:r.PrivateOnly:a?r.DisabledWithUpsell:r.Disabled};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(186705)),i=_(n(786345)),u=_(n(413546)),l=_(n(614293)),s=_(n(644263)),d=n(687549),f=_(n(201292)),c=_(n(887174)),p=n(192751),v=n(819235),y=_(n(521595)),h=n(770348),m=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}t.PrivateThreadMode=r;!function(e){e[e.Disabled=1]="Disabled";e[e.Enabled=2]="Enabled";e[e.PrivateOnly=3]="PrivateOnly";e[e.DisabledWithUpsell=4]="DisabledWithUpsell"}(r||(t.PrivateThreadMode=r={}));function S(e,t){return t===r.PrivateOnly||null!==(n=e.isPrivate)&&void 0!==n&&n;var n}function O(e,t){
var n,r,a,o=null==t?null:f.default.getMessage(e.id,t),i=null!==(n=null==o||null===(r=o.embeds)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.rawTitle)&&void 0!==n?n:"";if(""!==i)return i.length>40?i.substring(0,40)+"...":i;for(var u,l=(0,y.default)((null!==(u=null==o?void 0:o.content)&&void 0!==u?u:"").split("\n")[0],!0).split(/(?:\s|[!@#$%^&*()_\-+={}[\]:";'<>?,./])+/),s=l[0],d=1;d<l.length;d++){var c=s+" "+l[d];if(c.length>40)break;s=c}s.length>40&&(s=s.substring(0,40)+"...");return s}function b(e,t,n,r,a){if(!(null!=a&&null!=r&&r.length>0))return null!=n&&n.length>0?i.default.sendStickers(e.id,n,t):i.default.sendMessage(e.id,l.default.parse(e,t));a(e,r,t,n)}},965484:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(536211)),a=s(n(636602)),o=s(n(649563)),i=s(n(423046)),u=s(n(644263)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={init:function(){a.default.subscribe(l.ActionTypes.CHANNEL_DELETE,(function(e){var t=e.channel;if(null!=t.guild_id){var n=u.default.getAllThreadsForParent(t.id);if(n.length>0){r.default.Store.pauseEmittingChanges();try{
for(var o,i=d(n);!(o=i()).done;){var s=o.value;a.default.dispatch({type:l.ActionTypes.THREAD_DELETE,channel:s,guildHashes:void 0})}}finally{r.default.Store.resumeEmittingChanges();r.default.Store.emitChanges()}}}}));a.default.subscribe(l.ActionTypes.MESSAGE_CREATE,(function(e){var t,n,r=e.channelId,a=e.message,l=u.default.getChannel(r);if(a.author.id===i.default.getId()&&(null==l?void 0:l.isActiveThread())){var s=new Date(null!==(t=null===(n=l.threadMetadata)||void 0===n?void 0:n.archiveTimestamp)&&void 0!==t?t:0).getTime();Date.now()-s<5e3&&o.default.resort(l.parent_id)}}))}};t.default=c},84902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useThreadMemberListSections=function(e,t){(0,o.useStateFromStores)([i.default],(function(){return i.default.getMemberListVersion(e)}));var n=(0,o.useStateFromStores)([i.default],(function(){return i.default.getMemberListSections(e)})),l=r.useMemo((function(){var e=(0,a.default)(t.roles).values().filter((function(e){
return e.hoist})).sortBy((function(e){return e.position})).reverse().map((function(e){return e.id})).value();e.push("online","offline");return e}),[t.roles]);return null==n?[]:l.map((function(e){var r,a,o=t.roles[e];return{label:"online"===e?u.default.Messages.STATUS_ONLINE:"offline"===e?u.default.Messages.STATUS_OFFLINE:o.name,userIds:null!==(r=null===(a=n[e])||void 0===a?void 0:a.userIds)&&void 0!==r?r:[],id:e,roleId:e}}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(496486)),o=n(536211),i=l(n(698099)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}
function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},698099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=h(n(496486)),o=h(n(536211)),i=h(n(636602)),u=h(n(644263)),l=h(n(876874)),s=h(n(832721)),d=h(n(788739)),f=h(n(690445)),c=h(n(728429)),p=n(71246),v=h(n(656016)),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E={},S=function(){function e(e,t,n){this.guildId=e;this.parentId=t;this.threadId=n;this.version=0;this.sections={};this.allUserIds=new Set}var t=e.prototype;t.rebuild=function(e){var t=this;this.version++;this.sections={};null!=e&&(this.allUserIds=new Set(e));var n=u.default.getChannel(this.parentId);(0,a.default)(Array.from(this.allUserIds)).map((function(e){var r=_(t.calculateNewState(e,n),3);return{userId:e,sectionId:r[0],
displayName:r[1],canViewChannel:r[2]}})).sortBy((function(e){return e.userId})).sortBy((function(e){return e.displayName})).forEach((function(e){t.addUser(e.userId,e.sectionId,e.displayName,e.canViewChannel,!0)}))};t.updateMultipleUserIds=function(e,t){var n=this;if(null!=t&&this.guildId!==t)return!1;if(0===(e=e.filter((function(e){return n.allUserIds.has(e)}))).length)return!1;e.length>50?this.rebuild():e.forEach((function(e){return n.updateUserId(e)}));return!0};t.updateUserId=function(e){if(!this.allUserIds.has(e))return!1;var t=_(this.findOldState(e),3),n=t[0],r=t[1],a=t[2],o=_(this.calculateNewState(e,u.default.getChannel(this.parentId)),3),i=o[0],l=o[1],s=o[2];if(n===i&&r===l&&a===s)return!1;this.removeUserId(e,n);this.addUser(e,i,l,s);return!0};t.addUserId=function(e){var t=_(this.calculateNewState(e,u.default.getChannel(this.parentId)),3),n=t[0],r=t[1],a=t[2];this.addUser(e,n,r,a)};t.removeUserId=function(e,t){this.allUserIds.delete(e)
;if(null!=t&&this.removeUserIdFromSection(e,t))return!0;for(var n in this.sections)if(this.removeUserIdFromSection(e,n))return!0;return!1};t.addUser=function(e,t,n,r,a){this.allUserIds.add(e);var o=c.default.getUser(e);if(null!=o&&""!==o.username){t in this.sections||(this.sections[t]={sectionId:t,usersById:{},userIds:[]});var i=this.sections[t];i.usersById[e]={userId:e,displayName:n,canViewChannel:r};if(a)i.userIds.push(e);else{var u=this.findUserIdSortedPosition(i,e,n);i.userIds.splice(u,0,e)}this.version++}};t.findUserIdSortedPosition=function(e,t,n){for(var r=e.userIds,a=e.usersById,o=0;o<r.length;o++){var i=r[o],u=a[i].displayName;if(u===n){if(t<i)return o}else if(null==u){if(null!=n)return o}else if(null!=n&&n<u)return o}return r.length};t.removeUserIdFromSection=function(e,t){var n=this.sections[t];if(null==t)return!1;if(e in n.usersById){delete n.usersById[e];n.userIds=n.userIds.filter((function(t){return t!==e}));this.version++;return!0}return!1};t.findOldState=function(e){
for(var t in this.sections){var n=this.sections[t];if(e in n.usersById){var r=n.usersById[e];return[t,r.displayName,r.canViewChannel]}}return[void 0,void 0,!1]};t.calculateNewState=function(e,t){var n,r,a=l.default.getMember(this.guildId,e),o=c.default.getUser(e),i=c.default.getCurrentUser(),u=(null==o?void 0:o.id)===(null==i?void 0:i.id)?f.default.getStatus():d.default.getStatus(e,this.guildId),s=null!=o&&null!=t&&v.default.can(y.Permissions.VIEW_CHANNEL,o,t),p=u!==y.StatusTypes.OFFLINE&&u!==y.StatusTypes.INVISIBLE&&u!==y.StatusTypes.UNKNOWN?null!==(n=null==a?void 0:a.hoistRoleId)&&void 0!==n?n:"online":"offline",h=null!==(r=null==a?void 0:a.nick)&&void 0!==r?r:null==o?void 0:o.username;return[p,null==h?void 0:h.toLowerCase(),s]};return e}();function O(e){return b(e.user.id)}function b(e){if(null==e)return!1;var t=!1;for(var n in E)E[n].updateUserId(e)&&(t=!0);return t}function I(e){var t=e.guildId,n=!1;for(var r in E)if(E[r].guildId===t){E[r].rebuild();n=!0}return n}
var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,l.default,s.default,d.default,f.default,c.default);this.syncWith([s.default],(function(){var e=s.default.getSubscribedThreadIds(),t=!1;for(var n in E)if(!e.has(n)){delete E[n];t=!0}return t}));this.syncWith([f.default],(function(){var e;return b(null===(e=c.default.getCurrentUser())||void 0===e?void 0:e.id)}))};n.getMemberListVersion=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.version};n.getMemberListSections=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.sections};n.canUserViewChannel=function(e,t,n){var r,a,o=E[e];if(null==o)return!1;var i=null===(r=o.sections[t])||void 0===r?void 0:r.usersById[n];return null!==(a=null==i?void 0:i.canViewChannel)&&void 0!==a&&a};return t}(o.default.Store);C.displayName="ThreadMemberListStore"
;var T=new C(i.default,((r={})[y.ActionTypes.CONNECTION_OPEN]=function(){E={}},r[y.ActionTypes.THREAD_MEMBERS_UPDATE]=function(e){if(!(e.id in E))return!1;var t,n;null===(t=e.addedMembers)||void 0===t||t.forEach((function(t){var n=t.userId;return E[e.id].addUserId(n)}));null===(n=e.removedMemberIds)||void 0===n||n.forEach((function(t){return E[e.id].removeUserId(t)}))},r[y.ActionTypes.THREAD_UPDATE]=function(e){var t,n=e.channel;if(!(n.id in E)||!0!==(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived))return!1;delete E[n.id]},r[y.ActionTypes.THREAD_DELETE]=function(e){var t=e.channel;if(!(t.id in E))return!1;delete E[t.id]},r[y.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates,n=new Set(t.map((function(e){return e.channel.id}))),r=!1;for(var a in E)if(n.has(E[a].parentId)){E[a].rebuild();r=!0}return r},r[y.ActionTypes.THREAD_MEMBER_LIST_UPDATE]=function(e){var t=e.threadId,n=e.guildId,r=e.members,a=u.default.getChannel(t),o=null==a?void 0:a.parent_id;if(null!=o){
E[t]=new S(n,o,t);E[t].rebuild(r.map((function(e){return e.user_id})))}},r[y.ActionTypes.USER_UPDATE]=O,r[y.ActionTypes.PRESENCE_UPDATES]=function(e){return e.updates.map((function(e){return b(e.user.id)})).some((function(e){return e}))},r[y.ActionTypes.GUILD_MEMBER_ADD]=O,r[y.ActionTypes.GUILD_MEMBER_UPDATE]=O,r[y.ActionTypes.GUILD_MEMBER_REMOVE]=O,r[y.ActionTypes.PRESENCES_REPLACE]=function(e){var t=e.presences,n=(0,a.default)(t).map((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.id})).filter(p.isNotNullish).uniq().value(),r=!1;for(var o in E)E[o].updateMultipleUserIds(n)&&(r=!0);return r},r[y.ActionTypes.GUILD_MEMBERS_CHUNK]=function(e){var t=e.guildId,n=e.members.map((function(e){return e.user.id})),r=!1;for(var a in E)E[a].updateMultipleUserIds(n,t)&&(r=!0);return r},r[y.ActionTypes.GUILD_ROLE_UPDATE]=I,r[y.ActionTypes.GUILD_ROLE_DELETE]=I,r));t.default=T},447840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n
;if(null==e.threadMetadata)return 0;var o=null!==(t=r.default.lastMessageId(e.id))&&void 0!==t?t:e.id,i=a.default.extractTimestamp(o),u=null!=e.threadMetadata.archiveTimestamp?new Date(e.threadMetadata.archiveTimestamp).getTime():0,l=60*(null===(n=e.threadMetadata)||void 0===n?void 0:n.autoArchiveDuration)*1e3;return Math.max(i,u)+l};var r=o(n(191391)),a=o(n(71636));function o(e){return e&&e.__esModule?e:{default:e}}},521595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){e=e.replace(/[\\"#:/@<>]/g,"");t&&(e=e.trim());return e}},861370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=he
;var r,a=le(n(667294)),o=ie(n(294184)),i=n(536211),u=ie(n(186705)),l=ie(n(55189)),s=ie(n(786630)),d=ie(n(284382)),f=ie(n(805918)),c=ie(n(235879)),p=n(573285),v=n(424527),y=ie(n(271180)),h=ie(n(907616)),m=ie(n(820652)),_=ie(n(822350)),g=ie(n(872134)),E=ie(n(58941)),S=ie(n(2914)),O=ie(n(422207)),b=n(770755),I=n(894826),C=ie(n(644263)),T=le(n(687549)),A=ie(n(30098)),P=ie(n(201292)),M=ie(n(689389)),N=ie(n(680873)),R=ie(n(956117)),w=ie(n(789446)),D=ie(n(16941)),L=le(n(279950)),j=n(730977),k=n(688388),U=ie(n(259530)),G=ie(n(82050)),F=ie(n(830759)),x=ie(n(878556)),B=ie(n(776360)),V=ie(n(582945)),W=n(993442),H=n(682937),z=n(871382),Y=n(247726),K=ie(n(887174)),$=n(192751),q=n(192110),Z=n(819235),X=ie(n(521595)),Q=ie(n(342570)),J=ie(n(690653)),ee=ie(n(387812)),te=n(770348),ne=n(665984),re=ie(n(247001)),ae=ie(n(271615)),oe=ie(n(704586));function ie(e){return e&&e.__esModule?e:{default:e}}function ue(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(ue=function(e){return e?n:t})(e)}function le(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ue(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function se(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function de(){de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return de.apply(this,arguments)}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ve=p.ChatInputTypes.THREAD_CREATION,ye=(0,_.default)({id:"2021-12_alt_thread_creation2",label:"Alternate thread creation",kind:"guild",defaultConfig:{useNewCreation:!1},treatments:[{id:1,label:"On",config:{useNewCreation:!0}}]});function he(e){var t,n=e.parentChannelId,r=e.parentMessageId,a=e.location,o=(0,i.useStateFromStores)([C.default],(function(){return C.default.getChannel(n)})),u=ye.useExperiment({guildId:null!==(t=null==o?void 0:o.guild_id)&&void 0!==t?t:""},{autoTrackExposure:!0}).useNewCreation;return null==o?null:u?pe(Q.default,{parentChannelId:n,parentMessageId:r,location:a}):pe(W.ComponentDispatchGroupProvider,{},void 0,pe("section",{"aria-label":re.default.Messages.CREATE_THREAD,className:ae.default.container
},void 0,pe(f.default,{channel:o,draftType:T.DraftType.FirstThreadMessage}),pe(x.default,{toolbar:pe(x.default.Icon,{icon:U.default,tooltip:re.default.Messages.CLOSE,onClick:function(){return K.default.closeAndClearThreadSidebar(n)}})},void 0,pe(x.default.Icon,{icon:F.default,disabled:!0,"aria-label":re.default.Messages.THREAD}),pe(x.default.Title,{},void 0,re.default.Messages.NEW_THREAD)),pe(me,{parentChannel:o,parentMessageId:r,location:a})))}he.displayName="CreateThreadSidebar";function me(e){var t=e.parentChannel,n=e.parentMessageId,r=e.location,d=null!=n,f=!d,p=a.useContext(W.ComponentDispatchGroupContext),_=(0,i.useStateFromStores)([c.default],(function(){return c.default.messageGroupSpacing})),S=(0,i.useStateFromStores)([A.default],(function(){return A.default.getGuild(t.guild_id)})),I=fe(a.useState({}),2),C=I[0],P=I[1],U=fe(a.useState((0,v.createEmptyState)()),2),x=U[0],$=U[1];a.useEffect((function(){function e(e){var n,r=T.default.getDraft(t.id,T.DraftType.FirstThreadMessage)
;0!==r.length&&!0!==e||$((0,v.createState)(r));P(null!==(n=T.default.getThreadSettings(t.id))&&void 0!==n?n:{})}e(!0);T.default.addChangeListener(e);return function(){T.default.removeChangeListener(e)}}),[t.id]);var X=a.useCallback((function(e){P((function(t){return de({},t,{},e)}));u.default.changeThreadSettings(t.id,de({},e,{parentMessageId:n}))}),[t.id,n]),Q=(0,q.usePrivateThreadMode)(t),J=a.useRef(x.textValue.trim().length>0);a.useEffect((function(){J.current=J.current||x.textValue.trim().length>0}),[x]);var ie=(0,i.useStateFromStores)([M.default],(function(){return M.default.can(te.Permissions.ATTACH_FILES,t)})),ue=function(e,t,n,r,o,i,u){var l=fe(a.useState(!1),2),s=l[0],d=l[1],f=fe(a.useState(!1),2),c=f[0],p=f[1],v=(0,ee.default)(e,t,n,r,o,u,K.default.openThreadSidebarForViewing),y=a.useCallback(function(){var n,a=(n=regeneratorRuntime.mark((function n(a,o,u){var l,s,f,c,y;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null==a&&(a=i.textValue)
;a=a.trim();null!=o&&0!==o.length||(o=null===(s=O.default.getStickerPreview(e.id,ve.drafts.type))||void 0===s?void 0:s.map((function(e){return e.id})));null!=u&&0!==u.length||(u=N.default.getUploads(e.id,T.DraftType.FirstThreadMessage));f=null!==(l=r.name)&&void 0!==l?l:"";c=0===f.length;y=null==t&&""===a&&(null==o||0===o.length)&&0===u.length;d(c);p(y);if(!c&&!y){n.next=11;break}return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 11:if(null!=t){n.next=18;break}n.next=14;return(0,z.applyChatRestrictions)({content:a,stickers:o,uploads:u,type:ve,channel:e});case 14:if(n.sent.valid){n.next=18;break}return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 18:n.next=20;return v(a,o,u);case 20:(0,b.clearStickerPreview)(e.id,ve.drafts.type);return n.abrupt("return",{shouldClear:!0,shouldRefocus:!1});case 22:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){se(o,r,a,i,u,"next",e)}
function u(e){se(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return a.apply(this,arguments)}}(),[v,i.textValue,r.name,t,e]);return{hasNameError:s,hasMessageError:c,submit:y}}(t,n,S,C,Q,x,r),le=ue.hasNameError,ce=ue.hasMessageError,ye=ue.submit,he=function(e,t,n,r,a){var i,u=(0,q.getIsPrivate)(t,r),l=Z.ThreadDurationExperiment.useExperiment({guildId:null!==(i=null==a?void 0:a.id)&&void 0!==i?i:""},{autoTrackExposure:!0}),s=function(e){e.stopPropagation();e.preventDefault();var t=(0,H.minimumRequiredTierForGuildFeature)(te.GuildFeatures.PRIVATE_THREADS);null!=a&&null!=t&&(0,E.default)({analyticsSourceLocation:{section:te.AnalyticsSections.CREATE_THREAD_SIDEBAR,object:te.AnalyticsObjects.PRIVATE_THREAD_CHECKBOX},guild:a,targetBoostedGuildTier:t,perks:(0,ne.guildBoostingPerks)(l)})},d=null!=a&&!a.hasFeature(te.GuildFeatures.PRIVATE_THREADS),f=null!=a?pe(g.default,{guild:a,guildFeature:te.GuildFeatures.PRIVATE_THREADS,tooltipPosition:j.TooltipPositions.TOP,
className:ae.default.privateThreadFeaturePill,onClick:s}):null,c=pe("div",{className:ae.default.privateThreadFormTitle},void 0,pe("span",{className:ae.default.privateThreadFormTitleText},void 0,re.default.Messages.PRIVATE_THREAD),f),p=pe(w.default,{displayOnly:d,className:(0,o.default)(ae.default.checkbox),type:w.default.Types.INVERTED,disabled:r===q.PrivateThreadMode.PrivateOnly||r===q.PrivateThreadMode.DisabledWithUpsell,value:u,onChange:function(e,t){return n({isPrivate:t})}},void 0,pe(B.default,{size:B.default.Sizes.SIZE_16,color:B.default.Colors.CUSTOM},void 0,re.default.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL));return e||r===q.PrivateThreadMode.Disabled?null:pe(k.FormSection,{title:c,className:ae.default.formSection},void 0,d?pe(D.default,{onClick:s},void 0,p):p,u?pe(B.default,{className:ae.default.privateThreadDescription,size:B.default.Sizes.SIZE_12,color:B.default.Colors.HEADER_SECONDARY},void 0,re.default.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION):null)
}(d,C,X,Q,S),me=_e(t,S,C,X),Se=ge(t,C,X,le),Oe=function(e,t,n,r,i,s){var d,f=fe(a.useState(!1),2),c=f[0],p=f[1],v=a.useCallback((function(){return p(!0)}),[]),h=a.useCallback((function(){return p(!1)}),[]),m=a.useCallback((function(t,n,a){u.default.saveDraft(e.id,n,T.DraftType.FirstThreadMessage);r((function(t){""!==n&&t.textValue!==n?l.default.startTyping(e.id):""===n&&l.default.stopTyping(e.id);return{textValue:n,richValue:a}}))}),[e.id,r]),_=a.useCallback((function(e,t,n){return i(e,n,t)}),[i]);(0,W.useComponentAction)({event:te.ComponentActions.TEXTAREA_FOCUS,handler:v});(0,W.useComponentAction)({event:te.ComponentActions.TEXTAREA_BLUR,handler:h});var g=s&&0===n.textValue.trim().length;return t?pe(k.FormSection,{title:re.default.Messages.FORM_THREAD_STARTER_MESSAGE_SECTION_LABEL,className:ae.default.formSection},void 0,pe(y.default,{type:ve,channel:e,placeholder:re.default.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:n.textValue,richValue:n.richValue,focused:c,
className:ae.default.channelTextArea,innerClassName:(0,o.default)(ae.default.channelTextAreaInner,(d={},d[ae.default.channelTextAreaInnerFocused]=c,d[ae.default.channelTextAreaInnerError]=g,d)),onFocus:v,onBlur:h,onChange:m,onSubmit:_,promptToUpload:Y.promptToUpload}),pe(L.Error,{error:g?re.default.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR:null})):null}(t,f||J.current,x,$,ye,ce),be=a.useCallback((function(){p.bumpDispatchPriority()}),[p]),Ie=(0,q.getIsPrivate)(C,Q)?G.default:F.default;return pe("div",{className:ae.default.chat,onMouseDown:be,onFocus:be},void 0,pe("div",{className:(0,o.default)(ae.default.messagesWrapper,"group-spacing-"+_)},void 0,pe("form",{onSubmit:function(e){e.preventDefault();ye()},className:ae.default.form},void 0,pe(V.default,{className:ae.default.scroller,fade:!0},void 0,pe("div",{className:ae.default.scrollerInner},void 0,pe(m.default,{channelId:"create-thread-null"},void 0,pe("div",{className:oe.default.iconWrapper},void 0,pe(Ie,{
className:oe.default.icon})),Se,Oe,pe(h.default,{channelId:t.id,type:ve,canAttachFiles:ie}),me,t.type===te.ChannelTypes.GUILD_TEXT?he:null),pe(Ee,{parentChannel:t,parentMessageId:n}))),pe("div",{className:ae.default.submitContainer},void 0,pe(R.default,{className:ae.default.submitButton,type:"submit"},void 0,re.default.Messages.CREATE_THREAD),pe(s.default,{channel:t,isThreadCreation:!0})))))}me.displayName="ChatArea";function _e(e,t,n,r){var a=(0,$.getAutoArchiveDuration)(e,t,n.autoArchiveDuration);return pe(d.default,{page:null!=t?te.AnalyticsPages.GUILD_CHANNEL:null,section:te.AnalyticsSections.CREATE_THREAD_SIDEBAR},void 0,pe(J.default,{autoArchiveDuration:a,guild:t,channel:e,onChange:function(e){r({autoArchiveDuration:e})}}))}_e.displayName="useAutoArchiveDropdown";function ge(e,t,n,r){var o,i=a.useRef(null),u=null!==(o=t.name)&&void 0!==o?o:"";a.useLayoutEffect((function(){var e;null===(e=i.current)||void 0===e||e.focus()}),[]);return pe(k.FormSection,{
title:re.default.Messages.THREAD_NAME,className:ae.default.formSection},void 0,pe(L.default,{inputRef:i,value:u,placeholder:re.default.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:te.MAX_CHANNEL_NAME_LENGTH,onChange:function(t){n({name:(0,X.default)(t,!1)});""!==t?l.default.startTyping(e.id):l.default.stopTyping(e.id)},onBlur:function(){var e=(0,X.default)(u,!0);e!==u&&n({name:e})},error:r&&0===u.trim().length?re.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null}))}ge.displayName="useThreadName";function Ee(e){var t=e.parentChannel,n=e.parentMessageId,r=(0,i.useStateFromStores)([P.default],(function(){return null==n?null:P.default.getMessage(t.id,n)})),a=I.MessageDisplayCompact.useSetting();return null!=r?pe(S.default,{className:ae.default.messagePreview,message:r,channel:t,compact:a,renderThreadAccessory:!1}):null}},342570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=se
;var r,a=ne(n(667294)),o=ee(n(294184)),i=n(536211),u=ee(n(186705)),l=ee(n(55189)),s=ee(n(786630)),d=ee(n(805918)),f=ee(n(235879)),c=n(573285),p=n(424527),v=ee(n(271180)),y=ee(n(907616)),h=ee(n(820652)),m=ee(n(872134)),_=ee(n(58941)),g=ee(n(2914)),E=ee(n(422207)),S=n(770755),O=n(894826),b=ee(n(644263)),I=ne(n(687549)),C=ee(n(30098)),T=ee(n(201292)),A=ee(n(689389)),P=ee(n(680873)),M=ee(n(789446)),N=ee(n(16941)),R=ee(n(279950)),w=n(730977),D=n(688388),L=ee(n(259530)),j=ee(n(82050)),k=ee(n(830759)),U=ee(n(878556)),G=ee(n(776360)),F=ee(n(582945)),x=n(993442),B=n(682937),V=n(871382),W=n(247726),H=ee(n(887174)),z=n(192110),Y=n(819235),K=ee(n(521595)),$=ee(n(387812)),q=n(770348),Z=n(665984),X=ee(n(247001)),Q=ee(n(271615)),J=ee(n(704586));function ee(e){return e&&e.__esModule?e:{default:e}}function te(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(te=function(e){return e?n:t})(e)}function ne(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=te(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function re(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ae(){ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ae.apply(this,arguments)}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var le=c.ChatInputTypes.THREAD_CREATION;function se(e){var t=e.parentChannelId,n=e.parentMessageId,r=e.location,a=(0,i.useStateFromStores)([b.default],(function(){return b.default.getChannel(t)}));return null==a?null:ue(x.ComponentDispatchGroupProvider,{},void 0,ue("section",{"aria-label":X.default.Messages.CREATE_THREAD,className:Q.default.container},void 0,ue(d.default,{channel:a,draftType:I.DraftType.FirstThreadMessage}),ue(U.default,{toolbar:ue(U.default.Icon,{icon:L.default,tooltip:X.default.Messages.CLOSE,onClick:function(){return H.default.closeAndClearThreadSidebar(t)}})},void 0,ue(U.default.Icon,{icon:k.default,disabled:!0,"aria-label":X.default.Messages.THREAD}),ue(U.default.Title,{},void 0,X.default.Messages.NEW_THREAD)),ue(de,{parentChannel:a,parentMessageId:n,location:r})))}se.displayName="CreateThreadSidebar";function de(e){
var t=e.parentChannel,n=e.parentMessageId,r=e.location,l=null!=n,d=a.useContext(x.ComponentDispatchGroupContext),c=(0,i.useStateFromStores)([f.default],(function(){return f.default.messageGroupSpacing})),v=(0,i.useStateFromStores)([C.default],(function(){return C.default.getGuild(t.guild_id)})),g=oe(a.useState({}),2),O=g[0],b=g[1],T=oe(a.useState((0,p.createEmptyState)()),2),R=T[0],L=T[1];a.useEffect((function(){function e(e){var n,r=I.default.getDraft(t.id,I.DraftType.FirstThreadMessage);0!==r.length&&!0!==e||L((0,p.createState)(r));b(null!==(n=I.default.getThreadSettings(t.id))&&void 0!==n?n:{})}e(!0);I.default.addChangeListener(e);return function(){I.default.removeChangeListener(e)}}),[t.id]);var U=a.useCallback((function(e){b((function(t){return ae({},t,{},e)}));u.default.changeThreadSettings(t.id,ae({},e,{parentMessageId:n}))}),[t.id,n]),W=(0,i.useStateFromStores)([A.default],(function(){return A.default.can(q.Permissions.ATTACH_FILES,t)})),K=(0,
z.usePrivateThreadMode)(t),ee=function(e,t,n,r,o,i,u){var l=oe(a.useState(!1),2),s=l[0],d=l[1],f=oe(a.useState(!1),2),c=f[0],p=f[1],v=(0,$.default)(e,t,n,r,o,u,H.default.openThreadSidebarForViewing,!0),y=a.useCallback(function(){var n,a=(n=regeneratorRuntime.mark((function n(a,o,u){var l,s,f,c,y;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null==a&&(a=i.textValue);a=a.trim();null!=o&&0!==o.length||(o=null===(s=E.default.getStickerPreview(e.id,le.drafts.type))||void 0===s?void 0:s.map((function(e){return e.id})));null!=u&&0!==u.length||(u=P.default.getUploads(e.id,I.DraftType.FirstThreadMessage));f=null!==(l=r.name)&&void 0!==l?l:"";c=null==t&&0===f.length;y=""===a&&(null==o||0===o.length)&&0===u.length;d(c);p(y);if(!c&&!y){n.next=11;break}return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 11:if(null!=t){n.next=18;break}n.next=14;return(0,V.applyChatRestrictions)({content:a,stickers:o,uploads:u,type:le,channel:e});case 14:
if(n.sent.valid){n.next=18;break}return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 18:n.next=20;return v(a,o,u);case 20:(0,S.clearStickerPreview)(e.id,le.drafts.type);return n.abrupt("return",{shouldClear:!0,shouldRefocus:!1});case 22:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){re(o,r,a,i,u,"next",e)}function u(e){re(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return a.apply(this,arguments)}}(),[v,i.textValue,r.name,t,e]);return{hasNameError:s,hasMessageError:c,submit:y}}(t,n,v,O,K,R,r),te=ee.hasNameError,ne=ee.hasMessageError,ie=ee.submit,se=function(e,t,n,r,a){var i,u=(0,z.getIsPrivate)(t,r),l=Y.ThreadDurationExperiment.useExperiment({guildId:null!==(i=null==a?void 0:a.id)&&void 0!==i?i:""},{autoTrackExposure:!0}),s=function(e){e.stopPropagation();e.preventDefault();var t=(0,B.minimumRequiredTierForGuildFeature)(q.GuildFeatures.PRIVATE_THREADS)
;null!=a&&null!=t&&(0,_.default)({analyticsSourceLocation:{section:q.AnalyticsSections.CREATE_THREAD_SIDEBAR,object:q.AnalyticsObjects.PRIVATE_THREAD_CHECKBOX},guild:a,targetBoostedGuildTier:t,perks:(0,Z.guildBoostingPerks)(l)})},d=null!=a&&!a.hasFeature(q.GuildFeatures.PRIVATE_THREADS),f=null!=a?ue(m.default,{guild:a,guildFeature:q.GuildFeatures.PRIVATE_THREADS,tooltipPosition:w.TooltipPositions.TOP,className:Q.default.privateThreadFeaturePill,onClick:s}):null,c=ue("div",{className:Q.default.privateThreadFormTitle},void 0,ue("span",{className:Q.default.privateThreadFormTitleText},void 0,X.default.Messages.PRIVATE_THREAD),f),p=ue(M.default,{className:(0,o.default)(Q.default.checkbox),type:M.default.Types.INVERTED,disabled:r===z.PrivateThreadMode.PrivateOnly||r===z.PrivateThreadMode.DisabledWithUpsell,value:u,onChange:function(e,t){return n({isPrivate:t})}},void 0,ue(G.default,{size:G.default.Sizes.SIZE_16,color:G.default.Colors.CUSTOM
},void 0,X.default.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL));return e||r===z.PrivateThreadMode.Disabled?null:ue(D.FormSection,{title:c,className:Q.default.formSection},void 0,d?ue(N.default,{onClick:s},void 0,p):p,u?ue(G.default,{className:Q.default.privateThreadDescription,size:G.default.Sizes.SIZE_12,color:G.default.Colors.HEADER_SECONDARY},void 0,X.default.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION):null)}(l,O,U,K,v),de=fe(t,n,O,U,te,null!=n),ve=ce(t,R,L,ie,ne),ye=a.useCallback((function(){d.bumpDispatchPriority()}),[d]),he=(0,z.getIsPrivate)(O,K)?j.default:k.default;return ue("div",{className:Q.default.chat,onMouseDown:ye,onFocus:ye},void 0,ue("div",{className:(0,o.default)(Q.default.messagesWrapper,"group-spacing-"+c)},void 0,ue("form",{onSubmit:function(e){e.preventDefault();ie()},className:Q.default.form},void 0,ue(F.default,{className:Q.default.scroller,fade:!0},void 0,ue("div",{className:Q.default.scrollerInner},void 0,ue(h.default,{
channelId:"create-thread-null"},void 0,ue("div",{className:J.default.iconWrapper},void 0,ue(he,{className:J.default.icon})),de,t.type===q.ChannelTypes.GUILD_TEXT?se:null),ue(pe,{parentChannel:t,parentMessageId:n}))),ue("div",{className:Q.default.submitContainer},void 0,ue(y.default,{channelId:t.id,type:le,canAttachFiles:W}),ve,ue(s.default,{channel:t,isThreadCreation:!0})))))}de.displayName="ChatArea";function fe(e,t,n,r,a,o){var i,u=null!==(i=n.name)&&void 0!==i?i:"",s=(0,z.getDefaultThreadName)(e,t);return ue(D.FormSection,{title:X.default.Messages.THREAD_NAME+(o?" (Optional)":""),className:Q.default.formSection},void 0,ue(R.default,{value:u,placeholder:""!==s?s:X.default.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:q.MAX_CHANNEL_NAME_LENGTH,onChange:function(t){r({name:(0,K.default)(t,!1)});""!==t?l.default.startTyping(e.id):l.default.stopTyping(e.id)},onBlur:function(){var e=(0,K.default)(u,!0);e!==u&&r({name:e})},
error:a&&0===u.trim().length?X.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null}))}fe.displayName="useThreadName";function ce(e,t,n,r,i){var s,d=oe(a.useState(!0),2),f=d[0],c=d[1],p=a.useCallback((function(){return c(!0)}),[]),y=a.useCallback((function(){return c(!1)}),[]),h=a.useCallback((function(t,r,a){u.default.saveDraft(e.id,r,I.DraftType.FirstThreadMessage);n((function(t){""!==r&&t.textValue!==r?l.default.startTyping(e.id):""===r&&l.default.stopTyping(e.id);return{textValue:r,richValue:a}}))}),[e.id,n]),m=a.useCallback((function(e,t,n){return r(e,n,t)}),[r]);(0,x.useComponentAction)({event:q.ComponentActions.TEXTAREA_FOCUS,handler:p});(0,x.useComponentAction)({event:q.ComponentActions.TEXTAREA_BLUR,handler:y});var _=i&&0===t.textValue.trim().length;return ue(v.default,{type:le,channel:e,placeholder:X.default.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:t.textValue,richValue:t.richValue,focused:f,className:Q.default.channelTextArea2,innerClassName:(0,
o.default)(Q.default.channelTextAreaInner2,(s={},s[Q.default.channelTextAreaInnerError2]=_,s)),onFocus:p,onBlur:y,onChange:h,onSubmit:m,promptToUpload:W.promptToUpload})}ce.displayName="useFirstThreadMessage";function pe(e){var t=e.parentChannel,n=e.parentMessageId,r=(0,i.useStateFromStores)([T.default],(function(){return null==n?null:T.default.getMessage(t.id,n)})),a=O.MessageDisplayCompact.useSetting();return null!=r?ue(g.default,{className:Q.default.messagePreview,message:r,channel:t,compact:a,renderThreadAccessory:!1}):null}},690653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(294184)),i=n(321248),u=g(n(872134)),l=g(n(58941)),s=n(688388),d=n(967965),f=n(308920),c=n(682937),p=n(192751),v=n(819235),y=n(770348),h=n(665984),m=g(n(247001)),_=g(n(604055));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=function(e){var t=e.guild,n=e.channel,r=e.autoArchiveDuration,g=e.onChange,E=e.isDisabled,O=a.useContext(f.AnalyticsContext),C=v.ThreadDurationExperiment.useExperiment({guildId:n.guild_id},{autoTrackExposure:!0}),T=(0,p.getAutoArchiveOptions)(t,!0,C),A=(0,i.useTrackThreadArchivalDurationUpsell)(O.location,t,n),P=function(e,n){var r,a=T.find((function(t){return e.value===t.value}));if(null!=a&&null!=a.guildFeature&&null!=t){var i,l;return I("span",{className:(0,o.default)(_.default.optionLabel,(i={},i[_.default.dropdownOption]=n,i))},void 0,I("span",{className:(0,o.default)(_.default.optionLabelCopy,(l={},l[_.default.disabledOptionLabel]=!a.enabled,l))},void 0,e.label),I(u.default,{guild:t,guildFeature:a.guildFeature}))}return I("span",{className:(0,o.default)(_.default.optionLabel,(r={},r[_.default.dropdownOption]=n,r))
},void 0,e.label)};return I(s.FormSection,{title:m.default.Messages.FORM_THREAD_AUTO_ARCHIVE_SECTION_LABEL,className:_.default.formSection},void 0,I(d.SingleSelect,{isDisabled:E,options:T,value:r,maxVisibleItems:T.length,onOpen:A,onChange:function(e){var n=T.find((function(t){return t.value===e}));if(null==n||n.enabled||null==n.guildFeature)return g(e);var r=(0,c.minimumRequiredTierForGuildFeature)(n.guildFeature);null!=t&&null!=r&&(0,l.default)({analyticsSourceLocation:b({},O.location,{object:y.AnalyticsObjects.THREAD_ARCHIVE_DURATION_DROPDOWN,objectType:(0,c.boostedGuildTierToAnalyticsObjectType)(r)}),guild:t,targetBoostedGuildTier:r,perks:(0,h.guildBoostingPerks)(C)})},optionClassName:_.default.dropdownOption,renderOptionLabel:function(e){return P(e,!0)},renderOptionValue:function(e){var t=S(e,1)[0];return P(t,!1)}}))};C.displayName="ThreadAutoArchiveDropdown";var T=C;t.default=T},556250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(496486)),i=n(536211),u=m(n(265851)),l=m(n(160629)),s=m(n(830759)),d=n(878556),f=m(n(776360)),c=m(n(782270)),p=n(566142),v=m(n(39447)),y=m(n(247001)),h=m(n(517831));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return g.apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.channel,n=S(a.useState(!1),2),r=n[0],m=n[1],_=(0,i.useStateFromStores)([c.default],(function(){return(0,o.default)(c.default.getThreadsForGuild(t.guild_id)).values().filter((function(e){return e.parentId===t.id})).size()})),O=a.useCallback((function(){m(!1)}),[]),b=a.useCallback((function(){r||(0,p.trackThreadBrowserOpened)("Popout");m(!r)}),[r]);return E(l.default,{animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,shouldShow:r,
onRequestClose:O,renderPopout:function(){return E(u.default,{},void 0,E(v.default,{className:h.default.browser,channel:t,onClose:O}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(d.Icon,g({},e,{className:h.default.icon,onClick:b,icon:s.default,"aria-label":y.default.Messages.THREADS,tooltip:n?null:y.default.Messages.THREADS,selected:n}),_>0?E(f.default,{size:f.default.Sizes.SIZE_16,color:f.default.Colors.INTERACTIVE_NORMAL,className:h.default.count},void 0,_>=100?"99+":_):null)}))}b.displayName="ThreadBrowserPopout"},73942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(160629)),i=h(n(91424)),u=h(n(811198)),l=h(n(878556)),s=n(956506),d=n(895431),f=h(n(358751)),c=n(64072),p=n(770348),v=h(n(247001)),y=h(n(353121));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.channel,n=(0,d.useThreadNotificationSetting)(t),r=E(a.useState(!1),2),h=r[0],m=r[1];a.useEffect((function(){var e=function(){return m(!0)};s.ComponentDispatch.subscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){s.ComponentDispatch.unsubscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var S=v.default.Messages.NOTIFICATION_SETTINGS;return _(o.default,{shouldShow:h,animation:o.default.Animation.NONE,position:o.default.Positions.BOTTOM,align:o.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return m(!1)},renderPopout:function(e){return a.createElement(f.default,g({},e,{channel:t,navId:"thread-context",label:v.default.Messages.THREAD_ACTIONS_MENU_LABEL}))}},void 0,(function(e,t){var r=t.isShown;return a.createElement(l.default.Icon,g({},e,{onClick:function(){return m((function(e){return!e}))},
tooltip:r?null:S,icon:n===c.ThreadMemberFlags.NO_MESSAGES?u.default:i.default,foreground:n===c.ThreadMemberFlags.NO_MESSAGES?y.default.strikethrough:null,"aria-label":S,selected:r}))}))}O.displayName="ThreadNotificationSettingsButton"},627900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=O(n(667294)),o=E(n(691692)),i=E(n(609510)),u=E(n(894630)),l=E(n(783938)),s=E(n(326348)),d=E(n(412649)),f=E(n(730205)),c=E(n(730487)),p=O(n(145122)),v=n(894826),y=E(n(160629)),h=E(n(775803)),m=E(n(878556)),_=E(n(887174)),g=E(n(247001));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=e.channel,n=C(a.useState(!1),2),r=n[0],o=n[1];function i(){o((function(e){return!e
}))}var u=g.default.Messages.MORE;return b(y.default,{shouldShow:r,animation:y.default.Animation.NONE,position:y.default.Positions.BOTTOM,align:y.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(P,I({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(m.default.Icon,I({},e,{onClick:i,tooltip:n?null:u,icon:h.default,"aria-label":u,selected:n}))}))}A.displayName="ThreadOverflowMenuButton";function P(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,o.default)(t),y=(0,d.default)(t.id),h=(0,s.default)(t),m=(0,c.default)(t.id),E=(0,i.default)(t),S=(0,u.default)(t,"Toolbar Overflow"),O=(0,l.default)(t),I=(0,f.default)(t),C=v.UseThreadSidebar.useSetting();return b(p.default,{navId:"thread-context",onClose:n,"aria-label":g.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,b(p.MenuGroup,{},void 0,S),b(p.MenuGroup,{},void 0,h,O,y,C?b(p.MenuItem,{id:"open",
label:g.default.Messages.OPEN_IN_SPLIT_VIEW,action:function(){_.default.openThreadSidebarForViewing(t)}}):null),b(p.MenuGroup,{},void 0,I,a,E),b(p.MenuGroup,{},void 0,m))}P.displayName="OverflowMenu"},621688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=e.channel,r=e.baseChannelId;return a.createElement(a.Fragment,null,n.isForumPost()||!0===(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived)?null:N(I.default,{channel:n}),N(L,{channel:n}),N(S.default.Icon,{icon:_.default,tooltip:T.default.Messages.CLOSE,onClick:function(){return b.default.closeThreadSidebar(null!=r?r:n.parent_id)}}))};var r,a=M(n(667294)),o=A(n(691692)),i=A(n(609510)),u=A(n(894630)),l=A(n(783938)),s=A(n(326348)),d=A(n(412649)),f=A(n(480864)),c=A(n(233557)),p=A(n(730205)),v=A(n(730487)),y=M(n(145122)),h=n(391869),m=A(n(160629)),_=A(n(259530)),g=A(n(435012)),E=A(n(775803)),S=A(n(878556)),O=n(956506),b=A(n(887174)),I=A(n(73942)),C=n(770348),T=A(n(247001))
;function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e){var t=e.channel,n=w(a.useState(!1),2),r=n[0],o=n[1];function i(){o((function(e){return!e}))}var u=T.default.Messages.MORE;return N(m.default,{shouldShow:r,animation:m.default.Animation.NONE,position:m.default.Positions.BOTTOM,align:m.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(j,R({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(S.default.Icon,R({},e,{onClick:i,tooltip:n?null:u,icon:E.default,"aria-label":u,selected:n}))}))}L.displayName="OverflowMenuButton";function j(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,u.default)(t,"Sidebar Overflow"),m=(0,l.default)(t),_=(0,f.default)(t),E=(0,
c.default)(t),S=(0,o.default)(t),b=(0,d.default)(t.id),I=(0,s.default)(t),A=(0,i.default)(t),P=(0,v.default)(t.id),M=(0,p.default)(t);function R(){(0,h.transitionToChannel)(t.id)}return N(y.default,{navId:"thread-context",onClose:n,"aria-label":T.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,N(y.MenuGroup,{},void 0,a,N(y.MenuItem,{id:"open",label:T.default.Messages.OPEN_IN_FULL_VIEW,action:R})),N(y.MenuGroup,{},void 0,_,E),N(y.MenuGroup,{},void 0,I,m,b),N(y.MenuGroup,{},void 0,N(y.MenuItem,{id:"search",label:T.default.Messages.SEARCH,icon:g.default,action:function(){R();setTimeout((function(){O.ComponentDispatch.dispatch(C.ComponentActions.FOCUS_SEARCH,{prefillCurrentChannel:!1})}),2e3)}}),N(y.MenuItem,{id:"pins",label:T.default.Messages.PINS,icon:g.default,action:function(){R();O.ComponentDispatch.dispatch(C.ComponentActions.TOGGLE_CHANNEL_PINS)}})),N(y.MenuGroup,{},void 0,M,S,A),N(y.MenuGroup,{},void 0,P))}j.displayName="OverflowMenu"},252283:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=e.baseChannelId,b=(0,o.useStateFromStores)([v.default],(function(){return v.default.getChannel(t)})),I=(0,o.useStateFromStores)([h.default],(function(){return h.default.getGuild(null==b?void 0:b.getGuildId())})),T=(0,d.default)(b),M=a.useRef(!1);a.useEffect((function(){if(null!=b&&!M.current){M.current=!0;var e=(0,s.collectThreadMetadata)(v.default.getChannel(b.id),!0);(0,s.trackWithMetadata)(E.AnalyticEvents.CHANNEL_OPENED,P({},e,{channel_id:b.id,guild_id:b.guild_id,parent_id:b.parent_id,channel_view:"Split View"}))}}),[b]);if(null==b||null==I)return null;var N=C(g.default,{channel:b,baseChannelId:r});return a.createElement(a.Fragment,null,C(l.default,{channel:b,draftType:y.DraftType.ChannelMessage}),C(m.default,{toolbar:N,"aria-label":S.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:b,channelName:T,guild:I,inSidebar:!0,handleContextMenu:function(e){(0,
i.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{channel:b}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=b&&(0,p.transitionToChannel)(b.id)}})),C("div",{className:O.default.chat},void 0,C(_.default,{channel:b,narrow:!0}),C(u.default,{channel:b,guild:I,chatInputType:f.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]
}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=b(n(914789)),l=b(n(805918)),s=n(844784),d=b(n(678928)),f=n(573285),c=n(451115),p=n(391869),v=b(n(644263)),y=n(687549),h=b(n(30098)),m=b(n(878556)),_=b(n(734239)),g=b(n(621688)),E=n(770348),S=b(n(247001)),O=b(n(974290));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}},387812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,l,s,d,f,c,p){var v=r.useCallback((function(e,t,n,r){a.default.uploadFiles(e.id,t,i.DraftType.FirstThreadMessage,o.default.parse(e,n),{stickerIds:r})}),[]);return(0,u.useCreateThreadCommon)(e,t,n,l,s,d,p,f,c,v)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(274710)),o=l(n(614293)),i=n(687549),u=n(192110);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},785992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SPEECH_RATE_INCREMENTS=t.MAX_TTS_LENGTH=void 0;t.MAX_TTS_LENGTH=200;t.SPEECH_RATE_INCREMENTS=[0,.25,.5,.75,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,3.25,3.5,3.75,4,4.25,4.5,4.75,5,5.25,5.5,5.75,6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10]},340877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=A(n(636602)),a=T(n(448549)),o=n(678928),i=T(n(86031)),u=n(894826),l=A(n(423046)),s=A(n(502546)),d=A(n(644263)),f=A(n(876874)),c=A(n(30098)),p=A(n(635014)),v=A(n(919935)),y=A(n(290629)),h=A(n(211136)),m=A(n(563621)),_=A(n(871778)),g=A(n(728429)),E=n(43247),S=A(n(91603)),O=n(785992),b=n(770348),I=A(n(247001));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e){return e&&e.__esModule?e:{default:e}}var P=[],M=null,N=null,R=null;function w(e,t,n,r){
var a=c.default.getGuild(n),i=e.replace(b.MARKDOWN_SPOILER_REGEXP_GLOBAL,I.default.Messages.SPOILER).replace(/<@!?(\d+)>/g,(function(e,t){var r,a=g.default.getUser(t);return null==a?e:null!==(r=f.default.getNick(n,a.id))&&void 0!==r?r:a.username})).replace(/<@&?(\d+)>/g,(function(e,t){var n=null!=a?a.roles[t]:null;return null!=n&&null!=n.name?n.name:I.default.Messages.MESSAGE_TTS_DELETED_ROLE})).replace(/<#(\d+)>/g,(function(e,t){var n=d.default.getChannel(t);return null==n?e:(0,o.computeChannelName)(n,g.default,y.default)})).replace(/<a?:(\w+):(\d+)>/g,(function(e,t){return I.default.Messages.EMOJI+" "+t})).replace(/<\/([^\s]+?):(\d+)>/g,(function(e,t){return"/"+t}));return null==r?I.default.Messages.MESSAGE_TTS.format({username:t,body:i}):I.default.Messages.MESSAGE_TTS_REPLY.format({username:t,body:i,replyUsername:r})}function D(){if(!a.supported)return!1;var e=_.default.locale;if(null==R){var t;R=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}
var n=R.filter((function(t){return t.lang===e||t.lang.slice(0,e.length)===e}));N=n.length>0?n[0]:null}function L(e,t,n,r,o){var i=a.createUtterance(e,n);if(null!==i){null==N&&D();if(t)(0,E.stopSpeaking)();else{var u;null===(u=M)||void 0===u||u.removeEventListener("end",E.stopSpeaking)}i.addEventListener("end",E.stopSpeaking);null!=r&&i.addEventListener("start",r);null!=o&&i.addEventListener("end",o);M=i;a.speakUtterance(i,N)}}function j(e,t,n,r,a){L(e,t,a,(function(){(0,E.speakingMessage)(n,r)}))}function k(e){L(e.text,e.interrupt,e.maxLength,e.onStart,e.onEnd)}function U(){null!==M&&M.removeEventListener("end",E.stopSpeaking);a.cancelAll();M=null;return!0}function G(e){
var t,n,r,a=e.message,o=e.channel,u=a.type===b.MessageTypes.REPLY?i.default.getMessageByReference(a.messageReference):null,l=(null==u?void 0:u.state)===i.ReferencedMessageState.LOADED?null==u||null===(t=u.message)||void 0===t?void 0:t.author:null,s=null!=l?null!==(n=f.default.getNick(o.guild_id,null==l?void 0:l.id))&&void 0!==n?n:l.username:null,d=o.getGuildId(),c=null!==(r=f.default.getNick(d,a.author.id))&&void 0!==r?r:a.author.username;j(w(a.content,c,d,s),!0,o.id,a.id);return!0}function F(e){var t=e.channelId,n=e.message;if(e.optimistic||p.default.isSelfDeaf())return!1;var r=d.default.getChannel(t);if(null==r)return!1;var a=h.default.getChannelId(),o=s.default.getCurrentSidebarChannelId(a),i=t===a||t===o,c=u.EnableTTSCommand.getSetting()&&n.tts&&i,_=v.default.getTTSType(),g=n.author.id!==l.default.getId()&&(_===b.TTSNotificationTypes.ALL_CHANNELS||_===b.TTSNotificationTypes.SELECTED_CHANNEL&&i);if((c||g)&&!y.default.isBlocked(n.author.id)){var E,S,I;if(P.indexOf(n.id)>=0)return!1
;P.unshift(n.id)>10&&P.pop();var C=r.getGuildId();if(null!=C&&m.default.getMutedChannels(C).has(t))return!1;var T=null!==(E=f.default.getNick(C,n.author.id))&&void 0!==E?E:n.author.username,A=n.type===b.MessageTypes.REPLY?null===(S=n.referenced_message)||void 0===S?void 0:S.author:null,M=null!=A?null!==(I=f.default.getNick(C,null==A?void 0:A.id))&&void 0!==I?I:A.username:null;j(w(n.content,T,C,M),!1,r.id,n.id,O.MAX_TTS_LENGTH)}return!1}function x(e){var t=e.id,n=e.channelId,r=S.default.currentMessage;if(null!=r&&t===r.messageId&&n===r.channelId){(0,E.stopSpeaking)();return!0}return!1}function B(){p.default.isSelfDeaf()&&a.cancelAll()}var V={init:function(){r.default.subscribe(b.ActionTypes.SPEAK_TEXT,k);r.default.subscribe(b.ActionTypes.SPEAK_MESSAGE,G);r.default.subscribe(b.ActionTypes.STOP_SPEAKING,U);r.default.subscribe(b.ActionTypes.MESSAGE_CREATE,F);r.default.subscribe(b.ActionTypes.MESSAGE_DELETE,x);r.default.subscribe(b.ActionTypes.AUDIO_TOGGLE_SELF_DEAF,B)
;r.default.subscribe(b.ActionTypes.USER_SETTINGS_UPDATE,D);r.default.subscribe(b.ActionTypes.I18N_LOAD_SUCCESS,D)}};t.default=V},418968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=m(n(667294)),a=y(n(636602)),o=y(n(177230)),i=y(n(200738)),u=y(n(288356)),l=y(n(788739)),s=y(n(290629)),d=y(n(728429)),f=n(194322),c=m(n(308920)),p=n(770348),v=n(673810);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}var O=null;function b(e){return I.apply(this,arguments)}function I(){return(I=S(regeneratorRuntime.mark((function e(t){var a,o,y,h,m,g,E,b,I,C,T,A,P,M,N,R,w,D,L,j,k,U,G,F,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T=t.userId,A=t.section,P=t.guildId,M=void 0===P?p.ME:P,N=t.friendToken,R=t.autoFocusNote,w=t.analyticsLocation
;if(null!=(D=d.default.getUser(T))){e.next=4;break}return e.abrupt("return");case 4:if(null!=(L=l.default.getPrimaryActivity(T))){j=L.party;k=L.assets;U=null!=L.application_id?u.default.getGame(L.application_id):null}G=l.default.getStatus(T);F=l.default.isMobileOnline(T);x=G;G===p.StatusTypes.ONLINE&&(x=F?p.AnalyticsUserStatusTypes.ONLINE_MOBILE:p.AnalyticsUserStatusTypes.ONLINE_DESKTOP);e.next=12;return(0,f.openModalLazy)(S(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(16972)]).then(n.bind(n,116972));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,_({},e,{user:D,autoFocusNote:R,guildId:M,friendToken:N,initialSection:A}))}));case 5:case"end":return e.stop()}}),e)}))));case 12:O=e.sent;c.default.track(p.AnalyticEvents.OPEN_MODAL,_({type:"Profile Modal",other_user_id:T,
application_id:null!==(a=null==L?void 0:L.application_id)&&void 0!==a?a:null,application_name:null==L?void 0:L.name,sku_id:null!==(o=null===(y=U)||void 0===y?void 0:y.primarySkuId)&&void 0!==o?o:null,is_friend:s.default.isFriend(T),has_images:Boolean(null!==(h=null===(m=k)||void 0===m?void 0:m.large_image)&&void 0!==h?h:null===(g=k)||void 0===g?void 0:g.small_image),party_max:null===(E=j)||void 0===E||null===(b=E.size)||void 0===b?void 0:b[1],party_id:null===(I=j)||void 0===I?void 0:I.id,party_platform:(0,v.isSpotifyParty)(null===(C=j)||void 0===C?void 0:C.id)?p.PlatformTypes.SPOTIFY:null,game_platform:(0,i.default)(L),profile_user_status:x,profile_has_nitro_customization:null!=D.banner},null==w?null:(0,c.expandLocation)(w)));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){null!=O&&(0,f.closeModal)(O);O=null}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(p.ActionTypes.USER_PROFILE_MODAL_OPEN,b);a.default.subscribe(p.ActionTypes.USER_PROFILE_MODAL_CLOSE,C)};n._terminate=function(){a.default.unsubscribe(p.ActionTypes.USER_PROFILE_MODAL_OPEN,b);a.default.unsubscribe(p.ActionTypes.USER_PROFILE_MODAL_CLOSE,C)};return t}(o.default));t.default=T},142006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=_(n(294184)),i=n(536211),u=n(483559),l=_(n(257867)),s=_(n(956117)),d=_(n(530250)),f=n(354479),c=n(688388),p=n(3400),v=_(n(582945)),y=n(770348),h=_(n(247001)),m=_(n(634298));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=E(c.FormDivider,{}),T=E(c.FormDivider,{});function A(e){var t=e.transitionState,r=(0,i.useStateFromStoresObject)([l.default],(function(){return{requiredAction:l.default.getAction()}})).requiredAction,_=b(a.useState(!1),2),g=_[0],S=_[1],I=(0,f.useUID)();function A(){return(A=O(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);if(r!==y.UserRequiredActions.AGREEMENTS){e.next=8;break}e.next=4;return(0,u.acceptAgreements)();case 4:t=e.sent;S(t);e.next=13;break;case 8:if(r!==y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT){e.next=13;break}e.next=11;return(0,u.acknowledgeTOSNotification)();case 11:n=e.sent;S(n);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return E(p.ModalRoot,{"aria-labelledby":I,transitionState:t,className:(0,
o.default)(m.default.modal,m.default.specificOverride,"theme-light")},void 0,E("div",{id:I,className:m.default.title},void 0,h.default.Messages.NEW_TERMS_TITLE),C,E(v.default,{},void 0,E(c.FormText,{className:m.default.description},void 0,r===y.UserRequiredActions.AGREEMENTS?h.default.Messages.TERMS_AGREEMENT_DESCRIPTION_1:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?h.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_1.format({date:y.TOS_AGREEMENT_DUE_BY}):null),E(c.FormText,{className:m.default.description},void 0,r===y.UserRequiredActions.AGREEMENTS?h.default.Messages.TERMS_AGREEMENT_DESCRIPTION_2:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?h.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_2:null),E(d.default,{className:m.default.container,align:d.default.Align.CENTER,justify:d.default.Justify.CENTER},void 0,E(d.default,{direction:d.default.Direction.VERTICAL},void 0,E("div",{className:m.default.link},void 0,h.default.Messages.TERMS_OF_SERVICE.format({
url:y.MarketingURLs.TERMS})),E("div",{className:m.default.link},void 0,h.default.Messages.PRIVACY_POLICY.format({url:y.MarketingURLs.PRIVACY})),E("div",{className:m.default.link},void 0,h.default.Messages.COMMUNITY_GUIDELINES.format({url:y.MarketingURLs.GUIDELINES})),E("div",{className:m.default.link},void 0,h.default.Messages.BLOG_POST.format({url:y.MarketingURLs.TOS_UPDATE_FEB_2022}))),E("img",{className:m.default.image,alt:"",src:n(31890)}))),T,E("div",{className:m.default.buttonContainer},void 0,E(s.default,{className:m.default.button,submitting:g,onClick:function(){return A.apply(this,arguments)}},void 0,h.default.Messages.GOT_IT)))}A.displayName="UserAgreementsModal"},77670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=m(n(667294)),o=y(n(636602)),i=m(n(403607)),u=y(n(728429)),l=n(378444),s=y(n(749033)),d=n(194322),f=n(42031),c=y(n(142006)),p=n(770348),v=n(478036);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var g="AGREEMENTS_MODAL_KEY",E=_(i.default,{}),S={init:function(){o.default.subscribe(p.ActionTypes.CONNECTION_OPEN,this.handleRequiredAction);o.default.subscribe(p.ActionTypes.USER_REQUIRED_ACTION_UPDATE,this.handleRequiredAction);o.default.subscribe(p.ActionTypes.CURRENT_USER_UPDATE,this.handleCurrentUserUpdate);o.default.subscribe(p.ActionTypes.LOGOUT,this.handleLogout)},handleRequiredAction:function(e){var t=e.requiredAction;if(!f.ProcessArgs.isDisallowPopupsSet())if(null==u.default.getCurrentUser()){(0,l.closeFullScreenLayer)("verification");(0,d.hasModalOpen)(g)&&(0,d.closeModal)(g)}else if(t===p.UserRequiredActions.REQUIRE_CAPTCHA||t===p.UserRequiredActions.REQUIRE_VERIFIED_EMAIL||t===p.UserRequiredActions.REQUIRE_VERIFIED_PHONE)(0,l.openFullScreenLayer)((function(){return E}),{layerKey:"verification",Layer:s.default});else if(t===p.UserRequiredActions.AGREEMENTS||t===p.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT)(0,d.openModal)((function(e){return a.createElement(c.default,e)
}),{modalKey:g,onCloseRequest:v.NOOP_NULL});else if(null==t){(0,l.closeFullScreenLayer)("verification");(0,d.hasModalOpen)(g)&&(0,d.closeModal)(g)}},handleLogout:function(){(0,l.closeFullScreenLayer)("verification")},handleCurrentUserUpdate:function(e){e.user.verified&&(0,d.closeModal)(i.EMAIL_VERIFICATION_MODAL_KEY)}};t.default=S},421010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}var d={},f=null;function c(){d={};f=null}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}t.prototype.getEmailSettings=function(){return{categories:d,initialized:f}};return t}(a.default.Store);p.displayName="EmailSettingsStore";var v=new p(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=c,r[i.ActionTypes.LOGOUT]=c,r[i.ActionTypes.EMAIL_SETTINGS_FETCH_SUCCESS]=function(e){var t=e.settings;d=t.categories;f=t.initialized},r[i.ActionTypes.EMAIL_SETTINGS_UPDATE_SUCCESS]=function(e){var t=e.settings;d=t.categories},r[i.ActionTypes.EMAIL_SETTINGS_UPDATE]=function(e){var t=e.updates;d=s({},d,{},t)},r));t.default=v},933411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(213192)),a=d(n(496486)),o=d(n(536211)),i=n(358103),u=d(n(972247)),l=n(324828),s=n(840433);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return
;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=(0,r.default)({IMAGE:null,VIDEO:null}),n=o.default.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[function(e){return null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}]).state
;return null==n||0===n.favorites.length?[]:n.favorites.map((function(r,a){var o=i.FavoriteGIF.create();o.format=r.format===t.IMAGE?i.GIFType.IMAGE:r.format===t.VIDEO?i.GIFType.VIDEO:i.GIFType.NONE;o.src=r.src;o.width=r.width;o.height=r.height;o.order=n.favorites.length-a+e;return{url:r.url,favorite:o}}))}var v=[{version:2,run:function(e){var t=p(1);if(0===t.length)return!1;null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());e.favoriteGifs.gifs={};for(var n,r=f(t);!(n=r()).done;){var a=n.value,o=a.url,u=a.favorite;e.favoriteGifs.gifs[o]=u}e.favoriteGifs.hideTooltip=t.length>2;return!0},cleanup:function(){}},{version:3,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[function(e){return null==e||0===Object.keys(e).length?{usageHistory:{},favorites:[]}:e},function(e){if(null==e||0===Object.keys(e).length)return{usageHistory:{},favorites:[]};null==e.favorites&&(e.favorites=[]);return e}]).state;if(null==t)return!1;var n=!1
;if(t.favorites.length>0){e.favoriteStickers=i.FavoriteStickers.create();e.favoriteStickers.stickerIds=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){e.stickerFrecency=i.StickerFrecency.create();e.stickerFrecency.stickers=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){u.default.remove("StickersPersistedStore")}},{version:4,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{usageHistory:u.default.get("EmojiUsageHistory")||{}}}]).state;if(null==t)return!1;var n=!1;if(null!=t.favorites&&t.favorites.length>0){e.favoriteEmojis=i.FavoriteEmojis.create();e.favoriteEmojis.emojis=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){e.emojiFrecency=i.EmojiFrecency.create();e.emojiFrecency.emojis=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){u.default.remove("EmojiStore")
;u.default.remove("EmojiUsageHistory");u.default.remove("EmojiDiversitySurrogate")}},{version:6,run:function(e){null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});var t=p(1);if(0===t.length)return!1;(0,a.default)(e.favoriteGifs.gifs).values().sortBy("order").forEach((function(e,n){return e.order=t.length+1+n}));for(var n,r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length,o=0,u=f(t);!(n=u()).done;){var l=n.value,d=l.url,c=l.favorite;c.order=t.length-o;o++;if(d in e.favoriteGifs.gifs)e.favoriteGifs.gifs[d].order=c.order;else{var v=i.FavoriteGIF.toBinary(c).length+d.length+7;if(!(r+v>s.MAX_FAVORITE_GIFS_SIZE)){r+=v;e.favoriteGifs.gifs[d]=c}}}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length;for(;r>s.MAX_FAVORITE_GIFS_SIZE;){var y=0;for(var h in e.favoriteGifs.gifs){delete e.favoriteGifs.gifs[h];if(++y>=10)break}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length}return!0},cleanup:function(){}},{version:7,run:function(e){
var t=o.default.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]).state;if(null==t)return!1;var n=!1;if(a.default.size(t.usageHistory)>0){e.applicationCommandFrecency=i.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,l.serializeUsageHistory)(t.usageHistory,500);n=!0}return n},cleanup:function(){u.default.remove("ApplicationCommandFrecency")}}];t.default=v},409501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=y(n(496486)),a=n(358103),o=y(n(972247)),i=y(n(636602)),u=y(n(290760)),l=y(n(371732)),s=y(n(433385)),d=n(828593),f=y(n(960441)),c=n(324828),p=n(840433),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}
function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _="lastFrecencySavedTime",g=3e5*Math.random(),E=864e5+Math.floor(36e5*Math.random()),S=null,O=Date.now(),b={init:function(){i.default.subscribe(v.ActionTypes.CONNECTION_OPEN,I);i.default.subscribe(v.ActionTypes.CONNECTION_RESUMED,I);i.default.subscribe(v.ActionTypes.CONNECTION_CLOSED,C);d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return!1},processProto:function(){P(!0)}});d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return l.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(l.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.stickerFrecency=a.StickerFrecency.create();e.stickerFrecency.stickers=(0,c.serializeUsageHistory)(l.default.stickerFrecencyWithoutFetchingLatest.usageHistory,100)}}})
;d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return s.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(s.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.emojiFrecency=a.EmojiFrecency.create();e.emojiFrecency.emojis=(0,c.serializeUsageHistory)(s.default.emojiFrecencyWithoutFetchingLatest.usageHistory,100)}}});d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return u.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(u.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.applicationCommandFrecency=a.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,
c.serializeUsageHistory)(u.default.getCommandFrecencyWithoutLoadingLatest().usageHistory,500)}}})}};t.default=b;function I(){var e;O=null!==(e=o.default.get(_))&&void 0!==e?e:Date.now();P(!1)}function C(){clearTimeout(S);S=null}function T(){return A.apply(this,arguments)}function A(){return(A=m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O=Date.now();P(!0);if(f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.next=6;break}if(!(l.default.hasPendingUsage()||s.default.hasPendingUsage()||u.default.hasPendingUsage())){e.next=6;break}e.next=6;return d.FrecencyUserSettingsActionCreators.loadIfNecessary();case 6:r.default.forEach(d.UserSettingsActionCreatorsByType,(function(e){e.markDirtyIfHasPendingChange()}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){if(e){O=Date.now();o.default.set(_,O)}null!=S&&clearTimeout(S);var t=Date.now()-O,n=Math.max(g,E-t)
;S=setTimeout(T,n)}},562497:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(536211)),a=n(923387),o=n(629015),i=p(n(972247)),u=n(6505),l=p(n(644263)),s=n(925179),d=n(324828),f=n(770348),c=n(198622);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n=!1;null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array});null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array);if(!(0,s.hasBit)(e.userContent.dismissedContents,t)){e.userContent.dismissedContents=(0,s.addBit)(e.userContent.dismissedContents,t);n=!0}return n}function y(e,t,n){return!!u.HotspotStore.hasHiddenHotspot(t)&&v(e,n)}var h=[{version:2,run:function(e){var t,n;!function(e){e.Mentions="Recent Mentions";e.Unreads="Inbox"}(n||(n={}));if(null!=e.inbox)return!1;var r=!1,o=a.InboxSettings.create();e.inbox=o;if(i.default.get("seenInboxTutorial",!1)){o.viewedTutorial=!0;r=!0}var u=i.default.get("recentsButtonTab2")
;if(null!=u){o.currentTab=u===n.Mentions?a.InboxTab.MENTIONS:a.InboxTab.UNREADS;r=!0}var s=null!==(t=i.default.get("unread-messages-collapsed-channels"))&&void 0!==t?t:{};for(var f in s){var c;if(s[f]){var p=l.default.getChannel(f);if(null!=p){r=!0;(0,d.mutateUserChannelSettings)(e,null!==(c=p.guild_id)&&void 0!==c?c:"0",p.id,(function(e){e.collapsedInInbox=!0}))}}}return r},cleanup:function(){i.default.remove("seenInboxTutorial");i.default.remove("recentsButtonTab2");i.default.remove("unread-messages-collapsed-channels")}},{version:3,run:function(e){var t=r.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{diversitySurrogate:i.default.get("EmojiDiversitySurrogate")||""}}]).state;if(null==t)return!1;var n=!1;if(null!=t.diversitySurrogate&&""!==t.diversitySurrogate){null==e.textAndImages&&(e.textAndImages=a.TextAndImagesSettings.create());null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=o.StringValue.create())
;e.textAndImages.diversitySurrogate.value=t.diversitySurrogate;n=!0}return n},cleanup:function(){}},{version:4,run:function(e){var t=!1;(!0===i.default.get("HAS_SEEN_HUB_UPSELL")||u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=v(e,a.DismissibleContent.HUB_WAITLIST_UPSELL));return t},cleanup:function(){i.default.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run:function(e){var t,n,r,u,l,s,d,f=!1;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:a.TextAndImagesSettings.create();e.notifications=null!==(n=e.notifications)&&void 0!==n?n:a.NotificationSettings.create();e.privacy=null!==(r=e.privacy)&&void 0!==r?r:a.PrivacySettings.create();e.voiceAndVideo=null!==(u=e.voiceAndVideo)&&void 0!==u?u:a.VoiceAndVideoSettings.create();e.gameLibrary=null!==(l=e.gameLibrary)&&void 0!==l?l:a.GameLibrarySettings.create();e.debug=null!==(s=e.debug)&&void 0!==s?s:a.DebugSettings.create();var c=null!==(d=i.default.get("UserSettingsStore"))&&void 0!==d?d:{}
;if("boolean"==typeof c.useRichChatTextBox){e.textAndImages.useRichChatInput=o.BoolValue.create({value:c.useRichChatTextBox});f=!0}if("string"==typeof c.renderSpoilers){e.textAndImages.renderSpoilers=o.StringValue.create({value:c.renderSpoilers});f=!0}if("boolean"==typeof c.useThreadSidebar){e.textAndImages.useThreadSidebar=o.BoolValue.create({value:c.useThreadSidebar});f=!0}if("boolean"==typeof c.showInAppNotifications){e.notifications.showInAppNotifications=o.BoolValue.create({value:c.showInAppNotifications});f=!0}if(c.emojiPickerCollapsedSections instanceof Array){e.textAndImages.emojiPickerCollapsedSections=c.emojiPickerCollapsedSections;f=!0}if(c.stickerPickerCollapsedSections instanceof Array){e.textAndImages.stickerPickerCollapsedSections=c.stickerPickerCollapsedSections;f=!0}if("boolean"==typeof c.viewImageDescriptions){e.textAndImages.viewImageDescriptions=o.BoolValue.create({value:c.viewImageDescriptions});f=!0}if("boolean"==typeof c.showCommandSuggestions){
e.textAndImages.showCommandSuggestions=o.BoolValue.create({value:c.showCommandSuggestions});f=!0}if("boolean"==typeof c.alwaysPreviewVideo){e.voiceAndVideo.alwaysPreviewVideo=o.BoolValue.create({value:c.alwaysPreviewVideo});f=!0}if("boolean"==typeof c.notifyFriendsOnGoLive){e.notifications.notifyFriendsOnGoLive=o.BoolValue.create({value:c.notifyFriendsOnGoLive});f=!0}if("boolean"==typeof c.installShortcutDesktop){e.gameLibrary.installShortcutDesktop=o.BoolValue.create({value:c.installShortcutDesktop});f=!0}if("boolean"==typeof c.installShortcutStartMenu){e.gameLibrary.installShortcutStartMenu=o.BoolValue.create({value:c.installShortcutStartMenu});f=!0}if("boolean"==typeof c.allowActivityPartyPrivacyFriends){e.privacy.allowActivityPartyPrivacyFriends=o.BoolValue.create({value:c.allowActivityPartyPrivacyFriends});f=!0}if("boolean"==typeof c.allowActivityPartyPrivacyVoiceChannel){e.privacy.allowActivityPartyPrivacyVoiceChannel=o.BoolValue.create({
value:c.allowActivityPartyPrivacyVoiceChannel});f=!0}if("boolean"==typeof c.rtcPanelShowVoiceStates){e.debug.rtcPanelShowVoiceStates=o.BoolValue.create({value:c.rtcPanelShowVoiceStates});f=!0}return f},cleanup:function(){}},{version:7,run:function(e){return y(e,u.HotspotLocations.APPLICATION_COMMAND_TOOLTIP,a.DismissibleContent.APPLICATION_COMMAND_TOOLTIP)},cleanup:function(){}},{version:8,run:function(e){return y(e,u.HotspotLocations.CHANNEL_BANNER_MEMBER_LIST_NOTICE,a.DismissibleContent.CHANNELINFO_CHANNELBANNER_NOTICE)},cleanup:function(){}},{version:9,run:function(e){u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP)&&i.default.set(c.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");return y(e,u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP,a.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP)},cleanup:function(){}},{version:10,run:function(e){
var t,n=y(e,u.HotspotLocations.HUB_LINK_CHANNEL_NOTICE,a.DismissibleContent.CHANNEL_NOTICE_HUBLINK),r=null!==(t=i.default.get("channelNotices"))&&void 0!==t?t:{};!1===r[f.ChannelNoticeTypes.INVITE]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_INVITE)&&(n=!0);!1===r[f.ChannelNoticeTypes.QUICKSWITCHER]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0);!1===r[f.ChannelNoticeTypes.GUILD_BOOSTING_GUILD_AFFINITY]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION_AFFINITY)&&(n=!0);!1===r[f.ChannelNoticeTypes.GUILD_BOOSTING]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0);return n},cleanup:function(){i.default.remove("channelNotices")}},{version:11,run:function(e){var t=!1;y(e,u.HotspotLocations.GUILD_EVENT_UPSELL,a.DismissibleContent.GUILD_HEADER_EVENT_UPSELL)&&(t=!0);y(e,u.HotspotLocations.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0)
;y(e,u.HotspotLocations.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0);return t},cleanup:function(){}},{version:12,run:function(e){var t=!1;i.default.get("hideNag")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0);i.default.get("hideConnectSpotify")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);i.default.get("hideConnectPlayStation")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);i.default.get("hideMFASMSNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0);return t},cleanup:function(){i.default.remove("hideNag");i.default.remove("hideConnectSpotify");i.default.remove("hideConnectPlayStation");i.default.remove("hideMFASMSNotice")}},{version:13,run:function(e){var t=!1;i.default.get("hidePremiumPromo")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0)
;i.default.get("hidePremiumTier2TrialEnding")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0);i.default.get("hidePremiumReactivateNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0);y(e,u.HotspotLocations.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_INVITE_SPLASH)&&(t=!0);return t},cleanup:function(){i.default.remove("hidePremiumPromo");i.default.remove("hidePremiumTier2TrialEnding");i.default.remove("hidePremiumReactivateNotice")}},{version:14,run:function(e){return y(e,u.HotspotLocations.ACTIVITY_BEB_TUTORIAL,a.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK)},cleanup:function(){}},{version:15,run:function(e){return y(e,u.HotspotLocations.NOW_PLAYING_CONSENT_CARD,a.DismissibleContent.NOW_PLAYING_CONSENT_CARD)},cleanup:function(){}}];t.default=h},859566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=c(n(496486)),a=c(n(636602)),o=c(n(933411)),i=c(n(562497)),u=c(n(228087)),l=n(828593),s=c(n(960441)),d=n(840433),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}var p={init:function(){u.default[d.UserSettingsTypes.PRELOADED_USER_SETTINGS]=i.default;u.default[d.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS]=o.default;a.default.subscribe(f.ActionTypes.CONNECTION_OPEN,v);a.default.subscribe(f.ActionTypes.USER_SETTINGS_PROTO_ENQUEUE_UPDATE,y);a.default.subscribe(f.ActionTypes.USER_SETTINGS_PROTO_LOAD_IF_NECESSARY,h);a.default.subscribe(f.ActionTypes.APP_STATE_UPDATE,m)}};t.default=p;function v(){var e=s.default.getFullState(),t=e[d.UserSettingsTypes.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&l.PreloadedUserSettingsActionCreators.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs);r.default.forEach(l.UserSettingsActionCreatorsByType,(function(t,n){null!=e[Number(n)].editInfo.offlineEditDataVersion&&t.scheduleSaveFromOfflineEdit()}))}function y(e){
var t=e.settings,n=t.proto,r=t.type,a=e.delaySeconds,o=e.jitter;l.UserSettingsActionCreatorsByType[r].markDirty(n,{delaySeconds:a,jitter:o})}function h(e){var t=e.settingsType;l.UserSettingsActionCreatorsByType[t].loadIfNecessary()}function m(e){var t=e.state;"inactive"!==t&&"background"!==t||r.default.forEach(l.UserSettingsActionCreatorsByType,(function(e,t){if(null!=s.default.getFullState()[Number(t)].editInfo.timeout){e.logger.log("Triggering persistChanges due to AppStateUpdate");e.persistChanges()}}))}},197105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=c(n(740207)),u=n(145122),l=c(n(999607)),s=c(n(635014)),d=n(758956),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return y.apply(this,arguments)}function h(){var e=(0,o.useStateFromStores)([s.default],(function(){return(0,d.amplitudeToPerceptual)(s.default.getInputVolume())}));return v(u.MenuControlItem,{id:"input",label:f.default.Messages.FORM_LABEL_INPUT_VOLUME,control:function(t,n){return a.createElement(l.default,y({},t,{ref:n,value:e,onChange:function(e){return i.default.setInputVolume((0,d.perceptualToAmplitude)(e))},"aria-label":f.default.Messages.FORM_LABEL_INPUT_VOLUME}))}})}h.displayName="useInputDeviceVolumeItem"},989546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=!l.isPlatformEmbedded,t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getMode()})),n=function(e,n){return p(i.MenuRadioItem,{id:e,group:"input-modes",label:n,checked:t===e,action:function(){return o.default.setMode(e)}},e)}
;return[n(s.InputModes.VOICE_ACTIVITY,d.default.Messages.INPUT_MODE_VAD),n(s.InputModes.PUSH_TO_TALK,e?d.default.Messages.INPUT_MODE_PTT_LIMITED:d.default.Messages.INPUT_MODE_PTT)]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=f(n(740207)),i=n(145122),u=f(n(635014)),l=n(864489),s=n(770348),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},793963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=p(n(740207)),u=n(145122),l=p(n(999607)),s=p(n(635014)),d=n(758956),f=n(864489),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(){var e=(0,
o.useStateFromStores)([s.default],(function(){return(0,d.amplitudeToPerceptual)(s.default.getOutputVolume())}));return y(u.MenuControlItem,{id:"output",label:c.default.Messages.FORM_LABEL_OUTPUT_VOLUME,control:function(t,n){return a.createElement(l.default,h({},t,{ref:n,value:e,maxValue:f.isPlatformEmbedded?200:100,onChange:function(e){return i.default.setOutputVolume((0,d.perceptualToAmplitude)(e))},"aria-label":c.default.Messages.FORM_LABEL_OUTPUT_VOLUME}))}})}m.displayName="useOutputDeviceVolumeItem"},914905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showInvalidUsernameToast=function(){(0,o.showToast)((0,a.createToast)(i.default.Messages.USER_SETTINGS_UPDATE_FAILURE,a.ToastType.FAILURE))};var r,a=n(767019),o=n(143586),i=(r=n(247001))&&r.__esModule?r:{default:r}},712594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,r.useStateFromStores)([a.default],(function(){return(0,o.default)(a.default)}))}
;var r=n(536211),a=i(n(635014)),o=i(n(895355));function i(e){return e&&e.__esModule?e:{default:e}}},203737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t.type===o.ParticipantTypes.ACTIVITY)return null;return a.default.getName(e.getGuildId(),e.id,t.user)};var r,a=(r=n(29652))&&r.__esModule?r:{default:r},o=n(859089)},183612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n;return e.type!==r.ParticipantTypes.ACTIVITY&&((0,r.isStreamParticipant)(e)?null!=e.streamId:null!==(t=null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&void 0!==t&&t)};var r=n(859089)},373115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStoresObject)([o.default],(function(){var e,t,n=null===(e=null===(t=(0,r.default)(o.default.getVideoDevices()).values().first())||void 0===t?void 0:t.disabled)||void 0===e||e;return{
enabled:o.default.isVideoEnabled(),cameraUnavailable:n||!o.default.supports(i.Features.VIDEO)}})),t=e.enabled,n=e.cameraUnavailable;return{enabled:t,cameraUnavailable:n}};var r=u(n(496486)),a=n(536211),o=u(n(635014)),i=n(376293);function u(e){return e&&e.__esModule?e:{default:e}}},105847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getDeafStates=l;var r=n(536211),a=u(n(423046)),o=u(n(635014)),i=u(n(387692));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r){var u;void 0===t&&(t=i.default);void 0===n&&(n=o.default);void 0===r&&(r=a.default);var l=null!=e?t.getVoiceState(e.getGuildId(),r.getId()):null;return{selfDeaf:n.isSelfDeaf(),deaf:null!==(u=null==l?void 0:l.deaf)&&void 0!==u&&u}}var s=function(e){return(0,r.useStateFromStoresObject)([i.default,o.default,a.default],(function(){return l(e,i.default,o.default,a.default)}))};t.default=s},423405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;t.getMuteStates=f;var r=n(536211),a=d(n(686305)),o=d(n(423046)),i=d(n(635014)),u=d(n(689389)),l=d(n(387692)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,d,f){var c;void 0===t&&(t=o.default);void 0===n&&(n=l.default);void 0===r&&(r=i.default);void 0===d&&(d=u.default);void 0===f&&(f=a.default);var p=null!=e?n.getVoiceState(e.getGuildId(),t.getId()):null,v=r.isSelfMute()||r.isSelfMutedTemporarily(),y=null==e?void 0:e.getGuildId(),h=f.isViewingRoles(y)&&!d.can(s.Permissions.SPEAK,e);return{selfMute:v,suppress:(null==p?void 0:p.suppress)||h,mute:null!==(c=null==p?void 0:p.mute)&&void 0!==c&&c}}var c=function(e){return(0,r.useStateFromStoresObject)([l.default,o.default,i.default,u.default,a.default],(function(){return f(e,o.default,l.default,i.default,u.default,a.default)}))};t.default=c},830543:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Avatars=F;t.TileSize=void 0;t.default=B;var r,a,o=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=D(n(294184)),u=n(536211),l=n(556470),s=n(205562),d=D(n(303798)),f=D(n(474177)),c=D(n(93879)),p=D(n(933577)),v=D(n(769195)),y=D(n(205990)),h=D(n(322946)),m=D(n(469487)),_=D(n(423046)),g=D(n(689389)),E=D(n(728429)),S=D(n(956117)),O=n(730977),b=D(n(628551)),I=D(n(776360)),C=D(n(152731)),T=n(71246),A=D(n(29652)),P=n(770348),M=n(418173),N=n(942675),R=D(n(247001)),w=D(n(854911));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}
function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.TileSize=a;!function(e){e[e.SMALL=0]="SMALL";e[e.MEDIUM=1]="MEDIUM";e[e.LARGE=2]="LARGE"}(a||(t.TileSize=a={}));var G=["embedded_background"];function F(e){var t=e.avatarSize,n=e.guildId,r=e.users,a=null!=t?t:N.Sizes.SIZE_32,o=(0,N.getAvatarSize)(a);return U(C.default,{size:o,guildId:n,users:r,max:4,renderUser:function(e){return null==e?null:U(O.TooltipContainer,{text:e.username,color:O.TooltipColors.GREY},e.id,U("img",{src:e.getAvatarURL(n,o),alt:e.username,className:w.default.avatar},e.id))}})}F.displayName="Avatars";function x(e){
var t,n,r,o,f,c=e.participants,p=e.application,v=e.currentEmbeddedApplication,h=e.channel,m=e.width,O=function(e){return e>400?a.LARGE:e>300?a.MEDIUM:a.SMALL}(m),C=function(e){return e>400?[b.default.Sizes.SIZE_56,56]:e>300?[b.default.Sizes.SIZE_32,32]:[b.default.Sizes.SIZE_24,24]}(m),N=j(C,1)[0],D=(0,s.useAppContext)(),L=(0,u.useStateFromStoresArray)([E.default,_.default],(function(){return Array.from(c).map((function(e){return _.default.getId()===e?null:E.default.getUser(e)})).filter(T.isNotNullish)})),k=(0,u.useStateFromStores)([d.default],(function(){return d.default.getEmbeddedActivitiesForChannel(h.id).find((function(e){return e.application_id===p.id}))})),G=(0,l.useAnalyticsContext)(),x=null!==(t=A.default.getName(h.getGuildId(),h.id,null==L?void 0:L[0]))&&void 0!==t?t:null==L||null===(n=L[0])||void 0===n?void 0:n.username,B=(0,u.useStateFromStores)([g.default],(function(){return g.default.can(P.Permissions.USE_EMBEDDED_ACTIVITIES,h)
}),[h]),V=null!==(r=h.getGuildId())&&void 0!==r?r:void 0;return U("div",{className:w.default.splash},void 0,U(F,{avatarSize:N,guildId:V,users:L}),U(I.default,{className:(0,i.default)(w.default.subheader,(o={},o[w.default.small]=O===a.SMALL,o[w.default.medium]=O===a.MEDIUM,o))},void 0,L.length>1?R.default.Messages.EMBEDDED_ACTIVITIES_USERNAME_AND_OTHERS.format({username:x,count:L.length-1}):R.default.Messages.EMBEDDED_ACTIVITIES_IS_PLAYING.format({username:x})),U(I.default,{className:(0,i.default)(w.default.header,(f={},f[w.default.small]=O===a.SMALL,f[w.default.medium]=O===a.MEDIUM,f))},void 0,p.name),U("div",{className:w.default.buttons},void 0,B?U(S.default,{size:function(e){switch(e){case a.LARGE:return S.default.Sizes.LARGE;case a.MEDIUM:return S.default.Sizes.MEDIUM;case a.SMALL:return S.default.Sizes.SMALL}}(O),className:w.default.button,color:S.default.Colors.PRIMARY,onClick:function(e){e.stopPropagation();null!=k&&(0,y.default)(k,!0,v,h.id,M.ActivityIntent.PLAY,G.location,D)}
},void 0,R.default.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY):null))}x.displayName="Splash";function B(e){var t=e.participant,n=e.width,r=e.selected,a=e.interactible,i=e.channel,u=t.id,l=(0,f.default)(),s=(null==l?void 0:l.channelId)===i.id&&l.application_id===u,d=(0,c.default)(),y=j((0,m.default)([u]),1)[0],_=(0,p.default)({applicationId:u,names:G,size:1024}),g=!r&&s,E=!s,S=!s&&!r;return U("div",{className:w.default.container},void 0,o.createElement(o.Fragment,null,g&&U(v.default,{className:w.default.iframe,embedId:(0,h.default)(i.id,u)}),E&&null!=y&&null!=_&&""!==_?U("img",{className:w.default.splashImage,alt:y.name,src:_}):null,S&&null!=y&&U(x,{width:n,channel:i,participants:t.participants,application:y,currentEmbeddedApplication:d}),a||E?null:U("div",{className:w.default.clickShield})))}B.displayName="ActivityTile"},611456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=i(n(294184)),o=i(n(917507));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=r.forwardRef((function(e,t){var n,i=e.children,u=e.className,l=e.style,s=e.noBorder,d=void 0!==s&&s,f=e.participantUserId;return r.createElement("div",{className:(0,a.default)(u,o.default.tile,(n={},n[o.default.noBorder]=d,n)),style:l,ref:t,"data-selenium-video-tile":f},i)}));t.default=l},440556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(294184)),i=u(n(969600));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={aStreamId:null,aReady:!1,bStreamId:t.props.streamId,bReady:!0};t.handleReady=function(){t.state.aReady?t.setState({bReady:!0,aStreamId:null,aReady:!1}):t.setState({aReady:!0,bStreamId:null,bReady:!1})};t.handleDoubleClick=function(e){var n=t.props,r=n.onDoubleClick,a=n.id;null==r||r(e,a)}
;t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.id;null==r||r(e,a)};return t}t.getDerivedStateFromProps=function(e,t){var n=e.streamId;if(t.aReady){if(n!==t.aStreamId)return null==n?{bStreamId:n,bReady:!0,aStreamId:null,aReady:!1}:{bStreamId:n,bReady:!1}}else if(n!==t.bStreamId)return null==n?{aStreamId:n,aReady:!0,bStreamId:null,bReady:!1}:{aStreamId:n,aReady:!1};return null};var n=t.prototype;n.renderVideo=function(e,t){var n=this.props,r=n.children,o=n.mirror,u=n.paused,l=n.component;if(null==e){if(null==r)return null;var f=a.Children.only(r);return a.cloneElement(f,d({style:{display:t&&!o?void 0:"none"}},f.props))}return s(l,{paused:u,className:i.default.media,streamId:e,onReady:t?null:this.handleReady})};n.render=function(){var e,t=this.props,n=t.mirror,r=t.className;return s("div",{className:(0,o.default)(i.default.video,r,(e={},e[i.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu
},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))};return t}(a.PureComponent);c.displayName="BufferedVideo";c.defaultProps={paused:!0};var p=c;t.default=p},709578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.CallTileOverlay=t.CallTileFit=void 0;var r,a=W(n(667294)),o=B(n(294184)),i=n(536211),u=B(n(740207)),l=B(n(284382)),s=B(n(66384)),d=n(625905),f=B(n(423046)),c=B(n(635014)),p=B(n(16941)),v=B(n(730977)),y=W(n(971146)),h=B(n(337322)),m=B(n(79027)),_=B(n(428990)),g=B(n(324582)),E=B(n(287317)),S=B(n(68259)),O=B(n(775803)),b=B(n(149982)),I=B(n(335709)),C=B(n(776360)),T=B(n(203737)),A=B(n(830543)),P=B(n(611456)),M=W(n(55055)),N=B(n(522503)),R=n(227482),w=B(n(700598)),D=n(770348),L=n(859089),j=n(376293),k=B(n(247001)),U=B(n(32599)),G=["onClick"],F=["onClick"],x=["onClick"];function B(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function H(){H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return H.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K=a.memo((function(e){var t,n,r,v,h=e.participant,_=e.onDoubleClick,g=e.onContextMenu,E=e.onClick,S=e.onMouseDown,O=e.onKeyDown,b=e.className,I=e.style,C=e.channel,R=e.width,k=e.inPopout,G=e.onVideoResize,F=e.inCall,x=void 0!==F&&F,B=e.selected,V=void 0!==B&&B,W=e.noBorder,H=void 0!==W&&W,z=e.noVideoRender,K=void 0!==z&&z,$=e.focused,q=void 0!==$&&$,Z=e.blocked,X=void 0!==Z&&Z,J=e.fit,ee=void 0===J?y.default.Fit.CONTAIN:J,te=e.paused,ne=void 0!==te&&te,re=e.pulseSpeakingIndicator,ae=void 0!==re&&re,oe=a.useContext(d.IdleStateContext),ie=(0,i.useStateFromStores)([f.default],(function(){return f.default.getId()
})),ue=h.type===L.ParticipantTypes.ACTIVITY?null:null===(t=h.user)||void 0===t?void 0:t.id,le=(0,i.useStateFromStores)([c.default],(function(){return null!=ue&&c.default.isLocalVideoDisabled(ue,(0,s.default)(h.type))}),[ue,h.type]),se=(0,w.default)(h,ie),de=se.speaking,fe=se.muted,ce=se.deafen,pe=se.ringing,ve=se.hasVideo,ye=(0,i.useStateFromStores)([c.default],(function(){return null!=ue&&c.default.isLocalMute(ue,(0,s.default)(h.type))}),[ue,h.type]),he=h.type===L.ParticipantTypes.STREAM&&ue===ie,me=a.useCallback((function(){null!=ue&&u.default.toggleLocalMute(ue,j.MediaEngineContextTypes.STREAM)}),[ue]),_e=a.useCallback((function(e){null==E||E(h,e)}),[E,h]),ge=a.useCallback((function(e){null==_||_(h,e)}),[_,h]),Ee=a.useCallback((function(e){null==g||g(h,e)}),[g,h]),Se=null,Oe=null,be=!0;switch(h.type){case L.ParticipantTypes.STREAM:Se=Y(M.default,{participant:h,selected:V,width:R,fit:ee,onVideoResize:G,paused:ne,inPopout:k});Oe=Y(M.StreamTileIndicators,{participant:h,selected:V,
width:R,focused:q,idle:oe});be=!1;break;case L.ParticipantTypes.USER:Se=Y(N.default,{channel:C,inCall:x,participant:h,fit:ee,onVideoResize:G,paused:ne,selected:V,width:R,blocked:X,noVideoRender:K,pulseSpeakingIndicator:ae});break;case L.ParticipantTypes.ACTIVITY:Se=Y(A.default,{interactible:q,participant:h,selected:V,channel:C,width:R});break;case L.ParticipantTypes.HIDDEN_STREAM:Se=Y(M.default,{participant:h,selected:V,width:R,fit:ee,onVideoResize:G,paused:ne,inPopout:k})}var Ie=a.useRef(null);return Y(l.default,{section:D.AnalyticsSections.VOICE_CHANNEL_TILE},void 0,Y("div",{className:(0,o.default)(U.default.wrapper,(n={},n[U.default.ringing]=pe,n),b)},void 0,a.createElement(P.default,{ref:Ie,className:(0,o.default)(U.default.tile,(r={},r[U.default.noBorder]=H,r[U.default.noInteraction]=null==E,r[U.default.idle]=oe,r[U.default.videoLayer]=be,r)),noBorder:H,style:I,participantUserId:ue},Y(p.default,{focusProps:{ringTarget:Ie,offset:1},onDoubleClick:ge,onContextMenu:Ee,onClick:_e,
onMouseDown:S,onKeyDown:O,className:U.default.tileChild},void 0,Se,H?null:Y("div",{className:U.default.indicators},void 0,Oe),V?Y("div",{className:U.default.selectedScreen},void 0,Y(m.default,{className:U.default.selectedIcon})):null,h.type!==L.ParticipantTypes.ACTIVITY?Y(Q,{focused:q,width:R,inCall:x,participantType:h.type,hasVideo:null!=ve&&ve,muted:fe,deafen:ce,idle:oe,title:(0,T.default)(C,h),blocked:X,localMute:ye,localVideoDisabled:le,hideAudioIcon:he,onContextMenu:Ee,onToggleMute:me}):null,x&&!H?Y("div",{className:(0,o.default)(U.default.border,(v={},v[U.default.speaking]=de&&!q,v))}):null))))}));K.displayName="CallTile";var $=Y(I.default,{}),q=Y(b.default,{}),Z=Y(O.default,{}),X=Y("div",{}),Q=a.memo((function(e){var t,n,r=e.muted,i=e.deafen,u=e.idle,l=e.title,s=e.width,d=e.hasVideo,f=e.inCall,y=e.localMute,O=e.localVideoDisabled,b=e.focused,I=e.blocked,T=e.hideAudioIcon,A=e.participantType,P=e.onContextMenu,M=e.onToggleMute,N=null,w=null,B=null,V=(0,R.isVideoCompact)(s),W=(0,
R.isNamesCompact)(s);if(!T)if(i||r||y){var K;N=Y(i?g.default:E.default,{foreground:(0,o.default)((K={},K[U.default.localMuteStrikethrough]=y&&!i,K)),className:U.default.status});y&&A===L.ParticipantTypes.STREAM&&d&&!b&&(N=Y(v.default,{text:k.default.Messages.UNMUTE},void 0,(function(e){var t=e.onClick,n=z(e,G);return a.createElement(p.default,H({},n,{onClick:function(e){e.stopPropagation();null==t||t();M()},className:(0,o.default)(U.default.status,U.default.interactive)}),$)})))}else y||A!==L.ParticipantTypes.STREAM||!d||V||b||(N=Y(v.default,{text:k.default.Messages.MUTE},void 0,(function(e){var t=e.onClick,n=z(e,F);return a.createElement(p.default,H({},n,{onClick:function(e){e.stopPropagation();null==t||t();M()},className:(0,o.default)(U.default.status,U.default.interactive,U.default.toggleMute)}),q)})));f&&c.default.supports(j.Features.VIDEO)||!d||(w=Y(m.default,{className:U.default.status}));f&&d&&O&&(w=Y(_.default,{className:U.default.status,
foreground:U.default.localMuteStrikethrough}));A===L.ParticipantTypes.STREAM&&!b&&d&&(B=Y(v.default,{text:k.default.Messages.OPTIONS},void 0,(function(e){var t=e.onClick,n=z(e,x);return a.createElement(p.default,H({},n,{onClick:function(e){e.stopPropagation();null==t||t();P(e)},className:(0,o.default)(U.default.status,U.default.interactive)}),Z)})));return Y("div",{className:(0,o.default)(U.default.overlay,(t={},t[U.default.small]=s<195,t))},void 0,W||b?X:Y(C.default,{className:(0,o.default)(U.default.overlayTitle,(n={},n[U.default.idle]=u,n)),color:C.default.Colors.CUSTOM,size:C.default.Sizes.SIZE_16},void 0,I?Y("div",{className:U.default.blocked},void 0,Y(h.default,{className:U.default.blockedIcon,color:D.Colors.STATUS_RED})):null,A===L.ParticipantTypes.STREAM&&Y(S.default,{className:U.default.titleIcon}),null!=l&&""!==l?Y("span",{className:U.default.overlayTitleText},void 0,l):null),Y("div",{className:U.default.statusContainer},void 0,w,N,B))}));t.CallTileOverlay=Q
;Q.displayName="CallTitleOverlay";var J=y.VideoStreamFit;t.CallTileFit=J;var ee=K;t.default=ee},288146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CallTileCTA=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(956117)),u=d(n(730977)),l=d(n(760443)),s=["onClick"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.children,n=e.onClick,r=e.className,d=e.tooltip;return c(u.default,{text:d},void 0,(function(e){var u=e.onClick,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(i.default,p({},d,{onClick:function(e){null==n||n(e);null==u||u()},
innerClassName:l.default.buttonReset,color:(0,o.default)(l.default.cta,r),size:i.default.Sizes.MIN}),t)}))}v.displayName="CallTileCTA"},921532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=c(n(667294)),o=d(n(972247)),i=n(365561),u=c(n(709578)),l=n(770348),s=d(n(974777));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h="CameraPreviewPosition";function m(e){var t=e.width,n=e.onContextMenuParticipant,r=e.height,d=e.channel,f=e.participants,c=function(){var e=v(a.useState((function(){return o.default.get(h,l.PictureInPicturePositions.BOTTOM_RIGHT)})),2),t=e[0],n=e[1];return[t,a.useCallback((function(e){o.default.set(h,e);n(e)}),[])]}(),y=v(c,2),m=y[0],_=y[1],g=a.useRef(null),E=null==d.getGuildId()?70:50;a.useLayoutEffect((function(){var e;null===(e=g.current)||void 0===e||e.ensureIsInPosition()}),[f.length]);return p("div",{className:s.default.container
},void 0,a.createElement(i.PictureInPictureWindow,{position:m,id:0,ref:g,onMove:function(e,t){return _(t)},maxX:t,maxY:r,edgeOffsetTop:E,edgeOffsetBottom:70,edgeOffsetLeft:16,edgeOffsetRight:16},p("div",{className:s.default.tileContainer},void 0,f.map((function(e){return p(u.default,{participant:e,channel:d,onContextMenu:n,className:s.default.tile,fit:u.CallTileFit.COVER,inCall:!0,inPopout:!1,width:160})})))))}m.displayName="CameraPreview"},839166:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GoLiveButton=Ee;t.default=Ie;t.handleToggleVideo=ge
;var r,a,o=pe(n(667294)),i=fe(n(294184)),u=fe(n(441143)),l=n(248088),s=n(536211),d=fe(n(740207)),f=fe(n(136873)),c=n(123516),p=fe(n(284382)),v=n(556470),y=fe(n(213847)),h=n(205562),m=n(836233),_=n(746920),g=pe(n(303798)),E=n(186096),S=fe(n(198016)),O=n(245546),b=fe(n(151120)),I=fe(n(469487)),C=fe(n(825724)),T=fe(n(190320)),A=fe(n(932018)),P=fe(n(590087)),M=n(747868),N=fe(n(379310)),R=fe(n(908921)),w=n(902399),D=fe(n(604686)),L=fe(n(620859)),j=fe(n(134893)),k=fe(n(222935)),U=fe(n(605520)),G=fe(n(643779)),F=fe(n(67286)),x=fe(n(401311)),B=fe(n(607576)),V=fe(n(305914)),W=fe(n(735319)),H=fe(n(645675)),z=fe(n(607209)),Y=fe(n(635014)),K=fe(n(689389)),$=fe(n(211136)),q=fe(n(728429)),Z=fe(n(160629)),X=fe(n(373115)),Q=fe(n(431388)),J=fe(n(770404)),ee=fe(n(423405)),te=fe(n(336940)),ne=fe(n(493051)),re=fe(n(602824)),ae=fe(n(310261)),oe=fe(n(30269)),ie=n(770348),ue=n(859089),le=fe(n(247001)),se=fe(n(716698)),de=["onClick"];function fe(e){return e&&e.__esModule?e:{default:e}}function ce(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ce=function(e){return e?n:t})(e)}function pe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ce(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||ye(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(){me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return me.apply(this,arguments)}function _e(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ge(e,t){if(Y.default.isVideoEnabled()!==e){var n=function(){return d.default.setVideoEnabled(e)};e?(0,oe.default)(n,t):n()}}function Ee(e){var t=e.channel,n=e.currentUser,r=e.exitFullScreen,a=e.canGoLive,i=e.coloring,u=e.hasPermission,l=(0,h.useAppContext)(),d=(0,s.useStateFromStoresArray)([z.default],(function(){return z.default.getAllActiveStreams()})).find((function(e){return e.ownerId===n.id})),f=t.getGuildId(),c=o.useCallback((function(){null==r||r();if(!a)return(0,re.default)();(0,ae.default)(f,t.id,ie.AnalyticsPages.GUILD_CHANNEL)}),[f,t.id,a,r]),p=null!=d;return _e(j.default,{},void 0,_e(Z.default,{renderPopout:function(e){var r=e.closePopout;return _e(k.default,{},void 0,_e(te.default,{channel:t,currentUser:n,activeStreams:null!=d?[d]:[],handleGoLive:c,
onClose:r,appContext:l}))},position:Z.default.Positions.TOP,align:Z.default.Align.CENTER,animation:Z.default.Animation.FADE},void 0,(function(e,t){var n=t.isShown,r=e.onClick,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,de);return _e("div",{},void 0,null!=d?o.createElement(V.default,me({},l,{color:i[1],centerButton:!0,className:se.default.controlButton,onClick:function(){return(0,R.default)(d)},isSelfStream:!0,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})):o.createElement(W.default,me({},l,{centerButton:!0,color:i[0],className:se.default.controlButton,hasPermission:u,onClick:a?c:re.default,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})))})))}Ee.displayName="GoLiveButton";function Se(e){var t=e.channel,n=(0,s.useStateFromStores)([K.default],(function(){return K.default.can(ie.Permissions.USE_EMBEDDED_ACTIVITIES,t)&&null!=t.guild_id}),[t]),r=t.getGuildId(),a=(0,
S.default)(r)&&null!=r,i=ve((0,s.useStateFromStores)([g.default],(function(){return null!=t.id?g.default.getEmbeddedActivitiesForChannel(t.id):g.NO_ACTIVITIES})),1)[0],u=ve((0,I.default)(null!=i?[i.application_id]:[]),1)[0],l=(0,s.useStateFromStores)([g.default],(function(){return g.default.isLaunchingActivity()})),d=(0,v.useAnalyticsContext)();o.useEffect((function(){null!=r&&(0,_.fetchEmbeddedActivities)(r)}),[r]);var f=(0,E.useFreeActivityIndicator)({guildId:r}).shouldShowFreeIndicator;if(!a)return null;var c=!n||l,p=null!=i&&null!=u;return _e("div",{className:se.default.buttonContainer},void 0,_e(U.default,{className:se.default.controlButton,disabled:c,label:n?le.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY:le.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS,isActivityActive:p,onClick:function(){(0,b.default)(t,d.location,!0)}}),f?_e(O.FreeActivityIndicatorDot,{top:4,right:10,size:12,maskColor:O.MaskColor.BLACK}):null)}Se.displayName="ConnectedActivityButton"
;!function(e){e.ACTIVITY="ACTIVITY";e.STREAM="STREAM";e.CALL="CALL";e.EVENT="EVENT"}(a||(a={}));var Oe=o.memo((function(e){var t=e.connectedActivityApplicationId,n=e.currentUser,r=e.onDisconnectCall,i=e.channel,u=(0,s.useStateFromStores)([C.default],(function(){return C.default.getSelectedParticipant(i.id)})),d=o.useContext(m.AccessibilityPreferencesContext).reducedMotion,p=ve(o.useState(!1),2),v=p[0],y=p[1],h=null==u?void 0:u.id,g=(0,s.useStateFromStores)([z.default],(function(){return null!=h?z.default.getActiveStreamForStreamKey(h):null}),[h]),E=(null==u?void 0:u.type)===ue.ParticipantTypes.STREAM&&null!=g&&g.ownerId!==(null==n?void 0:n.id),S=(0,s.useStateFromStoresArray)([z.default],(function(){return z.default.getAllActiveStreamsForChannel(i.id).filter((function(e){return e.ownerId!==(null==n?void 0:n.id)}))})),O=(0,w.useActiveEvent)(i.id),b=o.useCallback((function(){return(null==u?void 0:u.type)===ue.ParticipantTypes.ACTIVITY&&u.id===t?a.ACTIVITY:E?a.STREAM:null!=O?a.EVENT:a.CALL
}),[u,t,E,O]),I=ve(o.useState(b()),2),T=I[0],A=I[1],P=(0,l.useSpring)({opacity:v?.2:1,transform:v&&!d.enabled?"scale(0.7)":"scale(1)",config:{mass:2,tension:v?600:1e3,friction:45,precision:.01,clamp:v},onRest:function(){A(b());y(!1)}});o.useEffect((function(){b()!==T&&y(!0)}),[T,b]);var N=function(e,t){var n={centerButton:!0,className:se.default.controlButton,popoutOpen:e};switch(T){case a.ACTIVITY:return o.createElement(F.default,me({},n,{color:"red",onClick:function(){return null!=u&&(0,_.stopEmbeddedActivity)(i.id,u.id)},onPopoutClick:S.length>0?t:null}));case a.STREAM:return o.createElement(V.default,me({},n,{color:"red",onClick:function(){if(null!=g)(0,c.stopStream)((0,M.encodeStreamKey)(g));else for(var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ye(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(S);!(e=t()).done;){var n=e.value;(0,c.stopStream)((0,M.encodeStreamKey)(n))}},onPopoutClick:S.length>1?t:null,isSelfStream:!1}));case a.CALL:return o.createElement(x.default,me({},n,{color:"red",onClick:function(){f.default.disconnect();null==r||r()},onPopoutClick:S.length>0?t:null}));case a.EVENT:return _e(D.default,{guildId:i.guild_id,channelId:i.id,onClick:function(){f.default.disconnect();null==r||r()}})}};return _e(Z.default,{renderPopout:function(e){var t=e.closePopout;return _e(te.default,{channel:i,currentUser:n,activeStreams:S,handleGoLive:ie.NOOP_NULL,hideSelfOptions:!0,onClose:t})},position:Z.default.Positions.TOP,align:Z.default.Align.CENTER,animation:Z.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return _e(l.animated.div,{style:P},void 0,N(r,n))}))}));function be(e){
var t=e.channel,n=e.cameraUnavailable,r=e.hasCameraPermission,a=(0,h.useAppContext)(),u=(0,Q.default)(t),l=u.reachedLimit,s=u.limit,d=o.useCallback((function(){(0,oe.default)((function(){return f.default.selectVoiceChannel(t.id,!0)}),a)}),[t.id,a]),c=o.useCallback((function(){f.default.selectVoiceChannel(t.id,!1)}),[t.id]),p=o.useCallback((function(){n?(0,ne.default)():d()}),[n,d]);return o.createElement(o.Fragment,null,_e(H.default,{enabled:!0,centerButton:!0,join:!0,color:"green",channelLimitReached:l,channelLimit:s,channel:t,cameraUnavailable:n,hasPermission:r,onCameraUnavailable:p,className:se.default.controlButton,iconClassName:se.default.joinIcon,onChange:d}),_e(G.default,{centerButton:!0,color:"green",channel:t,className:(0,i.default)(se.default.controlButton,se.default.lastButton),onClick:c}))}function Ie(e){var t=e.channel,n=e.mode,r=e.className,a=e.onDisconnectCall,o=e.exitFullScreen,l=(0,s.useStateFromStores)([q.default],(function(){var e=q.default.getCurrentUser();(0,
u.default)(null!=e,"CenterControlTray: currentUser cannot be undefined");return e})),d=(0,X.default)(),f=d.cameraUnavailable,c=d.enabled,v=(0,J.default)(t),h=(0,ee.default)(t),m=h.suppress,_=h.selfMute,E=h.mute,S=m||_||E,O=(0,s.useStateFromStoresObject)([Y.default],(function(){return{canGoLive:(0,N.default)(Y.default)}})).canGoLive,b=(0,s.useStateFromStores)([$.default],(function(){return $.default.getVoiceChannelId()===t.id}),[t]),I=(0,s.useStateFromStores)([g.default],(function(){var e=g.default.getSelfEmbeddedActivityForChannel(t.id);return null!=e?e.application_id:null})),C=(0,Q.default)(t),M=C.reachedLimit,R=C.limit,w=(0,y.default)();if(!b)return _e(be,{channel:t,cameraUnavailable:f,hasCameraPermission:v});var D="primaryDark";n===ie.ChannelModes.VOICE&&(D=w===ie.ThemeTypes.LIGHT?"primaryLight":D);var j="white";n===ie.ChannelModes.VOICE&&(j=w===ie.ThemeTypes.LIGHT?"activeLight":j);return _e(p.default,{section:ie.AnalyticsSections.VOICE_CONTROL_TRAY},void 0,_e("div",{
className:se.default.eventPromptsContainer},void 0,_e(L.default,{guildId:t.guild_id,channelId:t.id})),_e("div",{className:(0,i.default)(se.default.wrapper,r)},void 0,_e(Z.default,{renderPopout:function(e){var t=e.closePopout;return _e(k.default,{},void 0,_e(A.default,{onClose:t}))},position:Z.default.Positions.TOP,align:Z.default.Align.CENTER,animation:Z.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return _e(H.default,{centerButton:!0,color:c?j:D,hasPermission:v,className:se.default.controlButton,enabled:c,cameraUnavailable:f,onChange:ge,onCameraUnavailable:ne.default,channelLimitReached:M,channelLimit:R,popoutOpen:r,onPopoutClick:n})})),_e(Se,{channel:t}),_e(Ee,{coloring:[D,j],channel:t,currentUser:l,exitFullScreen:o,canGoLive:O,hasPermission:v}),_e(Z.default,{renderPopout:function(e){var t=e.closePopout;return _e(k.default,{},void 0,_e(T.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0}))},align:Z.default.Align.CENTER,
position:Z.default.Positions.TOP,animation:Z.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return _e(B.default,{color:S?j:D,centerButton:!0,onPopoutClick:n,className:se.default.controlButton,selfMute:_,serverMute:E,suppress:m,popoutOpen:r,onClick:function(){return(0,P.default)(E,m)}})})),_e(Oe,{connectedActivityApplicationId:I,currentUser:l,channel:t,onDisconnectCall:a})))}Ie.displayName="CenterControlTray"},828839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=g(n(294184)),i=g(n(864345)),u=g(n(936353)),l=n(518180),s=g(n(423046)),d=g(n(530250)),f=n(956506),c=g(n(170555)),p=g(n(508957)),v=g(n(151503)),y=g(n(232269)),h=n(770348),m=n(859089),_=g(n(367374));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=(0,i.default)((function(e){
var t=e.participants,n=e.filteredParticipants,r=e.selectedParticipant,i=e.participantsVersion,g=e.layout,E=e.onSelectParticipant,O=e.onContextMenuParticipant,b=e.onFullscreenParticipant,I=e.channel,C=e.guild,T=e.className,A=e.inCall,P=e.showParticipants,M=void 0===P||P,N=e.paused,R=void 0!==N&&N,w=e.width,D=e.height,L=e.idle,j=e.mode,k=e.popoutWindow;a.useEffect((function(){f.ComponentDispatch.dispatch(h.ComponentActions.REMEASURE_TARGET)}),[w,D]);var U=(0,l.useIsTextInVoiceEnabled)(null==C?void 0:C.id),G=a.useMemo((function(){return n.filter((function(e){return e.type!==m.ParticipantTypes.ACTIVITY||!e.participants.has(s.default.getId())}))}),[n,i]);if(U&&!A)return S(c.default,{channel:I,participants:t});if(j===h.ChannelModes.VOICE)return S(u.default,{guildId:I.guild_id,width:w,className:_.default.voiceCallWrapper,participants:t,onContextMenu:O});n=A?n:t;var F=null!=k;return null==r?0===n.length?S(y.default,{className:(0,o.default)(_.default.videoGrid,_.default.hiddenParticipants),
channelId:I.id,width:w}):S(d.default,{className:_.default.videoGridWrapper,justify:d.default.Justify.CENTER,align:d.default.Align.CENTER},void 0,S(p.default,{channel:I,className:_.default.videoGrid,participants:G,totalNumberOfParticipants:t.length,onClick:E,onDoubleClick:b,onContextMenu:O,paused:R,inCall:A,inPopout:F})):S(v.default,{onFullscreenParticipant:b,onContextMenuParticipant:O,onSelectParticipant:E,selectedParticipant:r,filteredParticipants:G,participants:t,popoutWindow:k,className:T,idle:L,height:D,width:w,layout:g,inCall:A,channel:I,showParticipants:M})}));t.default=O},421622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_WIDTH=t.FORCE_HIDE_PARTICIPANTS_WIDTH=void 0;t.getPipParticipants=function(e,t,n){if(null==t||t.type===i.ParticipantTypes.ACTIVITY)return[];return[t.type===i.ParticipantTypes.STREAM?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===(null==t?void 0:t.user.id)&&e.id!==n&&(0,o.default)(e)
})):null,t.type===i.ParticipantTypes.USER?e.find((function(e){return e.type===i.ParticipantTypes.STREAM&&e.user.id===(null==t?void 0:t.user.id)&&null!=e.streamId})):null,t.id!==n?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===n&&(0,o.default)(e)})):null].filter(a.isNotNullish)};var r,a=n(71246),o=(r=n(183612))&&r.__esModule?r:{default:r},i=n(859089);t.PARTICIPANTS_WIDTH=228;t.FORCE_HIDE_PARTICIPANTS_WIDTH=684},170555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getParticipantNamesText=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=v(n(136873)),i=v(n(956117)),u=v(n(971639)),l=v(n(776360)),s=v(n(203737)),d=v(n(709578)),f=n(859089),c=v(n(247001)),p=v(n(657091));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return 0===t.length?c.default.Messages.CURRENTLY_IN_VOICE_EMPTY:1===t.length?c.default.Messages.CURRENTLY_IN_VOICE_1.format({a:(0,s.default)(e,t[0])
}):2===t.length?c.default.Messages.CURRENTLY_IN_VOICE_2.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1])}):t.length>2?c.default.Messages.CURRENTLY_IN_VOICE_2_N.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1]),n:t.length-2}):void 0}function _(e){var t=e.participants,n=e.channel,r=t.filter(f.isUserParticipant),s=a.useCallback((function(){o.default.selectVoiceChannel(n.id)}),[n.id]),v=4===r.length?2:3;return h("div",{className:p.default.container},void 0,h("div",{className:p.default.tiles,style:{maxWidth:168*v}},void 0,r.slice(0,5).map((function(e){return h(d.default,{participant:e,channel:n,className:p.default.tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id)}))),h(u.default,{className:p.default.channelName,size:u.default.Sizes.SIZE_32},void 0,n.name),h("div",{className:p.default.participantsRow},void 0,h(l.default,{color:l.default.Colors.HEADER_SECONDARY},void 0,m(n,r))),h(i.default,{className:p.default.joinButton,color:i.default.Colors.GREEN,onClick:s,
size:i.default.Sizes.MEDIUM},void 0,c.default.Messages.JOIN_VOICE))}_.displayName="ChannelCallEmpty";var g=_;t.default=g},508957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(47354),i=n(536211),u=y(n(185948)),l=n(689575),s=y(n(30098)),d=y(n(689389)),f=y(n(838696)),c=y(n(709578)),p=y(n(421417)),v=y(n(946234));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}
function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.participants,n=e.onClick,r=e.onDoubleClick,y=e.onContextMenu,h=e.channel,_=e.className,g=e.inCall,E=e.inPopout,S=e.totalNumberOfParticipants,O=e.paused,b=void 0!==O&&O,I=(0,i.useStateFromStores)([s.default],(function(){return s.default.getGuild(h.guild_id)}),[h.guild_id]),C=(0,i.useStateFromStores)([d.default],(function(){return h.isPrivate()||(0,l.canViewInviteModal)(d.default,I,h)}),[I,h]),T=(null==I?void 0:I.afkChannelId)===h.id,A=h.userLimit<=0||h.userLimit>1,P=t.map((function(e){return function(t){return m(c.default,{participant:e,
channel:h,className:v.default.tile,paused:b,onClick:n,onDoubleClick:r,onContextMenu:y,inCall:g,width:t,inPopout:E},e.id)}}));(0,u.default)({type:o.ImpressionTypes.VIEW,name:o.ImpressionNames.CHANNEL_CALL_VIDEO_GRID_VIEW,properties:{total_participants:S,can_invite:C,is_afk_channel:T,channel_user_limit:h.userLimit}},{trackOnInitialLoad:!0},[]);1===S&&null!=I&&C&&!T&&A&&P.push((function(e){return m(p.default,{width:e,channel:h,guild:I,inPopout:E})}));var M=a.useCallback((function(e){var n,r;return null!==(n=null===(r=t[e])||void 0===r?void 0:r.id)&&void 0!==n?n:"empty-tile"}),[t]);return m(f.default,{className:_,keyExtractor:M,paddingTop:64,paddingBottom:64},void 0,P)}_.displayName="ChannelCallGrid"},421417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=y(n(667294)),o=n(194322),i=p(n(611456)),u=y(n(518931)),l=n(770348),s=n(371621),d=p(n(247001)),f=p(n(200146)),c=p(n(222917));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=e.channel,r=e.guild,p=e.width,v=e.inPopout;return h(i.default,{className:f.default.root},void 0,h(u.default,{artURL:c.default,size:(0,u.getSizeForWidth)(p),header:d.default.Messages.STREAM_SINGLE_PERSON_BODY,onCTAClick:function(){return(0,o.openModalLazy)(g(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865))
;case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,m({},e,{guild:r,channel:t,source:l.InstantInviteSources.CHANNEL_CALL}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:v?s.POPOUT_MODAL_CONTEXT:s.DEFAULT_MODAL_CONTEXT})},callToAction:d.default.Messages.INSTANT_INVITE}))}E.displayName="EmptyTile"},518931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;t.getSizeForWidth=function(e){return e<400?"small":e<1e3?"medium":"large"};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=s(n(294184)),o=s(n(956117)),i=s(n(530250)),u=s(n(776360)),l=s(n(260382));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.onCTAClick,n=e.callToAction,r=e.header,s=e.description,d=e.size,c=e.className,p=e.artURL,v=e.noArt,y=void 0!==v&&v,h=e.selected,m=void 0!==h&&h;return f(i.default,{className:c,justify:i.default.Justify.CENTER,align:i.default.Align.CENTER,direction:i.default.Direction.VERTICAL
},void 0,!y&&null!=p&&f("div",{className:(0,a.default)(l.default.art,l.default[d]),style:{backgroundImage:"url("+p+")"}}),null!=r?f(u.default,{color:u.default.Colors.CUSTOM,size:u.default.Sizes.SIZE_16,className:l.default.header},void 0,r):null,null!=s?f(u.default,{color:u.default.Colors.CUSTOM,className:l.default.description,size:u.default.Sizes.SIZE_14},void 0,s):null,m||null==n?null:f(o.default,{className:l.default.outerButton,size:o.default.Sizes.NONE,color:o.default.Colors.WHITE,look:o.default.Looks.BLANK,innerClassName:l.default.button,onClick:function(e){e.stopPropagation();null==t||t(e)}},void 0,n))}c.displayName="EmptyState"},151503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=b(n(667294)),o=S(n(294184)),i=n(248088),u=S(n(145371)),l=S(n(715801)),s=S(n(423046)),d=S(n(635014)),f=S(n(974661)),c=n(956506),p=S(n(709578)),v=S(n(921532)),y=n(421622),h=b(n(449183)),m=n(770348),_=n(859089),g=S(n(367374)),E=S(n(398720));function S(e){
return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=8+h.PARTICIPANTS_HEIGHT;function M(e){var t,n=e.onSelectParticipant,r=e.onContextMenuParticipant,S=e.onFullscreenParticipant,O=e.participants,b=e.filteredParticipants,A=e.popoutWindow,M=e.inCall,N=e.channel,R=e.selectedParticipant,w=e.showParticipants,D=void 0===w||w,L=e.className,j=e.paused,k=e.width,U=e.height,G=e.layout,F=e.idle,x=null!=A,B=d.default.getVideoComponent(),V=s.default.getId(),W=T(a.useState(null),2),H=W[0],z=W[1],Y=T(a.useState(!0),2),K=Y[0],$=Y[1],q=T(a.useState(!1),2),Z=q[0],X=q[1],Q=R.type===_.ParticipantTypes.ACTIVITY,J=!Q&&null!=R.streamId,ee=J&&null!=H&&H.width>0&&H.height>0?H.width/H.height:1.7777777777777777,te=U<=2*P+144,ne=D&&!te,re=(0,u.default)(ne),ae=0;(Q||ne)&&(ae+=72)
;Q&&!ne&&(ae+=48);ne&&(ae+=.5*P+8);var oe,ie=U-2*ae,ue=ie*ee,le=Math.floor(Math.min(k,ue)/ee),se=U>k/ee+72+P+8;oe=!ne&&!Q?40+Math.max(0,72-(U-le)/2):ne?-16:-8;a.useEffect((function(){var e=setTimeout((function(){$(!1)}),250);return function(){clearTimeout(e)}}),[]);var de=(0,i.useSpring)({value:ne?1:0,delay:se||!ne?0:100,config:C({},i.config.stiff,{clamp:!0}),onStart:function(){return X(!0)},onChange:function(){return c.ComponentDispatch.dispatch(m.ComponentActions.REMEASURE_TARGET)},onRest:function(){X(!1);c.ComponentDispatch.dispatch(m.ComponentActions.REMEASURE_TARGET)}}),fe=(0,i.useSpring)({value:ne?1:0,config:C({},i.config.stiff,{clamp:!0})}),ce=(0,i.useSpring)({value:ue,config:C({},i.config.stiff,{clamp:!0}),immediate:re===ne&&fe.value.idle}),pe=(0,i.useSpring)({value:oe,config:C({},i.config.stiff,{clamp:!0})}),ve=(0,i.useTransition)(R,{keys:function(e){return null==e?void 0:e.id},config:C({},i.config.stiff,{clamp:!0}),initial:null,from:{opacity:0},enter:{opacity:1},leave:{
opacity:0}}),ye=a.useCallback((function(e){z(e);$(!1)}),[]),he=ne||j?[]:(0,y.getPipParticipants)(O,R,V),me=(0,h.useVisibleParticipants)(k,b),_e=me.visibleParticipants,ge=me.participantTileWidth;return I("div",{className:(0,o.default)(E.default.root,g.default.flexCenter,L)},void 0,I("div",{className:E.default.tileWrapper,style:{opacity:J&&K?0:1}},void 0,I(i.animated.div,{className:E.default.videoFrame,style:{top:fe.value.to((function(e){return-e*P/2}))}},void 0,I(i.animated.div,{style:{width:ce.value},className:E.default.videoWrapper},void 0,I(f.default,{className:g.default.videoSizer,aspectRatio:ee},void 0,ve((function(e,t,a){var o=a.key;return null!=t?I(i.animated.div,{className:g.default.videoWrapperAnimated,style:e},o,I(p.default,{focused:!0,noBorder:ue>=k||ie>=U,channel:N,className:g.default.focusedVideo,videoComponent:B,paused:j,width:k,participant:t,onClick:n,onDoubleClick:S,onContextMenu:r,onVideoResize:ye,inCall:M,inPopout:x})):null
})))),te||G===m.ChannelLayouts.MINIMUM||G===m.ChannelLayouts.NORMAL?null:I(i.animated.div,{className:(0,o.default)(E.default.actionRow,(t={},t[E.default.idle]=F,t)),style:{bottom:pe.value}},void 0,I(l.default,{channelId:N.id,isParticipantsOpen:D,isVertical:!0}))),I(i.animated.div,{className:E.default.participantsWrapperAnimated,style:{translateY:de.value.to((function(e){return e*P/2})),opacity:de.value,visibility:de.value.to((function(e){return 0===e?"hidden":"visible"}))}},void 0,I(h.default,{channel:N,onClick:n,onContextMenu:r,onDoubleClick:S,participants:_e,participantTileWidth:ge,selectedParticipantId:R.id,inCall:M,paused:j||Z||!D,popoutWindow:A}))),he.length>0?I(v.default,{onContextMenuParticipant:r,width:k,height:U,channel:N,participants:he}):null)}M.displayName="HorizontalFocusedView"},449183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_HEIGHT=void 0;t.default=I;t.useVisibleParticipants=function(e,t){
var n=m(a.useState(Date.now()),2),r=n[0],u=n[1];a.useEffect((function(){var e=setTimeout((function(){u(Date.now())}),1e4);return function(){clearTimeout(e)}}),[t]);var s=a.useRef({}),f=a.useMemo((function(){var n=Date.now(),r=(0,o.sortBy)(t,(function(e){return function(e,t){var n;void 0===t&&(t=Date.now());switch(e.type){case d.ParticipantTypes.ACTIVITY:return"\0"+e.sortKey;case d.ParticipantTypes.HIDDEN_STREAM:case d.ParticipantTypes.STREAM:return""+(0,i.userKey)(e.userNick,e.user);case d.ParticipantTypes.USER:var r="";e.speaking?r="":t-e.lastSpoke<O?r="":(null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&(r="");return""+r+(a=e.lastSpoke,o=String(E).length,String(E-a).padStart(o,"0"))+(0,i.userKey)(e.userNick,e.user)}var a,o}(e,n)})),a=m((0,o.partition)(r,d.isStreamParticipant),2),u=a[0],f=a[1],c=f.findIndex(b),p=null;if(-1!==c){p=f[c];f.splice(c,1)}
var v=null!=p?e-S-8:e,y=Math.floor((v-8)/132),g=Math.max(0,Math.min(y,12,t.length)),I=Math.min((v-8)/g-8,S),C=Math.max(0,g-u.length),T=u.slice(0,g),A=f.slice(0,C),P=new Array(C);if(C>0){for(var M,N=[],R=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(A);!(M=R()).done;){var w=M.value,D=s.current[w.id];null!=D&&D<C?P[D]=w:N.push(w)}for(var L=0;L<P.length;L++)if(null==P[L]){var j=N.shift();if(null==j)break;P[L]=j}}var k=P.filter(l.isNotNullish),U=(0,o.keyBy)((0,o.range)(k.length),(function(e){return k[e].id}));s.current=U;var G=[].concat(h(T),h(k));null!=p&&G.push(p);return{visibleParticipants:G,
participantTileWidth:I}}),[e,t,r]),c=f.visibleParticipants,p=f.participantTileWidth;return{visibleParticipants:c,participantTileWidth:p}};var r,a=v(n(667294)),o=n(496486),i=n(269503),u=c(n(423046)),l=n(71246),s=v(n(709578)),d=n(859089),f=c(n(388832));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){
u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=864e13;t.PARTICIPANTS_HEIGHT=112;var S=16/9*112+8,O=1e4;function b(e){var t,n=u.default.getId();return e.type===d.ParticipantTypes.USER&&e.user.id===n&&(null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)}function I(e){
var t=e.participants,n=e.participantTileWidth,r=e.selectedParticipantId,a=e.onDoubleClick,o=e.onContextMenu,i=e.onClick,u=e.channel,l=e.inCall,d=e.popoutWindow,c=e.paused,p=void 0!==c&&c,v=null!=d;return y("div",{className:f.default.root},void 0,t.map((function(e){if(null==e)return null;var t=b(e);return y("div",{className:f.default.tileSizer,style:t?{flexShrink:0}:void 0},e.id,y(s.default,{participant:e,selected:r===e.id,channel:u,className:f.default.tile,fit:s.CallTileFit.COVER,onClick:i,onDoubleClick:a,onContextMenu:o,width:t?S:n,inCall:l,paused:p,inPopout:v}))})))}I.displayName="HorizontalVideoParticipants"},531334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.stream,r=e.applicationId,_=e.channel,g=e.exitFullScreen,O=e.appContext,I=e.analyticsLocation,C=e.className,T=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a
}(e,m),A=null==_?void 0:_.getGuildId(),P=(0,u.useStateFromStores)([s.default],(function(){return null!=A?s.default.getGuild(A):null}),[A]);if(!function(e,t){return null!=e&&null!=t&&d.default.can(p.Permissions.CREATE_INSTANT_INVITE,t)}(P,_))return null;var M=y.default.Messages.INSTANT_INVITE;null!=t?M=y.default.Messages.INVITE_STREAM_HEADER:null!=r&&(M=y.default.Messages.EMBEDDED_ACTIVITIES_INVITE_TO_ACTIVITY);return a.createElement(a.Fragment,null,a.createElement(f.default,S({size:f.default.Sizes.TINY,color:h.default.buttonColor,onClick:function(){(0,i.default)(null!=P,"guild cannot be null");(0,i.default)(null!=_,"channel cannot be null");!function(e,t,r,o,i,u,l){null==u||u();(0,c.openModalLazy)(b(regeneratorRuntime.mark((function i(){var u,s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:u=i.sent;s=u.default;return i.abrupt("return",(function(n){
return a.createElement(s,S({},n,{guild:e,channel:t,streamUserId:r,applicationId:o,analyticsLocation:l,source:p.InstantInviteSources.STREAM_INVITE}))}));case 5:case"end":return i.stop()}}),i)}))),{modalKey:"stream-invite-modal",contextKey:i===p.AppContext.POPOUT?v.POPOUT_MODAL_CONTEXT:v.DEFAULT_MODAL_CONTEXT})}(P,_,null==t?void 0:t.ownerId,r,O,g,I)},className:(0,o.default)(C,h.default.textButton)},T),M),E(l.default,{channel:_,stream:t,appContext:O,className:(0,o.default)(C,h.default.iconButton),exitFullScreen:g,analyticsLocation:I}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=_(n(294184)),i=_(n(441143)),u=n(536211),l=_(n(336156)),s=_(n(30098)),d=_(n(689389)),f=_(n(956117)),c=n(194322),p=n(770348),v=n(371621),y=_(n(247001)),h=_(n(684592)),m=["stream","applicationId","channel","exitFullScreen","appContext","analyticsLocation","className"];function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}},232269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;s(n(667294));var r,a=u(n(229132)),o=s(n(518931)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=n(153996);function c(e){var t=e.width,n=e.className,r=e.channelId,u=e.noArt,l=void 0!==u&&u;return d(o.default,{artURL:f,noArt:l,size:(0,o.getSizeForWidth)(t),className:n,callToAction:i.default.Messages.STREAM_SHOW_ALL_PARTICIPANTS,header:i.default.Messages.STREAM_PARTICIPANTS_HIDDEN.format(),onCTAClick:function(){
return a.default.toggleVoiceParticipantsHidden(r,!1)}})}c.displayName="ParticipantsHidden"},603218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=ee(n(667294)),o=Q(n(441143)),i=Q(n(496486)),u=Q(n(536211)),l=Q(n(740207)),s=Q(n(505437)),d=n(264720),f=Q(n(136873)),c=n(844784),p=Q(n(825724)),v=Q(n(66384)),y=Q(n(310268)),h=n(678928),m=n(747868),_=Q(n(379310)),g=Q(n(925013)),E=Q(n(908921)),S=ee(n(8475)),O=n(139982),b=Q(n(625905)),I=Q(n(134893)),C=Q(n(244612)),T=Q(n(401311)),A=Q(n(866219)),P=Q(n(305914)),M=Q(n(199138)),N=Q(n(607209)),R=Q(n(423046)),w=Q(n(635014)),D=Q(n(290629)),L=Q(n(728429)),j=Q(n(529688)),k=Q(n(189434)),U=Q(n(949898)),G=Q(n(275189)),F=Q(n(776360)),x=Q(n(308920)),B=Q(n(29652)),V=Q(n(440556)),W=Q(n(381390)),H=Q(n(7969)),z=Q(n(111014)),Y=Q(n(493051)),K=Q(n(602824)),$=Q(n(310261)),q=n(770348),Z=n(859089),X=Q(n(10263));function Q(e){return e&&e.__esModule?e:{default:e}}function J(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(J=function(e){return e?n:t})(e)}function ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=J(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function te(){te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return te.apply(this,arguments)}function ne(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function ae(e,t){ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ae(e,t)}var oe=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ae(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).state={screensharePopoutOpen:!1};t._ref=a.createRef();t.handleVideo=function(e){l.default.setVideoEnabled(e)};t.handleEnableVideoWhenUnavailable=function(){t.props.isVideoAvailable?t.handleVideo(!0):(0,Y.default)()};t.handleJumpToChannel=function(){var e,n=t.props.channel;(0,d.popAllLayers)()
;var r=null!==(e=n.getGuildId())&&void 0!==e?e:q.ME;s.default.channelListScrollTo(r,n.id);(0,O.transitionToGuild)(r,n.id)};t.handleStartStream=function(){var e=t.props,n=e.canGoLive,r=e.channel,a=r.getGuildId();(0,o.default)(null!=a,"Cannot go live in non guild channel");if(!n)return(0,K.default)();(0,$.default)(a,r.id,q.AnalyticsPages.GUILD_CHANNEL)};t.handleStopStream=function(){var e=t.props.participantOnScreen;(0,o.default)((0,Z.isStreamParticipant)(e),"cannot stop stream for non streamer");(0,E.default)(e.stream)};t.handleOpenPopout=function(){var e=t.props.channel;S.openChannelCallPopout(e)};t.handleDisconnect=function(){f.default.selectVoiceChannel(null)};t.renderBottomLeftControls=function(){var e=t.viewProperties.canSeeParticipantName;return a.createElement(a.Fragment,null,e?t.renderParticipantName():null)};t.renderBottomRightControls=function(){var e=t.viewProperties,n=e.canSettings,r=e.canPopout,o=e.canDisconnect,i=e.canStopStream,u=e.canSeeViewers
;return a.createElement(a.Fragment,null,u?t.renderViewersIcon():null,n?t.renderSettingsIcon():null,r?t.renderPopoutIcon():null,i?t.renderStopStreamButton():null,o?t.renderDisconnectButton():null)};t.renderDisconnectButton=function(){return ne(T.default,{className:X.default.rightTrayIcon,onClick:t.handleDisconnect})};t.renderStopStreamButton=function(){var e=t.viewProperties.isSelf;return ne(P.default,{isSelfStream:e,className:X.default.rightTrayIcon,onClick:t.handleStopStream})};t.renderViewersIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.channel;(0,o.default)((0,Z.isStreamParticipant)(n)||(null==n?void 0:n.type)===Z.ParticipantTypes.ACTIVITY,"Cannot render participants for participant type "+(null==n?void 0:n.type));return ne(I.default,{},void 0,ne(y.default,{channelId:r.id,guildId:r.getGuildId(),className:X.default.rightTrayIcon,participant:n,compact:!0}))};t.renderPopoutIcon=function(){return ne(A.default,{className:X.default.rightTrayIcon,popoutOpen:!1,
onOpenPopout:t.handleOpenPopout,onClosePopout:q.NOOP_NULL})};t.renderSettingsIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.activeStreams;(0,o.default)((0,Z.isStreamParticipant)(n),"Cannot render settings for non stream participant");var a=r.find((function(e){return(0,m.encodeStreamKey)(e)===n.id}));return null==a||a.state===q.ApplicationStreamStates.ENDED?null:ne(M.default,{stream:a,className:X.default.rightTrayIcon,appContext:q.AppContext.APP})};return t}var n=t.prototype;n.getScreenMessage=function(){var e=this.props,t=e.participantOnScreen,n=e.currentUserId;if(!(0,Z.isStreamParticipant)(t))return null;var r=this.activeStreamForSelectedParticipant;return null==r?null:(0,g.default)(r,t.user,t.user.id===n,this.streamerPaused)};n.componentDidMount=function(){var e=this.props.channel;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:"pip"},(0,c.collectVoiceAnalyticsMetadata)(e.id)))};n.componentWillUnmount=function(){var e=this.props.channel
;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:p.default.getLayout(e.id)},(0,c.collectVoiceAnalyticsMetadata)(e.id)))};n.renderStreamState=function(){var e=this.activeStreamForSelectedParticipant,t=this.props.participantOnScreen;return(null==e?void 0:e.state)===q.ApplicationStreamStates.ENDED?ne(W.default,{stream:e,width:Z.PIP_WIDTH}):(null==e?void 0:e.state)===q.ApplicationStreamStates.FAILED?ne(H.default,{stream:e,width:Z.PIP_WIDTH}):(null==t?void 0:t.type)===Z.ParticipantTypes.HIDDEN_STREAM?ne(z.default,{participant:t,width:Z.PIP_WIDTH}):null};n.renderParticipantName=function(){var e=this.props,t=e.channel,n=e.participantOnScreen;if((null==n?void 0:n.type)===Z.ParticipantTypes.STREAM||(null==n?void 0:n.type)===Z.ParticipantTypes.USER){var r,a=null!==(r=B.default.getNickname(t.getGuildId(),t.id,n.user))&&void 0!==r?r:n.user.username;return ne(F.default,{size:F.default.Sizes.SIZE_16,color:q.Colors.WHITE,className:X.default.participantName},void 0,a)}
return null};n.render=function(){var e=this,t=this.props,n=t.channel,r=t.streamId,o=t.participantOnScreen,i=t.isVideoEnabled,u=(0,h.computeChannelName)(n,L.default,D.default),l=(null==o?void 0:o.id)===R.default.getId()&&i,s=this.renderStreamState(),d=null;(null==o?void 0:o.type)!==Z.ParticipantTypes.ACTIVITY&&(null!=s?d=s:(null==o?void 0:o.type)!==Z.ParticipantTypes.USER&&(null==o?void 0:o.type)!==Z.ParticipantTypes.STREAM||(d=ne(V.default,{paused:this.streamerPaused,streamId:r,component:w.default.getVideoComponent(),mirror:l},void 0,ne(G.default,{size:G.default.AvatarSizes.SIZE_80,src:null==o?void 0:o.user.getAvatarURL(n.guild_id,80),"aria-label":null==o?void 0:o.user.username}))));return ne(b.default,{timeout:1800},void 0,(function(t){var n;return a.createElement(C.default,te({title:u,backgroundKey:null!==(n=null==o?void 0:o.id)&&void 0!==n?n:"",screenMessage:e.getScreenMessage(),onJumpToChannel:e.handleJumpToChannel,renderBottomLeftControls:e.renderBottomLeftControls,
renderBottomRightControls:e.renderBottomRightControls,preventIdleComponent:I.default,width:Z.PIP_WIDTH},t),d)}))};!function(e,t,n){t&&re(e.prototype,t);n&&re(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"viewProperties",get:function(){var e=this.props,t=e.participantOnScreen,n=e.currentUserId,r=e.channel,a=(0,Z.isStreamParticipant)(t),o=null!=t&&t.type!==Z.ParticipantTypes.ACTIVITY&&t.user.id===n;return{canPopout:a&&!o,canSettings:a&&o,canStopStream:a,canSeeViewers:a,canSeeParticipantName:((null==t?void 0:t.type)===Z.ParticipantTypes.STREAM||(null==t?void 0:t.type)===Z.ParticipantTypes.USER)&&r.type!==q.ChannelTypes.DM,canDisconnect:!a,isSelf:o}}},{key:"streamerPaused",get:function(){var e=this.props,t=e.isMainWindowFocused,n=e.activeSelfStream,r=e.participantOnScreen;return null!=n&&(null==r?void 0:r.id)===(0,m.encodeStreamKey)(n)&&!t}},{key:"activeStreamForSelectedParticipant",get:function(){var e=this.props,t=e.participantOnScreen,n=e.activeStreams;return(0,
Z.isStreamParticipant)(t)?n.find((function(e){return(0,m.encodeStreamKey)(e)===t.id})):null}}]);return t}(a.PureComponent);oe.displayName="PictureInPictureVideoContainer";var ie=u.default.connectStores([w.default,p.default,R.default,j.default,k.default,N.default,U.default],(function(e){var t=e.channel,n=j.default.getSpeaker(t.id),r=p.default.getParticipant(t.id,n),a=(0,i.default)(w.default.getVideoDevices()).values().first(),o=null==a||a.disabled,u=null!=r&&r.type!==Z.ParticipantTypes.ACTIVITY&&r.type!==Z.ParticipantTypes.HIDDEN_STREAM?k.default.getStreamId(r.user.id,(0,v.default)(r.type)):null,l=!1===o,s=!o&&w.default.isVideoEnabled(),d=(0,_.default)(w.default),f=R.default.getId();return{channel:t,streamId:u,participantOnScreen:r,isVideoAvailable:l,isVideoEnabled:s,canGoLive:d,currentUserId:f,activeStreams:N.default.getAllActiveStreams(),activeSelfStream:N.default.getActiveStreamForUser(f),isMainWindowFocused:U.default.isFocused()}}))(oe);t.default=ie},474628:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=S(n(636602)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=S(n(177230)),u=S(n(303798)),l=S(n(902305)),s=S(n(607209)),d=S(n(644263)),f=S(n(122913)),c=S(n(635014)),p=S(n(218843)),v=S(n(893160)),y=S(n(211136)),h=S(n(790597)),m=S(n(387692)),_=n(770348),g=n(376293);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return O(e,t)}function b(){var e,t=r;if(null==t||!p.default.isOpen(t))return!1;a.default.wait((function(){return o.close(t)}));null===(e=v.default.getRTCConnection())||void 0===e||e.setPipOpen(!1);r=null}function I(){var e=v.default.getChannelId(),t=r===e;if(function(){var e=v.default.getChannelId(),t=y.default.getChannelId();if(!c.default.supports(g.Features.VIDEO))return!0;if(l.default.getWindowOpen(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT))return!0;var n=s.default.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(m.default.getVideoVoiceStatesForChannel(e)).some((function(e){var t=e.userId;return!c.default.isLocalVideoDisabled(t)}))||n))return!0;var r=f.default.hasLayers();return!(r&&f.default.getLayers().includes(_.Layers.RTC_DEBUG)||!r&&e!==t)}())return b();t||b();return null!=e&&function(e){var t,n=d.default.getChannel(e);if(null==n||p.default.isOpen(e))return!1;a.default.wait((function(){return o.open(n.id,_.PictureInPictureComponents.VIDEO,{channel:n})}))
;null===(t=v.default.getRTCConnection())||void 0===t||t.setPipOpen(!0);r=e}(e)}var C=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){y.default.addChangeListener(I);h.default.addChangeListener(I);v.default.addChangeListener(I);m.default.addChangeListener(I);f.default.addChangeListener(I);s.default.addChangeListener(I);l.default.addChangeListener(I);c.default.addChangeListener(I);u.default.addChangeListener(I)};n._terminate=function(){y.default.removeChangeListener(I);h.default.removeChangeListener(I);v.default.removeChangeListener(I);m.default.removeChangeListener(I);f.default.removeChangeListener(I);s.default.removeChangeListener(I);l.default.removeChangeListener(I);c.default.removeChangeListener(I);u.default.removeChangeListener(I)};return t}(i.default));t.default=C},381390:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=p;d(n(667294));var r,a,o=n(123516),i=n(747868),u=d(n(518931)),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=n(802566);function p(e){var t=e.stream,n=e.width,r=e.noArt,a=void 0!==r&&r,s=e.selected,d=void 0!==s&&s;return f(u.default,{artURL:c,noArt:a,selected:d,size:(0,u.getSizeForWidth)(n),header:l.default.Messages.STREAM_ENDED,onCTAClick:function(){return(0,o.closeStream)((0,i.encodeStreamKey)(t))},callToAction:l.default.Messages.CLOSE_STREAM})}p.displayName="StreamEnded"},7969:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;c(n(667294));var r,a=n(123516),o=n(747868),i=d(n(550270)),u=c(n(518931)),l=n(770348),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=n(192941);function y(e){var t=e.stream,n=e.width,r=e.selected,d=void 0!==r&&r,f=e.noArt,c=void 0!==f&&f;return p(u.default,{artURL:v,
header:s.default.Messages.STREAM_FAILED_TITLE,size:(0,u.getSizeForWidth)(n),noArt:c,selected:d,description:s.default.Messages.STREAM_FAILED_DESCRIPTION.format({helpUrl:i.default.getArticleURL(l.HelpdeskArticles.STREAM_FAILED)}),onCTAClick:function(){return(0,a.closeStream)((0,o.encodeStreamKey)(t))},callToAction:s.default.Messages.CLOSE_STREAM})}y.displayName="StreamFailed"},111014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;m(n(667294));var r,a=y(n(294184)),o=n(536211),i=n(123516),u=y(n(607209)),l=y(n(423046)),s=y(n(227134)),d=y(n(776360)),f=n(288146),c=m(n(518931)),p=y(n(247001)),v=y(n(207336));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=n(987601);function E(e){var t,n,r=e.participant,y=e.width,h=e.noArt,m=void 0!==h&&h,E=e.selected,S=void 0!==E&&E,O=y<195,b=(0,o.useStateFromStores)([u.default,l.default],(function(){return u.default.getAllActiveStreams().some((function(e){return e.ownerId!==l.default.getId()}))
}));return _("div",{className:(0,a.default)(v.default.content,v.default.streamHidden,(t={},t[v.default.small]=O,t))},void 0,_(c.default,{className:v.default.streamHiddenEmptyState,artURL:g,noArt:m,selected:S,size:(0,c.getSizeForWidth)(y),header:O?null:p.default.Messages.STREAM_HIDDEN,description:S?null:_("div",{className:(0,a.default)(v.default.streamHiddenCTA,(n={},n[v.default.largePaddingTop]=!O,n))},void 0,_(f.CallTileCTA,{isSmall:O},void 0,_(d.default,{size:O?d.default.Sizes.SIZE_14:d.default.Sizes.SIZE_16,color:d.default.Colors.CUSTOM},void 0,y<175?p.default.Messages.WATCH:p.default.Messages.WATCH_STREAM)),b?_(f.CallTileCTA,{className:v.default.addCTA,tooltip:p.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,i.watchStream)(r.stream,{forceMultiple:!0})},isSmall:O},void 0,_(s.default,{className:v.default.addStreamIcon})):null)}))}E.displayName="StreamHidden"},55055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.StreamTileIndicators=function(e){var t=e.participant,n=e.selected,r=e.focused,o=e.idle,u=e.width,l=(0,i.useStateFromStores)([c.default],(function(){return c.default.getActiveStreamForUser(t.user.id)})),s=(0,T.isVideoCompact)(u);return a.createElement(a.Fragment,null,n?null:j(C.default,{participant:t}),r||null==l||l.state===A.ApplicationStreamStates.ENDED||l.state===A.ApplicationStreamStates.FAILED?null:j(d.default,{size:g.default.Sizes.LARGE,className:R.default.liveIndicator,participant:t,showQuality:!s&&!o,isUpsellEnabled:!1}))};t.default=function(e){var t=e.participant,n=e.selected,r=e.onVideoResize,d=e.paused,g=e.fit,C=e.inPopout,T=e.width,w=v.default.getVideoComponent(),D=(0,i.useStateFromStores)([p.default],(function(){return p.default.getId()})),k=t.stream,U=t.user,G=t.streamId,F=(0,i.useStateFromStores)([c.default],(function(){return c.default.getActiveStreamForUser(U.id)}),[U.id]),x=(0,i.useStateFromStores)([c.default],(function(){
return c.default.getAllActiveStreams().length>0})),B=(0,i.useStateFromStores)([y.default],(function(){return y.default.isFocused()})),V=(null==F?void 0:F.ownerId)===D&&!B&&!C,W=null!=F?(0,l.default)(F,U,U.id===D,V):null,H=T<195;return(null==F?void 0:F.state)===A.ApplicationStreamStates.ENDED?j(O.default,{selected:n,stream:F,width:T}):(null==F?void 0:F.state)===A.ApplicationStreamStates.FAILED?j(b.default,{selected:n,stream:F,width:T}):t.type===P.ParticipantTypes.HIDDEN_STREAM?j(I.default,{selected:n,participant:t,width:T}):null!=F&&!n&&null!=w&&v.default.supports(M.Features.VIDEO)?a.createElement(a.Fragment,null,j(h.default,{onResize:r,wrapperClassName:R.default.videoWrapper,className:R.default.content,streamId:G,videoComponent:w,fit:g,paused:d||V}),null!=W?a.createElement(f.default,L({size:(0,S.getSizeForWidth)(T)},W)):null):j("div",{className:(0,o.default)(R.default.content,R.default.streamPreview,(z={},z[R.default.small]=H,z))},void 0,j(s.default,{noText:!0,className:(0,
o.default)(R.default.absoluteFill,(Y={},Y[R.default.streamPreviewOpacity]=null==F,Y)),stream:t.stream}),n?null:a.createElement(a.Fragment,null,j(E.CallTileCTA,{isSmall:H},void 0,j(_.default,{size:H?_.default.Sizes.SIZE_14:_.default.Sizes.SIZE_16,color:_.default.Colors.CUSTOM},void 0,T<175?N.default.Messages.WATCH:N.default.Messages.WATCH_STREAM)),x?j(E.CallTileCTA,{className:R.default.addCTA,tooltip:N.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,u.watchStream)(k,{forceMultiple:!0})},isSmall:H},void 0,j(m.default,{className:R.default.addStreamIcon})):null));var z,Y};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=w(n(294184)),i=n(536211),u=n(123516),l=w(n(925013)),s=w(n(645923)),d=w(n(57697)),f=w(n(896566)),c=w(n(607209)),p=w(n(423046)),v=w(n(635014)),y=w(n(949898)),h=w(n(971146)),m=w(n(227134)),_=w(n(776360)),g=w(n(528175)),E=n(288146),S=n(518931),O=w(n(381390)),b=w(n(7969)),I=w(n(111014)),C=w(n(697252)),T=n(227482),A=n(770348),P=n(859089),M=n(376293),N=w(n(247001)),R=w(n(32599));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},697252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.participant,n=e.className,r=function(e){if(null==e)return null;return i.default.isDeveloper?e.message+" ("+e.errorType+")":e.message}((0,a.default)(t));return null!=r?s(o.default,{className:n,errorMessage:r}):null};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(910333)),o=u(n(778339)),i=u(n(776115));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},522503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.participant,n=e.channel,r=e.inCall,E=e.width,S=e.paused,C=e.selected,T=e.fit,A=e.onVideoResize,P=e.blocked,M=e.noVideoRender,N=void 0!==M&&M,R=e.pulseSpeakingIndicator,w=void 0!==R&&R,D=d.default.getVideoComponent(),L=(0,o.useStateFromStores)([s.default],(function(){return s.default.getId()})),j=(0,o.useStateFromStores)([i.default],(function(){return i.default.useReducedMotion})),k=t.user,U=t.streamId,G=t.speaking,F=k.id===L,x=(0,y.default)(t),B=(0,o.useStateFromStores)([f.default],(function(){return f.default.isFocused()})),V=(0,o.useStateFromStores)([l.default],(function(){return l.default.getWindowFocused(h.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),W=(0,o.useStateFromStores)([d.default],(function(){return null!=k.id&&d.default.isLocalVideoDisabled(k.id,(0,u.default)(t.type))}),[k.id,t.type]),H=v.default.getName(n.getGuildId(),n.id,k),z=E<124;if(r&&!W&&!N&&x&&!C&&null!=D&&d.default.supports(_.Features.VIDEO))return O(p.default,{onResize:A,
wrapperClassName:g.default.videoWrapper,className:g.default.content,mirror:F,streamId:U,videoComponent:D,fit:T,paused:S});var Y,K=!j&&G&&(V||B);return O("div",{className:(0,a.default)(g.default.content,(Y={},Y[g.default.blockedAvatar]=P,Y))},void 0,O(c.default,{"aria-label":H,src:k.getAvatarURL(n.guild_id,z?m.SizeSpecs[I].size:m.SizeSpecs[b].size,K),backgroundSrc:k.getAvatarURL(n.guild_id,80),size:z?I:b,pulseSpeakingIndicator:w,speaking:G}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=E(n(294184)),o=n(536211),i=E(n(235879)),u=E(n(66384)),l=E(n(902305)),s=E(n(423046)),d=E(n(635014)),f=E(n(949898)),c=E(n(275189)),p=E(n(971146)),v=E(n(29652)),y=E(n(183612)),h=n(770348),m=n(942675),_=n(376293),g=E(n(32599));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=c.default.AvatarSizes.SIZE_80,I=c.default.AvatarSizes.SIZE_40},493051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e){a.default.supports(i.Features.VIDEO)?(0,o.openModalLazy)(c(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,d({},t,{header:u.default.Messages.CAMERA_UNAVAILABLE,body:u.default.Messages.CAMERA_NO_DEVICE,confirmText:u.default.Messages.OKAY,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)})))):(0,o.openModalLazy)(c(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;i=a.default;return t.abrupt("return",(function(t){return r.createElement(i,d({},t,{header:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,
body:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:u.default.Messages.DOWNLOAD_APP,onConfirm:function(){null==e||e();(0,o.openModalLazy)(c(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,d({source:"Video unsupported browser"},e))}));case 5:case"end":return e.stop()}}),e)}))))}}))}));case 5:case"end":return t.stop()}}),t)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=l(n(635014)),o=n(194322),i=n(376293),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}},602824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){function e(){(0,o.openModalLazy)(d(regeneratorRuntime.mark((function e(){var t,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,l({source:"Screenshare Unavailable"},e))}));case 5:case"end":return e.stop()}}),e)}))))}(0,o.openModalLazy)(d(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,l({},t,{header:i.default.Messages.SCREENSHARE_UNAVAILABLE,body:i.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:i.default.Messages.DOWNLOAD_APP,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(194322),i=(r=n(247001))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){
s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},227482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isNamesCompact=function(e){return e<=124};t.isVideoCompact=function(e){return e<=220}},30269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){a.AlwaysPreviewVideo.getSetting()?(0,o.openModalLazy)(f(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(93198),n.e(35390)]).then(n.bind(n,635390));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,s({},t,{onEnable:e,videoEnabled:!1}))}));case 5:case"end":return t.stop()}}),t)}))),{modalKey:"camera-preview",contextKey:t===i.AppContext.POPOUT?u.POPOUT_MODAL_CONTEXT:u.DEFAULT_MODAL_CONTEXT}):null==e||e()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(894826),o=n(194322),i=n(770348),u=n(371621);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){
d(o,r,a,i,u,"throw",e)}i(void 0)}))}}},700598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r,i,u,l=null,s=null,d=null,f=!1,c=!1;switch(e.type){case o.ParticipantTypes.ACTIVITY:break;case o.ParticipantTypes.USER:l=e.streamId;d=e.voiceState;f=e.speaking;c=e.ringing;break;case o.ParticipantTypes.STREAM:l=e.streamId;s=e.stream}return{streamId:l,stream:s,speaking:f,ringing:c,muted:null!==(n=null===(r=d)||void 0===r?void 0:r.isVoiceMuted())&&void 0!==n&&n,deafen:null!==(i=null===(u=d)||void 0===u?void 0:u.isVoiceDeafened())&&void 0!==i&&i,mirror:e.type===o.ParticipantTypes.USER&&e.user.id===t,hasVideo:(0,a.default)(e)}};var r,a=(r=n(183612))&&r.__esModule?r:{default:r},o=n(859089)},116780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var l=(0,r.useStateFromStores)([o.default],(function(){return null!=n?(0,a.getStreamerApplication)(n,o.default):null
}),[n]),s=i.default.getName(e.getGuildId(),e.id,t);if(null==n)return s;return null!=(null==l?void 0:l.name)?u.default.Messages.GO_LIVE_USER_PLAYING.format({applicationName:null==l?void 0:l.name,username:s}):u.default.Messages.GO_LIVE_TILE_SCREEN.format({username:s})};var r=n(536211),a=n(10614),o=l(n(788739)),i=l(n(29652)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}},222935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.children,n=(0,a.usePreventIdle)("popup"),o=n.preventIdle,i=n.allowIdle;r.useEffect((function(){o();return function(){return i()}}),[i,o]);return r.createElement(r.Fragment,null,t)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){
var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(134893);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},48102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOAST_LINGER_MS=void 0;t.default=G;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=M(n(294184)),i=n(496486),u=n(248088),l=n(536211),s=M(n(636602)),d=M(n(229132)),f=M(n(786345)),c=M(n(252566)),p=M(n(116518)),v=n(907932),y=n(851757),h=M(n(427498)),m=n(14219),_=M(n(644263)),g=M(n(201292)),E=M(n(290629)),S=M(n(16941)),O=n(961365),b=n(692711),I=n(956506),C=n(71246),T=n(518802),A=n(770348),P=M(n(123984));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.TOAST_LINGER_MS=1e4;function U(e){var t,n,r,i,u=e.message,s=e.inPopout,g=(0,l.useStateFromStores)([E.default],(function(){return E.default.isBlocked(u.author.id)})),C=(0,
v.useNullableMessageAuthor)(u),T=a.useContext(c.default),M=L(a.useState(!1),2),N=M[0],w=M[1],D=(0,l.useStateFromStores)([_.default],(function(){return _.default.getChannel(u.channel_id)}),[u.channel_id]),j=m.TextInVoiceInPopoutExperiment.useExperiment({guildId:null!==(t=null==D?void 0:D.guild_id)&&void 0!==t?t:""}).isEnabled,k=a.useCallback((function(e){if("A"!==e.target.nodeName)if(!s||j){d.default.updateChatOpen(u.channel_id,!0);f.default.jumpToMessage({channelId:u.channel_id,messageId:u.id,flash:!0})}else I.ComponentDispatch.dispatch(A.ComponentActions.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP)}),[u.channel_id,u.id,s,j]),U=null!=u.content&&""!==u.content?(0,p.default)(u,{isInteracting:N}).content:null,G=(0,O.renderSingleLineMessage)(u,U,g,P.default.messageContent,P.default.messageContentIcon),F=G.contentPlaceholder,x=G.renderedContent,B=G.icon,V=(0,y.getMessageStickers)(u),W=V.length>0?V.map((function(e){return R(h.default,{className:P.default.sticker,size:128,sticker:e,
isInteracting:N})})):null;return R(S.default,{className:(0,o.default)(P.default.toast,(n={},n[P.default.disabled]=s&&!j,n)),onMouseEnter:function(){w(!0)},onMouseLeave:function(){w(!1)},onClick:k},void 0,R("div",{className:(0,o.default)(P.default.messageContentWrapper,(r={},r[P.default.mentioned]=u.mentioned,r))},void 0,null!==(i=null!=x?x:W)&&void 0!==i?i:R("span",{},void 0,F),null!=W?null:B),R("img",{alt:"",src:null!=(null==C?void 0:C.guildMemberAvatar)&&null!=T?(0,b.getGuildMemberAvatarURLSimple)({guildId:T,userId:u.author.id,avatar:C.guildMemberAvatar}):u.author.getAvatarURL(T,32),className:P.default.avatar}))}U.displayName="ChatToast";function G(e){var t=e.channelId,n=e.className,r=e.inPopout,d=L(a.useState(!1),2),f=d[0],c=d[1],p=function(e){var t,n=e.channelId,r=e.isFrozen,o=e.count,i=e.lingerMs,u=L(a.useState([]),2),d=u[0],f=u[1],c=a.useRef(null);a.useEffect((function(){function e(e){var t=e.channelId,r=e.message;if(t===n){var a={messageId:r.id,timeout:setTimeout((function(){
f((function(e){return e.slice(1)}))}),i)};f((function(e){return[].concat(D(e),[a])}))}}s.default.subscribe(A.ActionTypes.MESSAGE_CREATE,e);return function(){s.default.unsubscribe(A.ActionTypes.MESSAGE_CREATE,e)}}),[n,o,i]);a.useEffect((function(){return function(){for(var e,t=w(d);!(e=t()).done;){var n=e.value;clearTimeout(n.timeout)}}}),[]);a.useEffect((function(){d.length>3&&f((function(e){for(var t=e.length-3,n=0;n<t;n++)clearTimeout(e[n].timeout);return D(e.slice(t))}))}),[d]);r&&null==c.current?c.current=d:r||null==c.current||(c.current=null);var p=null!==(t=c.current)&&void 0!==t?t:d;return(0,l.useStateFromStoresArray)([g.default],(function(){return p.map((function(e){return g.default.getMessage(n,e.messageId)}))}),[p]).filter(C.isNotNullish)}({channelId:t,isFrozen:f,count:3,lingerMs:1e4}),v=a.useRef({}),y=L(a.useState({}),2),h=y[0],m=y[1],_=a.useCallback((function(e,t){null==t?delete v.current[e]:v.current[e]=t}),[]);a.useLayoutEffect((function(){
for(var e,t={},n=0,r=w(p);!(e=r()).done;){var a,o=e.value,u=null!==(a=v.current[o.id])&&void 0!==a?a:0;t[o.id]=n;n+=u+8}(0,i.isEqual)(t,h)||m(t)}),[p]);var E=p.map((function(e){return{message:e,height:v.current[e.id],y:h[e.id]}})),S=(0,u.useTransition)(E,{keys:function(e){return e.message.id},from:function(){return{opacity:0}},enter:function(e){return{opacity:1,y:e.y}},update:function(e){return{y:e.y}},leave:function(e){var t=e.height;return{opacity:0,y:-(null!=t?t:0)-8}}});return R("div",{className:(0,o.default)(n,(0,T.getThemeClass)(A.ThemeTypes.DARK)),onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)}},void 0,S((function(e,t){var n=e.opacity,o=e.y;return a.createElement(u.animated.div,{ref:function(e){return _(t.message.id,null!=e?e.offsetHeight:null)},className:P.default.toastWrapper,style:{opacity:n,translateY:o}},R(U,{message:t.message,inPopout:r}))})))}G.displayName="ChatToasts"},430251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.DisableGradient=void 0;t.default=h;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=f(n(294184)),u=f(n(530250)),l=f(n(896566)),s=f(n(744794)),d=["screenMessage","onDoubleClick","onActive","onForceIdle","idle","children","renderChatButton","renderChatToasts"];function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.DisableGradient=a;!function(e){e[e.TOP=0]="TOP";e[e.BOTTOM=1]="BOTTOM"}(a||(t.DisableGradient=a={}));function y(e){var t=e.disableGradients,n=void 0!==t&&t,r=e.renderHeader,o=e.renderBottomLeft,i=e.renderBottomCenter,l=e.renderBottomRight,d=e.renderCenter,f=n===a.TOP||!0===n,c=n===a.BOTTOM||!0===n;return v("div",{className:s.default.videoControls},void 0,!f&&v("div",{className:s.default.gradientTop}),!c&&v("div",{className:s.default.gradientBottom
}),v("div",{className:s.default.topControls},void 0,null==r?void 0:r()),null==d?void 0:d(),v("div",{className:s.default.bottomControls},void 0,v(u.default,{grow:0,shrink:1,basis:"50%",align:u.default.Align.CENTER},void 0,null==o?void 0:o()),v(u.default,{grow:1,justify:u.default.Justify.CENTER,align:u.default.Align.CENTER},void 0,null==i?void 0:i()),v(u.default,{grow:0,shrink:1,justify:u.default.Justify.END,basis:"50%",align:u.default.Align.CENTER},void 0,null==l?void 0:l())))}y.displayName="Controls";function h(e){var t,n=e.screenMessage,r=e.onDoubleClick,a=e.onActive,u=e.onForceIdle,f=e.idle,c=e.children,h=e.renderChatButton,m=e.renderChatToasts,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d);return v("div",{className:(0,i.default)(s.default.root,(t={},t[s.default.idle]=f,t)),onMouseMove:a,onMouseDown:a,onMouseLeave:u,onDoubleClick:r},void 0,c,null!=n?o.createElement(l.default,p({size:"large"
},n)):null,o.createElement(y,_),null==h?void 0:h({className:s.default.chatButton,showingClassName:s.default.chatButtonShowing}),null==m?void 0:m())}h.displayName="FullsizePlayer"},244612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PictureInPictureHeader=I;t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=E(n(294184)),i=n(536211),u=E(n(550024)),l=E(n(893160)),s=E(n(16941)),d=E(n(530250)),f=n(974286),c=E(n(889167)),p=E(n(971639)),v=E(n(77871)),y=E(n(896566)),h=n(770348),m=E(n(247001)),_=E(n(201768)),g=["children","idle","onJumpToChannel","backgroundKey","onActive","onForceIdle","renderBottomLeftControls","renderBottomRightControls","screenMessage"];function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.title,n=e.onJumpToChannel,r=e.idle,a=e.preventIdleComponent,o=(0,i.useStateFromStores)([l.default],(function(){return l.default.getChannelId()})),u=null!=o?b(v.default,{voiceChannelId:o,idle:r}):null;return b(a,{className:_.default.headerIdleContainer},void 0,b(s.default,{className:_.default.headerTitle,onClick:n},void 0,b(c.default,{"aria-label":m.default.Messages.OPEN_IN_THEATER,className:_.default.backButton,width:20,height:20}),b(p.default,{className:_.default.headerText,size:p.default.Sizes.SIZE_16,color:h.Colors.WHITE},void 0,t)),u)}I.displayName="PictureInPictureHeader";function C(e){
var t,n=e.children,r=e.idle,i=e.onJumpToChannel,l=e.backgroundKey,s=e.onActive,c=e.onForceIdle,p=e.renderBottomLeftControls,v=e.renderBottomRightControls,h=e.screenMessage,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,g);return b("div",{onMouseMove:s,onMouseDown:s,onMouseLeave:c,className:(0,o.default)(_.default.pictureInPictureVideo,(t={},t[_.default.idle]=r,t)),onDoubleClick:i},void 0,b(u.default,{},void 0,b(f.BackgroundTransition,{},l,n)),null!=h?a.createElement(y.default,O({size:"small"},h)):null,b("div",{className:_.default.videoControls},void 0,b("div",{className:_.default.topControls},void 0,a.createElement(I,O({idle:r,onJumpToChannel:i},m))),b("div",{className:_.default.bottomControls},void 0,b(d.default,{grow:0,shrink:1,basis:"50%",align:d.default.Align.CENTER,className:_.default.bottomLeftControls},void 0,null==p?void 0:p()),b(d.default,{grow:0,shrink:1,justify:d.default.Justify.END,
basis:"50%",align:d.default.Align.CENTER},void 0,null==v?void 0:v()))))}C.displayName="PictureInPictureVideo"},77871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=n(536211),i=O(n(229132)),u=n(720409),l=O(n(303798)),s=O(n(825724)),d=I(n(145122)),f=O(n(607209)),c=O(n(288356)),p=O(n(218843)),v=O(n(728429)),y=O(n(16941)),h=O(n(160629)),m=O(n(301927)),_=n(770348),g=n(859089),E=O(n(247001)),S=O(n(201768));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){var t=e.closePopout,n=e.idle,r=e.pipWindows,a=e.voiceChannelId,v=e.onSelect;n&&t();var y=(0,o.useStateFromStores)([l.default],(function(){return l.default.getSelfEmbeddedActivityForChannel(a)})),h=(0,o.useStateFromStores)([p.default],(function(){
return p.default.pipWindow})),m=(0,o.useStateFromStores)([s.default],(function(){return s.default.getSelectedParticipant(a)})),S=(0,o.useStateFromStores)([s.default],(function(){return s.default.getStreamParticipants(a)}));return T(d.default,{navId:"pip-menu","aria-label":"switch PIP",onClose:t,onSelect:v},void 0,function(){var e=r.find((function(e){return e.component===_.PictureInPictureComponents.EMBED_IFRAME})),t=r.find((function(e){return e.component===_.PictureInPictureComponents.VIDEO})),n=[];null!=e&&(null==h?void 0:h.id)!==e.id&&n.push({pipWindow:e});null!=t&&S.forEach((function(e){var r=f.default.getActiveStreamForApplicationStream(e.stream),a=e.id===(null==m?void 0:m.id)&&(null==h?void 0:h.id)===t.id;null==r||a||n.push({pipWindow:t,participant:e,stream:r})}));return n}().map((function(e){var t,n=e.pipWindow.id,r=null===(t=e.participant)||void 0===t?void 0:t.id,o=function(e){if(e.pipWindow.component===_.PictureInPictureComponents.EMBED_IFRAME&&null!=y){
var t,n=null===(t=c.default.getGame(y.application_id))||void 0===t?void 0:t.name;return null==n?E.default.Messages.SWITCH_PIP_TO_ACTIVITY:E.default.Messages.SWITCH_PIP_TO_ACTIVITY_NAME.format({activityName:n})}return null==e.participant||e.participant.type!==g.ParticipantTypes.STREAM?E.default.Messages.SWITCH_PIP_TO_GO_LIVE:E.default.Messages.SWITCH_PIP_TO_USER_STREAM.format({username:e.participant.userNick})}(e),l=""+n+(null!=r?r:"");return T(d.MenuItem,{id:l,label:o,action:function(){return function(e){(null==h?void 0:h.id)!==e.pipWindow.id&&(0,u.switchPIPFocus)(e.pipWindow.id);var t=e.participant;null!=t&&t.type!==g.ParticipantTypes.ACTIVITY&&i.default.selectParticipant(a,t.id)}(e)}},l)})))}A.displayName="PictureInPictureSwitchWindowMenu";function P(e){var t=e.voiceChannelId,n=e.idle,r=(0,o.useStateFromStores)([p.default],(function(){return p.default.pipWindows})),i=Array.from(r.values()),u=(0,o.useStateFromStoresArray)([f.default],(function(){
return f.default.getAllActiveStreamsForChannel(t)})).filter((function(e){var n;return e.ownerId!==(null===(n=v.default.getCurrentUser())||void 0===n?void 0:n.id)&&e.channelId===t})),l=1===i.length&&i[0].component===_.PictureInPictureComponents.EMBED_IFRAME||0===u.length,s=1===i.length&&u.length<=1;return l||s?null:T(h.default,{position:h.default.Positions.BOTTOM,renderPopout:function(e){return a.createElement(A,C({voiceChannelId:t,pipWindows:i,idle:n},e))}},void 0,(function(e){return a.createElement(y.default,C({className:S.default.menuIcon},e),T(m.default,{color:_.Colors.WHITE}))}))}P.displayName="PictureInPictureSwitchWindowPopout";var M=P;t.default=M},896566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(518931)),o=u(n(530250)),i=u(n(515506));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.mainText,n=e.supportingText,r=e.children,u=e.size;return s(o.default,{className:i.default.root,
justify:o.default.Justify.CENTER,align:o.default.Align.CENTER,direction:o.default.Direction.VERTICAL},void 0,s(a.default,{header:t,description:n,size:u}),r)}d.displayName="ScreenMessage"},778339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;f(n(667294));var r,a=s(n(294184)),o=f(n(730977)),i=s(n(417184)),u=s(n(134893)),l=s(n(400534));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.errorMessage,n=e.className;return c(o.TooltipContainer,{className:(0,a.default)(n,l.default.root),text:t,position:o.default.Positions.BOTTOM,color:o.TooltipColors.GREY},void 0,c(u.default,{},void 0,c(i.default,{"aria-label":null!=t?t:"",className:l.default.warningIcon})))}p.displayName="QualityWarning"},605520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(250003))&&r.__esModule?r:{default:r},i=n(143414),u=["isActivityActive"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e){var t=e.isActivityActive,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return a.createElement(i.CenterControlButton,s({color:t?"white":"primaryDark",
iconComponent:o.default},n))}d.displayName="ActivityButton"},116790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(160490)),u=d(n(143414)),l=d(n(810881)),s=["direction","className"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}!function(e){e[e.UP=0]="UP";e[e.DOWN=1]="DOWN"}(r||(r={}));function p(e){var t,n=e.direction,d=e.className,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(u.default,c({className:(0,o.default)(d,l.default.arrow,(t={},t[l.default.up]=n===r.UP,t)),iconComponent:i.default},f))}p.displayName="ArrowButton";p.Directions=r;var v=p;t.default=v},146529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ChatButton=W;t.ChatButtonWithNUX=H;t.useChatButtonState=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=R(n(294184)),i=n(496486),u=R(n(468811)),l=n(536211),s=n(923387),d=R(n(229132)),f=R(n(825724)),c=R(n(305081)),p=R(n(142024)),v=R(n(191391)),y=R(n(211136)),h=R(n(946447)),m=R(n(160629)),_=n(730977),g=n(810919),E=R(n(776360)),S=n(993442),O=n(48102),b=R(n(143414)),I=n(770348),C=n(583551),T=R(n(247001)),A=R(n(34021)),P=R(n(135849)),M=R(n(742918)),N=["channelId","className","showingClassName","onClick","inPopout"];function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return D.apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t=(0,l.useStateFromStores)([h.default],(function(){return!(0,i.isEmpty)(h.default.getTypingUsers(e))}),[e]),n=(0,l.useStateFromStores)([y.default],(function(){return y.default.getVoiceChannelId()===e}),[e]),r=(0,l.useStateFromStoresObject)([v.default],(function(){return{unreadCount:v.default.getUnreadCount(e),mentionCount:v.default.getMentionCount(e)}}),[e]);return{unreadCount:r.unreadCount,mentionCount:r.mentionCount,voiceChannelIsSelected:n,isTyping:t}}var G=L("rect",{fill:"white",width:"100%",
height:"100%"}),F=L("g",{fill:"black",transform:"translate(5.5, 8.5) scale("+11/24+")"},void 0,L(g.AnimatedDots,{dotRadius:3.5,spacing:3,fill:"black"})),x=L("circle",{cx:"20",cy:"19",r:"10",fill:"black"});function B(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.isBadged,l=void 0!==i&&i,s=e.isTyping,d=void 0!==s&&s,f=j(a.useState((function(){return u.default.v4()})),1)[0];return L("svg",{width:n,height:o,viewBox:"0 0 24 24"},void 0,L("defs",{},void 0,L("mask",{id:f},void 0,G,d&&F,l&&x)),L("path",{fill:"currentColor",d:"M4.79805 3C3.80445 3 2.99805 3.8055 2.99805 4.8V15.6C2.99805 16.5936 3.80445 17.4 4.79805 17.4H7.49805V21L11.098 17.4H19.198C20.1925 17.4 20.998 16.5936 20.998 15.6V4.8C20.998 3.8055 20.1925 3 19.198 3H4.79805Z",mask:"url(#"+f+")"}))}B.displayName="ChatBubbleIcon";function V(e){
var t,n,r=e.className,a=U(e.channelId),i=a.unreadCount,u=a.mentionCount,l=a.isTyping,s=null!=u&&u>0,d=null!==(t=s?u:i)&&void 0!==t?t:0,f=d>99?"99+":d,c=a.voiceChannelIsSelected&&null!=i&&i>0;return L("div",{className:(0,o.default)(A.default.chatIcon,r)},void 0,L(B,{isBadged:c,isTyping:l}),c&&L(E.default,{className:(0,o.default)(A.default.unreadCount,(n={},n[A.default.mention]=s,n)),size:E.default.Sizes.SIZE_12},void 0,f))}V.displayName="ChatButtonContent";function W(e){var t,n=e.channelId,r=e.className,i=e.showingClassName,u=e.onClick,s=e.inPopout,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,N),p=c.disabled,v=a.useRef(null),y=(0,l.useStateFromStores)([f.default],(function(){return f.default.getChatOpen(n)}),[n]),h=function(e){var t=U(e),n=t.unreadCount,r=t.mentionCount,o=t.isTyping,i=j(a.useState(!1),2),u=i[0],l=i[1];a.useEffect((function(){l(n>0);var e=setTimeout((function(){l(!1)
}),O.TOAST_LINGER_MS);return function(){clearTimeout(e);l(!1)}}),[n]);return{isShowing:u||r>0||o,unreadCount:n,mentionCount:r}}(n),m=h.isShowing,g=h.unreadCount,E=h.mentionCount,C=a.useCallback((function(){null==u||u();d.default.updateChatOpen(n,!y)}),[n,y,u]),A=a.useCallback((function(e){return L(V,{className:e.className,channelId:n})}),[n]),P=a.useCallback((function(){var e;null===(e=v.current)||void 0===e||e.focus()}),[]);(0,S.useComponentAction)({event:I.ComponentActions.FOCUS_CHAT_BUTTON,handler:p?null:P});var M,R=j(a.useState(!1),2),w=R[0],k=R[1],G=a.useCallback((function(){s&&k(!0)}),[s]);(0,S.useComponentAction)({event:I.ComponentActions.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP,handler:G});a.useEffect((function(){var e;w&&(e=setTimeout((function(){k(!1)}),3e3));return function(){clearTimeout(e)}}),[w]);var F=[M=s&&p?T.default.Messages.TEXT_IN_VOICE_POPOUT_DISABLED:y?T.default.Messages.VIDEO_CALL_HIDE_CHAT:T.default.Messages.VIDEO_CALL_SHOW_CHAT]
;E>0&&F.push(T.default.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_MENTIONS.format({mentionCount:E}));g>0&&F.push(T.default.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_UNREAD);return a.createElement(b.default,D({buttonRef:v,onClick:C,label:M,"aria-label":F.join(", "),iconComponent:A,tooltipPosition:_.TooltipPositions.BOTTOM,wrapperClassName:(0,o.default)(r,null!=i&&(t={},t[i]=m,t)),forceTooltipOpen:w},c))}W.displayName="ChatButton";function H(e){var t=e.channelId,n=a.useCallback((function(){d.default.updateChatOpen(t,!0)}),[t]);return L(c.default,{contentTypes:[s.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK],groupName:C.DismissibleContentGroupName.CALL_CHAT_BUTTON},void 0,(function(t){var r=t.visibleContent,o=t.markAsDismissed;return r===s.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK?L(m.default,{renderPopout:function(){return L(p.default,{className:A.default.upsellTooltipOffset,header:T.default.Messages.TEXT_IN_VOICE_ONBOARDING_TITLE,asset:L("img",{alt:"",
src:M.default,className:P.default.fullWidthImage}),content:T.default.Messages.TEXT_IN_VOICE_ONBOARDING_SUBTITLE,buttonCTA:T.default.Messages.TEXT_IN_VOICE_ONBOARDING_CTA,onClick:n,secondaryButtonCTA:T.default.Messages.DISMISS,onSecondaryClick:o,markAsDismissed:o,caretPosition:p.default.CaretPosition.RIGHT})},position:m.default.Positions.BOTTOM,align:m.default.Align.RIGHT,animation:m.default.Animation.TRANSLATE,spacing:16,shouldShow:!0},void 0,(function(){return a.createElement(W,D({},e,{onClick:o}))})):a.createElement(W,e)}))}H.displayName="ChatButtonWithNUX"},928221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(730977),o=l(n(775803)),i=l(n(143414)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){var t=d({},e);return r.createElement(i.default,d({label:u.default.Messages.MORE,iconComponent:o.default,tooltipPosition:a.TooltipPositions.BOTTOM},t))}f.displayName="ContextButton"},278851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(536211)),o=p(n(902305)),i=p(n(949898)),u=p(n(775776)),l=p(n(814379)),s=n(245838),d=p(n(143414)),f=p(n(247001)),c=["enabled"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e){var t=e.enabled,n=function(e,t){if(null==e)return{}
;var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c),a=t?f.default.Messages.EXIT_FULL_SCREEN:f.default.Messages.FULL_SCREEN,o=t?l.default:u.default;return r.createElement(d.default,y({label:a,iconComponent:o},n))}h.displayName="FullscreenButton";var m=a.default.connectStores([i.default,o.default],(function(e){var t=e.node,n=e.guestWindow;return{enabled:(0,s.isFullScreen)(t,null==n?void 0:n.document)}}))(h);t.default=m},56396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=d(n(229132)),o=n(730977),i=d(n(852546)),u=d(n(143414)),l=d(n(247001)),s=["channelId"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){var t=e.channelId,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return r.createElement(u.default,c({onClick:function(){a.default.selectParticipant(t,null)},label:l.default.Messages.VIDEO_CALL_RETURN_TO_GRID,iconComponent:i.default,tooltipPosition:o.TooltipPositions.BOTTOM},n))}p.displayName="GridButton"},643779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=c;var r=d(n(667294)),a=l(n(119431)),o=d(n(143414)),i=l(n(247001)),u=["channel","centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){
var t=e.channel,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),d=l?o.CenterControlButton:o.default,c=t.isManaged()||!t.isPrivate()?i.default.Messages.CONNECT:i.default.Messages.JOIN_CALL;return r.createElement(d,f({},s,{iconComponent:a.default,label:c}))}c.displayName="JoinCallButton"},67286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=d(n(667294)),a=l(n(434663)),o=d(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),s=n?o.CenterControlButton:o.default;return r.createElement(s,f({},l,{iconComponent:a.default,label:i.default.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY}))}c.displayName="LeaveCallButton"},401311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=d(n(667294)),a=l(n(331546)),o=d(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){
return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}
return a}(e,u),s=n?o.CenterControlButton:o.default;return r.createElement(s,f({},l,{iconComponent:a.default,label:i.default.Messages.DISCONNECT_SELF}))}c.displayName="LeaveCallButton"},607576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=p(n(667294)),o=f(n(945926)),i=f(n(855480)),u=f(n(287317)),l=p(n(143414)),s=f(n(592695)),d=["selfMute","serverMute","suppress","centerButton"];function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.className;return y(u.default,{foreground:s.default.slash,className:t})}h.displayName="MuteWithForeground";function m(e){var t=e.selfMute,n=e.serverMute,r=e.suppress,u=e.centerButton,s=void 0!==u&&u,f=function(e,t){if(null==e)return{}
;var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d),c=t||n||r,p=s?l.CenterControlButton:l.default,y=(0,o.default)(t,n,r),m=c?h:i.default;return a.createElement(p,v({iconComponent:m,label:y},f))}m.displayName="MuteButton"},975577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ParticipantsCount=m;t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=n(730977),u=p(n(547282)),l=p(n(776360)),s=p(n(143414)),d=p(n(247001)),f=p(n(898641)),c=["count"];function p(e){
return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.className,n=e.count;return h("div",{className:(0,o.default)(f.default.root,f.default.comboIcon,t)},void 0,h(u.default,{className:f.default.icon}),h(l.default,{
color:l.default.Colors.CUSTOM,className:f.default.count,size:l.default.Sizes.SIZE_16},void 0,n))}m.displayName="ParticipantsCount";function _(e){var t=e.count,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c);return a.createElement(s.default,y({label:d.default.Messages.CHANNEL_CALL_PARTICIPANTS,iconComponent:function(e){return h(m,{className:e.className,count:t})},tooltipPosition:i.TooltipPositions.BOTTOM},n))}_.displayName="ParticipantsButton"},866219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=d(n(294184)),o=d(n(435012)),i=d(n(143414)),u=d(n(247001)),l=d(n(946078)),s=["popoutOpen","onClosePopout","onOpenPopout"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){var t,n=e.popoutOpen,d=e.onClosePopout,f=e.onOpenPopout,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),v=n?u.default.Messages.POPOUT_RETURN:u.default.Messages.POPOUT_PLAYER;return r.createElement(i.default,c({label:v,onClick:n?d:f,iconComponent:o.default,iconClassName:(0,
a.default)((t={},t[l.default.popIn]=n,t))},p))}p.displayName="PopoutButton"},861891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(227479)),o=s(n(41183)),i=s(n(143414)),u=s(n(247001)),l=["popoutWindowAlwaysOnTop","onToggleStayOnTop"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.popoutWindowAlwaysOnTop,n=e.onToggleStayOnTop,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=t?u.default.Messages.POPOUT_REMOVE_FROM_TOP:u.default.Messages.POPOUT_STAY_ON_TOP,c=t?o.default:a.default;return r.createElement(i.default,f({onClick:function(){return n(!t)},label:d,iconComponent:c},s))}c.displayName="StayOnTopButton"},305914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r=f(n(667294)),a=s(n(422621)),o=s(n(487255)),i=f(n(143414)),u=s(n(247001)),l=["isSelfStream","centerButton"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){return e?u.default.Messages.STOP_STREAMING:u.default.Messages.STOP_WATCHING}function v(e){var t=e.isSelfStream,n=e.centerButton,u=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=u?i.CenterControlButton:i.default
;return r.createElement(d,c({label:p(t),iconComponent:t?a.default:o.default},s))}v.displayName="StopStreamButton"},735319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=d(n(667294)),a=l(n(952117)),o=d(n(143414)),i=l(n(247001)),u=["hasPermission","centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.hasPermission,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),d=l?o.CenterControlButton:o.default,c=t?i.default.Messages.SHARE_YOUR_SCREEN:i.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE;return r.createElement(d,f({label:c,disabled:!t,iconComponent:a.default},s))}c.displayName="StreamButton"},715801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(229132)),u=c(n(160490)),l=c(n(547282)),s=c(n(143414)),d=c(n(247001)),f=c(n(685109));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.className,n=e.isVertical
;return v("div",{className:f.default.iconContainer},void 0,v(u.default,{className:(0,o.default)(n?f.default.upCaret:f.default.leftCaret,t)}),v(l.default,{className:(0,o.default)(f.default.members,t)}))}y.displayName="OpenIcon";function h(e){var t=e.className,n=e.isVertical;return v("div",{className:f.default.iconContainer},void 0,v(u.default,{className:(0,o.default)(n?f.default.downCaret:f.default.rightCaret,t)}),n&&v(l.default,{className:(0,o.default)(f.default.members,t)}))}h.displayName="CloseIcon";function m(e){var t=e.channelId,n=e.className,r=e.isParticipantsOpen,u=e.isVertical,l=void 0!==u&&u,c=e.hideTooltip,p=void 0!==c&&c;var m=a.useCallback((function(e){var t=e.className;return v(r?h:y,{className:t,isVertical:l})}),[r,l]);return v(s.default,{label:r?d.default.Messages.VIDEO_CALL_HIDE_MEMBERS:d.default.Messages.VIDEO_CALL_SHOW_MEMBERS,className:(0,o.default)(f.default.participantsButton,n),onClick:function(){i.default.toggleParticipants(t,!r)},iconComponent:m,
shouldShowTooltip:!p})}m.displayName="ToggleParticipantsButton"},645675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VideoButtonWrapper=g;t.default=E;var r,a=y(n(667294)),o=p(n(294184)),i=n(205562),u=n(839370),l=p(n(79027)),s=y(n(143414)),d=p(n(283253)),f=["enabled","join","channel","onChange","onCameraUnavailable","cameraUnavailable","hasPermission","className","channelLimitReached","channelLimit","centerButton","onPopoutClick"],c=["unavailable"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function g(e){var t=(0,
u.getVideoButtonLabel)(e),n=e.enabled,r=e.cameraUnavailable,o=e.onChange,s=e.onCameraUnavailable,d=e.hasPermission,f=e.children,c=e.channelLimitReached,p=void 0!==c&&c,v=(0,i.useAppContext)(),y=r?function(){return s()}:function(){return o(!e.enabled,v)};return a.createElement(a.Fragment,null,f({onClick:y,active:n,disabled:!d||p&&!n,iconComponent:l.default,label:t,unavailable:r}))}function E(e){var t=e.enabled,n=e.join,r=e.channel,i=e.onChange,u=e.onCameraUnavailable,l=e.cameraUnavailable,p=e.hasPermission,v=e.className,y=e.channelLimitReached,E=e.channelLimit,S=e.centerButton,O=void 0!==S&&S,b=e.onPopoutClick,I=_(e,f),C=O?s.CenterControlButton:s.default;return h(g,{enabled:t,join:n,channel:r,onChange:i,onCameraUnavailable:u,cameraUnavailable:l,hasPermission:p,channelLimitReached:y,channelLimit:E},void 0,(function(e){var t,n=e.unavailable,r=_(e,c);return a.createElement(C,m({},r,I,{className:(0,o.default)(v,(t={},t[d.default.fauxDisabled]=n,t)),onPopoutClick:b}))}))}
E.displayName="VideoButton"},727012:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(229132)),o=n(730977),i=c(n(670427)),u=c(n(950291)),l=c(n(143414)),s=n(859089),d=c(n(247001)),f=["channelId","isHorizontal"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e){var t=e.channelId,n=e.isHorizontal,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return r.createElement(l.default,v({onClick:function(){a.default.selectParticipant(t,s.ParticipantSelectionTypes.AUTO)},label:d.default.Messages.VIDEO_CALL_AUTO_SELECT,iconComponent:n?i.default:u.default,tooltipPosition:o.TooltipPositions.BOTTOM},c))}y.displayName="VideoLayoutButton"},561603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(294184)),o=p(n(536211)),i=p(n(740207)),u=p(n(635014)),l=p(n(879567)),s=n(758956),d=n(864489),f=p(n(134893)),c=p(n(964063));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){
var t=e.iconClassName,n=e.currentVolume,r=e.sliderClassName,o=e.userId,u=e.currentWindow,p=void 0===u?window:u,v=e.muted,h=e.context;return y(f.default,{},void 0,y(l.default,{currentWindow:p,iconClassName:(0,a.default)(t,c.default.controlIcon),sliderClassName:r,value:(0,s.amplitudeToPerceptual)(n),muted:v,maxValue:d.isPlatformEmbedded?200:100,onValueChange:function(e){return function(e,t,n,r){e>0&&n&&i.default.toggleLocalMute(t,r);i.default.setLocalVolume(t,(0,s.perceptualToAmplitude)(e),r)}(e,o,v,h)},onToggleMute:function(){return function(e,t){i.default.toggleLocalMute(e,t)}(o,h)}}))}h.displayName="VolumeButton";var m=o.default.connectStores([u.default],(function(e){var t=e.userId,n=e.context;return{currentVolume:u.default.getLocalVolume(t,n),muted:u.default.isLocalMute(t,n)}}))(h);t.default=m},555325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.shouldImmediatelyRequestVoicePermissions=E;var r=h(n(636602)),a=h(n(177230)),o=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(406136)),i=h(n(258079)),u=n(104144),l=h(n(950673)),s=h(n(423046)),d=h(n(644263)),f=h(n(635014)),c=h(n(893160)),p=h(n(919158)),v=n(770348);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=null;function g(){o.default.requestPermission(o.NativePermissionTypes.AUDIO).then((function(e){e&&(0,p.default)(!0)}))
;f.default.getMode()===v.InputModes.PUSH_TO_TALK&&o.default.requestPermission(o.NativePermissionTypes.INPUT_MONITORING)}function E(e,t){var n;return!(null===(n=d.default.getChannel(t))||void 0===n?void 0:n.isListenModeCapable())||i.default.isSpeaker(e,t)}var S=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(v.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates);r.default.subscribe(v.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect)};n._terminate=function(){r.default.unsubscribe(v.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates);r.default.unsubscribe(v.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect)};n.handleVoiceChannelSelect=function(e){null==e.channelId&&(_=null)};n.handleVoiceStateUpdates=function(e){e.voiceStates.forEach((function(e){
var t=e.userId,n=e.channelId;if(null!=n){if(s.default.getId()===t&&null!=c.default.getRTCConnectionId()&&_!==n){if(E(t,n)){_=n;g()}else{var r;if(r=new l.default(e),(0,u.getAudienceRequestToSpeakState)(r)===u.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK){_=n;g()}}}}}))};return t}(a.default));t.default=S},919158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){}},350539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=v(n(636602)),o=v(n(136873)),i=v(n(177230)),u=v(n(607209)),l=v(n(644263)),s=v(n(30098)),d=v(n(929230)),f=v(n(893160)),c=n(864489),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=new r.Timeout,g=new r.Timeout,E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(p.ActionTypes.IDLE,this.handleIdleUpdate)};n._terminate=function(){
_.stop();g.stop();a.default.unsubscribe(p.ActionTypes.IDLE,this.handleIdleUpdate)};n.handleIdleUpdate=function(){var e=d.default.getIdleSince();if(c.isPlatformEmbedded){_.stop();g.stop();for(var t,n=y(u.default.getAllActiveStreams());!(t=n()).done;){if(t.value.state!==p.ApplicationStreamStates.ENDED)return}if(null!=e){var r=f.default.getChannelId();if(null!=r){g.start(18e6,(function(){o.default.selectVoiceChannel(null)}));var a=s.default.getGuild(f.default.getGuildId());if(null!=a&&null!=a.afkChannelId&&a.afkChannelId!==r&&null!=a.afkTimeout){var i=l.default.getChannel(r);null!=i&&(i.isGuildStageVoice()||_.start(e+1e3*a.afkTimeout-Date.now(),(function(){null!=(a=s.default.getGuild(f.default.getGuildId()))&&null!=a.afkChannelId&&o.default.selectVoiceChannel(a.afkChannelId)})))}}}}};return t}(i.default));t.default=E},131629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NO_WELCOME_SCREEN=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348)
;function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};t.NO_WELCOME_SCREEN=s;var d={},f={},c=!1,p=!1,v=!1;function y(e){var t=e.invite.guild;if(null!=(null==t?void 0:t.welcome_screen)){d[t.id]=t.welcome_screen;return!0}return!1}function h(e){var t=e.welcomeScreen,n=e.guildId;d[n]=null!=t?t:s}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.get=function(e){if(null!=e)return d[e]};n.isFetching=function(){return p};n.hasError=function(){return v};n.hasSeen=function(e,t){void 0===t&&(t=!1);return null!=e&&(t?c:f[e]||!1)};return t}(a.default.Store);m.displayName="WelcomeScreenStore";var _=new m(o.default,((r={})[i.ActionTypes.INVITE_RESOLVE_SUCCESS]=y,r[i.ActionTypes.INVITE_ACCEPT_SUCCESS]=y,r[i.ActionTypes.WELCOME_SCREEN_SUBMIT_SUCCESS]=h,
r[i.ActionTypes.WELCOME_SCREEN_UPDATE]=h,r[i.ActionTypes.WELCOME_SCREEN_VIEW]=function(e){var t=e.guildId,n=e.isLurking;f[t]=!0;n&&(c=!0)},r[i.ActionTypes.GUILD_STOP_LURKING]=function(){c=!1},r[i.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild.id;f[t]=!1},r[i.ActionTypes.WELCOME_SCREEN_FETCH_START]=function(){p=!0;v=!1},r[i.ActionTypes.WELCOME_SCREEN_FETCH_SUCCESS]=function(e){p=!1;v=!1;var t=e.welcomeScreen,n=e.guildId;d[n]=null!=t?t:s},r[i.ActionTypes.WELCOME_SCREEN_FETCH_FAIL]=function(){p=!1;v=!0},r));t.default=_},737931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=h(n(536211)),i=h(n(972247)),u=n(91817),l=h(n(636602)),s=h(n(312260)),d=n(811076),f=h(n(288356)),c=h(n(191839)),p=h(n(834162)),v=h(n(871778)),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E="ActivityTrackingStore",S=18e5,O=null!==(r=i.default.get(E))&&void 0!==r?r:{},b={},I=!1;function C(e,t){void 0===t&&(t=!0);t&&T(e,!0);var n=b[e.applicationId];if(null!=n){
n.stop();delete b[e.applicationId]}delete O[e.applicationId];i.default.set(E,O)}function T(e,t){void 0===t&&(t=!1);var n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>21e5&&(r=0);s.default.updateActivity(e.applicationId,e.isDiscordApplication?y.Distributors.DISCORD:e.distributor,(0,d.shouldShareApplicationActivity)(e.applicationId,v.default,c.default),e.token,Math.floor(r/1e3),t);e.updatedAt=n;var a=b[e.applicationId];null==a&&(a=b[e.applicationId]=new u.Interval).start(S,(function(){return T(e)}));if(!t){O[e.applicationId]=e;i.default.set(E,O)}}function A(e){void 0===e&&(e=!0);for(var t,n=p.default.getRunningGames(),r=new Set,a=_(n);!(t=a()).done;){var o=t.value,i=o.name,u=o.distributor,l=f.default.getGameByName(i);if(null!=l){r.add(l.id);l.id in O||T({applicationId:l.id,updatedAt:Date.now(),distributor:u})}}for(var s=0,d=Object.keys(O);s<d.length;s++){var c=d[s];r.has(c)||C(O[c],e)}}function P(){for(var e=0,t=Object.keys(O);e<t.length;e++){var n=t[e];C(O[n])}I=!1}
var M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(p.default,v.default,c.default);this.syncWith([v.default],A)};n.getActivities=function(){return O};return t}(o.default.Store);M.displayName="ActivityTrackingStore";var N=new M(l.default,((a={})[y.ActionTypes.RUNNING_GAMES_CHANGE]=function(){return A()},a[y.ActionTypes.CONNECTION_OPEN]=function(){if(I)return!1;for(var e=0,t=Object.keys(O);e<t.length;e++){var n=t[e];T(O[n])}A(!1);I=!0},a[y.ActionTypes.CONNECTION_CLOSED]=function(e){4004===e.code&&P()},a[y.ActionTypes.LOGOUT]=P,a[y.ActionTypes.ACTIVITY_UPDATE_SUCCESS]=function(e){var t=e.applicationId,n=e.token,r=O[t];if(null==r)return!1;r.token=n;i.default.set(E,O)},a[y.ActionTypes.ACTIVITY_UPDATE_FAIL]=function(e){var t=e.applicationId,n=O[t];if(null==n)return!1;n.token=null;n.updatedAt=null;i.default.set(E,O)},a))
;t.default=N},743237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(23535)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){i.default.getSocket().processDispatchQueue()};n.hasCache=function(){return!0};return t}(a.default.Store);d.displayName="CacheStore";var f=new d(o.default,((r={})[u.ActionTypes.CONNECTION_OPEN]=function(){return!1},r));t.default=f},938199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return l(e,t)}var s={toastsEnabledForChannel:{}},d=s;var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){d=null!=e?e:s};n.getToastsEnabled=function(e){var t;return null===(t=d.toastsEnabledForChannel[e])||void 0===t||t};n.getState=function(){return d};return t}(a.default.PersistedStore);f.displayName="CallChatToastsStore";f.persistKey="CallChatToasts";var c=new f(o.default,((r={})[i.ActionTypes.CALL_CHAT_TOASTS_SET_ENABLED]=function(e){var t=e.channelId,n=e.toastsEnabled;d.toastsEnabledForChannel[t]=n},r[i.ActionTypes.LOGOUT]=function(){d.toastsEnabledForChannel={}},r));t.default=c},101820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=v(n(536211)),i=n(91817),u=v(n(636602)),l=v(n(786345)),s=v(n(136873)),d=v(n(387692)),f=v(n(487372)),c=n(770348),p=v(n(247001))
;function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=new i.Timeout;function m(){if(null!=a){l.default.sendBotMessage(a,p.default.Messages.BOT_CALL_IDLE_DISCONNECT);s.default.selectVoiceChannel(null)}}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.initialize=function(){this.waitFor(d.default)};return t}(o.default.Store);_.displayName="CallIdleStore";var g=new _(u.default,((r={})[c.ActionTypes.CONNECTION_CLOSED]=function(){a=null;h.stop()},r[c.ActionTypes.VOICE_STATE_UPDATES]=function(e){return e.voiceStates.reduce((function(e,t){if(null!=t.guildId)return e;var n=d.default.getCurrentClientVoiceChannelId(null);if(null==n){h.stop();return e}if(1===f.default.countVoiceStatesForChannel(n)){a=n;h.start(3e5,m,!1)}else h.stop();return e}),!1)},r));t.default=g},
484024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getSkuIdForChannel=function(e){return s[e]};return t}(a.default.Store);d.displayName="ChannelSKUStore";var f=new d(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=function(){s={}},r[i.ActionTypes.STORE_LISTING_FETCH_SUCCESS]=function(e){var t=e.channelId,n=e.storeListing;null!=t&&(s[t]=n.sku.id)},r));t.default=f},42398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(636602)),u=p(n(32079)),l=p(n(491462)),s=p(n(30098)),d=p(n(689389)),f=p(n(89981)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function h(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}var E,S,O,b=[],I=null,C=!1,T=c.FormStates.CLOSED,A={},P=!1,M=null;function N(){S=l.default.getChannel();E=null!=S?s.default.getGuild(S.guild_id):null;b=null!=S&&null!=E&&d.default.can(c.Permissions.MANAGE_WEBHOOKS,S)?f.default.getWebhooksForChannel(E.id,S.id):[];if(null!=I){var e=w(I.id);null!=e&&(I=e)}T=c.FormStates.OPEN;A={};P=!1}var R=a.default.debounce((function(){if(P){(null==I||a.default.isEqual(I,w(I.id)))&&(P=!1);P||L.emitChange()}}),500);function w(e){return b.find((function(t){return t.id===e}))}var D=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,s.default,f.default,d.default)};n.hasChanges=function(){return P};n.getWebhook=function(e){return w(e)};n.showNotice=function(){return this.hasChanges()};n.getProps=function(){return{submitting:T===c.FormStates.SUBMITTING,webhooks:b,editedWebhook:I,section:O,sectionId:M,hasChanges:this.hasChanges(),isFetching:C,errors:A}};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"webhooks",get:function(){return b}},{key:"editedWebhook",get:function(){return I}},{key:"formState",get:function(){return T}}]);return t}(o.default.Store);D.displayName="ChannelSettingsIntegrationsStore";var L=new D(i.default,__OVERLAY__?{}:((r={})[c.ActionTypes.INTEGRATION_SETTINGS_INIT]=N,r[c.ActionTypes.INTEGRATION_SETTINGS_SAVE_SUCCESS]=N,
r[c.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=function(e){if(e.section!==c.ChannelSettingsSections.INTEGRATIONS)return!1;O=c.IntegrationSettingsSections.OVERVIEW;if(null==E){var t=l.default.getChannel(),n=null==t?void 0:t.getGuildId();if(null!=t&&null!=n){u.default.fetchForChannel(n,t.id);C=!0}N()}},r[c.ActionTypes.INTEGRATION_SETTINGS_SET_SECTION]=function(e){var t=e.section,n=e.sectionId;O=t;M=n},r[c.ActionTypes.INTEGRATION_SETTINGS_START_EDITING_WEBHOOK]=function(e){var t=w(e.webhookId);if(null==t)return!1;I=t;A={};P=!1},r[c.ActionTypes.INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK]=function(){I=null;A={};P=!1},r[c.ActionTypes.INTEGRATION_SETTINGS_UPDATE_WEBHOOK]=function(e){var t=e.settings;if(null==I)return!1;I=g({},I);if(null!=t.name&&I.name!==t.name){I.name=t.name;P=!0}if(void 0!==t.avatar&&I.avatar!==t.avatar){I.avatar=t.avatar;P=!0}if(null!=t.channelId&&I.channel_id!==t.channelId){I.channel_id=t.channelId;P=!0}P&&R()},r[c.ActionTypes.CHANNEL_SETTINGS_CLOSE]=function(){S=null
;E=null;b=[];I=null;T=c.FormStates.CLOSED},r[c.ActionTypes.WEBHOOKS_UPDATE]=function(e){var t=e.guildId,n=e.channelId,r=e.webhooks;if(null==E||t!==E.id||null==S||n!==S.id||null==r||T===c.FormStates.SUBMITTING)return!1;C=!1;for(var a=function(e){var t=b[e];if(null!=n&&(null==t?void 0:t.channel_id)!==n)return"continue";var a=r.find((function(e){if(e.id===t.id)return!0}));if(null!=a){var o,i=g({},t,{},a);b[e]=i;P||(null===(o=I)||void 0===o?void 0:o.id)!==i.id||(I=i)}else{var u;(null===(u=I)||void 0===u?void 0:u.id)===t.id&&(I=null);b.splice(e,1)}},o=b.length-1;o>=0;o--)a(o);for(var i,u=function(){var e=i.value;null==b.find((function(t){if(t.id===e.id)return!0}))&&b.push(e)},l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(i=l()).done;)u();b=h(b);R()},r[c.ActionTypes.INTEGRATION_SETTINGS_SUBMITTING]=function(){T=c.FormStates.SUBMITTING;A={}},r[c.ActionTypes.INTEGRATION_SETTINGS_SAVE_FAILURE]=function(e){var t;if(T!==c.FormStates.SUBMITTING)return!1;T=c.FormStates.OPEN;A=null!==(t=e.errors)&&void 0!==t?t:{}},r)),j=L;t.default=j},847583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(972247)),u=p(n(636602)),l=p(n(656016)),s=p(n(491462)),d=p(n(644263)),f=n(770348),c=n(739889);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return y(e,t)}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var g,E,S=new Set,O=f.FormStates.CLOSED,b=!1,I=null,C=null,T=null,A=null,P=null,M=null,N=i.default.get(c.ADVANCED_MODE_ON_KEY)||!1;function R(e){var t=e.getGuildId(),n=_({},e.permissionOverwrites);null!=t&&null==n[t]&&(n[t]=l.default.makeEveryoneOverwrite(t));return n}function w(){T=s.default.getChannel();A=s.default.getCategory();if(null==T)return!1;var e=T.getGuildId();C=I=R(T);null==I[P]&&(P=e);E=null!=A;g=l.default.areChannelsLocked(T,A);M=null;b=!1;O=f.FormStates.CLOSED;S.clear()}function D(e){if(null==T||T.id!==e)return!1;if(null==(T=d.default.getChannel(e)))return!1;A=s.default.getCategory();var t=T.getGuildId();if(null==t)return!1;C=R(T);var n={};S.forEach((function(e){null!=I&&(n[e]=I[e])}));null==n[t]&&null==T.permissionOverwrites[t]&&(n[t]=l.default.makeEveryoneOverwrite(t));if(null==(I=_({},T.permissionOverwrites,{},n))[P])P=t;else if(null!=M&&null!=I[M]){P=M
;M=null}g=l.default.areChannelsLocked(T,A);return!0}var L=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default,d.default)};n.hasChanges=function(){return b};n.showNotice=function(){return this.hasChanges()};n.getPermissionOverwrite=function(e){var t;return null===(t=I)||void 0===t?void 0:t[e]};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"editedPermissionIds",get:function(){return Array.from(S)}},{key:"permissionOverwrites",get:function(){return I}},{key:"selectedOverwriteId",get:function(){return P}},{key:"formState",get:function(){return O}},{key:"isLockable",get:function(){return E}},{key:"locked",get:function(){return g}},{key:"channel",get:function(){return T}},{key:"category",get:function(){return A}},{key:"advancedMode",get:function(){return N}}])
;return t}(o.default.Store);L.displayName="ChannelSettingsPermissionsStore";var j=new L(u.default,((r={})[f.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=function(e){var t=e.section;if(null!=T||t!==f.ChannelSettingsSections.PERMISSIONS)return!1;w()},r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT]=w,r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION]=function(e){var t,n,r=e.id,o=e.allow,i=e.deny,u=null===(t=I)||void 0===t?void 0:t[r];if(null==u||null==T)return!1;u=_({},u,{allow:o,deny:i});I=_({},I,((n={})[r]=u,n));S.add(r);O=f.FormStates.OPEN;b=!a.default.isEqual(I,C);g=l.default.areChannelsLocked(T,A)},r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION]=function(e){var t=e.id;if(null!=I&&null!=I[t])P=t;else{if(null==T)return!1;M=t}},r[f.ActionTypes.CHANNEL_SETTINGS_CLOSE]=function(){O=f.FormStates.CLOSED;I=null;C=null;T=null;A=null;b=!1;S.clear();P=null;M=null},r[f.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates;if(null==T)return!1
;for(var n,r=!1,a=h(t);!(n=a()).done;){!1!==D(n.value.channel.id)&&(r=!0)}return r},r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING]=function(){O=f.FormStates.SUBMITTING},r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS]=function(e){if(e.silent)O=f.FormStates.OPEN;else{O=f.FormStates.CLOSED;w()}},r[f.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE]=function(e){var t=e.advancedMode;N=t;i.default.set(c.ADVANCED_MODE_ON_KEY,t)},r));t.default=j},491462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(496486)),o=y(n(730381)),i=y(n(536211)),u=y(n(118915)),l=y(n(636602)),s=y(n(567186)),d=y(n(539563)),f=y(n(820068)),c=y(n(759027)),p=y(n(644263)),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}
var E,S,O,b,I,C,T=v.FormStates.CLOSED,A={},P={},M=!1,N=!1,R=null,w=["name","type","topic","bitrate","userLimit","nsfw","rateLimitPerUser","defaultAutoArchiveDuration","rtcRegion","videoQualityMode","threadMetadata","banner"];function D(e){if(null==O||O.id!==e)return!1;if(O===b){var t=p.default.getChannel(e);if(null==t)return!1;b=O=t;I=p.default.getChannel(b.parent_id)}else{var n=p.default.getChannel(e);if(null==n)return!1;O=n;if(null!=b){b=b.set("permissionOverwrites",O.permissionOverwrites);I=p.default.getChannel(b.parent_id)}}return!0}function L(e){var t,n=p.default.getChannel(e.channelId);if(null==n)return k();T=v.FormStates.OPEN;b=O=n;R="location"in e&&null!=e.location?e.location:null;S="subsection"in e?e.subsection:null;null!=b&&(b=b.set("nsfw",b.isNSFW()));I=p.default.getChannel(b.parent_id);C=b.getGuildId();A={};j({type:v.ActionTypes.CHANNEL_SETTINGS_SET_SECTION,section:null!==(t=E)&&void 0!==t?t:v.ChannelSettingsSections.OVERVIEW,subsection:S})}function j(e){E=e.section
;S=e.subsection;if(null!=b&&E===v.ChannelSettingsSections.INSTANT_INVITES){M=!0;u.default.get({url:v.Endpoints.INSTANT_INVITES(b.id),oldFormErrors:!0}).then((function(e){M=!1;l.default.dispatch({type:v.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES,invites:e.body})}),(function(){return M=!1}))}}function k(){N=!1;T=v.FormStates.CLOSED;E=null;b=O=null;I=null;P={}}var U=a.default.debounce((function(){if(null==b||null==O)return!1;var e=b.toJS(),t=O.toJS();if(w.every((function(n){return e[n]===t[n]}))&&b!==O){b=O;x.emitChange()}}),500);function G(e){return new f.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new c.default(e.inviter):null,channel:new s.default(e.channel),guild:null!=e.guild?new d.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,o.default)(e.created_at),type:e.type})}var F=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(p.default)};n.hasChanges=function(){return b!==O};n.isOpen=function(){return N};n.getSection=function(){return E};n.getInvites=function(){return{invites:P,loading:M}};n.showNotice=function(){return this.hasChanges()};n.getChannel=function(){return b};n.getFormState=function(){return T};n.getCategory=function(){return I};n.getProps=function(){return{submitting:T===v.FormStates.SUBMITTING,errors:A,channel:b,section:E,subsection:S,invites:P,selectedOverwriteId:C,hasChanges:this.hasChanges(),analyticsLocation:R}};return t}(i.default.Store);F.displayName="ChannelSettingsStore";var x=new F(l.default,((r={})[v.ActionTypes.CHANNEL_SETTINGS_INIT]=L,r[v.ActionTypes.CHANNEL_SETTINGS_OPEN]=function(e){N=!0;L(e)},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT]=function(){T=v.FormStates.SUBMITTING;A={}},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT_SUCCESS]=function(){O=b;T=v.FormStates.OPEN},
r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT_FAILURE]=function(e){var t;T=v.FormStates.OPEN;A=null!==(t=e.errors)&&void 0!==t?t:{}},r[v.ActionTypes.CHANNEL_SETTINGS_CLOSE]=k,r[v.ActionTypes.CHANNEL_SETTINGS_OVERWRITE_SELECT]=function(e){var t=e.overwriteId;C=t},r[v.ActionTypes.CHANNEL_SETTINGS_UPDATE]=function(e){var t=e.name,n=e.channelType,r=e.topic,a=e.bitrate,o=e.userLimit,i=e.nsfw,u=e.rateLimitPerUser,l=e.autoArchiveDuration,s=e.locked,d=e.invitable,f=e.defaultAutoArchiveDuration,c=e.rtcRegion,p=e.videoQualityMode,v=e.banner;if(null==b)return!1;null!=t&&(b=b.set("name",t));null!=r&&(b=b.set("topic",r));null!=a&&(b=b.set("bitrate",a));null!=o&&(b=b.set("userLimit",o));null!=i&&(b=b.set("nsfw",i));null!=u&&(b=b.set("rateLimitPerUser",u));null!=l&&(b=b.update("threadMetadata",{},(function(e){e.autoArchiveDuration=l;return e})));null!=s&&(b=b.update("threadMetadata",{},(function(e){e.locked=s;return e})));null!=d&&(b=b.update("threadMetadata",{},(function(e){e.invitable=d;return e})))
;null!=f&&(b=b.set("defaultAutoArchiveDuration",f));null!=n&&(b=b.set("type",n));void 0!==c&&(b=b.set("rtcRegion",c));null!=p&&(b=b.set("videoQualityMode",p));void 0!==v&&(b=b.set("banner",v));U()},r[v.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=j,r[v.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES]=function(e){P={};e.invites.forEach((function(e){P[e.code]=G(e)}))},r[v.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates;if(null==b)return!1;for(var n,r=!1,a=m(t);!(n=a()).done;){if(D(n.value.channel.id)&&null!=b){null!=C&&null==b.permissionOverwrites[C]&&(C=b.getGuildId());r=!0}}return r},r[v.ActionTypes.CHANNEL_DELETE]=function(e){var t=e.channel.id;if(null==b)return!1;if(b.id!==t)return!1;T=v.FormStates.CLOSED},r[v.ActionTypes.INSTANT_INVITE_REVOKE_SUCCESS]=function(e){delete(P=g({},P))[e.code]},r[v.ActionTypes.INSTANT_INVITE_CREATE_SUCCESS]=function(e){var t;P=g({},P,((t={})[e.invite.code]=G(e.invite),t))},r)),B=x;t.default=B},762214:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.extractDisplayName=C;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(636602)),u=p(n(740207)),l=n(864489),s=p(n(635014)),d=p(n(871778)),f=n(770348),c=n(376293);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h={},m=h,_=!1,g={},E={},S={},O={id:null,justChanged:!1},b={id:null,justChanged:!1},I=/\(([^)]+)\)/;function C(e){if((0,l.getPlatform)()===l.PlatformTypes.WINDOWS){var t=e.name.match(I);if(null!=t)return t[1]}return e.name}function T(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===f.ConnectedDeviceType.INPUT&&n===f.ConnectedDeviceType.OUTPUT||e.type===f.ConnectedDeviceType.OUTPUT&&n===f.ConnectedDeviceType.INPUT?{displayName:t,
type:f.ConnectedDeviceType.INPUT_AND_OUTPUT}:e}var A=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(s.default,d.default);m=null!=e?e:h};n.getUserAgnosticState=function(){return m};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"initialized",get:function(){return _}},{key:"lastDeviceConnected",get:function(){return S}},{key:"inputDevices",get:function(){return g}},{key:"lastInputSystemDevice",get:function(){return O}},{key:"outputDevices",get:function(){return E}},{key:"lastOutputSystemDevice",get:function(){return b}}]);return t}(o.default.DeviceSettingsStore);A.displayName="ConnectedDeviceStore";A.persistKey="ConnectedDeviceStore";var P=new A(i.default,((r={})[f.ActionTypes.MEDIA_ENGINE_DEVICES]=function(e){var t=e.inputDevices,n=e.outputDevices,r={}
;O.justChanged=!1;t.forEach((function(e){r[C(e)]=e.id;if(e.id===c.DEFAULT_DEVICE_ID){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==O.id&&(O.justChanged=!0);O.id=n}}));var o={};b.justChanged=!1;n.forEach((function(e){o[C(e)]=e.id;if(e.id===c.DEFAULT_DEVICE_ID){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==b.id&&(b.justChanged=!0);b.id=n}}));if(_){var i=Object.keys(g),u=Object.keys(r),l=Object.keys(E),s=Object.keys(o),d=a.default.difference(i,u),p=a.default.difference(l,s);if(d.length>0||p.length>0)S={};else{a.default.difference(u,i).forEach((function(e){S[e]=T(S[e],e,f.ConnectedDeviceType.INPUT)}));a.default.difference(s,l).forEach((function(e){S[e]=T(S[e],e,f.ConnectedDeviceType.OUTPUT)}))}if(!a.default.isEqual(i,u)||!a.default.isEqual(l,s)){g=r;E=o;return!0}return!1}g=r;E=o;_=!0},r[f.ActionTypes.CONNECTED_DEVICE_SET]=function(e){var t=e.displayName;!function(e,t,n){
if(t===f.ConnectedDevicePreference.INPUT||t===f.ConnectedDevicePreference.INPUT_AND_OUTPUT){var r=g[e];null!=r&&i.default.wait((function(){return u.default.setInputDevice(r,n)}))}if(t===f.ConnectedDevicePreference.OUTPUT||t===f.ConnectedDevicePreference.INPUT_AND_OUTPUT){var a=E[e];i.default.wait((function(){return u.default.setOutputDevice(a,n)}))}}(t,e.connectedDevicePreference,e.location);delete S[t]},r[f.ActionTypes.CONNECTED_DEVICE_IGNORE]=function(e){var t=e.displayName;delete S[t]},r[f.ActionTypes.CONNECTED_DEVICE_NEVER_SHOW_MODAL]=function(){S={};m={neverShowModal:!0}},r));t.default=P},528429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=n(229474),u=s(n(30098)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}
function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c={},p=function(){c={guildAffinitiesByGuildId:{},guildAffinities:[],lastFetched:0}};p();var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(c=e);this.waitFor(u.default)};n.getState=function(){return c};n.getGuildAffinity=function(e){return c.guildAffinitiesByGuildId[e]};!function(e,t,n){t&&d(e.prototype,t);n&&d(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"affinities",get:function(){return c.guildAffinities}},{key:"hasRequestResolved",get:function(){return 0!==c.lastFetched}}]);return t}(a.default.PersistedStore);v.displayName="GuildAffinitiesStore";v.persistKey="GuildAffinitiesStore";var y=new v(o.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=function(){Date.now()-c.lastFetched>864e5&&(0,
i.fetchGuildAffinities)();return!1},r[l.ActionTypes.LOAD_GUILD_AFFINITIES_SUCCESS]=function(e){var t=e.guildAffinities;c.guildAffinities=[];c.guildAffinitiesByGuildId={};c.lastFetched=Date.now();t.forEach((function(e,t){var n=e.affinity,r=e.guild_id,a={score:n,guildId:r,index:t};c.guildAffinitiesByGuildId[r]=a;c.guildAffinities.push(a)}))},r[l.ActionTypes.LOGOUT]=function(){p()},r));t.default=y},832721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=S(n(536211)),i=S(n(636602)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(919255)),l=S(n(146411)),s=S(n(423046)),d=S(n(502546)),f=S(n(644263)),c=S(n(250650)),p=S(n(876874)),v=S(n(30098)),y=S(n(893160)),h=S(n(290629)),m=S(n(211136)),_=S(n(790597)),g=n(770348);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||I(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=new u.default((function(e,t){(null!=v.default.getGuild(e)||c.default.isUnavailable(e))&&i.default.dispatch({type:g.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:t})}));function A(e,t){T.forEach((function(n){var r;if(n!==_.default.getGuildId()&&n!==y.default.getGuildId()&&n!==(null===(r=f.default.getChannel(m.default.getChannelId()))||void 0===r?void 0:r.getGuildId())&&(null==a||a.guildId!==n)){
T.clearWithoutFlushing(n,e);t&&i.default.dirtyDispatch({type:g.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:n,subscriptions:T.get(n)})}}))}function P(e,t){T.subscribeToGuild(e);return null!=t&&d.default.getSection(t)===g.ChannelSections.MEMBERS&&M(e,t,u.DEFAULT_RANGES)}function M(e,t,n){var r=f.default.getChannel(t);if(null==r)return!1;var a=r.getGuildId();a!==e&&e===g.FAVORITES&&T.subscribeToGuild(a);return(null==r?void 0:r.isThread())?r.type===g.ChannelTypes.ANNOUNCEMENT_THREAD?T.subscribeChannel(a,r.parent_id,n):!!r.isActiveThread()&&T.subscribeThreadMemberList(a,t,m.default.getChannelId()):T.subscribeChannel(a,t,n)}function N(e){e.type===g.ActionTypes.CONNECTION_OPEN&&A(!0,!1);var t=_.default.getGuildId();null!=t&&P(t,m.default.getChannelId(t));T.forEach((function(e){null==v.default.getGuild(e)?T.clearWithoutFlushing(e,!0):i.default.dirtyDispatch({type:g.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:T.get(e)})}))}function R(e){var t=e.guildId,n=e.channelId
;return!c.default.isUnavailable(t)&&P(t,n)}function w(){return P(_.default.getGuildId(),m.default.getChannelId())}function D(){var e=l.default.getSyncingWith();if(null==e){if(null!=a){T.unsubscribeUser(a.guildId,a.userId);a=null}}else{var t=e.userId;if(null!=a&&a.userId===t)return!1;if(h.default.isFriend(t))return!1;var n=p.default.memberOf(t);if(0===n.length)return!1;var r=b(n,1)[0];a={guildId:r,userId:t};T.subscribeUser(r,t)}return!1}var L=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(f.default,v.default,_.default,m.default,y.default,s.default,d.default);this.syncWith([l.default],D);this.syncWith([d.default],w)};n.getSubscribedThreadIds=function(){return T.getSubscribedThreadIds()};return t}(o.default.Store);L.displayName="GuildSubscriptionsStore";var j=new L(i.default,((r={})[g.ActionTypes.CONNECTION_OPEN]=N,
r[g.ActionTypes.CONNECTION_RESUMED]=N,r[g.ActionTypes.CONNECTION_CLOSED]=function(){A(!1,!1)},r[g.ActionTypes.IDLE]=function(e){if(!e.idle)return!1;A(!1,!0)},r[g.ActionTypes.LOGOUT]=function(){T.reset()},r[g.ActionTypes.VOICE_CHANNEL_SELECT]=R,r[g.ActionTypes.CHANNEL_SELECT]=R,r[g.ActionTypes.GUILD_CREATE]=function(e){e.guild.id===_.default.getGuildId()&&w()},r[g.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;T.clearWithoutFlushing(t.id,!0)},r[g.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_ADD]=function(e){var t=e.guildId;e.userIds.forEach((function(e){e!==s.default.getId()&&T.subscribeUser(t,e)}));return!1},r[g.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE]=function(e){var t=e.guildId;e.userIds.forEach((function(e){T.unsubscribeUser(t,e)}));return!1},r[g.ActionTypes.GUILD_SUBSCRIPTIONS_CHANNEL]=function(e){return M(e.guildId,e.channelId,e.ranges)},r[g.ActionTypes.CHANNEL_PRELOAD]=function(e){return P(e.guildId,e.channelId)},r[g.ActionTypes.INBOX_OPEN]=function(e){
for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=I(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.guildIds);!(t=n()).done;){var r=t.value;null!=r&&T.subscribeToGuild(r)}return!1},r[g.ActionTypes.THREAD_UPDATE]=function(e){var t=e.channel;if(t.isArchivedThread())return T.unsubscribeThreadMemberList(t.guild_id,t.id);if(!t.isActiveThread()||m.default.getChannelId()!==t.id)return!1;T.subscribeThreadMemberList(t.guild_id,t.id,m.default.getChannelId())},r[g.ActionTypes.THREAD_DELETE]=function(e){var t=e.channel;return T.unsubscribeThreadMemberList(t.guild_id,t.id)},r[g.ActionTypes.THREAD_LIST_SYNC]=w,r));t.default=j},958698:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(728429)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=null;var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getHouseMembership=function(){return d};return t}(a.default.Store);f.displayName="HypeSquadStore";var c=new f(o.default,((r={})[u.ActionTypes.CONNECTION_OPEN]=function(){var e=i.default.getCurrentUser();null!=e&&(e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?d=u.HypeSquadHouses.HOUSE_1:e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?d=u.HypeSquadHouses.HOUSE_2:e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(d=u.HypeSquadHouses.HOUSE_3))},r[u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS]=function(){d=null},
r[u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS]=function(e){d=e.houseID},r));t.default=c},226720:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=p(n(496486)),i=p(n(536211)),u=p(n(636602)),l=p(n(614166)),s=p(n(423046)),d=p(n(319111)),f=p(n(635014)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h={};function m(){o.default.forEach(h,(function(e,t){e.destroy();delete h[t]}))}function _(e,t,n){var r=h[e];return null!=r?t(r):n}function g(e){var t=e.lobbyId,n=h[t];if(null==n)return!1;n.destroy();delete h[t]}function E(){return!0}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.forEach=function(e){o.default.each(h,e)};n.getState=function(e){return _(e,(function(e){return e.state}),c.RTCConnectionStates.DISCONNECTED)};n.isConnected=function(e){return this.getState(e)===c.RTCConnectionStates.RTC_CONNECTED};n.isDisconnected=function(e){return this.getState(e)===c.RTCConnectionStates.DISCONNECTED};n.getHostname=function(e){return _(e,(function(e){return e.hostname}),null)};n.getQuality=function(e){return _(e,(function(e){return e.quality}),c.RTCConnectionQuality.UNKNOWN)};n.getPings=function(e){return _(e,(function(e){return e.getPings()}),[])};n.getAveragePing=function(e){return _(e,(function(e){return e.getAveragePing()}),0)};n.getLastPing=function(e){return _(e,(function(e){return e.getLastPing()}),0)};n.getOutboundLossRate=function(e){return _(e,(function(e){return e.getOutboundLossRate()}),0)};n.getMediaSessionId=function(e){return _(e,(function(e){
return e.getMediaSessionId()}),null)};n.getRTCConnectionId=function(e){return _(e,(function(e){return e.getRTCConnectionId()}),null)};n.getDuration=function(e){return _(e,(function(e){return e.getDuration()}),0)};return t}(i.default.Store);S.displayName="RTCConnectionStore";var O=new S(u.default,f.default.isSupported()?((r={})[c.ActionTypes.CONNECTION_OPEN]=function(e){a=e.sessionId;m()},r[c.ActionTypes.CONNECTION_CLOSED]=function(){a=null;m()},r[c.ActionTypes.RTC_CONNECTION_STATE]=E,r[c.ActionTypes.RTC_CONNECTION_PING]=E,r[c.ActionTypes.RTC_CONNECTION_LOSS_RATE]=E,r[c.ActionTypes.LOBBY_VOICE_STATE_UPDATE]=function(e){if(s.default.getId()!==e.userId)return!1;if(e.sessionId!==a)return!1;var t=h[e.lobbyId];if(null!=t&&null==e.channelId){t.destroy();delete h[e.lobbyId]}else if(null!=t)t.channelId=e.channelId;else if(null!=e.channelId){t=function(e,t){if(null==a)throw new Error("Creating RTCConnection without session.");var n=d.default.getLobby(e)
;if(null==n)throw new Error("Creating RTCConnection without lobby.");var r=n.application_id,o=new l.default(s.default.getId(),a,e,t,r);o.on("state",(function(t,n,r){u.default.dirtyDispatch(y({type:c.ActionTypes.RTC_CONNECTION_STATE,state:t,hostname:n},r,{lobbyId:e}))}));o.on("ping",(function(t,n){u.default.dispatch({type:c.ActionTypes.RTC_CONNECTION_PING,pings:t,quality:n,lobbyId:e})}));o.on("outboundlossrate",(function(t){u.default.dispatch({type:c.ActionTypes.RTC_CONNECTION_LOSS_RATE,lossRate:t,lobbyId:e})}));return o}(e.lobbyId,e.channelId);h[e.lobbyId]=t}},r[c.ActionTypes.LOBBY_VOICE_SERVER_UPDATE]=function(e){var t=h[e.lobbyId];if(null==t)return!1;t.connect(e.endpoint,e.token)},r[c.ActionTypes.LOBBY_DELETE]=g,r[c.ActionTypes.LOBBY_DISCONNECT]=g,r):{});t.default=O},218843:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(972247)),i=l(n(636602)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}
function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var c,p="PictureInPictureLocation",v=new Map,y=u.PictureInPicturePositions.BOTTOM_RIGHT,h={};var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){y=o.default.get(p,u.PictureInPicturePositions.BOTTOM_RIGHT)};n.isEmbeddedActivityHidden=function(){var e;return null==c||(null===(e=v.get(c))||void 0===e?void 0:e.component)!==u.PictureInPictureComponents.EMBED_IFRAME}
;n.getDockedRect=function(e){return h[e]};n.isOpen=function(e){return null!=e&&v.has(e)};!function(e,t,n){t&&s(e.prototype,t);n&&s(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"pipWindow",get:function(){return null==c?null:v.get(c)}},{key:"pipWindows",get:function(){return v}}]);return t}(a.default.Store);m.displayName="PictureInPictureStore";var _=new m(i.default,((r={})[u.ActionTypes.PICTURE_IN_PICTURE_OPEN]=function(e){var t,n,r=e.id,a=e.component,o=e.props;if(null==v.get(r)){var i={id:r,component:a,position:null!==(t=o.position)&&void 0!==t?t:y,props:o,docked:null!==(n=o.docked)&&void 0!==n&&n};v.set(r,i);null==c&&(c=r)}},r[u.ActionTypes.PICTURE_IN_PICTURE_CLOSE]=function(e){var t=e.id;if(!v.has(t))return!1;v.delete(t);if(c===t){var n=Array.from(v.keys());c=0===n.length?null:n[0]}},r[u.ActionTypes.PICTURE_IN_PICTURE_MOVE]=function(e){var t=e.id,n=e.position;if(null==c||c!==t)return!1;var r=new Map;v.forEach((function(e,t){r.set(t,f({},e,{position:n}))}));v=r;y=n
;o.default.set(p,n)},r[u.ActionTypes.PICTURE_IN_PICTURE_HIDE]=function(e){var t=e.id;if(c!==t)return!1;var n=v.get(t);if(null==n)return!1;v.set(t,f({},n,{hidden:!0}))},r[u.ActionTypes.PICTURE_IN_PICTURE_SHOW]=function(e){var t=e.id;if(c!==t)return!1;var n=v.get(t);if(null==n)return!1;v.set(t,f({},n,{hidden:!1}))},r[u.ActionTypes.PICTURE_IN_PICTURE_UPDATE_RECT]=function(e){var t=e.id,n=e.rect;h[t]=n},r[u.ActionTypes.PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW]=function(e){var t=e.id;c=t},r[u.ActionTypes.LOGOUT]=function(){c=null;v=new Map},r));t.default=_},534930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(496486)),o=s(n(536211)),i=s(n(636602)),u=s(n(30098)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=null,c={};var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)
}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default)};n.getOptimalRegion=function(e){var t;void 0===e&&(e=null);var n=this.getRegions(e);return null!=n?null!==(t=n.find((function(e){return e.optimal})))&&void 0!==t?t:a.default.sample(n):null};n.getOptimalRegionId=function(e){void 0===e&&(e=null);var t=this.getOptimalRegion(e);return null!=t?t.id:null};n.getRandomRegion=function(e){void 0===e&&(e=null);var t=this.getRegions(e);return null!=t?a.default.sample(t):null};n.getRandomRegionId=function(e){void 0===e&&(e=null);var t=this.getRandomRegion(e);return null!=t?t.id:null};n.getRegions=function(e){return null!=e?c[e]:f};return t}(o.default.Store);p.displayName="RegionStore";var v=new p(i.default,((r={})[l.ActionTypes.LOAD_REGIONS]=function(e){var t=a.default.sortBy(e.regions,(function(e){return e.name}));null!=e.guildId?c[e.guildId]=t:f=t},r[l.ActionTypes.GUILD_DELETE]=function(e){delete c[e.guild.id]},r))
;t.default=v},52694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(636602)),a=i(n(690445)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){a.default.addChangeListener((function(){r.default.dirtyDispatch({type:o.ActionTypes.SELF_PRESENCE_STORE_UPDATE,status:a.default.getStatus(),activities:a.default.getActivities()})}))}};t.default=u},625424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=s(n(969226)),u=s(n(288356)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}return t}(a.default.Store);f.displayName="UserAchievementStore"
;var c=new f(o.default,((r={})[l.ActionTypes.USER_ACHIEVEMENT_UPDATE]=function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete&&null!=r){var a=u.default.getGame(n),o=null!=a?a.getIconURL(64):null;i.default.showNotification(o,r.name,r.description,{notif_type:l.ActionTypes.USER_ACHIEVEMENT_UPDATE},{omitViewTracking:!0})}},r));t.default=c},816624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,d,f,c,p,v=i.FormStates.CLOSED,y={},h=!1;function m(){v=i.FormStates.OPEN;y={}}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getFormState=function(){return v};n.getErrors=function(){return y}
;n.showNotice=function(){return void 0!==s||void 0!==f||void 0!==c||void 0!==p};n.getPendingAvatar=function(){return s};n.getPendingBanner=function(){return f};n.getPendingBio=function(){return c};n.getPendingAccentColor=function(){return p};n.getPendingAvatarDecoration=function(){return d};n.getAllPending=function(){return{pendingAvatar:s,pendingBanner:f,pendingBio:c,pendingAccentColor:p,pendingAvatarDecoration:d}};n.getIsDisableSubmit=function(){return h};return t}(a.default.Store);_.displayName="UserSettingsAccountStore";var g=new _(o.default,((r={})[i.ActionTypes.USER_SETTINGS_ACCOUNT_INIT]=m,r[i.ActionTypes.USER_SETTINGS_MODAL_INIT]=m,r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS]=m,r[i.ActionTypes.USER_SETTINGS_MODAL_SET_SECTION]=function(e){return e.section===i.UserSettingsSections.ACCOUNT&&m()},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_CLOSE]=function(){v=i.FormStates.CLOSED;y={}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT]=function(){v=i.FormStates.SUBMITTING;y={}},
r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE]=function(e){var t;if(v!==i.FormStates.SUBMITTING)return!1;v=i.FormStates.OPEN;y=null!==(t=e.errors)&&void 0!==t?t:{}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR]=function(e){var t=e.avatar;s=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR_DECORATION]=function(e){var t=e.avatarDecoration;d=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_BANNER]=function(e){var t=e.banner;f=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_BIO]=function(e){var t=e.bio;c=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_ACCENT_COLOR]=function(e){var t=e.color;p=t},r[i.ActionTypes.USER_SETTINGS_RESET_ALL_PENDING]=function(){s=void 0;f=void 0;c=void 0;p=void 0;d=void 0;y={}},r[i.ActionTypes.LOGOUT]=function(){s=void 0},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT]=function(e){var t=e.disable;h=t},r));t.default=g},529688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a,o,i=m(n(496486)),u=m(n(536211)),l=m(n(636602)),s=m(n(825724)),d=n(747868),f=m(n(607209)),c=m(n(423046)),p=m(n(635014)),v=m(n(397228)),y=n(770348),h=n(859089);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function g(e){void 0===e&&(e=!0);var t;if(null==a)t=null;else{var n;t=s.default.getSelectedParticipantId(a);var r=f.default.getLastActiveStream(),u=null!=t?s.default.getParticipant(a,t):null;((null==u?void 0:u.type)===h.ParticipantTypes.ACTIVITY||(null==u?void 0:u.type)===h.ParticipantTypes.USER&&!(null===(n=u.voiceState)||void 0===n?void 0:n.selfVideo))&&(t=null);if(null!=r&&null==t){var l;t=null===(l=s.default.getParticipant(a,(0,d.encodeStreamKey)(r)))||void 0===l?void 0:l.id}if(null==t){var y=c.default.getId(),m=Date.now();t=(0,i.default)(s.default.getVideoParticipants(a)).filter((function(e){
return e.type===h.ParticipantTypes.USER&&e.user.id!==y&&!p.default.isLocalVideoDisabled(e.user.id)})).sortBy((function(e){return-v.default.getSpeakingDuration(e.user.id,m)})).map((function(e){return e.user.id})).first()}}if(o!==t){o=t;e&&b.emitChange()}}var E=i.default.debounce(g,300);function S(){E();return!1}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default,c.default,v.default,f.default,p.default);this.syncWith([s.default,f.default],S)};n.getSpeaker=function(e){var t;if(a!==e){a=e;g(!1)}return null!==(t=o)&&void 0!==t?t:c.default.getId()};return t}(u.default.Store);O.displayName="VideoSpeakerStore";var b=new O(l.default,((r={})[y.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED]=S,r)),I=b;t.default=I},474261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=d(n(636602)),o=d(n(913955)),i=d(n(644263)),u=d(n(211136)),l=d(n(686182)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){
!function(){var e=u.default.getVoiceChannelId(),t=o.default.bitrate;if(null!=e){var n=i.default.getChannel(e);null!=n&&t!==n.bitrate&&a.default.dispatch({type:"SET_CHANNEL_BITRATE",bitrate:n.bitrate})}}();!function(){var e,t=u.default.getVoiceChannelId(),n=l.default.mode;if(null!=t){var r=i.default.getChannel(t);if(null!=r){var o=null!==(e=r.videoQualityMode)&&void 0!==e?e:s.VideoQualityMode.AUTO;n!==o&&a.default.dispatch({type:"SET_CHANNEL_VIDEO_QUALITY_MODE",mode:o})}}}()}function v(e){r=e.sessionId}function y(e){for(var t,n=f(e.updates);!(t=n()).done;){var r=t.value.channel;u.default.getVoiceChannelId()===r.id&&p()}}function h(e){e.voiceStates.forEach((function(e){r===e.sessionId&&p()}))}var m={init:function(){a.default.subscribe(s.ActionTypes.CONNECTION_OPEN,v);a.default.subscribe(s.ActionTypes.CHANNEL_UPDATES,y);a.default.subscribe(s.ActionTypes.VOICE_STATE_UPDATES,h)}};t.default=m},538647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=u(n(636602)),a=u(n(30098)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],i.NOOP)};n.channelNoticePredicate=function(e,t){return!e.hasFeature(i.GuildFeatures.BANNER)&&Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY};return t}(o.default))(r.default);t.default=s},329669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=n(682937),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){d=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var f={};f={lastDismissedGracePeriods:{},isVisible:{}};var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(f=e)};n.getLastDismissedGracePeriodForGuild=function(e){return null!=f.lastDismissedGracePeriods[e]?f.lastDismissedGracePeriods[e]:null};n.isVisible=function(e){return null!=e&&(null!=f.isVisible[e]&&f.isVisible[e])};n.getState=function(){return f};return t}(a.default.PersistedStore);c.displayName="GuildBoostingGracePeriodNoticeStore";c.persistKey="PremiumGuildGracePeriodNoticeStore";c.migrations=[function(e){return d({},e,{lastDismissedGracePeriods:null!=e?d({},e.lastDismissedGracePeriods):{},isVisible:{}})}]
;var p=new c(o.default,((r={})[u.ActionTypes.GUILD_APPLIED_BOOSTS_FETCH_SUCCESS]=function(e){var t,n=e.guildId,r=e.appliedBoosts,a=null!=f.lastDismissedGracePeriods[n]?f.lastDismissedGracePeriods[n]:null,o=null!=a&&Date.now()-a<=u.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,l=null!=r&&!o&&(0,i.isInGracePeriod)(r,n);f=d({},f,{isVisible:d({},f.isVisible,(t={},t[n]=l,t))})},r[u.ActionTypes.BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS]=function(e){var t,n,r=e.guildId;f=d({},f,{lastDismissedGracePeriods:d({},f.lastDismissedGracePeriods,(t={},t[r]=Date.now(),t)),isVisible:d({},f.isVisible,(n={},n[r]=!1,n))})},r));t.default=p},742373:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(536211)),o=c(n(636602)),i=c(n(751122)),u=c(n(528429)),l=c(n(311492)),s=c(n(30098)),d=c(n(728429)),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=null,g={};function E(){var e=u.default.affinities;if(null==e)return!1;for(var t,n=h(e);!(t=n()).done;){var r=t.value,a=r.score,o=r.guildId,i=s.default.getGuild(o),d=l.default.getMemberCount(o);null!=i&&i.premiumTier<f.BoostedGuildTiers.TIER_3&&null!=d&&d>=3&&(null==_||a>_.score)&&(_=r)}}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(s.default,u.default,l.default);this.syncWith([s.default,u.default,l.default,i.default],E);null!=(null==e?void 0:e.lastDismissedTimetamps)&&(g=e.lastDismissedTimetamps)};n.getState=function(){return{lastDismissedTimetamps:g}}
;n.hasDismissedRecently=function(e){var t,n=null!==(t=g[e])&&void 0!==t?t:-1;return Date.now()-n<24192e5};n.shouldDisplayChannelNoticeForGuild=function(e){var t,n=d.default.getCurrentUser(),r=i.default.getLastFetchedAtForGuild(e),a=null!==(t=i.default.getAppliedGuildBoostsForGuild(e))&&void 0!==t?t:[];return null!=_&&_.guildId===e&&!this.hasDismissedRecently(e)&&null!=n&&null!=r&&a.every((function(e){return e.userId!==n.id}))};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"highestAffinityGuildId",get:function(){var e;return null===(e=_)||void 0===e?void 0:e.guildId}}]);return t}(a.default.PersistedStore);S.persistKey="GuildBoostingGuildAffinityNoticeStore";S.migrations=[function(e){return p({},e,{lastDismissedTimetamps:p({},null==e?void 0:e.lastDismissedTimetamps)})}];var O=new S(o.default,((r={})[f.ActionTypes.GUILD_BOOSTING_AFFINITY_CHANNEL_NOTICE_DISMISS]=function(e){var t=e.guildId;g[t]=Date.now()},r));t.default=O},
20446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],i.NOOP)};n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.MANAGE_GUILD,e)};return t}(o.default))(r.default);t.default=s},535711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=s(n(517286)),u=s(n(728429)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){
d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=null;function c(){var e=u.default.getCurrentUser();if(null==e||e.mfaEnabled===f)return!1;f=e.mfaEnabled}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,i.default);this.syncWith([u.default,i.default],c)};n.isVisible=function(e){return null!=e&&e.mfaLevel===l.MFALevels.ELEVATED&&!1===f&&i.default.hasElevatedPermissions(e.id)};return t}(a.default.Store);p.displayName="GuildMFAWarningStore";var v=new p(o.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=c,r[l.ActionTypes.GUILD_UPDATE]=function(){return!0},r));t.default=v},735653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(636602)),o=s(n(652566)),i=s(n(30098)),u=s(n(298698)),l=n(770348);function s(e){return e&&e.__esModule?e:{
default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=!1;function v(e){var t=i.default.getGuild(e)
;if(null==t)return!1;if(!t.hasFeature(l.GuildFeatures.HUB))return!1;p=!0;return!0}function y(){return!0}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(i.default,o.default);this.syncWith([o.default],y)};n.channelNoticePredicate=function(e){return!!e.hasFeature(l.GuildFeatures.LINKED_TO_HUB)&&!p};return t}(u.default))(a.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=function(e){for(var t,n=f(e.guilds);!(t=n()).done;){if(v(t.value.id))return!0}return!1},r[l.ActionTypes.GUILD_CREATE]=function(e){return v(e.guild.id)},r));t.default=h},477566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return l(e,t)}function s(){return!0}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],s)};n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.ADMINISTRATOR,e)};return t}(o.default))(r.default);t.default=d},24e4:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(536211)),o=f(n(972247)),i=f(n(636602)),u=f(n(311492)),l=f(n(30098)),s=f(n(689389)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p={MAX_MEMBER_COUNT:new Set};var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e;this.waitFor(s.default,l.default,u.default);this.syncWith([s.default,l.default,u.default],d.NOOP);o.default.remove(d.ChannelNoticeTypes.MAX_MEMBER_COUNT_100);o.default.remove(d.ChannelNoticeTypes.MAX_MEMBER_COUNT_250);p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT]=null!==(e=new Set(o.default.get(d.ChannelNoticeTypes.MAX_MEMBER_COUNT)))&&void 0!==e?e:new Set};n.isVisible=function(e){var t;if(null==e)return!1;var n=null!==(t=u.default.getMemberCount(e.id))&&void 0!==t?t:0,r=s.default.can(d.Permissions.ADMINISTRATOR,e);return!p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT].has(e.id)&&r&&e.maxMembers>0&&e.maxMembers-n<=1e4};return t}(a.default.Store);v.displayName="MaxMemberCountChannelNoticeStore";var y=new v(i.default,((r={})[d.ActionTypes.MAX_MEMBER_COUNT_NOTICE_DISMISS]=function(e){var t=e.guildId;if(!p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT].has(t)){p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT].add(t)
;o.default.set(d.ChannelNoticeTypes.MAX_MEMBER_COUNT,p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT]);return!0}},r));t.default=y},905505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(86298)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){return!0}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(i.default)};n.getExperimentAssignment=function(e,t){return i.default.getGuildExperimentDescriptor(t,e)};return t}(a.default.Store);f.displayName="GuildExperimentStore";var c=new f(o.default,((r={})[u.ActionTypes.LOGOUT]=d,r[u.ActionTypes.LOGIN_SUCCESS]=d,r[u.ActionTypes.CONNECTION_OPEN]=d,r[u.ActionTypes.EXPERIMENTS_FETCH_SUCCESS]=d,
r[u.ActionTypes.OVERLAY_INITIALIZE]=d,r[u.ActionTypes.CACHE_LOADED]=d,r[u.ActionTypes.EXPERIMENTS_FETCH_FAILURE]=d,r[u.ActionTypes.EXPERIMENT_REGISTER_LEGACY]=d,r[u.ActionTypes.EXPERIMENT_OVERRIDE_BUCKET]=d,r));t.default=c},106605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Rows=t.Row=void 0;var r,a=m(n(496486)),o=m(n(536211)),i=m(n(636602)),u=m(n(237923)),l=m(n(821896)),s=m(n(677520)),d=m(n(607209)),f=m(n(876874)),c=m(n(30098)),p=m(n(788739)),v=m(n(290629)),y=m(n(728429)),h=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function E(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function O(e){var t=y.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function b(e){return{status:p.default.getStatus(e),isMobile:p.default.isMobileOnline(e),activities:p.default.getActivities(e),applicationStream:d.default.getStreamForUser(e)}}function I(e){var t=[];(0,a.default)(f.default.memberOf(e)).map(c.default.getGuild).sortBy((function(e){return null!=e?e.name.toLowerCase():null})).forEach((function(e){null!=e&&t.push(e)}));return{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,h.MAX_MUTUAL_GUILDS)}}var C=function(e){E(t,e);function t(t){var n;(n=e.call(this)||this).key=t.key;n.type=t.type;n.status=t.status;n.activities=t.activities;n.applicationStream=t.applicationStream;n.user=t.user;n.isMobile=t.isMobile;n.usernameLower=t.usernameLower
;n.mutualGuildsLength=t.mutualGuildsLength;n.mutualGuilds=t.mutualGuilds;n.nickname=t.nickname;return n}!function(e,t,n){t&&g(e.prototype,t);n&&g(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"comparator",get:function(){var e,t;return[this.type,null!==(e=null===(t=this.nickname)||void 0===t?void 0:t.toLowerCase())&&void 0!==e?e:this.usernameLower]}}]);return t}(l.default);t.Row=C;var T=function(){function e(e){void 0===e&&(e=[]);this._rows=e}var t=e.prototype;t.reset=function(){var t=a.default.map(v.default.getRelationships(),(function(e,t){return new C(_({key:t,type:e,nickname:v.default.getNickname(t)},O(t),{},b(t),{},I(t)))})),n=a.default.map(s.default.getSuggestions(),(function(e){return new C(_({key:e.key,type:99,nickname:e.name},O(e.key),{},b(e.key),{},I(e.key)))}));return new e(a.default.concat(t,n))};t.clone=function(){return new e(this._rows)};t.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],a=r.merge(e(r.key));t=t||a!==r
;this._rows[n]=a}return t};t.filter=function(e,t){return(0,a.default)(this._rows).filter((function(e){if(null==e.user)return!1;if(null!=t&&""!==t){var n=t.toLowerCase();return[e.usernameLower,e.nickname].map((function(e){return null==e?void 0:e.toLowerCase()})).some((function(e){return null==e?void 0:e.includes(n)}))}return!0})).filter((function(t){switch(e){case h.FriendsSections.ONLINE:return t.type===h.RelationshipTypes.FRIEND&&t.status!==h.StatusTypes.OFFLINE;case h.FriendsSections.PENDING:return t.type===h.RelationshipTypes.PENDING_INCOMING||t.type===h.RelationshipTypes.PENDING_OUTGOING;case h.FriendsSections.SUGGESTIONS:return 99===t.type;case h.FriendsSections.BLOCKED:return t.type===h.RelationshipTypes.BLOCKED;case h.FriendsSections.ALL:default:return t.type===h.RelationshipTypes.FRIEND}})).sortBy((function(e){return e.comparator})).value()};t.getRelationshipCounts=function(){var e,t=((e={})[h.RelationshipTypes.FRIEND]=0,e[h.RelationshipTypes.PENDING_INCOMING]=0,
e[h.RelationshipTypes.PENDING_OUTGOING]=0,e[99]=0,e[h.RelationshipTypes.BLOCKED]=0,e);this._rows.forEach((function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}));return t};return e}();t.Rows=T;var A=!0,P=!1,M=h.FriendsSections.ONLINE,N=new T,R=!0,w=!1;function D(e){void 0===e&&(e=!1);if(A&&(e||M!==h.FriendsSections.ONLINE&&M!==h.FriendsSections.ADD_FRIEND)&&!P){A=!1;P=!0;u.default.fetchRelationships()}}function L(){A=!0;R?P=!1:D();N=N.reset();if(!w){var e=N.getRelationshipCounts();M=0===e[h.RelationshipTypes.FRIEND]?0!==e[h.RelationshipTypes.PENDING_INCOMING]?h.FriendsSections.PENDING:h.FriendsSections.ADD_FRIEND:h.FriendsSections.ONLINE}}function j(){N=R?new T:N.reset()}function k(e){return function(){if(R)return!1;if(N.update(e)){N=N.clone();return!0}return!1}}var U=function(e){E(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(v.default,p.default,y.default,c.default,f.default,d.default,s.default)
;this.syncWith([v.default],j);this.syncWith([s.default],j);this.syncWith([y.default],k(O));this.syncWith([p.default,d.default],k(b));L()};n.getState=function(){return{fetching:P,section:M,pendingCount:v.default.getPendingCount(),rows:N}};return t}(o.default.Store);U.displayName="FriendsStore";var G=new U(i.default,((r={})[h.ActionTypes.CONNECTION_OPEN]=function(){L()},r[h.ActionTypes.FRIENDS_SET_SECTION]=function(e){M=e.section;D()},r[h.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId;R=null!=t;j();return!R},r[h.ActionTypes.LOAD_RELATIONSHIPS_SUCCESS]=function(){P=!1},r[h.ActionTypes.LOAD_RELATIONSHIPS_FAILURE]=function(){A=!0;P=!0},r[h.ActionTypes.DRAWER_SELECT_TAB]=function(e){var t=e.tab;R=t!==h.DrawerTabTypes.FRIENDS;j();return!R},r[h.ActionTypes.FRIENDS_SET_INITIAL_SECTION]=function(e){M=e.section;w=!0},r));t.default=G},730655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=j(n(496486)),o=j(n(536211)),i=j(n(636602)),u=j(n(234161)),l=j(n(206246)),s=j(n(762605)),d=j(n(969015)),f=j(n(460731)),c=j(n(319879)),p=j(n(814768)),v=L(n(101047)),y=n(336312),h=L(n(75300)),m=L(n(809204)),_=j(n(607209)),g=j(n(644263)),E=j(n(8549)),S=j(n(330445)),O=j(n(288356)),b=j(n(23535)),I=j(n(30098)),C=j(n(689389)),T=j(n(788739)),A=j(n(290629)),P=j(n(538983)),M=j(n(728429)),N=j(n(387692)),R=n(71246),w=n(770348);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function j(e){return e&&e.__esModule?e:{default:e}}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function U(e,t){U=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return U(e,t)}function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=B(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}function x(e){return function(e){
if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=!1,H=!1,z=[],Y=[],K={},$={},q=new Set,Z=new Set;function X(){var e=A.default.getFriendIDs();return E.default.hasConsented(w.Consents.PERSONALIZATION)?new Set([].concat(x(P.default.getUserAffinitiesUserIds()),x(e))):new Set(e)}function Q(e){
return T.default.findActivity(e,(function(e){return e.type!==w.ActivityTypes.CUSTOM_STATUS}))}function J(e){if(null==K[e]){var t;K=F({},K,((t={})[e]=new m.default({name:e}),t))}return K[e]}function ee(e){if(null==$[e]){var t;$=F({},$,((t={})[e]=new h.default({url:e}),t))}return $[e]}function te(e){Z.has(e)||q.add(e)}function ne(e){if((0,d.default)(e))return y.SpotifyApplication;var t=null!=e.application_id?O.default.getGame(e.application_id):null;if(null!=t)return t;if((0,f.default)(e))return J(e.name);if((0,c.default)(e)&&null!=e.url)return ee(e.url);null!=e.application_id&&te(e.application_id);return t}function re(e){var t=N.default.getVoiceStateForUser(e);return null!=(null==t?void 0:t.channelId)&&C.default.canWithPartialContext(w.Permissions.VIEW_CHANNEL,{channelId:t.channelId})?t.channelId:null}function ae(e){return A.default.isFriend(e.id)}function oe(e,t,n){for(var r,o,i=t.map((function(e){return e.id})),u=t.filter((function(t){return e.has(t.id)
})),d=!1,f=[],c=new Set,E=!1,b=[],A=function(){var e,n,o=r.value,i=_.default.getStreamForUser(o.id),u=Q(o.id);null!=i&&b.push({stream:i,streamUser:o,activity:u});if(null==u)return"continue";if((0,s.default)(u)&&!(0,l.default)(o,u,null===(e=N.default.getVoiceStateForUser(o.id))||void 0===e?void 0:e.channelId,g.default,N.default,C.default,I.default))return"continue";var T=null===(n=u.timestamps)||void 0===n?void 0:n.start;if(null==T&&!(0,s.default)(u))return"continue";var A=(0,p.default)(u);if(null==A)return"continue";E=A===y.SPOTIFY_APPLICATION_ID;if(!v.shouldShowActivity(u))return"continue";var P=function(e){var t=O.default.getGame(e);if(null!=t)return t;if(e===y.SPOTIFY_APPLICATION_ID)return y.SpotifyApplication;if(e.startsWith(m.XBOX_APPLICATION_ID_PREFIX))return J(e.slice(m.XBOX_APPLICATION_ID_PREFIX.length));if(e.startsWith(h.TWITCH_APPLICATION_ID_PREFIX))return ee(e.slice(h.TWITCH_APPLICATION_ID_PREFIX.length));te(e);return null}(A);if(null==P||c.has(P.id))return"continue"
;var R=null!=u?ne(u):null;null!=R&&R.id===P.id||(u=null);var w=[];if(null!=u&&null!=u.party&&null!=u.party.id){var D,L=null!==(D=S.default.getParty(u.party.id))&&void 0!==D?D:[];w=Array.from(L).reduce((function(e,t){var n=M.default.getUser(t);null!=n&&e.push(n);return e}),[])}else w=t.filter((function(e){var t=Q(e.id),n=null!=t?ne(t):null;return null!=n&&n.id===P.id}));(w=a.default.orderBy(w,[ae],["desc"])).length!==t.length&&(d=!0);c.add(P.id);f.push({game:P,activity:u,activityUser:o,startedPlayingTime:T,playingMembers:w})},P=G(t);!(r=P()).done;)A();for(var w,D,L,j=1===u.length,k=[],U=new Set,F=new Set,x=G(t);!(w=x()).done;){var B=re(w.value.id),V=g.default.getChannel(B),W=null!=V?V.getGuildId():null,H=I.default.getGuild(W);if(F.has(W)&&U.has(B)||null==V||null==H||V.id===H.afkChannelId){if(null==V){o=null;j=!0}}else{var z=(0,a.default)(N.default.getVoiceStatesForChannel(V.id)).map((function(e){var t=e.userId;return M.default.getUser(t)
})).filter(R.isNotNullish).orderBy([ae],["desc"]).value();z.filter((function(e){return!i.includes(e.id)})).forEach((function(e){return t.push(e)}));if(j)F.has(W)||(o=null);else{o=H;j=!0}F.add(W);U.add(B);k.push({channel:V,guild:H,members:z})}}return{id:n,voiceChannels:k,isSpotifyActivity:E,priorityMembers:u.map((function(e){return{user:e,status:T.default.getStatus(e.id)}})),partiedMembers:t,showPlayingMembers:d,guildContext:o,currentActivities:(D=f,L=function(e){var t;return null!==(t=e.startedPlayingTime)&&void 0!==t?t:0},(0,a.default)(D).orderBy([L,function(e){return e.game.name}],["desc","asc"])).value(),applicationStreams:b}}function ie(){return W&&b.default.isConnected()}function ue(){if(!ie())return!1;q.clear();var e,t,n,r,o=Array.from(X()).reduce((function(e,t){var n=M.default.getUser(t);null==n||n.bot||e.push(n);return e}),[]),i=(e=o,(0,a.default)(e).groupBy((function(e){var t,n=re(e.id),r=Q(e.id)
;return null!=n?"channel--"+n:null!=(null==r||null===(t=r.party)||void 0===t?void 0:t.id)?"party--"+r.party.id:"user--"+e.id}))),l=(t=i,n=X(),r=oe.bind(null,n),(0,a.default)(t).mapValues(r)),s=l.values().orderBy([function(e){return e.partiedMembers.length>1},function(e){return e.applicationStreams.length>0},function(e){return e.voiceChannels.length>0},function(e){return e.currentActivities.length>0},function(e){return e.isSpotifyActivity},function(e){return e.priorityMembers.map((function(e){return e.user.username.toLowerCase()})).join(" ")}],["desc","desc","desc","desc","asc","asc"]).value();z=function(e){return e.filter((function(e){return e.voiceChannels.length>=1||e.currentActivities.length>0||e.applicationStreams.length>0}))}(s);Y=function(e){return e.map((function(e){return{type:w.ActivityCardTypes.USER,party:e}}))}(z);!function(){if(q.size>0){var e=Array.from(q);u.default.fetchApplications(e);e.forEach((function(e){return Z.add(e)}));q.clear()}}();H=!0}
var le=a.default.throttle((function(){ue();fe.emitChange()}),1e3);function se(){if(!ie())return!1;le();return!1}var de=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;U(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.initialize=function(){this.syncWith([M.default,O.default,T.default,S.default,N.default,_.default,A.default,E.default,P.default],se);this.waitFor(b.default,I.default,O.default,M.default,P.default)};!function(e,t,n){t&&k(e.prototype,t);n&&k(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"currentActivityParties",get:function(){return z}},{key:"nowPlayingCards",get:function(){return Y}},{key:"isMounted",get:function(){return W}},{key:"loaded",get:function(){return H}}]);return t}(o.default.Store);de.displayName="NowPlayingViewStore";var fe=new de(i.default,((r={})[w.ActionTypes.LOGOUT]=function(){W=!1;z=[];Y=[];q.clear()},r[w.ActionTypes.NOW_PLAYING_MOUNTED]=function(){W=!0;le()},
r[w.ActionTypes.NOW_PLAYING_UNMOUNTED]=function(){W=!1},r)),ce=fe;t.default=ce},944537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;c(n(667294));var r,a=d(n(496486)),o=d(n(9056)),i=c(n(762214)),u=d(n(635014)),l=n(194322),s=n(376293);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}var h=new Set(["DisplayPort"]),m=!1;function _(){if(!m){var e=u.default.getInputDeviceId(),t=u.default.getOutputDeviceId();if(!i.default.getState().neverShowModal&&!a.default.isEmpty(i.default.lastDeviceConnected)){var r=(0,
i.extractDisplayName)(u.default.getInputDevices()[e]),d=(0,i.extractDisplayName)(u.default.getOutputDevices()[t]),f=a.default.some(i.default.lastDeviceConnected,(function(e){return h.has(e.displayName)||e.displayName===r||e.displayName===d}));if(!f){var c=a.default.some(i.default.lastDeviceConnected,(function(e){return o.default.isCertified(i.default.inputDevices[e.displayName])||o.default.isCertified(i.default.outputDevices[e.displayName])}));if(!(e===s.DEFAULT_DEVICE_ID&&i.default.lastInputSystemDevice.justChanged||t===s.DEFAULT_DEVICE_ID&&i.default.lastOutputSystemDevice.justChanged)||c){var v=a.default.first(Object.keys(i.default.lastDeviceConnected)),_=null!=v&&""!==v?i.default.lastDeviceConnected[v]:null;if(null!=_){var g;i.default.initialized&&null!=v&&(o.default.isCertified(i.default.inputDevices[v])?g=o.default.getCertifiedDevice(i.default.inputDevices[v]):o.default.isCertified(i.default.outputDevices[v])&&(g=o.default.getCertifiedDevice(i.default.outputDevices[v])));m=!0;(0,
l.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(36672)]).then(n.bind(n,936672));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){var t=e.transitionState,n=e.onClose;return p(r,{device:_,certifiedDeviceMetadata:g,transitionState:t,onClose:function(){m=!1;return n()}})}));case 5:case"end":return e.stop()}}),e)}))))}}}}}}var g={init:function(){i.default.addChangeListener(_)}};t.default=g},931411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(536211)),o=f(n(972247)),i=f(n(636602)),u=f(n(423046)),l=f(n(644263)),s=f(n(690445)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p="IncomingCallStore",v=232,y=315,h=new Set,m=[],_=new Map,g=new Set,E=0,S=0,O=!1;!function(){0
;var e=o.default.get(p);if(null!=e){E=+e.x;S=+e.y}else{var t=n(949898).default.windowSize();E=t.width/2-v/2;S=t.height/2-y/2}}();function b(e){if(null==e)return!1;if(null==_.get(e))return!1;_.delete(e);(g=new Set(g)).delete(e)}function I(e){var t=e.channelId,n=e.ringing.includes(u.default.getId());if(!g.has(t)&&n){var r=l.default.getChannel(t);if(null==r)return!1;var a=10*g.size;_.set(t,{channel:r,x:E+a,y:S+a});(g=new Set(g)).add(t)}else{if(!g.has(t)||n)return!1;b(t)}}function C(){O=s.default.getStatus()===d.StatusTypes.DND}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,s.default);this.syncWith([s.default],C)};n.getIncomingCalls=function(){return O?m:Array.from(_.values())};n.getIncomingCallChannelIds=function(){return O?h:g};n.getFirstIncomingCallId=function(){return O?null:g.values().next().value}
;n.hasIncomingCalls=function(){return!O&&g.size>0};return t}(a.default.Store);T.displayName="IncomingCallStore";var A=new T(i.default,((r={})[d.ActionTypes.CALL_CREATE]=I,r[d.ActionTypes.CALL_UPDATE]=I,r[d.ActionTypes.CALL_DELETE]=function(e){return b(e.channelId)},r[d.ActionTypes.VOICE_CHANNEL_SELECT]=function(e){return b(e.channelId)},r[d.ActionTypes.INCOMING_CALL_MOVE]=function(e){var t=e.x,n=e.y;E=t;S=n;o.default.set(p,{x:E,y:S});return!1},r[d.ActionTypes.CHANNEL_DELETE]=function(e){return b(e.channel.id)},r));t.default=A},853068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}
function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}var c=!1,p=null;var v={init:function(){o.default.subscribe(u.ActionTypes.CONNECTION_OPEN,(function(e){var t=e.pendingPayments;if(null!=t&&t.length>0){if(p===t[0])return;if(null==(p=t[0]))return;!function(e){if(!c){c=!0;(0,i.openModalLazy)(f(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(23438)]).then(n.bind(n,123438));case 2:r=t.sent;a=r.default;return t.abrupt("return",(function(t){var n=t.transitionState,r=t.onClose;return s(a,{pendingPayment:e,transitionState:n,onClose:function(){c=!1;return r()}})}));case 5:case"end":return t.stop()}}),t)}))))}}(p)}}))}};t.default=v},558402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Types=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=n(773336),i=l(n(66636)),u=["children","editable","type","className","outline"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c={PRIMARY:"cardPrimary",DANGER:"cardDanger",WARNING:"cardWarning",SUCCESS:"cardSuccess",
BRAND:"cardBrand",CUSTOM:"card"};t.Types=c;var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.children,l=t.editable,s=t.type,f=t.className,p=t.outline,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);p?e="outline":s===c.PRIMARY&&l&&(e="editable");return r.createElement("div",d({className:(0,a.default)(f,(0,o.getClass)(i.default,s,e))},v),n)};return t}(r.PureComponent);p.displayName="Card";p.Types=c;p.defaultProps={type:c.PRIMARY,outline:!1,editable:!1};var v=p;t.default=v},895108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(730977)),i=l(n(247001)),u=l(n(126388));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=Math.ceil(2*Math.PI*20);function p(e){return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}function v(e){return Math.floor(c*e)+", "+c}var y=function(e){var t=e.total,n=e.used,r=Math.max(0,Math.min(1,n/t)),l=Math.floor(100*r)+"%";return f(o.default,{text:i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},void 0,(function(e){return a.createElement("div",d({className:u.default.wrapper,role:"progressbar","aria-label":i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},e),f("svg",{viewBox:"25 25 50 50",className:u.default.svg,"aria-hidden":!0},void 0,f("circle",{className:u.default.background,cx:"50",cy:"50",r:20}),f("circle",{className:u.default.foreground,cx:"50",cy:"50",r:20,stroke:p(r),strokeDasharray:v(r)})),f("aside",{
className:u.default.usageInfo,"aria-hidden":!0},void 0,l))}))};y.displayName="DiskSpaceCircle";var h=y;t.default=h},222318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(973935),i=(r=n(74854))&&r.__esModule?r:{default:r},u=n(659779),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=Math.pow(3,2),p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._height=0;n._width=0;n._dragStart={x:0,y:0};n._offsetX=0;n._offsetY=0;n._removeListeners=function(){};n.handleSetRef=function(e){n._ref=e};n.handleMouseDown=function(e){var t=n.props,r=t.dragAnywhere,a=t.disabled,o=t.selector;if(!a){var i=n.state.position,u=e.target;if(e.button===l.MouseButtons.PRIMARY&&(r||null!=o&&u.matches(o))){n.grabDimensions();n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-i.x._value;n._offsetY=e.clientY-i.y._value;var s=e.nativeEvent.view;n._removeListeners();s.addEventListener("mousemove",n.handleMouseMove);s.addEventListener("mouseup",n.handleMouseUp)
;n._removeListeners=function(){s.removeEventListener("mousemove",n.handleMouseMove);s.removeEventListener("mouseup",n.handleMouseUp)}}}};n.handleMouseMove=function(e){e.preventDefault();var t=n.props,r=t.onDragStart,a=t.onDrag;if(!t.disabled){var o,i,u,l,s,d,f=n.state,p=f.dragging,v=f.dragging;!p&&(o=n._dragStart,i={x:e.clientX,y:e.clientY},u=o.x,l=o.y,s=i.x,d=i.y,Math.pow(u-s,2)+Math.pow(l-d,2))>c&&(p=!0);if(p){n.animateToPosition(e.clientX-n._offsetX,e.clientY-n._offsetY,{tension:80,friction:8},null,!1);n.setState({dragging:p},(function(){v||null==r||r(e.clientX,e.clientY);null==a||a(e.clientX,e.clientY)}))}}};n.handleMouseUp=function(e){n._removeListeners();n.state.dragging&&n.setState({dragging:!1},(function(){var t=n.props.onDragEnd;null==t||t(e.clientX,e.clientY)}))};var r=new i.default.Value(t.initialX),a=new i.default.Value(t.initialY);n.state={dragging:!1,position:new i.default.ValueXY({x:r,y:a})};return n}var n=t.prototype;n.componentDidMount=function(){
var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)};n.componentWillUnmount=function(){this._removeListeners()};n.animateToPosition=function(e,t,n,r,a){void 0===n&&(n={});void 0===a&&(a=!0);a&&this.grabDimensions();var o=this.translate(e,t);i.default.spring(this.state.position,d({toValue:{x:o.x,y:o.y}},n)).start(r)};n.setPosition=function(e,t,n){void 0===n&&(n=!0);n&&this.grabDimensions();var r=this.translate(e,t);this.state.position.setValue({x:r.x,y:r.y})};n.grabDimensions=function(){var e=(0,o.findDOMNode)(this._ref);if((0,u.isElement)(e)){this._height=e.clientHeight;this._width=e.clientWidth}};n.translate=function(e,t){var n=this.props,r=n.maxX,a=n.maxY;e<0?e=0:e>r-this._width&&(e=r-this._width);t<0?t=0:t>a-this._height&&(t=a-this._height);return{x:e,y:t}};n.render=function(){var e=this.state,t=e.dragging,n=e.position,r=this.props,o=r.className,u=r.children,l=[0,1],s=["0px","1px"],f=i.default.accelerate(d({pointerEvents:t?"none":"auto",transform:[{
translateX:n.x.interpolate({inputRange:l,outputRange:s})},{translateY:n.y.interpolate({inputRange:l,outputRange:s})}]},this.props.style));return a.createElement(i.default.div,{ref:this.handleSetRef,className:o,onMouseDown:this.handleMouseDown,style:f},u)};return t}(a.PureComponent);p.displayName="Draggable";p.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,disabled:!1,dragAnywhere:!1};var v=p;t.default=v},784241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=g(n(667294)),o=m(n(294184)),i=m(n(468811)),u=n(91817),l=g(n(956117)),s=m(n(279950)),d=n(688388),f=n(3400),c=n(770348),p=m(n(247001)),v=m(n(978607)),y=m(n(3066)),h=m(n(380203));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var C=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._animItem=null;t._timeout=new u.Timeout;t._headerId=i.default.v4();t.state={resent:!1,shouldClose:!1,email:"",password:""};t.setLottieRef=function(e){t._lottieRef=e};t.handleVerify=function(){(0,t.props.onVerify)(t.state.email,t.state.password)};t.handleResendEmail=function(){var e=t.props,n=e.onResend,r=e.onClose;n();if(!t.state.resent){t.setState({resent:!0,shouldClose:!0});t._timeout.start(3e3,(function(){t.state.shouldClose&&r()}))}};t.handleChangeEmailClick=function(){var e=t.props.onChangeEmailClick;t.setState({resent:!1,shouldClose:!1});e()};t.handleEmailChange=function(e){t.setState({email:e})};t.handlePasswordChange=function(e){t.setState({password:e})};t.handleKeyPress=function(e){var n=t.state,r=n.email,a=n.password
;if(13===e.which&&r.length>0&&a.length>0){e.preventDefault();t.handleVerify()}};return t}var r=t.prototype;r.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(63266).then(n.t.bind(n,763266,19)),n.e(11248).then(n.t.bind(n,211248,23))]);case 2:t=e.sent;r=S(t,2);a=r[0];o=r[1].default;this._animItem=o.loadAnimation({container:this._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:a});case 7:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();r.componentWillUnmount=function(){this._timeout.stop();if(null!=this._animItem){this._animItem.destroy();this._animItem=void 0}};r.renderInputs=function(){
var e=this.props,t=e.emailError,n=e.passwordError,r=e.submitting,a=this.state,o=a.email,i=a.password;return E("div",{className:v.default.container},void 0,E(d.FormItem,{title:p.default.Messages.FORM_LABEL_EMAIL,className:h.default.marginBottom20},void 0,E(s.default,{value:o,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),E(d.FormItem,{title:p.default.Messages.FORM_LABEL_PASSWORD,className:h.default.marginBottom40},void 0,E(s.default,{type:"password",value:i,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})),E(l.default,{fullWidth:!0,size:l.default.Sizes.LARGE,onClick:this.handleVerify,submitting:r,disabled:0===o.length||0===i.length},void 0,p.default.Messages.VERIFY_ACCOUNT))};r.renderActions=function(){return E("div",{className:v.default.container},void 0,E(l.default,{className:h.default.marginTop20,fullWidth:!0,size:l.default.Sizes.LARGE,look:l.ButtonLooks.INVERTED,color:l.ButtonColors.PRIMARY,
onClick:this.handleResendEmail},void 0,p.default.Messages.RESEND_EMAIL),E(l.default,{className:h.default.marginTop20,fullWidth:!0,size:l.default.Sizes.MEDIUM,look:l.ButtonLooks.LINK,color:l.ButtonColors.PRIMARY,onClick:this.handleChangeEmailClick},void 0,p.default.Messages.CHANGE_EMAIL))};r.render=function(){var e,t=this.state.resent,n=this.props,r=n.email,i=n.canResend,u=n.transitionState;e=t&&null!=r?p.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:r}):i?p.default.Messages.VERIFY_EMAIL_BODY:p.default.Messages.ENTER_EMAIL_BODY;return E(f.ModalRoot,{transitionState:u,"aria-labelledby":this._headerId,className:(0,o.default)(v.default.emailVerificationModal,y.default.vertical,y.default.alignCenter,y.default.justifyCenter,h.default.marginTop60)},void 0,a.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),E("div",{className:(0,o.default)(v.default.title,h.default.marginBottom8)},void 0,p.default.Messages.VERIFY_BY_EMAIL),E("div",{className:(0,
o.default)(v.default.body,h.default.marginBottom20)},void 0,e),i?this.renderActions():this.renderInputs())};return t}(a.PureComponent);C.displayName="EmailVerificationModal";C.defaultProps={canResend:!1,onChangeEmailClick:c.NOOP,onVerify:function(e,t){},onResend:c.NOOP,onClose:c.NOOP};var T=C;t.default=T},737705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.EmptyStateText=t.EmptyStateImage=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(530250)),u=n(770348),l=d(n(643193)),s=d(n(380203));function d(e){
return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}
var h=a.createContext(u.ThemeTypes.DARK),m=h.Provider,_=h.Consumer,g=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,r=e.width,a=e.height,d=e.offsetX,f=e.offsetY,v=e.style;return c(_,{},void 0,(function(e){return c(i.default.Child,{grow:0,className:(0,o.default)(l.default.image,s.default.marginBottom40),style:p({},v,{width:r,height:a,marginLeft:d,marginTop:f,backgroundImage:"url("+(e===u.ThemeTypes.DARK?n:t)+")"})})}))};return t}(a.PureComponent);t.EmptyStateImage=g;g.displayName="EmptyStateImage";var E=function(e){var t=e.children,n=e.className,r=e.noteClassName,a=e.note,u=e.style;return c(i.default.Child,{grow:0,direction:i.default.Direction.VERTICAL,style:u},void 0,null!=t&&c("h4",{className:(0,o.default)(n,l.default.title)},void 0,t),null!=a?c("div",{className:(0,o.default)(r,l.default.text,s.default.marginTop8)},void 0,a):null)};t.EmptyStateText=E;E.displayName="EmptyStateText"
;var S=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,r=e.className,a=e.style;return c(m,{value:n},void 0,c(i.default,{direction:i.default.Direction.VERTICAL,align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,className:(0,o.default)(l.default.wrapper,r),style:a},void 0,t))};return t}(a.PureComponent);t.default=S;S.displayName="EmptyState";S.Text=E;S.Image=g},358255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NotchBackground=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=n(8916),u=n(770348),l=s(n(14573));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=(0,i.cssValueToNumber)(l.default.notchWidth),v=Object.freeze({BLACK:l.default.black,GRAY:l.default.gray});t.NotchBackground=v;var y=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={barWidth:0};t.sizerRef=a.createRef();t.computeBars=function(){var e=t.sizerRef.current;t.setState({barWidth:null!=e?t.roundToNearestStep(e.clientWidth):0})};return t}var n=t.prototype;n.componentDidMount=function(){this.computeBars();window.addEventListener("resize",this.computeBars)};n.componentWillUnmount=function(){window.removeEventListener("resize",this.computeBars)};n.roundToNearestStep=function(e){return Math.round(e/p)*p};n.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,a=this.roundToNearestStep(r);return{transform:"translateX("+Math.abs(a-n)+"px)"}};n.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress;return{width:this.state.barWidth+"px",
background:r<=0?"none":"linear-gradient(to right, "+n+", "+t+")"}};n.render=function(){var e=this.props,t=e.className,n=e.notchBackground;return a.createElement("div",{className:l.default.wrapper,ref:this.sizerRef},f("div",{className:(0,o.default)(l.default.container,t),style:this.getGradientStyles()},void 0,f("div",{className:l.default.progress,style:this.getProgressStyles()}),f("div",{className:(0,o.default)(l.default.notches,n)})))};return t}(a.Component);y.displayName="GradientProgress";y.defaultProps={gradientStart:u.Colors.STATUS_YELLOW_400,gradientEnd:u.Colors.STATUS_GREEN_600};var h=y;t.default=h},2022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=P(n(294184)),i=n(376871),u=n(378158),l=n(263996),s=n(523024),d=n(328092),f=P(n(886836)),c=n(800055),p=n(894826),v=P(n(692711)),y=n(465537),h=P(n(16941)),m=P(n(189950)),_=P(n(80828)),g=P(n(730977)),E=P(n(971639)),S=P(n(272544)),O=P(n(776360)),b=n(770348),I=P(n(247001)),C=P(n(976351)),T=P(n(860321)),A=P(n(145792));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}var j=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i]
;(t=e.call.apply(e,[this].concat(o))||this).state={loaded:!1,hasBeenSeen:!1,isVisible:!1,submitting:!1};t.handleClickView=function(){var e=D(regeneratorRuntime.mark((function e(n){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.target;if(!r.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:a=t.props,o=a.onView,i=a.guild;n.stopPropagation();t.setState({submitting:!0});e.prev=6;e.t0=null!=o;if(!e.t0){e.next=11;break}e.next=11;return o(i.id);case 11:e.prev=11;t.setState({submitting:!1});return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[6,,11,14]])})));return function(t){return e.apply(this,arguments)}}();t.handleVisibilityChange=function(e){var n=t.props,r=n.onGuildCardSeen,a=n.guild;if(null!=a&&!t.state.hasBeenSeen&&e){t.setState({hasBeenSeen:e});null!=r&&r(a.id)}};t.handleContextMenu=function(e){(0,u.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var r,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,184767));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,R({},e,{guild:t.props.guild}))}));case 5:case"end":return e.stop()}}),e)}))))};t.setIsVisible=function(e){t.setState({isVisible:e})};return t}var r=t.prototype;r.getDefaultSplashURL=function(e){switch(e){case b.ThemeTypes.DARK:return T.default;case b.ThemeTypes.LIGHT:return A.default}};r.render=function(){var e,t,n,r=this,a=this.props,u=a.guild,b=a.className,T=a.theme,A=a.onTagClick,P=this.state,M=P.loaded,R=P.hasBeenSeen,w=P.isVisible,D=P.submitting,L=u.name,j=u.description,k=u.presenceCount,U=u.memberCount,G=u.keywords,F=v.default.getGuildDiscoverySplashURL({id:u.id,splash:u.discoverySplash,size:300*(0,c.getDevicePixelRatio)()}),x=null!=F?F:this.getDefaultSplashURL(T),B=v.default.getGuildIconURL({id:u.id,icon:u.icon,size:40})
;d.DiscoveryTagsExperiment.trackExposure({});var V=d.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayTags,W=s.DiscoveryInAppReportingExperiment.getCurrentConfig({}).canSeeInAppReportingButtons;s.DiscoveryInAppReportingExperiment.trackExposure({});var H=p.DeveloperMode.getSetting()||W;return N(i.VisibilitySensor,{active:!w,onChange:this.setIsVisible,threshold:.1},void 0,w?N(i.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!R,threshold:.55},void 0,N("div",{className:(0,o.default)(b,(e={},e[C.default.loaded]=M,e[C.default.loading]=!M,e))},void 0,D?N(_.default,{type:_.default.Type.PULSING_ELLIPSIS,className:C.default.spinner}):null,N(h.default,{onClick:this.handleClickView,className:(0,o.default)(C.default.card,(t={},t[C.default.submitting]=D,t[C.default.cardWithTags]=V,t)),onContextMenu:this.handleContextMenu},void 0,N("div",{className:C.default.cardHeader},void 0,N("div",{className:C.default.splash},void 0,N("img",{src:x,alt:"",className:C.default.splashImage,
onLoad:function(){return r.setState({loaded:!0})}})),H?N("div",{className:C.default.actionButtons},void 0,N(f.default,{guild:u})):null,N("div",{className:C.default.guildIcon},void 0,N(S.default,{mask:S.default.Masks.SQUIRCLE,width:48,height:48},void 0,N("div",{className:C.default.iconMask},void 0,N(S.default,{mask:S.default.Masks.SQUIRCLE,width:40,height:40},void 0,N("img",{src:B,alt:"",className:C.default.avatar})))))),N("div",{className:C.default.guildInfo},void 0,N("div",{className:C.default.title},void 0,N(m.default,{className:C.default.guildBadge,guild:u,tooltipColor:g.default.Colors.PRIMARY}),N(E.default,{tag:E.default.Tags.H4,size:O.default.Sizes.SIZE_16,className:C.default.guildName},void 0,L)),N(O.default,{className:C.default.description,size:O.default.Sizes.SIZE_14,color:O.default.Colors.HEADER_SECONDARY},void 0,j),V&&G&&A&&N(l.DiscoveryTags,{tags:G,onTagClick:function(e){return A(e,u.id)},guildId:u.id,section:y.AnalyticsContexts.POPULAR}),N("div",{
className:C.default.memberInfo},void 0,null!=k&&N("div",{className:C.default.memberCount},void 0,N("div",{className:C.default.dotOnline}),N(O.default,{size:O.default.Sizes.SIZE_12,color:O.default.Colors.HEADER_SECONDARY},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:k}))),null!=U&&N("div",{className:C.default.memberCount},void 0,N("div",{className:C.default.dotOffline}),N(O.default,{size:O.default.Sizes.SIZE_12,color:O.default.Colors.HEADER_SECONDARY},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:U})))))))):N("div",{className:(0,o.default)(C.default.card,(n={},n[C.default.cardWithTags]=V,n))}))};return t}(a.PureComponent);j.displayName="GuildDiscoveryCard";j.Placeholder=function(e){return N("div",{className:(0,o.default)(e.className,C.default.cardPlaceholder)})};var k=j;t.default=k},618993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(294184)),i=l(n(776680)),u=["tag","children","hoverText","className","forceHover"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.tag,r=t.children,l=t.hoverText,s=t.className,c=t.forceHover,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);return a.createElement("div",d({},p,{className:(0,
o.default)(s,i.default.hoverRoll,(e={},e[i.default.disabled]=null==l,e[i.default.forceHover]=c,e))}),f(n,{className:i.default.hovered},void 0,l),f(n,{className:i.default.default},void 0,r))};return t}(a.PureComponent);p.displayName="HoverRoll";p.defaultProps={tag:"div",forceHover:!1};var v=p;t.default=v},365561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PictureInPictureWindow=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=n(973935),u=n(864489),l=c(n(222318)),s=n(770348),d=c(n(347754)),f=c(n(480798))
;function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function m(e,t){
m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=80,g=132,E=80,S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._width=0;t._height=0;t._velocityX=0;t._velocityY=0;t._lastMoveX=0;t._lastMoveY=0;t.ensureIsInPosition=function(){t.setPosition(t.props.position)};t.handleSetInnerDivRef=function(e){t._innerDiv=e;var n=null==e?void 0:e.ownerDocument.defaultView;if(null!=e&&null!=n){var r;t._resizeObserver=new n.ResizeObserver(t.ensureIsInPosition);null===(r=t._resizeObserver)||void 0===r||r.observe(e)}};t.handleSetDraggableRef=function(e){t._draggable=e};t.handleDragStart=function(e,n){t._velocityX=0;t._velocityY=0;t._lastMoveX=e;t._lastMoveY=n;t._lastMoveTime=new Date};t.handleDrag=function(e,n){var r=new Date,a=Number(r)-Number(t._lastMoveTime)
;t._velocityX=(e-t._lastMoveX)/a;t._velocityY=(n-t._lastMoveY)/a;t._lastMoveX=e;t._lastMoveY=n;t._lastMoveTime=r};t.handleDragEnd=function(e,n){var r,a=t.props,o=a.maxX,i=a.maxY,u=t.calculateDecayingPosition(e,n,t._velocityX,t._velocityY),l=!0,d=!0;u.x>o/2&&(d=!1);u.y>i/2&&(l=!1);r=l&&d?s.PictureInPicturePositions.TOP_LEFT:l&&!d?s.PictureInPicturePositions.TOP_RIGHT:!l&&d?s.PictureInPicturePositions.BOTTOM_LEFT:s.PictureInPicturePositions.BOTTOM_RIGHT;t.animateToPosition(r,t.ensureIsInPosition);if(r!==t.props.position){var f=t.props,c=f.id,p=f.onMove;null==p||p(c,r)}};return t}var n=t.prototype;n.componentDidMount=function(){this.setPosition(this.props.position)};n.componentDidUpdate=function(e){
e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY&&e.dockedRect===this.props.dockedRect||this.ensureIsInPosition()};n.componentWillUnmount=function(){var e;null===(e=this._resizeObserver)||void 0===e||e.disconnect()};n.getPosition=function(e){var t=(0,i.findDOMNode)(this._innerDiv);if(null!=t){var n=t.getBoundingClientRect();this._width=n.width;this._height=n.height}var r=this.props,a=r.edgeOffsetTop,o=r.edgeOffsetLeft,l=r.edgeOffsetBottom,d=r.edgeOffsetRight,f=r.maxX,c=r.maxY,p=r.dockedRect,v=a,y=c-l-this._height,h=o,m=f-d-this._width,_=(0,u.getPlatform)()!==u.PlatformTypes.WEB&&this.inPopout?22:0;if(null!=p){var g,E;return{y:(null!==(g=null==p?void 0:p.y)&&void 0!==g?g:0)-_,x:null!==(E=null==p?void 0:p.x)&&void 0!==E?E:0}}switch(e){case s.PictureInPicturePositions.TOP_LEFT:return{y:v,x:h}
;case s.PictureInPicturePositions.BOTTOM_LEFT:return{y,x:h};case s.PictureInPicturePositions.TOP_RIGHT:return{y:v,x:m};default:return{y,x:m}}};n.setPosition=function(e){var t,n=this.getPosition(e),r=n.x,a=n.y;null===(t=this._draggable)||void 0===t||t.setPosition(r,a)};n.animateToPosition=function(e,t){var n,r=this.getPosition(e),a=r.x,o=r.y;null===(n=this._draggable)||void 0===n||n.animateToPosition(a,o,{},t)};n.calculateDecayingPosition=function(e,t,n,r){return{x:e+200*n,y:t+200*r}};n.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,r=e.edgeOffsetRight;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return r}};n.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,r=e.edgeOffsetBottom;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.TOP_RIGHT:return-n;default:return r}};n.render=function(){
var e,t=this.props,n=t.maxX,r=t.maxY,i=t.dockedRect,u=t.hidden,s={};null!=i&&(s={transform:"translate3d("+i.x+", "+i.y+", 0)",width:i.width,height:i.height});return a.createElement(l.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:(0,o.default)(d.default.pictureInPictureWindow,f.default.elevationHigh,(e={},e[d.default.hidden]=u,e)),maxX:n,maxY:r,disabled:null!=i,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},a.createElement("div",{ref:this.handleSetInnerDivRef,style:s},this.props.children))};!function(e,t,n){t&&h(e.prototype,t);n&&h(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"inPopout",get:function(){return this.props.appContext===s.AppContext.POPOUT}}]);return t}(a.PureComponent);t.PictureInPictureWindow=S;S.displayName="PictureInPictureWindow";S.defaultProps={hidden:!1};var O=function(e){
var t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,o=e.maxY,i=e.onWindowMove,u=e.dockedRect,l=e.pictureInPictureComponents,f=e.appContext;return v("div",{className:d.default.pictureInPicture},void 0,function(){if(null==t)return null;var e=Array.from(n.values()).map((function(e){if(e.id!==t.id&&e.component!==s.PictureInPictureComponents.EMBED_IFRAME)return null;var n="string"==typeof e.component?l[e.component]:e.component;return a.createElement(n,y({key:"pipWindow-"+e.id},e.props))}));return v(S,{appContext:f,position:t.position,id:t.id,hidden:t.hidden,onMove:i,maxX:r,maxY:o,dockedRect:u,edgeOffsetTop:_,edgeOffsetBottom:g,edgeOffsetLeft:E,edgeOffsetRight:_},void 0,e)}())};O.displayName="PictureInPicture";var b=a.memo(O);t.default=b},463922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(237745))&&r.__esModule?r:{default:r},i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e){return a.createElement(o.default,l({sitekey:i.RECAPTCHA_SITE_KEY},e))};s.displayName="Recaptcha";s.Themes={LIGHT:"light",DARK:"dark"};s.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};var d=s;t.default=d},49465:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(131795)),i=l(n(74854)),u=l(n(23966));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function c(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}var p=d("defs",{},void 0,d("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})),v=d("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,d("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{fill:"#FFF",
d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",
d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",
strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{fill:"#FFD773",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",
strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",
strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),d("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",
strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),d("path",{fill:"#E4E9F8",
d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),d("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),d("path",{stroke:"#1E2126",
strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#5871B7",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),d("path",{fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",
strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#5865f2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),d("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),y=d("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),h=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),m=d("path",{fill:"#9F7373",
d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),_=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),g=d("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),E=d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),S=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),O=d("path",{d:"M84 66h130v130H84z"}),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={x:new i.default.Value(0),y:new i.default.Value(0)};t._isMounted=!1;t.shouldLoop=function(){return t._isMounted};return t}var n=t.prototype;n.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;if("Firefox"!==o.default.name){i.default.animate(t,{
loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop});i.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop})}};n.componentWillUnmount=function(){this._isMounted=!1};n.render=function(){return d("div",{className:u.default.searchIndexAnimation},void 0,d("div",{className:u.default.searchIndexBackground}),d("svg",{className:u.default.searchIndexForeground,width:"320",height:"280"},void 0,p,d("g",{fill:"none",fillRule:"evenodd"},void 0,d("g",{transform:"translate(120 80)"},void 0,d("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,d(i.default.use,{style:c(this.state),className:u.default.mask,xlinkHref:"#search-index-foreground-mask-a"})),v),d(i.default.g,{className:u.default.magnifyingGlass,style:c(this.state)},void 0,y,h,m,_,g,E,S,O))))};return t}(a.Component);b.displayName="SearchIndexForeground";var I=b;t.default=I},427370:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.padded,n=void 0===t||t,l=e.inset,s=void 0!==l&&l,f=e.active,c=void 0!==f&&f,p=e.className,v=e.children,y=e.onClick,h=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);if(null!=y){var m;return r.createElement(o.default,d({onClick:y,tabIndex:null!=y?0:-1,className:(0,a.default)(p,(m={},m[i.default.outer]=!s,m[i.default.inset]=s,m[i.default.padded]=n,m[i.default.active]=c,m[i.default.interactive]=null!=y,m))},h),v)}var _;return r.createElement("div",d({className:(0,a.default)(p,(_={},_[i.default.outer]=!s,_[i.default.inset]=s,_[i.default.padded]=n,_[i.default.active]=c,_))},h),v)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=l(n(16941)),i=l(n(202133)),u=["padded","inset","active","className","children","onClick"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}},409236:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(667294)),o=l(n(496486)),i=d(n(925182)),u=l(n(531198));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){return function(e){
if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).canvas=a.createRef();t.updateAnimation=function(e){var n=t.canvas.current;if(null!=n){var r=t.props,a=r.data,o=r.updateInterval,u=r.color,l=r.numUpdatesToShow,s=r.lineWidth,d=r.animate,f=r.gradientStopColor;if(!(a.length<2)){var c=Math.max(Math.min((e-t.dataChangedAt)/o,1),0),p=n.getContext("2d"),v=t.maxValue;p.strokeStyle=u;p.lineWidth=s;var y=n.height-p.lineWidth,h=p.createLinearGradient(0,0,0,y);if(null!=f)h.addColorStop(0,f);else{var m=i.hexToRgb(u),_=m.r,g=m.g,E=m.b;h.addColorStop(0,"rgba("+_+", "+g+", "+E+", 0)")}h.addColorStop(1,t.fillColor);p.fillStyle=h;var S=a.length>=l?l:a.length;p.setTransform(1,0,0,-1,0,n.height);p.clearRect(0,0,n.width,n.height);p.translate(0,.5*p.lineWidth);var O,b,I=Math.floor(n.width/(S-3)),C=.5*I,T=I-I*c;p.translate(T,0);p.beginPath();var A=-I;a.forEach((function(e,t){O={x:A,y:y*e/v}
;0===t?p.moveTo(O.x,O.y):p.bezierCurveTo(b.x+C,b.y,O.x-C,O.y,O.x,O.y);b=O;A+=I}));p.stroke();p.lineTo(A-I,0);p.lineTo(0,0);p.fill();d&&c<1&&(t.animationFrameRequestId=window.requestAnimationFrame(t.updateAnimation))}}};return t}var n=t.prototype;n.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,a=n.data,u=n.animate,l=null==e||e.data!==t.data&&!o.default.isEqual(e.data,t.data);if(l){this.dataChangedAt=performance.now();this.maxValue=null!=r?r:Math.max.apply(Math,c(a))}if(l||null==e||!e.animate&&u||e.color!==this.props.color){var s=i.hexToRgb(this.props.color);this.fillColor="rgba("+s.r+", "+s.g+", "+s.b+", 0.5)";window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}};n.componentDidMount=function(){this.animationFrameRequestId=0;this.onDataUpdate(null,this.props)};n.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)};n.componentWillUnmount=function(){
window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=0};n.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,r=e.pixelHeight;return f("div",{className:t},void 0,a.createElement("canvas",{ref:this.canvas,className:u.default.canvas,width:n,height:r}))};return t}(a.PureComponent);y.displayName="SparkChart";y.defaultProps={animate:!0};var h=y;t.default=h},961664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a,o=s(n(294184)),i=s(n(496486)),u=n(770348),l=s(n(995071));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.XSMALL="xsmall";e.SMALL="small";e.LARGE="large"}(a||(a={}));var y=function(e){
var t=e.className,n=e.percents,r=e.size,s=void 0===r?a.SMALL:r,d=e.foregroundColors,v=void 0===d?[u.Colors.BRAND]:d,y=e.backgroundColor,h=void 0===y?"var(--background-modifier-active)":y,m=e.animate,_=void 0===m||m,g=i.default.zip(n,v).map((function(e,t){var n,r,a=p(e,2),i=a[0],u=a[1];r=Array.isArray(u)?{background:"linear-gradient(to right, "+u[0]+", "+u[1]+")"}:{backgroundColor:u};return f("div",{className:(0,o.default)(l.default.progressBar,l.default[s],(n={},n[l.default.animating]=_,n)),style:c({transform:"translate3d("+(Math.min(Math.max(0,i),100)-100)+"%, 0, 0)"},r)},t)})).reverse();return f("div",{className:(0,o.default)(t,l.default.progress,l.default[s]),style:{backgroundColor:h}},void 0,g)};y.displayName="StackedProgress";y.Sizes=a;var h=y;t.default=h},288800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(550270)),u=v(n(956117)),l=v(n(530250)),s=v(n(463922)),d=n(770348),f=v(n(247001)),c=v(n(959665)),p=v(n(380203));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;null==n||n(e)};return t}var n=t.prototype;n.renderFields=function(){var e=this,t=this.props,n=t.type,r=t.captchaKey,a=t.theme,o=t.onCaptchaVerify;return n===d.VerificationTypes.CAPTCHA?h(s.default,{onVerify:o,theme:a},r):h(u.default,{onClick:function(){return e.handleClick(n)}},void 0,f.default.Messages.START_VERIFICATION_BUTTON)};n.render=function(){return h(l.default,{className:c.default.verification,align:l.default.Align.CENTER,direction:l.default.Direction.VERTICAL},void 0,h(l.default,{className:c.default.container,
direction:l.default.Direction.VERTICAL,align:l.default.Align.CENTER,justify:l.default.Justify.CENTER},void 0,h("div",{className:c.default.image}),h("div",{className:(0,o.default)(c.default.title,p.default.marginTop20)},void 0,f.default.Messages.VERIFICATION_TITLE),h("div",{className:(0,o.default)(c.default.body,p.default.marginTop4,p.default.marginBottom20)},void 0,f.default.Messages.VERIFICATION_BODY.format()),h(l.default,{grow:0,justify:l.default.Justify.CENTER},void 0,this.renderFields())),h("div",{className:(0,o.default)(c.default.footer,p.default.marginTop20)},void 0,f.default.Messages.VERIFICATION_FOOTER),h(l.default,{className:(0,o.default)(p.default.marginTop4,p.default.marginBottom20),grow:0},void 0,h("div",{className:(0,o.default)(c.default.footer,c.default.footerAction)},void 0,f.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:i.default.getSubmitRequestURL()})),h("div",{className:(0,o.default)(c.default.footer,c.default.footerBullet)},void 0,"•"),h("div",{
className:(0,o.default)(c.default.footer,c.default.footerAction)},void 0,f.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))};return t}(a.PureComponent);_.displayName="Verification";_.defaultProps={type:d.VerificationTypes.CAPTCHA,onCaptchaVerify:d.NOOP,onLogout:d.NOOP};var g=_;t.default=g},974286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.BackgroundTransition=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=p(n(294184)),u=p(n(74854)),l=n(91817),s=p(n(550024)),d=p(n(530250)),f=n(770348),c=p(n(913127));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=((r={})[f.ChannelLayouts.NORMAL]=c.default.normal,r[f.ChannelLayouts.MINIMUM]=c.default.minimum,
r[f.ChannelLayouts.NO_CHAT]=c.default.noChat,r[f.ChannelLayouts.FULL_SCREEN]=c.default.fullScreen,r),g=function(e){h(t,e);function t(t){var n;(n=e.call(this,t)||this).state={animation:new u.default.Value(0)};return n}var n=t.prototype;n.componentDidAppear=function(){this.state.animation.setValue(1)};n.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0);u.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)};n.componentWillLeave=function(e){u.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)};n.render=function(){return y(u.default.div,{className:c.default.videoBackgroundTransition,style:{opacity:this.state.animation}},void 0,this.props.children)};return t}(o.PureComponent);t.BackgroundTransition=g;g.displayName="BackgroundTransition";var E=function(e){h(t,e);function t(t){var n;(n=e.call(this,t)||this)._timeout=new l.Timeout;n.handleMouseEvent=function(){var e=n.props.layout
;if(e===f.ChannelLayouts.FULL_SCREEN||e===f.ChannelLayouts.NO_CHAT){n._timeout.start(3e3,(function(){return n.setState({idle:!0})}));n.state.idle&&n.setState({idle:!1})}};n.state={idle:!1,backgroundAnimation:new u.default.Value(0),layoutProp:t.layout};return n}var n=t.prototype;n.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0);document.addEventListener("mousemove",this.handleMouseEvent,!0)};n.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0);document.removeEventListener("mousemove",this.handleMouseEvent,!0);this._timeout.stop()};t.getDerivedStateFromProps=function(e,t){return e.layout!==t.layoutProp?t.idle?{idle:!1,layoutProp:e.layout}:{layoutProp:e.layout}:null};n.componentDidUpdate=function(e){this.props.layout!==e.layout&&this._timeout.stop()};n.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,r=e.layout+"-"+(null!=n?n:"");return y(s.default,{
className:c.default.videoBackground,component:"div"},void 0,y(g,{},r,t))};n.renderContents=function(){var e,t,n=this.props,r=n.top,a=n.center,o=n.bottom,u=n.layout,l=n.focused,s=this.state.idle;return y(d.default,{className:(0,i.default)(c.default.video,_[u],(e={},e[c.default.idle]=s,e)),direction:d.default.Direction.VERTICAL,justify:d.default.Justify.CENTER},void 0,y(d.default,{className:c.default.videoWrapper,direction:d.default.Direction.VERTICAL},void 0,this.renderBackground(),y(d.default,{className:(0,i.default)(c.default.videoInner,(t={},t[c.default.focused]=l,t)),direction:d.default.Direction.VERTICAL,justify:d.default.Justify.BETWEEN},void 0,y(d.default,{className:c.default.videoTop,grow:0},void 0,r),y(d.default,{className:c.default.videoCenter},void 0,a),y(d.default,{className:c.default.videoBottom,grow:0},void 0,o))))};n.render=function(){var e,t=this.props,n=t.layout,r=t.className,a=t.animated;return y("div",{className:(0,i.default)(c.default.videoHeight,_[n],r,(e={},
e[c.default.animated]=a,e))},void 0,this.renderContents())};return t}(o.PureComponent);E.displayName="Video";E.defaultProps={layout:f.ChannelLayouts.MINIMUM,animated:!0};var S=E;t.default=S},275189:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(125478)),i=c(n(492626)),u=c(n(530250)),l=c(n(628551)),s=n(770348),d=c(n(114957)),f=["style","src","backgroundSrc","pulseSpeakingIndicator","speaking"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e){var t=e.style,n=e.src,r=e.backgroundSrc,c=e.pulseSpeakingIndicator,p=void 0!==c&&c,h=e.speaking,m=void 0!==h&&h,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f),g=null!=r?r:n,E=(0,o.default)(g,s.Colors.PRIMARY_DARK_800);if(null==n)return null;var S=a.createElement(l.default,y({className:d.default.avatarWrapper,src:n},_));return v(u.default,{style:y({},t,{backgroundColor:E}),className:d.default.background,justify:u.default.Justify.CENTER,align:u.default.Align.CENTER},void 0,p?v(i.default,{shouldAnimate:m},void 0,S):S)}h.displayName="VideoBackground";h.AvatarSizes=l.default.Sizes;var m=h;t.default=m},838696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=s(n(974661)),u=s(n(808988)),l=s(n(550542));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=16/9;function y(e,t){return Math.floor((t-e)/(8+e))+1}function h(e,t,n){for(var r=t-e;r>0;){var a=e,o=Math.floor(r/2);if(n(a+=o)){e=a+1;r-=o+1}else r=o}return e}function m(e,t,n){var r,a=Math.floor(t/25),o=t;if(e>25)r=h(a,o,(function(e){var r=y(e,t),a=function(e,t){var n=e/v
;return Math.ceil((t-n)/(8+n))+1}(e,n);return r*a>25}));else{r=h(a,o,(function(r){var a=y(r,t),o=function(e,t){var n=e/v;return Math.floor((t-n)/(8+n))+1}(r,n);return a*o>=e}));r-=1}var i=y(r,t),u=function(e,t){return Math.ceil(t/e)}(i,e);return{tileWidth:r,columns:Math.max(1,i),rows:u}}function _(e){var t,n=e.className,r=e.children,s=e.keyExtractor,d=e.paddingTop,p=void 0===d?0:d,y=e.paddingBottom,h=void 0===y?0:y,_=c(a.useState({width:0,height:0}),2),g=_[0],E=_[1],S=g.width,O=g.height,b=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0,I=S-16,C=O-(p+h),T=a.useMemo((function(){return function(e,t,n){var r=m(e,t,n),a=r.rows,o=r.columns,i=r.tileWidth;return{tileStyle:{width:i},tileWidth:i,rows:a,columns:o}}(b,I,C)}),[b,I,C]),A=T.tileStyle,P=T.tileWidth,M=T.rows,N=T.columns,R=N+1,w=R*P+8*(R-1)<=S,D=Math.floor(P/v)+8,L=Math.max(0,C-D*M)/2;return f(u.default,{fade:!0,className:n,listPadding:[p+L,0,h+L-8,8],renderRow:function(e){var t,n=e*N;return f("div",{className:l.default.row
},e,null==r||null===(t=r.slice(n,n+N))||void 0===t?void 0:t.map((function(e,t){var r,a,u=n+t;return f("div",{style:A,className:(0,o.default)(l.default.tile,(a={},a[l.default.padColumn]=w,a[l.default.noVerticalMargin]=u>=(M-1)*N,a[l.default.noHorizontalMargin]=(u+1)%N==0||u===b-1,a))},null!==(r=null==s?void 0:s(u))&&void 0!==r?r:u,f(i.default,{className:l.default.tileSizer,aspectRatio:v},void 0,e(P)))})))},rowCount:M,rowCountBySection:[M],rowHeight:D,onResize:E})}_.displayName="Grid"},971146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.VideoStreamFit=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=f(n(294184)),u=n(773336),l=f(n(974661)),s=f(n(80828)),d=f(n(2329));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}t.VideoStreamFit=a;!function(e){e.CONTAIN="contain";e.COVER="cover"}(a||(t.VideoStreamFit=a={}));var y=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleReady=function(){n.state.loading&&n.setState({loading:!1})};n.state={loading:!0};return n}var n=t.prototype;n.renderPlaceholder=function(){var e=this.props.streamPreviewURL,t=null!=e?p("img",{src:e,alt:"",className:d.default.previewImage}):p(l.default,{aspectRatio:16/9,className:d.default.emptyPreviewWrapper},void 0,p("div",{className:d.default.emptyPreview}));return p(o.Fragment,{},void 0,t,p(s.default,{className:d.default.spinner}))};n.render=function(){var e,t,n=this.props,r=n.streamId,a=n.onResize,o=n.wrapperClassName,l=n.videoComponent,s=n.className,f=n.fit,c=n.mirror,v=n.paused,y=this.state.loading;return p("div",{className:(0,i.default)(d.default.wrapper,o)},void 0,null!=r&&p(l,{className:(0,i.default)(d.default.video,(0,u.getClass)(d.default,"video",f),(e={},e[d.default.mirror]=c,e),s),streamId:r,onResize:a,onReady:this.handleReady,
paused:v}),v?null:p("div",{className:(0,i.default)(d.default.previewWrapper,(t={},t[d.default.loading]=y,t))},void 0,y&&this.renderPlaceholder()))};return t}(o.PureComponent);y.displayName="VideoStream";y.Fit=a;y.defaultProps={fit:a.CONTAIN,mirror:!1,paused:!1};var h=y;t.default=h},510596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(667294)),o=n(354479),i=n(865229),u=d(n(662197)),l=["children","disabled","className","titleClassName","tag","required","style","title","error"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var p=function(e){var t,n=e.children,r=e.disabled,s=void 0!==r&&r,d=e.className,p=e.titleClassName,v=e.tag,y=void 0===v?u.Tags.H5:v,h=e.required,m=void 0!==h&&h,_=e.style,g=e.title,E=e.error,S=function(e,t){
if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),O=(0,o.useUID)(),b=null!==(t=S.titleId)&&void 0!==t?t:O;return f("div",{className:null!=d?d:void 0,style:null!=_?_:void 0},void 0,null!=g||null!=E?a.createElement(u.default,c({tag:y,disabled:s,required:m,error:E,className:p,id:b},S),g):null,f(i.FormContextProvider,{titleId:b},void 0,n))};p.displayName="FormItem";p.Tags=u.Tags;var v=p;t.default=v},769026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var f=s("path",{
d:"m6.3599 4.33.41.84c.02245.04336.03052.09274.02304.14099s-.03013.09287-.06465.1274c-.03453.03453-.07915.05717-.1274.06465s-.09763-.00059-.14099-.02304l-.84-.41c-.03119-.01506-.06537-.02288-.1-.02288s-.06882.00782-.1.02288l-.84.41c-.04336.02245-.09274.03052-.141.02304-.04825-.00748-.09287-.03012-.12739-.06465-.03453-.03453-.05717-.07915-.06465-.1274s.00058-.09763.02304-.14099l.41-.84c.01505-.03119.02287-.06537.02287-.1s-.00782-.06881-.02287-.1l-.41-.84c-.01585-.04253-.01876-.08879-.00836-.13297.01039-.04417.03362-.08429.06676-.11529s.07471-.05151.11948-.05894c.04477-.00742.09074-.00144.13212.0172l.84.41c.03118.01506.06537.02288.1.02288s.06881-.00782.1-.02288l.84-.41c.04336-.02245.09274-.03052.14099-.02304s.09287.03012.1274.06465c.03452.03453.05717.07914.06465.1274.00748.04825-.00059.09763-.02304.14099l-.41.84c-.01211.02846-.01834.05907-.01834.09s.00623.06154.01834.09z",fill:"#ffd836"}),c=s("path",{
d:"m12 2.70001-5.45996 5.46v7.67999l5.45996 5.46 5.46-5.46v-7.67999zm2.73 11.99999-2.73 2.74-2.72996-2.73v-5.41999l2.72996-2.73 2.73 2.73z",fill:"#ff73fa"}),p=s("path",{d:"m12 2.70001v3.86l2.73 2.73 2.73-1.13z",fill:"#ffc0ff"}),v=s("path",{d:"m9.27004 14.71-2.73 1.13 5.45996 5.46v-3.86z",fill:"#e655d4"}),y=s("g",{fill:"#d4e4ff"},void 0,s("path",{d:"m16.2199 17.7h.01c.243 0 .44-.197.44-.44v-.89c0-.243-.197-.44-.44-.44h-.01c-.243 0-.44.197-.44.44v.89c0 .243.197.44.44.44z"}),s("path",{d:"m16.2199 21.25h.01c.243 0 .44-.197.44-.44v-.89c0-.243-.197-.44-.44-.44h-.01c-.243 0-.44.197-.44.44v.89c0 .243.197.44.44.44z"}),s("path",{d:"m15.3401 18.59v-.01c0-.243-.197-.44-.44-.44h-.89c-.243 0-.44.197-.44.44v.01c0 .243.197.44.44.44h.89c.243 0 .44-.197.44-.44z"}),s("path",{d:"m18.8799 18.59v-.01c0-.243-.197-.44-.44-.44h-.89c-.243 0-.44.197-.44.44v.01c0 .243.197.44.44.44h.89c.243 0 .44-.197.44-.44z"})),h=s("path",{d:"m9.27002 9.29v5.42l2.72998 2.73 2.73-2.73v-5.42l-2.73-2.73z",fill:"#ffdef9"
}),m=s("path",{d:"m14.72 9.28998v.01l-5.42997 5.43002-.01-.01v-1.47l4.69997-4.71002z",fill:"#fff"}),_=s("path",{d:"m14.7201 11.34v1.5l-3.66 3.66-.75-.75z",fill:"#fff"});function g(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",d({},(0,i.default)(l),{height:a,width:n,viewBox:"0 0 24 24"}),f,c,p,v,y,h,m,_)}g.displayName="BadgeBoostingSince7"},811198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground","background"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=e.background,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M21.178 1.70703L22.592 3.12103L4.12103 21.593L2.70703 20.178L21.178 1.70703Z"}),d("path",{className:p,fill:f,d:"M18 10.5283L10.5287 18H21V17C19.344 17 18 15.657 18 14V10.5283Z"}),d("path",{className:p,fill:f,d:"M8.957 19.5718L9.52877 19H15.4449C14.7519 20.19 13.4759 21 11.9999 21C10.7748 21 9.68752 20.442 8.957 19.5718Z"}),d("path",{className:p,fill:f,d:"M12 3C13.417 3 14.71 3.5 15.734 4.321L5.99805 14.058C5.99805 14.0479 5.99856 14.038 5.99907 14.0283C5.99956 14.0188 6.00005 14.0094 6.00005 14V9C6.00005 5.686 8.68605 3 12 3Z"}))}f.displayName="BellOff"},337322:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("clipPath",{},void 0,d("path",{d:"m.000183 0h16v16h-16z"}));function c(e){var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,c=void 0===l?"currentColor":l,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 16 16",fill:"none"}),f,d("g",{clipPath:"url(#a)"},void 0,d("path",{
d:"m7.90039 1c-3.9 0-6.999999 3.1-6.999999 7s3.099999 7 6.999999 7c3.90001 0 7.00001-3.1 7.00001-7s-3.2-7-7.00001-7zm0 2.3c.8 0 1.6.3 2.30001.7l-6.40001 6.4c-.3-.7-.6-1.5-.6-2.4 0-2.6 2.1-4.7 4.7-4.7zm0 9.4c-.9 0-1.7-.3-2.4-.7l6.40001-6.4c.4.7.7 1.5.7 2.4-.1 2.6-2.2 4.7-4.70001 4.7z",fill:c})))}c.displayName="Blocked"},966448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M21 5V11.59L18 8.59L14 12.59L10 8.59L6 12.59L3 9.59V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5ZM18 11.42L21 14.42V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V12.42L6 15.42L10 11.42L14 15.42L18 11.42Z"}))}f.displayName="BrokenImage"},989983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){return"CloudDone-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),_=null;null!=h&&(_=a.createElement(o.default,f({},h,{color:v,id:c(h.id)})));return a.createElement("svg",f({},(0,i.default)(m),{width:n,height:l,viewBox:"0 0 24 24"}),d("defs",{},void 0,_),p,d("path",{fill:null!=h?"url(#"+c(h.id)+")":v,className:y,
d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"}))}v.displayName="CloudDone"},635114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){return"CloudDownload-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,m=function(e,t){if(null==e)return{}
;var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),_=null;null!=h&&(_=a.createElement(o.default,f({},h,{color:v,id:c(h.id)})));return a.createElement("svg",f({},(0,i.default)(m),{width:n,height:l,viewBox:"0 0 24 24"}),d("defs",{},void 0,_),p,d("path",{fill:null!=h?"url(#"+c(h.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}))}v.displayName="CloudDownload"},809898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){return"CloudUpload-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),_=null;null!=h&&(_=a.createElement(o.default,f({},h,{color:v,id:c(h.id)})));return a.createElement("svg",f({},(0,i.default)(m),{width:n,height:l,viewBox:"0 0 24 24"}),d("defs",{},void 0,_),p,d("path",{fill:null!=h?"url(#"+c(h.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}))}v.displayName="CloudUpload"},429130:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["color","height","width"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.color,n=e.height,r=void 0===n?24:n,a=e.width,l=void 0===a?24:a,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:l,height:r,viewBox:"0 0 24 24"}),d("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M19.2929 9.8299L19.9409 9.18278C21.353 7.77064 21.353 5.47197 19.9409 4.05892C18.5287 2.64678 16.2292 2.64678 14.817 4.05892L14.1699 4.70694L19.2929 9.8299ZM12.8962 5.97688L5.18469 13.6906L10.3085 18.813L18.0201 11.0992L12.8962 5.97688ZM4.11851 20.9704L8.75906 19.8112L4.18692 15.239L3.02678 19.8796C2.95028 20.1856 3.04028 20.5105 3.26349 20.7337C3.48669 20.9569 3.8116 21.046 4.11851 20.9704Z",fill:t}))}f.displayName="EditPencilIcon"},175104:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{fill:f,className:c,d:"M12 2C6.477 2 2 6.477 2 12C2 17.522 6.477 22 12 22C17.523 22 22 17.522 22 12C22 6.477 17.522 2 12 2ZM16.293 6.293L17.707 7.706L16.414 9L17.707 10.293L16.293 11.706L13.586 9L16.293 6.293ZM6.293 7.707L7.707 6.294L10.414 9L7.707 11.707L6.293 10.294L7.586 9L6.293 7.707ZM18 14C18 16.617 15.14 19 12 19C8.86 19 6 16.617 6 14V13H18V14Z"}))}f.displayName="EmojiSmile"},877622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{width:"16",height:"16"});function c(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,viewBox:"0 0 16 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:c,
d:"M0,1.99406028 C0,0.892771196 0.894513756,0 1.99406028,0 L14.0059397,0 C15.1072288,0 16,0.894513756 16,1.99406028 L16,14.0059397 C16,15.1072288 15.1054862,16 14.0059397,16 L1.99406028,16 C0.892771196,16 0,15.1054862 0,14.0059397 L0,1.99406028 Z M8.23182341,16 L10.3991764,16 L10.3991764,9.93141161 L12.5663127,9.93141161 L13,7.76405862 L10.3991764,7.76405862 L10.3246195,6.3468265 C10.3246195,5.66107601 10.5049432,5.17342158 11.4698488,5.17342158 L12.974642,5.17385505 L12.974642,3.12202197 C12.7618079,3.09319618 12.3142495,3 11.4644304,3 C9.69001851,3 8.18500859,4.20353112 8.18500859,6.23043964 L8.23182341,7.76405862 L6.06425368,7.76405862 L6.06425368,9.93141161 L8.23182341,9.93141161 L8.23182341,16 Z"}),f))}c.displayName="Facebook"},155084:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?22:t,r=e.height,a=void 0===r?20:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 22 20"}),d("path",{d:"M19.0013 3.27074L16.8648 1.13516L18 0L22 4L18 8L16.8648 6.86484L19.0013 4.72926H14V3.27074H19.0013Z",fill:f}),d("path",{d:"M13.9829 8.45686C14.4834 8.90823 15.0602 9.2765 15.6918 9.53993C15.1979 10.7194 14.1545 11.6141 12.8834 11.9017C12.8022 11.8683 12.7203 11.8358 12.6378 11.8042C13.3982 10.8786 13.8873 9.72194 13.9829 8.45686Z",fill:f}),d("path",{
d:"M12 8C12 10.205 10.206 12 8 12C5.795 12 4 10.205 4 8C4 5.795 5.794 4 8 4C10.206 4 12 5.795 12 8Z",fill:f}),d("path",{d:"M0 19C0 15.467 3.29 13 8 13C12.711 13 16 15.467 16 19V20H0V19Z",fill:f}),d("path",{d:"M20.0001 20H18.0001V19C18.0001 16.7999 17.0621 14.9067 15.5213 13.5292C18.2697 14.4355 20.0001 16.4373 20.0001 19V20Z",fill:f}))}f.displayName="GoToAudience"},622193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r)}(n(667294));function a(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i=function(e){var t=e.id,n=e.startColor,r=e.stopColor,a=e.color,i=e.stop;return o("linearGradient",{id:t},void 0,o("stop",{offset:"0",stopColor:n}),o("stop",{offset:i,stopColor:r}),o("stop",{offset:i,stopColor:a}),o("stop",{offset:"1",stopColor:a}))};i.displayName="Gradient";var u=i;t.default=u},852546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:c,x:"4",y:"4",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"4",y:"13",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"13",y:"4",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"13",y:"13",width:"7",height:"7",rx:"1",fill:f}))}f.displayName="Grid"},670427:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:c,x:"3",y:"3",width:"18",height:"10",rx:"1",fill:f}),d("rect",{className:c,x:"3",y:"15",width:"8",height:"6",rx:"1",fill:f}),d("rect",{className:c,x:"13",y:"15",width:"8",height:"6",rx:"1",fill:f
}))}f.displayName="HorizontalVideoLayout"},908306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M13.2899 2L6 2C3.79086 2 2 3.79086 2 6V18C2 20.2091 3.79086 22 6 22H18C20.2091 22 22 20.2091 22 18V10.7101C21.3663 10.8987 20.695 11 20 11C16.134 11 13 7.86599 13 4C13 3.30503 13.1013 2.63371 13.2899 2ZM8 6C9.1032 6 10 6.8952 10 8C10 9.1056 9.1032 10 8 10C6.8944 10 6 9.1056 6 8C6 6.8952 6.8944 6 8 6ZM6 18L9 14L11 16L15 11L18 18H6Z",fill:f}),d("path",{d:"M21 0V3H24V5H21V8H19V5H16V3H19V0H21Z",fill:f}))}f.displayName="ImageUpload"},170331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{width:"16",height:"16"});function c(e){
var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,xmlns:"http://www.w3.org/2000/svg",width:n,height:a,viewBox:"0 0 16 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:c,
d:"M4.70012698,0.0531746 C3.84888888,0.092 3.2675238,0.22720635 2.7588254,0.42492063 C2.23292063,0.62926983 1.78692063,0.90273016 1.3422857,1.34733333 C0.89768254,1.79196825 0.62422222,2.23796825 0.41987302,2.76387303 C0.22215872,3.27257143 0.08695238,3.85393651 0.04812698,4.7051746 C0.00920635,5.55819048 0,5.83053968 0,8.00253968 C0,10.1745079 0.00920635,10.4468571 0.04812698,11.299873 C0.08695238,12.1511111 0.22215873,12.7324762 0.41987302,13.2411746 C0.62422222,13.7670794 0.89768254,14.2130794 1.34228572,14.6577143 C1.78692062,15.1023175 2.23292062,15.3757778 2.7588254,15.5801587 C3.2675238,15.7778413 3.8488889,15.9130476 4.70012698,15.951873 C5.55314286,15.9907937 5.82549206,16 7.99749206,16 C10.1694603,16 10.4418095,15.9907937 11.2948254,15.951873 C12.1460635,15.9130476 12.7274286,15.7778413 13.236127,15.5801587 C13.7620317,15.3757778 14.2080317,15.1023175 14.6526667,14.6577143 C15.0972698,14.2130794 15.3707302,13.7670794 15.5751111,13.2411746 C15.7727937,12.7324762 15.908,12.1511111 15.9468254,11.299873 C15.985746,10.4468571 15.9949524,10.1745079 15.9949524,8.00253968 C15.9949524,5.83053968 15.985746,5.55819048 15.9468254,4.7051746 C15.908,3.8539365 15.7727937,3.27257143 15.5751111,2.76387302 C15.3707302,2.23796825 15.0972698,1.79196825 14.6526667,1.34733332 C14.2080317,0.90273016 13.7620317,0.62926984 13.236127,0.42492064 C12.7274286,0.22720634 12.1460635,0.092 11.2948254,0.0531746 C10.4418095,0.01425397 10.1694603,0.00504762 7.99749206,0.00504762 C5.82549206,0.00504762 5.55314286,0.01425397 4.70012698,0.0531746 L4.70012698,0.0531746 Z M8.00001453,2.00504762 C9.95416635,2.00504762 10.185649,2.01251386 10.9573741,2.04772432 C11.6709381,2.08026206 12.0584565,2.19948958 12.3163471,2.29971739 C12.6579641,2.43248289 12.9017646,2.59107525 13.157854,2.84719363 C13.4139723,3.10328295 13.5725647,3.34708347 13.7053302,3.68870053 C13.805558,3.94659105 13.9247856,4.33410953 13.9573233,5.04767346 C13.9925338,5.8193986 14,6.05088127 14,8.00506213 C14,9.95921396 13.9925338,10.1906966 13.9573233,10.9624217 C13.9247856,11.6759857 13.805558,12.0635042 13.7053302,12.3213947 C13.5725647,12.6630117 13.4139723,12.9068123 13.157854,13.1629016 C12.9017646,13.41902 12.6579641,13.5776123 12.3163471,13.7103779 C12.0584565,13.8106057 11.6709381,13.9298332 10.9573741,13.9623709 C10.1857652,13.9975814 9.9543116,14.0050476 8.00001453,14.0050476 C6.04568839,14.0050476 5.81426383,13.9975814 5.04262587,13.9623709 C4.32906195,13.9298332 3.94154347,13.8106057 3.68365294,13.7103779 C3.34203588,13.5776123 3.09823536,13.41902 2.84214604,13.1629016 C2.58605671,12.9068123 2.42743531,12.6630117 2.29466977,12.3213947 C2.19444197,12.0635042 2.07521444,11.6759857 2.04267671,10.9624217 C2.00746628,10.1906966 2,9.95921395 2,8.00506212 C2,6.05088125 2.00746625,5.81939858 2.0426767,5.04767347 C2.07521444,4.33410953 2.19444196,3.94659104 2.29466977,3.68870052 C2.42743531,3.34708346 2.58602767,3.10328294 2.84214604,2.84719362 C3.09823536,2.59107524 3.34203588,2.43248288 3.68365294,2.29971735 C3.94154346,2.19948953 4.32906194,2.08026201 5.04262587,2.04772428 C5.81435097,2.01251381 6.04583365,2.00504758 8.00001453,2.00504758 L8.00001453,2.00504762 Z"
}),d("path",{className:v,fill:c,d:"M8.0000119,10 C6.89542535,10 6,9.10457466 6,8.0000119 C6,6.89542535 6.89542534,6 8.0000119,6 C9.10457467,6 10,6.89542534 10,8.0000119 C10,9.10457467 9.10457466,10 8.0000119,10 L8.0000119,10 Z M8.00001546,4 C5.7908468,4 4,5.7908468 4,8.00001546 C4,10.2091532 5.7908468,12 8.00001546,12 C10.2091532,12 12,10.2091532 12,8.00001546 C12,5.7908468 10.2091532,4 8.00001546,4 L8.00001546,4 Z M13,4.00001654 C13,4.55230644 12.5522734,5 11.9999835,5 C11.4477266,5 11,4.55230645 11,4.00001654 C11,3.44772664 11.4477266,3 11.9999835,3 C12.5522734,3 13,3.44772663 13,4.00001654 L13,4.00001654 Z"}),f))}c.displayName="Instagram"},434663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M18 2H7C5.897 2 5 2.898 5 4V11H12.59L10.293 8.708L11.706 7.292L16.414 11.991L11.708 16.706L10.292 15.294L12.582 13H5V20C5 21.103 5.897 22 7 22H18C19.103 22 20 21.103 20 20V4C20 2.898 19.103 2 18 2Z"}))}f.displayName="Logout"},814379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M16,8V3H14V8a2,2,0,0,0,2,2h5V8Z"}),d("path",{className:c,fill:f,d:"M14,16v5h2V16h5V14H16A2,2,0,0,0,14,16Z"}),d("path",{className:c,fill:f,d:"M8,8H3v2H8a2,2,0,0,0,2-2V3H8Z"}),d("path",{className:c,fill:f,d:"M8,14H3v2H8v5h2V16A2,2,0,0,0,8,14Z"}))}f.displayName="MinimizeScreen"},833837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),d("g",{clipPath:"url(#clip0)"},void 0,d("path",{d:"M18.8648 1.13516L21.0013 3.27074H16V4.72926H21.0013L18.8648 6.86484L20 8L24 4L20 0L18.8648 1.13516Z",fill:f}),d("path",{d:"M12 2C12.4342 2 12.8466 2.0917 13.2188 2.25683C13.0759 2.81411 13 3.39819 13 4C13 5.90397 13.7601 7.6304 14.9935 8.89235L14.99 11C14.99 12.66 13.66 14 12 14C10.34 14 9 12.66 9 11V5C9 3.34 10.34 2 12 2Z",fill:f}),d("path",{
d:"M12 16.1C14.76 16.1 17.3 14 17.3 11H19C19 14.42 16.28 17.24 13 17.72V22H11V17.72C7.72 17.23 5 14.41 5 11H6.7C6.7 14 9.24 16.1 12 16.1Z",fill:f})),d("defs",{},void 0,d("clipPath",{id:"clip0"},void 0,d("rect",{width:"24",height:"24",fill:f}))))}f.displayName="MoveToSpeaker"},26285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}),d("path",{className:c,d:"M10.889 4C10.889 3.44772 11.3367 3 11.889 3H12.1112C12.6635 3 13.1112 3.44772 13.1112 4V20C13.1112 20.5523 12.6635 21 12.1112 21H11.889C11.3367 21 10.889 20.5523 10.889 20V4Z",fill:f}),d("path",{className:c,d:"M6.44439 6.25C6.44439 5.69772 6.89211 5.25 7.44439 5.25H7.66661C8.2189 5.25 8.66661 5.69772 8.66661 6.25V17.75C8.66661 18.3023 8.2189 18.75 7.66661 18.75H7.44439C6.89211 18.75 6.44439 18.3023 6.44439 17.75V6.25Z",fill:f}),d("path",{className:c,d:"M3.22222 15.375C3.77451 15.375 4.22222 14.9273 4.22222 14.375L4.22222 9.625C4.22222 9.07272 3.77451 8.625 3.22222 8.625H3C2.44772 8.625 2 9.07272 2 9.625V14.375C2 14.9273 2.44772 15.375 3 15.375H3.22222Z",fill:f}),d("path",{className:c,
d:"M22.0001 13.25C22.0001 13.8023 21.5523 14.25 21.0001 14.25H20.7778C20.2255 14.25 19.7778 13.8023 19.7778 13.25V10.75C19.7778 10.1977 20.2255 9.75 20.7778 9.75H21.0001C21.5523 9.75 22.0001 10.1977 22.0001 10.75V13.25Z",fill:f}),d("path",{className:c,d:"M16.3333 7.5C15.781 7.5 15.3333 7.94772 15.3333 8.5V15.5C15.3333 16.0523 15.781 16.5 16.3333 16.5H16.5555C17.1078 16.5 17.5555 16.0523 17.5555 15.5V8.5C17.5555 7.94772 17.1078 7.5 16.5555 7.5H16.3333Z",fill:f}))}f.displayName="NoiseCancellationActive"},400217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),d("path",{d:"M30.6666 24.9644L35.1111 20.5199V31C35.1111 32.1046 34.2156 33 33.1111 33H32.6666C31.562 33 30.6666 32.1046 30.6666 31V24.9644Z",fill:f}),d("path",{d:"M26.2224 14.1463V8C26.2224 6.89543 25.327 6 24.2224 6H23.7779C22.6734 6 21.7779 6.89543 21.7779 8V18.5907L26.2224 14.1463Z",fill:f}),d("path",{d:"M21.7779 33.8543L21.9254 33.7056L26.2224 29.4086V40C26.2224 41.1046 25.327 42 24.2224 42H23.7779C22.6734 42 21.7779 41.1046 21.7779 40V33.8543Z",fill:f}),d("path",{
d:"M17.3332 23.0354L12.8888 27.4799V12.5C12.8888 11.3954 13.7842 10.5 14.8888 10.5H15.3332C16.4378 10.5 17.3332 11.3954 17.3332 12.5V23.0354Z",fill:f}),d("path",{d:"M8.44445 28.75C8.44445 29.8546 7.54902 30.75 6.44445 30.75H6C4.89543 30.75 4 29.8546 4 28.75V19.25C4 18.1454 4.89543 17.25 6 17.25H6.44445C7.54902 17.25 8.44445 18.1454 8.44445 19.25L8.44445 28.75Z",fill:f}),d("path",{d:"M44.0001 26.5C44.0001 27.6046 43.1047 28.5 42.0001 28.5H41.5557C40.4511 28.5 39.5557 27.6046 39.5557 26.5V21.5C39.5557 20.3954 40.4511 19.5 41.5557 19.5H42.0001C43.1047 19.5 44.0001 20.3954 44.0001 21.5V26.5Z",fill:f}),d("path",{d:"M42 8.54L39.46 6L6 39.46L8.54 42L16.92 33.64L19.38 31.16L22.7 27.84L29.98 20.56L42 8.54Z",fill:f,className:c}))}f.displayName="NoiseCancellationDisabled"},330998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{x:"2",y:"20",width:"26",height:"2",transform:"rotate(-45 2 20)",fill:"#ed4245"});function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,p=e.foreground,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{width:n,height:a,viewBox:"0 0 24 24"}),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:p,fill:c,
d:"M8.67872 19H11V21H7V23H17V21H13V19H20C21.103 19 22 18.104 22 17V6C22 5.89841 21.9924 5.79857 21.9777 5.70101L20 7.67872V15H12.6787L8.67872 19ZM13.1496 6H4V15H4.14961L2.00515 17.1445C2.00174 17.0967 2 17.0486 2 17V6C2 4.897 2.897 4 4 4H15.1496L13.1496 6Z"}),f))}c.displayName="OverlayOff"},523356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,fillRule:"evenodd",clipRule:"evenodd",d:"M20.2949 0.298996L21.7089 1.713L19.4169 4.006L21.7089 6.299L20.2949 7.713L18.0019 5.42L15.7099 7.713L14.2949 6.299L16.5879 4.006L14.2949 1.713L15.7099 0.298996L18.0019 2.592L20.2949 0.298996ZM8.00195 13.006C10.207 13.006 12.002 11.211 12.002 9.006C12.002 6.801 10.207 5.006 8.00195 5.006C5.79695 5.006 4.00195 6.801 4.00195 9.006C4.00195 11.211 5.79695 13.006 8.00195 13.006ZM8.00195 14.006C3.29095 14.006 0.00195312 16.473 0.00195312 20.006V21.006H16.002V20.006C16.002 16.473 12.713 14.006 8.00195 14.006Z"}))}f.displayName="PersonRemove"},303213:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 60 60"}),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:c,fill:f,
d:"M8.95185131,8.62650012 L8.92775494,8.65059649 C3.20486729,14.2891468 -0.0119979765,21.9758886 5.02080018e-05,29.9999795 C-0.0119979765,36.56624 2.14462705,42.9517778 6.13257613,48.1686417 C6.16872068,48.2168345 6.24100979,48.252979 6.28920253,48.2168345 C6.33739527,48.1806899 6.34944345,48.120449 6.32534708,48.0602081 C4.03619202,40.9879237 15.722931,23.8433572 21.7711196,16.6626392 C21.795216,16.6385428 21.8193124,16.6144465 21.8193124,16.5783019 C21.8193124,16.5421573 21.795216,16.5060128 21.7590715,16.4819164 C11.6024519,6.37348961 8.8795622,8.68674104 8.92775494,8.65059649 M51.048208,8.62650012 L51.0723044,8.65059649 C56.795192,14.2770987 60.0000091,21.9758886 59.9879609,29.9999795 C60.0000091,36.56624 57.8433841,42.9517778 53.855435,48.1686417 C53.8192905,48.2168345 53.7470014,48.252979 53.6988086,48.2168345 C53.6506159,48.1806899 53.6506159,48.120449 53.6626641,48.0602081 C55.9518191,40.9879237 44.2650801,23.831309 38.2289397,16.650591 C38.2048433,16.6264946 38.180747,16.6023983 38.180747,16.5662537 C38.180747,16.518061 38.2048433,16.4939646 38.2409879,16.4698682 C48.4096556,6.36144143 51.0964008,8.68674104 51.0602562,8.65059649 M30.0000297,0 C36.0482183,0 41.0361667,1.66264946 45.626525,4.38553917 C45.6867659,4.40963554 45.6988141,4.48192464 45.6747177,4.53011738 C45.6506214,4.57831012 45.5903804,4.5903583 45.5301395,4.57831012 C39.7229146,3.32529893 30.8915953,8.33734369 30.0602706,8.84336744 C30.0361742,8.85541562 30.024126,8.86746381 30.0000297,8.86746381 C29.9759333,8.86746381 29.9518369,8.85541562 29.9397887,8.84336744 C27.7229228,7.56625988 19.5663019,3.28915437 14.4217271,4.61445467 C14.3614862,4.62650286 14.3012452,4.61445467 14.2771489,4.56626193 C14.2530525,4.50602101 14.2771489,4.44578009 14.3253416,4.42168372 C18.9156999,1.66264946 23.9638892,0 30.0000297,0 M30.0000297,24.0602245 C30.0361742,24.0602245 30.0723188,24.0843209 30.0964151,24.1084172 C39.0723126,30.9397379 54.4337479,47.8071962 49.7470041,52.5782773 L49.7590523,52.5662291 L49.7590523,52.5782773 L49.7470041,52.5782773 C44.2771283,57.3734547 37.2650849,60.0120071 30.0000297,59.9999589 C22.7349744,60.0120071 15.7108828,57.3734547 10.2530552,52.5782773 L10.2410071,52.5662291 L10.2530552,52.5782773 C5.56631146,47.8071962 20.9277467,30.9276897 29.9036442,24.1084172 C29.9156924,24.0843209 29.9638851,24.0602245 30.0000297,24.0602245"
})))}f.displayName="PlatformXbox"},311591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z"}))
}f.displayName="PrivacyAndSafety"},924671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}
function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{
d:"M21.03 7.76998C20.955 7.60998 20.81 7.48998 20.635 7.44498C20.545 7.41998 20.445 7.39498 20.35 7.36998C19.805 7.22998 19.135 7.56498 18.85 8.11498L17.87 9.99998C17.585 10.55 17.225 10.51 17.07 9.90998L14.895 1.38498C14.74 0.779981 14.14 0.459981 13.55 0.664981C12.96 0.869981 12.595 1.52498 12.725 2.13498L13.995 7.95998C14.13 8.56998 14.075 9.11498 13.875 9.18498C13.675 9.25498 13.35 8.83498 13.15 8.24498L11.05 2.07498C10.85 1.48498 10.21 1.17498 9.62004 1.37998C9.03004 1.58498 8.71504 2.22998 8.91004 2.81998L10.97 8.99998C11.165 9.58998 11.165 10.125 10.965 10.195C10.765 10.265 10.385 9.86498 10.125 9.29998L7.77504 4.29998C7.51004 3.73998 6.82004 3.44498 6.23004 3.64998C5.64504 3.85498 5.37504 4.47498 5.64004 5.03998L8.60004 11.045C8.86004 11.61 8.91004 12.125 8.71004 12.195C8.51004 12.265 8.03004 11.93 7.64004 11.445L5.60504 8.82498C5.21504 8.33998 4.54004 8.07498 4.09504 8.22998C3.65504 8.38498 3.54004 8.94498 3.84504 9.48998L6.34504 13.865C6.40004 14.02 7.85504 16.8 7.96004 16.915C9.00004 18.565 10.645 19.51 12.73 18.79L14.91 18.035C16.145 17.605 17.095 16.735 17.63 15.7C17.64 15.69 20.15 10.205 21.03 8.28498C21.105 8.11498 21.105 7.92998 21.03 7.76998Z",
fill:f}),d("path",{d:"M21.3251 23.4001L19.1101 19.0301C18.8501 18.5201 18.2501 18.2851 17.7151 18.4851L12.3101 20.5101C12.0201 20.6201 11.7851 20.8451 11.6651 21.1351C11.5451 21.4251 11.5551 21.7501 11.6851 22.0301L12.3151 23.3951H21.3251V23.4001Z",fill:f}))}f.displayName="RaisedHand"},496709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),d("g",{clipPath:"url(#clip0)"},void 0,d("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",
fill:f})),d("defs",{},void 0,d("clipPath",{id:"clip0"},void 0,d("rect",{width:"24",height:"24",fill:f}))))}f.displayName="RaisedHandList"},952117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=i;var r;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r)}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function i(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,i=e.color,u=void 0===i?"currentColor":i;return o("svg",{className:e.className,width:n,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,o("path",{className:e.foreground,fill:u,fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.5C2 3.397 2.897 2.5 4 2.5H20C21.103 2.5 22 3.397 22 4.5V15.5C22 16.604 21.103 17.5 20 17.5H13V19.5H17V21.5H7V19.5H11V17.5H4C2.897 17.5 2 16.604 2 15.5V4.5ZM13.2 14.3375V11.6C9.864 11.6 7.668 12.6625 6 15C6.672 11.6625 8.532 8.3375 13.2 7.6625V5L18 9.6625L13.2 14.3375Z"}))}i.displayName="Screenshare"},982244:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a,o=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("path",{d:"M18 22.001H3a1 1 0 0 1-1-1v-15h2v14h14v2Z"}),c=d("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 2.001H7a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-14a1 1 0 0 0-1-1Zm-5.842 2.606a.619.619 0 0 0-.674.134L11.832 7.65H9.977a.62.62 0 0 0-.618.618v3.707c0 .34.278.618.618.618h1.854l2.652 2.908a.619.619 0 0 0 1.055-.436V5.178c0-.25-.15-.476-.381-.571Zm1.64 4.793V7.8c1.324 0 2.4 1.076 2.4 2.4 0 1.323-1.076 2.4-2.4 2.4V11c.442 0 .8-.36.8-.8 0-.44-.358-.8-.8-.8Z"}),p=d("defs",{},void 0,d("clipPath",{id:"a"},void 0,d("path",{fill:"#fff",d:"M0 0h24v24H0z"})));function v(e){
var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,v=void 0===l?"currentColor":l,y=e.foreground,h=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(h),{fill:"none",xmlns:"http://www.w3.org/2000/svg",width:n,height:a,viewBox:"0 0 24 24"}),d("g",{clipPath:"url(#a)",fill:v,className:y},void 0,f,c),p)}v.displayName="Soundboard"},233121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M13.5605 11L11.2646 8.706L12.6842 7.294L17.4023 12.009L12.6822 16.708L11.2656 15.292L13.5685 13H2C2.50429 18.045 6.7842 22 11.9744 22C17.5025 22 22 17.513 22 12C22 6.487 17.5025 2 11.9744 2C6.7842 2 2.50429 5.954 2 11H13.5605Z"}))}f.displayName="StageLeave"},980351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 32 32"}),d("rect",{width:"32",height:"32",rx:"16",fill:f}),d("path",{d:"M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",
className:c}))}f.displayName="StarBadge"},934297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?14:t,r=e.height,a=void 0===r?14:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 14 14"}),d("path",{fill:f,className:c,
d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"}))}f.displayName="Status"},485308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 16 16"}),d("path",{fill:f,className:c,d:"M2.66663 7.40747H7.40737H8.59255H8.66663H13.3333V8.59266H8.59255H7.40737H2.66663V7.40747Z"}))}f.displayName="Subtract"},12713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?20:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),d("path",{
d:"M13.4996 0H6.72144C6.62254 1.34004e-06 6.52586 0.0293272 6.44363 0.0842743C6.36141 0.139221 6.29733 0.217322 6.25949 0.308693C6.22165 0.400063 6.21176 0.500602 6.23106 0.597595C6.25037 0.694589 6.298 0.783679 6.36794 0.8536L7.63564 2.1213C7.82317 2.30884 7.92853 2.56319 7.92853 2.8284C7.92853 3.09361 7.82317 3.34796 7.63564 3.5355L6.22144 4.9498C5.65884 5.51241 5.34277 6.27546 5.34277 7.0711C5.34277 7.86674 5.65884 8.62979 6.22144 9.1924C6.40897 9.37993 6.66331 9.48528 6.92853 9.48528C7.19374 9.48528 7.4481 9.37993 7.63564 9.1924L9.75703 7.0711C10.1321 6.69603 10.6408 6.48533 11.1712 6.48533C11.7017 6.48533 12.2104 6.69603 12.5854 7.0711L13.146 7.6317C13.2159 7.70164 13.305 7.74927 13.402 7.76858C13.499 7.78788 13.5996 7.77799 13.6909 7.74015C13.7823 7.70231 13.8604 7.63823 13.9154 7.556C13.9703 7.47377 13.9996 7.37709 13.9996 7.2782V0.5C13.9996 0.367392 13.9469 0.240214 13.8532 0.146446C13.7594 0.052678 13.6322 0 13.4996 0Z",fill:f}),d("path",{
d:"M4.5 17.9999H11.2782C11.3771 17.9999 11.4738 17.9706 11.556 17.9157C11.6382 17.8607 11.7023 17.7826 11.7401 17.6912C11.778 17.5999 11.7879 17.4993 11.7686 17.4023C11.7493 17.3053 11.7016 17.2163 11.6317 17.1463L10.364 15.8786C10.1765 15.6911 10.0711 15.4367 10.0711 15.1715C10.0711 14.9063 10.1765 14.652 10.364 14.4644L11.7782 13.0501C12.3408 12.4875 12.6569 11.7245 12.6569 10.9288C12.6569 10.1332 12.3408 9.37014 11.7782 8.80753C11.5907 8.62 11.3363 8.51465 11.0711 8.51465C10.8059 8.51465 10.5515 8.62 10.364 8.80753L8.2426 10.9288C7.86753 11.3039 7.35883 11.5146 6.8284 11.5146C6.29797 11.5146 5.78927 11.3039 5.4142 10.9288L4.85361 10.3682C4.78369 10.2983 4.69459 10.2507 4.5976 10.2314C4.5006 10.2121 4.40006 10.2219 4.30869 10.2598C4.21731 10.2976 4.13922 10.3617 4.08427 10.4439C4.02933 10.5262 4 10.6228 4 10.7217V17.4999C4 17.6325 4.05269 17.7597 4.14645 17.8535C4.24022 17.9473 4.36739 17.9999 4.5 17.9999Z",fill:f}))}f.displayName="SwitchAccountsIcon"},128103:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?40:t,r=e.height,a=void 0===r?40:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 20 21",fill:f,xmlns:"http://www.w3.org/2000/svg"}),d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",
d:"M9.2139 1.00082L0.271335 12.3825C-0.0698739 12.8168 0.00557122 13.4454 0.439846 13.7866C0.616031 13.9251 0.833599 14.0003 1.05766 14.0003H5.00022V20.0003C5.00022 20.5526 5.44794 21.0003 6.00022 21.0003H14.0002C14.5525 21.0003 15.0002 20.5526 15.0002 20.0003V14.0003H18.9428C19.495 14.0003 19.9428 13.5526 19.9428 13.0003C19.9428 12.7763 19.8675 12.5587 19.7291 12.3825L10.7865 1.00082C10.4453 0.566546 9.81669 0.4911 9.38241 0.832308C9.31972 0.881561 9.26315 0.938133 9.2139 1.00082Z",fill:f}))}f.displayName="ThickArrowUp"},637853:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{width:"20",
height:"16"});function c(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,viewBox:"0 0 20 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:c,
d:"M1,14.1538462 L1.95,14.1538462 C3.73125,14.1538462 5.5125,13.5384615 6.81875,12.4307692 C5.15625,12.4307692 3.73125,11.2 3.1375,9.6 C3.375,9.6 3.6125,9.72307692 3.85,9.72307692 C4.20625,9.72307692 4.5625,9.72307692 4.91875,9.6 C3.1375,9.23076923 1.7125,7.63076923 1.7125,5.66153846 C2.1875,5.90769231 2.78125,6.15384615 3.49375,6.15384615 C2.425,5.41538462 1.83125,4.18461538 1.83125,2.70769231 C1.83125,1.96923077 2.06875,1.23076923 2.30625,0.615384615 C4.20625,3.07692308 7.05625,4.67692308 10.38125,4.8 C10.2625,4.67692308 10.2625,4.30769231 10.2625,4.06153846 C10.2625,1.84615385 12.04375,0 14.18125,0 C15.25,0 16.31875,0.492307692 17.03125,1.23076923 C17.8625,1.10769231 18.8125,0.738461538 19.525,0.246153846 C19.2875,1.23076923 18.575,1.96923077 17.8625,2.46153846 C18.575,2.46153846 19.2875,2.21538462 20,1.84615385 C19.525,2.70769231 18.8125,3.32307692 18.1,3.93846154 L18.1,4.43076923 C18.1,9.84615385 14.18125,16 6.9375,16 C4.68125,16 2.6625,15.3846154 1,14.1538462 Z"}),f))}
c.displayName="Twitter"},298408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}
function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{fill:f,
d:"M12 14C7.289 14 4 16.467 4 20V22H20V20C20 16.467 16.711 14 12 14ZM11 19C10.447 19 10 18.553 10 18C10 17.447 10.447 17 11 17C11.553 17 12 17.447 12 18C12 18.553 11.553 19 11 19ZM14 19C13.447 19 13 18.553 13 18C13 17.447 13.447 17 14 17C14.553 17 15 17.447 15 18C15 18.553 14.553 19 14 19Z"}),d("path",{fill:f,d:"M18 6H17.91C17.432 3.167 14.967 1 12 1C9.033 1 6.568 3.167 6.09 6H6C4.896 6 4 6.896 4 8V9C4 10.104 4.896 11 6 11C6 12.102 6.897 13 8 13H16C17.104 13 18 12.102 18 11C19.104 11 20 10.104 20 9V8C20 6.896 19.104 6 18 6ZM16 10H8V6H16V10Z"}))}f.displayName="UnknownUser"},950291:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:c,x:"1",y:"4",width:"13",height:"16",rx:"2",fill:f}),d("rect",{className:c,x:"16",y:"4",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"16",y:"13",width:"7",height:"7",rx:"1",fill:f}))}f.displayName="VideoLayout"},251689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=O(n(294184)),i=O(n(441143)),u=O(n(711195)),l=O(n(530250)),s=O(n(160629)),d=O(n(730977)),f=O(n(167870)),c=O(n(259530)),p=O(n(347114)),v=O(n(628551)),y=O(n(550270)),h=O(n(139574)),m=O(n(902060)),_=O(n(683898)),g=n(770348),E=O(n(247001)),S=O(n(110854));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var A=5,P=4,M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];(t=e.call.apply(e,[this].concat(r))||this).renderPartyMember=function(e,n){if(null==e)return null;var r,l=t.props,f=l.host,c=l.renderUserPopout,p=l.onUserContextMenu;r=(null==f?void 0:f.id)===e.id?E.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;return I(s.default,{preload:function(){return(0,
u.default)(e.id,e.getAvatarURL(void 0,80))},renderPopout:function(t){(0,i.default)(null!=e,"");return c(t,e)},position:s.default.Positions.TOP,align:s.default.Align.CENTER},e.id,(function(t){return I(d.default,{text:r},void 0,(function(r){var i=r.onMouseEnter,u=r.onMouseLeave;return a.createElement(v.default,C({},t,{key:e.id,src:e.getAvatarURL(void 0,24),size:v.default.Sizes.SIZE_24,className:(0,o.default)(S.default.avatar,n),"aria-label":e.username,onMouseEnter:i,onMouseLeave:u,onContextMenu:function(t){null!=e&&(null==p||p(t,e))}}))}))}))};t.renderPartyMemberOverflow=function(e,n,r){var i=t.props.renderOverflowPopout;return I(s.default,{renderPopout:i},r,(function(t){return I(d.default,{text:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,(function(r){return a.createElement("div",C({className:(0,o.default)(S.default.overflow,n)},r,t),e)}))}))};return t}var n=t.prototype;n.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===(null==n?void 0:n.id)}
;n.renderTitle=function(){return I("div",{},void 0,I(_.default,{},void 0,this.isHost()?E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),I(m.default,{},void 0,E.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))};n.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:I(h.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_STOP,onClick:e,icon:c.default})};n.renderHelpIcon=function(){if(!this.isHost())return null;return I(h.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_INFO,onClick:function(){window.open(y.default.getArticleURL(g.HelpdeskArticles.SPOTIFY_CONNECTION),"_blank")},icon:p.default})};n.render=function(){return I("div",{className:S.default.listeningAlong},void 0,this.renderTitle(),I(l.default,{justify:l.default.Justify.END,className:S.default.party},void 0,I(f.default,{users:this.props.party,
max:this.isHost()?A:P,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),I("div",{className:S.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))};return t}(a.PureComponent);M.displayName="ListeningAlong";var N=M;t.default=N},57754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=v(n(667294)),i=c(n(294184)),u=c(n(324582)),l=c(n(287317)),s=v(n(272544)),d=n(942675),f=c(n(786588));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}!function(e){e[e.OUTGOING=0]="OUTGOING";e[e.INCOMING=1]="INCOMING"}(a||(a={}));var _=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderStatus=function(){var e=this.props,t=e.muted,n=e.deafen,r=n?u.default:l.default;return t||n?h(r,{className:f.default.status},"status"):null};n.renderBorder=function(){var e,t=this.props.speaking;return h("div",{className:(0,i.default)(f.default.border,(e={},e[f.default.speaking]=t,e))},"border")};n.renderVoiceCallAvatar=function(){var e,t=this.props,n=t.src,r=t.disabled,o=t.ringing,u=t.ringingType,l=t.avatarClassName,c=t.muted,p=t.deafen,v=t.size,y=t.renderIcon,m=(0,d.getAvatarSize)(v),_=h("img",{src:n,alt:" ",className:(0,i.default)(f.default.voiceAvatar,l,(e={},e[f.default.ringingOutgoing]=o&&u===a.OUTGOING,e))});if(r)return _;var g=s.MaskIDs.AVATAR_DEFAULT;null!=y?g=v===d.Sizes.SIZE_32?s.MaskIDs.AVATAR_CALL_ICON_32:s.MaskIDs.AVATAR_CALL_ICON:(c||p)&&(g=s.MaskIDs.AVATAR_VOICE_CALL_80);return h(s.default,{
className:f.default.callAvatarMask,width:m,height:m,mask:g},void 0,null==y?void 0:y(),_,c||p?this.renderStatus():this.renderBorder())};n.render=function(){var e,t=this.props,n=t.size,r=t.onClick,o=t.style,u=t.onContextMenu,l=t.className,s=t.ringingType,c=t.ringing,p=(0,i.default)(f.default.wrapper,((e={})[f.default.clickable]=null!=r,e[f.default.ringingOutgoing]=c&&s===a.OUTGOING,e[f.default.ringingIncoming]=c&&s===a.INCOMING,e),l),v=(0,d.getAvatarSize)(n);return h("div",{style:y({height:v,width:v},o),onContextMenu:u,className:p},void 0,this.renderVoiceCallAvatar())};return t}(o.PureComponent);_.displayName="CallAvatar";_.defaultProps={size:d.Sizes.SIZE_80,ringingType:a.OUTGOING,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,paused:!1};_.RingingType=a;var g=_;t.default=g},540671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPartyMetadata=function(e){return{af_voice_chat:e.voiceChannels.length>0,
af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some((function(e){var t=e.activity;return(0,a.default)(t)})),game_platform:e.currentActivities.length>0?(0,r.default)(e.currentActivities[0].activity):null}};var r=o(n(200738)),a=o(n(93392));function o(e){return e&&e.__esModule?e:{default:e}}},899984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(120053))&&r.__esModule?r:{default:r};function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return o.apply(this,arguments)}var i,u=a.default.defaultRules.lheading,l=a.default.defaultRules.heading,s=a.default.defaultRules.link,d=a.default.defaultRules.image,f=a.default.defaultRules.list,c=a.default.defaultRules.blockQuote,p=a.default.defaultRules.paragraph,v=/\{(.+?)}/,y=/^\$(\w+?)\$/;i=n(222234);var h=function(e){
var t=e.transformUpperCase,n=void 0!==t&&t;return function(e,t,r){var o=v.exec(e[1]),i=e[1].replace(v,"");n&&(i=i.toUpperCase());return{className:null!=o?o[1]:null,level:"="===e[2]?1:2,content:a.default.parseInline(t,i,r)}}},m=function(e){return o({},i.baseRules,{image:o({},d,{},"function"==typeof i.customRules.image?i.customRules.image(e):i.customRules.image),link:o({},s,{},"function"==typeof i.customRules.link?i.customRules.link(e):i.customRules.link),list:o({},f,{},"function"==typeof i.customRules.list?i.customRules.list(e):i.customRules.list),interpolation:{order:a.default.defaultRules.text.order,match:function(e){return y.exec(e)},parse:function(e,t,n){var r=n.interpolations[e[1]];return null==r?{type:"text",content:e[0]}:{type:"interpolation",renderer:r}},react:function(e){return e.renderer()}},lheading:o({},u,{parse:h({transformUpperCase:!0})},"function"==typeof i.customRules.lheading?i.customRules.lheading(e):i.customRules.lheading),
heading:o({},l,{},"function"==typeof i.customRules.heading?i.customRules.heading(e):i.customRules.heading),blockQuote:o({},c,{},"function"==typeof i.customRules.blockQuote?i.customRules.blockQuote(e):i.customRules.blockQuote),paragraph:o({},p,{},"function"==typeof i.customRules.paragraph?i.customRules.paragraph(e):i.customRules.paragraph)})},_={getDefaultRules:function(e){return o({},m(e))},getSpecialRules:function(e){return o({},m(e),{},function(e){return{lheading:o({},u,{parse:h({transformUpperCase:!1})},"function"==typeof i.customRules.lheading?i.customRules.lheading(e):i.customRules.lheading)}}(e))}};t.default=_},303763:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.RowTypes=void 0;t.generateRowsForQuery=function(e,t,n,r,a){var o=new Set,u=[],v={numFriends:0,numDms:0,numGroupDms:0};if(""===e){if(null!=n)for(var y,m=h(n);!(y=m()).done;){var E=y.value;if(null!=r&&r>0&&u.length>=r)break;if(!t.has(E)){var S=d.default.getUser(E)
;if(null!=S&&!g(a,S.id)){o.add(S.id);u.push({type:_.FRIEND,item:S,isSuggested:!0});v.numFriends++}}}for(var O,b=h(f.default.getPrivateChannelIds());!(O=b()).done;){var I=O.value;if(null!=r&&r>0&&u.length>=r)break;var C=i.default.getChannel(I);if(null!=C)if(C.type!==p.ChannelTypes.GROUP_DM){if(null!=l.default.lastMessageId(C.id)){var T=C.getRecipientId();if(null!=T&&!t.has(T)&&!o.has(T)){var A=d.default.getUser(T);if(null==A||A.bot||g(a,A.id))continue;o.add(A.id);u.push({type:_.DM,item:A,isSuggested:!1});v.numDms++}}}else{u.push({type:_.GROUP_DM,item:C,isSuggested:!1});v.numGroupDms++}}for(var P,M=h(s.default.getFriendIDs());!(P=M()).done;){var N=P.value;if(null!=r&&r>0&&u.length>=r)break;if(!t.has(N)&&!o.has(N)){var R=d.default.getUser(N);if(null!=R&&!g(a,R.id)){u.push({type:_.FRIEND,item:R,isSuggested:!1});v.numFriends++}}}}else{c.default.queryDMUsers(e,50,!1).forEach((function(e){var n=e.user;if(!t.has(n.id)){var r=i.default.getDMFromUserId(n.id);if(null!=r){
if(null!=l.default.lastMessageId(r)){o.add(n.id);u.push({type:_.DM,item:n,isSuggested:!1});v.numDms++}}}}));c.default.queryGroupDMs(e,50,!1).forEach((function(e){var t=e.channel;u.push({type:_.GROUP_DM,item:t,isSuggested:!1});v.numGroupDms++}));c.default.queryFriends(e,500,!1).forEach((function(e){var n=e.user;if(!t.has(n.id)&&!o.has(n.id)){u.push({type:_.FRIEND,item:n,isSuggested:!1});v.numFriends++}}))}return{rows:u,counts:v}};t.getMostRecentDMedUser=function(e,t){for(var n,r=h(f.default.getPrivateChannelIds());!(n=r()).done;){var a=n.value,o=i.default.getChannel(a);if(null!=o&&o.type===p.ChannelTypes.DM&&null!=l.default.lastMessageId(o.id)){var u=o.getRecipientId();if(null!=u&&!e.has(u)){var s=d.default.getUser(u);if(null==s||s.bot||g(t,s.id))continue;return s}}}return null};t.maxAgeString=function(e,t){var n=parseInt(t,10),r=0===n,a=I[e].value;switch(I[e].type){case E:return r?v.default.Messages.INVITE_EXPIRES_MINUTES:v.default.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({
numUses:n});case S:return r?v.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:a}):v.default.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:a,numUses:n});case O:return r?v.default.Messages.INVITE_EXPIRES_DAYS_PLURAL.format({numDays:a}):v.default.Messages.INVITE_EXPIRES_DAYS_OR_USES_PLURAL.format({numDays:a,numUses:n});case b:return r?v.default.Messages.INVITE_EXPIRES_NEVER:v.default.Messages.INVITE_EXPIRES_USES.format({numUses:n});default:return""}};t.urgentShareMessageString=function(e,t){if(null==e)return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t});var n=I[e].value;switch(I[e].type){case E:return v.default.Messages.INVITE_URGENT_MINUTES_PLACEHOLDER.format({numMinutes:n,link:t});case S:return v.default.Messages.INVITE_URGENT_HOURS_MESSAGE_PLACEHOLDER.format({numHours:n,link:t});case O:return v.default.Messages.INVITE_URGENT_DAYS_MESSAGE_PLACEHOLDER.format({numDays:n,link:t});default:return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t})}
};var r,a,o=y(n(213192)),i=y(n(644263)),u=y(n(876874)),l=y(n(191391)),s=y(n(290629)),d=y(n(728429)),f=y(n(417501)),c=y(n(424956)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a=n(990054);var _=(0,o.default)({GROUP_DM:null,DM:null,FRIEND:null});t.RowTypes=_;function g(e,t){return null!=e&&u.default.isMember(e,t)}var E="minutes",S="hours",O="days",b="never",I=((r={})[a.INVITE_OPTIONS_30_MINUTES.value]={value:30,type:E},r[a.INVITE_OPTIONS_1_HOUR.value]={value:1,type:S},r[a.INVITE_OPTIONS_6_HOURS.value]={value:6,type:S},r[a.INVITE_OPTIONS_12_HOURS.value]={value:12,type:S},r[a.INVITE_OPTIONS_1_DAY.value]={value:1,type:O},r[a.INVITE_OPTIONS_7_DAYS.value]={value:7,type:O},r[a.INVITE_OPTIONS_FOREVER.value]={value:0,type:b},r);var C={getMaxAgeOptions:a.MAX_AGE_OPTIONS,getMaxUsesOptions:a.MAX_USES_OPTIONS,INVITE_OPTIONS_FOREVER:a.INVITE_OPTIONS_FOREVER,INVITE_OPTIONS_1_DAY:a.INVITE_OPTIONS_1_DAY,INVITE_OPTIONS_7_DAYS:a.INVITE_OPTIONS_7_DAYS,INVITE_OPTIONS_12_HOURS:a.INVITE_OPTIONS_12_HOURS,INVITE_OPTIONS_6_HOURS:a.INVITE_OPTIONS_6_HOURS,INVITE_OPTIONS_1_HOUR:a.INVITE_OPTIONS_1_HOUR,
INVITE_OPTIONS_30_MINUTES:a.INVITE_OPTIONS_30_MINUTES,INVITE_OPTIONS_UNLIMITED:a.INVITE_OPTIONS_UNLIMITED,INVITE_OPTIONS_ONCE:a.INVITE_OPTIONS_ONCE,INVITE_OPTIONS_5_TIMES:a.INVITE_OPTIONS_5_TIMES,INVITE_OPTIONS_10_TIMES:a.INVITE_OPTIONS_10_TIMES,INVITE_OPTIONS_25_TIMES:a.INVITE_OPTIONS_25_TIMES,INVITE_OPTIONS_50_TIMES:a.INVITE_OPTIONS_50_TIMES,INVITE_OPTIONS_100_TIMES:a.INVITE_OPTIONS_100_TIMES};t.default=C},86997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.resolveThunk=t.default=void 0;var r,a=(r=n(496486))&&r.__esModule?r:{default:r};var o=function(e){return"function"==typeof e?e():e};t.resolveThunk=o;var i=a.default.curry((function(e,t,n){return o(t)?e(n):n({})}));t.default=i},40856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=c(n(496486)),i=c(n(728429)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(86997)),l=["promiseFn","resolve","reject","code","mfaCodeHandler","isModalOpen"],s=["hooks"],d=["checkEnabled"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=function(){
throw new Error("updateModal has not been implemented.")},h=n(546331);r=h.showModal;y=h.updateModalProps;a=n(194322).closeModal;function m(){var e,t;return null!==(e=null===(t=i.default.getCurrentUser())||void 0===t?void 0:t.mfaEnabled)&&void 0!==e&&e}function _(e){var t=e.promiseFn,n=e.resolve,o=e.reject,i=e.confirmModalProps,u=e.hooks.onEarlyClose;if(null!=r)var l=r(c,s,i);else u();function s(){null==u||u()}function d(e){a(l);n(e)}function f(e){a(l);o(e)}function c(e){y(l,c,s,v({},i,{isLoading:!0}));return g({promiseFn:t,resolve:d,reject:f,code:e,mfaCodeHandler:p,isModalOpen:!0})}function p(e){var t=e.res;y(l,c,s,v({},i,{error:t.body.message}))}}function g(e){var t=e.promiseFn,n=e.resolve,r=e.reject,a=e.code,o=e.mfaCodeHandler,i=void 0===o?_:o,u=e.isModalOpen,s=void 0!==u&&u,d=p(e,l);return t(null!=a?{code:a}:{}).then(n,(function(e){if(function(e,t){return e.body&&60008===e.body.code||t&&429===e.status}(e,s))return i(v({promiseFn:t,resolve:n,reject:r,res:e},d));r(e)}))}
var E=o.default.curry((function(e,t,n){void 0===n&&(n={});var r=n,a=r.checkEnabled,o=void 0===a?m:a;return function(e,t){var n=e.hooks,r=void 0===n?{}:n,a=p(e,s);return(0,u.default)((function(e){return new Promise((function(n,o){((0,u.resolveThunk)(t)?_:g)(v({promiseFn:e,resolve:n,reject:o,hooks:r},a))}))}),!0)}(v({confirmModalProps:e},p(r,d)),o)(t)}),2);t.default=E},951530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRecipients=function(e,t){return(0,a.default)(e).map(t.getUser).unshift(t.getCurrentUser()).filter(o.isNotNullish).sortBy((function(e){return e.username.toLowerCase()})).value()};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(71246)},522731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showAcceptedNotification=function(e){f(e,s.default.Messages.NOTIFICATION_ACCEPTED_FRIEND_REQUEST,(function(){r.default.openPrivateChannel(e.id)}))};t.showPendingNotification=function(e){
f(e,s.default.Messages.NOTIFICATION_PENDING_FRIEND_REQUEST,(function(){(0,n(910992).openUserProfileModal)({userId:e.id});(0,i.transitionTo)(l.Routes.FRIENDS);a.default.setSection(l.FriendsSections.PENDING)}))};var r=d(n(709403)),a=d(n(99694)),o=d(n(969226)),i=n(139982),u=d(n(692711)),l=n(770348),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){o.default.showNotification(u.default.getUserAvatarURL(e),e.username,t,{},{omitViewTracking:!0,omitClickTracking:!0,tag:e.id,onClick:n})}},222234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.customRules=t.baseRules=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(120053)),u=p(n(241165)),l=p(n(226800)),s=p(n(268389)),d=p(n(151097)),f=p(n(308920)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return h.apply(this,arguments)}function m(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=i.default.defaultRules.link,E={section:c.AnalyticsSections.SETTINGS_CHANGELOG};function S(e,t){return null==t?[]:t.split(" ").map((function(t){return e[t]}))}var O=function(e){
var t=e.level,n=e.children,r=e.className,i=void 0===r?null:r,u=e.styleSheet,l=void 0===u?{}:u;return a.createElement("h"+t,{className:o.default.apply(void 0,m(S(l,i)))},n)},b=s.default.defaultRules;t.baseRules=b;var I={link:{parse:function(e,t,n){var r,a=e[2],o=a.startsWith("https://discordapp.com/nitro")||a.startsWith("https://discord.com/nitro"),i=a.startsWith("https://discordapp.com/hypesquad")||a.startsWith("https://discord.com/hypesquad");r=o||i?function(e){f.default.track(c.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:E});o?l.default.open(c.UserSettingsSections.PREMIUM):i&&l.default.open(c.UserSettingsSections.HYPESQUAD_ONLINE);n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"});u.default.hideChangeLog();e.preventDefault()}:function(){n&&"function"==typeof n.onLinkClick&&n.onLinkClick(a);n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,h({},f.default.getCampaignParams(a)))};return h({},g.parse(e,t,n),{callToAction:r})},
react:function(e,t,n){return y(d.default,{href:i.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":void 0},n.key,t(e.content,n))}},lheading:function(e){return{react:function(t,n,r){return y(O,{level:t.level,className:t.className,styleSheet:e},r.key,n(t.content,r))}}},heading:{react:function(e,t,n){return y(O,{level:e.level},n.key,t(e.content,n))}},image:{react:function(e,t,r){var a=n(478717)("./"+e.target);return y("img",{alt:e.alt,src:a},r.key)}},blockQuote:{react:b.blockQuote.react},paragraph:{react:function(e,t,n){return y("p",{},n.key,t(e.content,n))}}};t.customRules=I},990054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.MAX_USES_OPTIONS=t.MAX_AGE_OPTIONS=t.INVITE_OPTIONS_UNLIMITED=t.INVITE_OPTIONS_ONCE=t.INVITE_OPTIONS_FOREVER=t.INVITE_OPTIONS_7_DAYS=t.INVITE_OPTIONS_6_HOURS=t.INVITE_OPTIONS_5_TIMES=t.INVITE_OPTIONS_50_TIMES=t.INVITE_OPTIONS_30_MINUTES=t.INVITE_OPTIONS_25_TIMES=t.INVITE_OPTIONS_1_HOUR=t.INVITE_OPTIONS_1_DAY=t.INVITE_OPTIONS_12_HOURS=t.INVITE_OPTIONS_10_TIMES=t.INVITE_OPTIONS_100_TIMES=void 0;var r,a=(r=n(247001))&&r.__esModule?r:{default:r};function o(e,t){return{value:e,get label(){return t()}}}var i=o(0,(function(){return a.default.Messages.MAX_USES.format({maxUses:0})}));t.INVITE_OPTIONS_UNLIMITED=i;var u=o(1,(function(){return a.default.Messages.MAX_USES.format({maxUses:1})}));t.INVITE_OPTIONS_ONCE=u;var l=o(5,(function(){return a.default.Messages.MAX_USES.format({maxUses:5})}));t.INVITE_OPTIONS_5_TIMES=l;var s=o(10,(function(){return a.default.Messages.MAX_USES.format({maxUses:10})}));t.INVITE_OPTIONS_10_TIMES=s;var d=o(25,(function(){
return a.default.Messages.MAX_USES.format({maxUses:25})}));t.INVITE_OPTIONS_25_TIMES=d;var f=o(50,(function(){return a.default.Messages.MAX_USES.format({maxUses:50})}));t.INVITE_OPTIONS_50_TIMES=f;var c=o(100,(function(){return a.default.Messages.MAX_USES.format({maxUses:100})}));t.INVITE_OPTIONS_100_TIMES=c;var p=[i,u,l,s,d,f,c];t.MAX_USES_OPTIONS=p;var v=o(1800,(function(){return a.default.Messages.DURATION_MINUTES.format({minutes:30})}));t.INVITE_OPTIONS_30_MINUTES=v;var y=o(3600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:1})}));t.INVITE_OPTIONS_1_HOUR=y;var h=o(21600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:6})}));t.INVITE_OPTIONS_6_HOURS=h;var m=o(43200,(function(){return a.default.Messages.DURATION_HOURS.format({hours:12})}));t.INVITE_OPTIONS_12_HOURS=m;var _=o(86400,(function(){return a.default.Messages.DURATION_DAYS.format({days:1})}));t.INVITE_OPTIONS_1_DAY=_;var g=o(604800,(function(){
return a.default.Messages.DURATION_DAYS.format({days:7})}));t.INVITE_OPTIONS_7_DAYS=g;var E=o(0,(function(){return a.default.Messages.MAX_AGE_NEVER}));t.INVITE_OPTIONS_FOREVER=E;var S=[v,y,h,m,_,g,E];t.MAX_AGE_OPTIONS=S},546331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showModal=function(e,t,n){return(0,i.openModal)(s(e,t,n))};t.updateModalProps=function(e,t,n,r){return(0,i.updateModal)(e,s(t,n,r))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(410671))&&r.__esModule?r:{default:r},i=n(194322);function u(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e,t,n){return function(r){return a.createElement(o.default,l({handleSubmit:e,handleEarlyClose:t},n,r))}}},177661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedItemTypesSets=t.GuildFeedItemTypes=void 0;var n;t.GuildFeedItemTypes=n;!function(e){e.MESSAGE="message";e.FORUM_POST="forum_post"}(n||(t.GuildFeedItemTypes=n={}));t.GuildFeedItemTypesSets={}},582972:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedPreferenceEntityTypesSets=t.GuildFeedPreferenceEntityTypes=void 0;var n;t.GuildFeedPreferenceEntityTypes=n;!function(e){e.MESSAGE="message";e.CHANNEL="channel";e.USER="user"
}(n||(t.GuildFeedPreferenceEntityTypes=n={}));var r={ALL:new Set(["channel","message","user"])};t.GuildFeedPreferenceEntityTypesSets=r},789666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedPreferenceOptionsSets=t.GuildFeedPreferenceOptions=void 0;var n;t.GuildFeedPreferenceOptions=n;!function(e){e[e.HIDDEN=1]="HIDDEN";e[e.DEMOTED=2]="DEMOTED"}(n||(t.GuildFeedPreferenceOptions=n={}));var r={ALL:new Set([1,2])};t.GuildFeedPreferenceOptionsSets=r},229354:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=function(){function e(e,t){this._capacity=e;this._tokenCount=e;this._queue=[];this._intervalPeriod=t/e;this._intervalID=null}var t=e.prototype;t._processQueue=function(){var e=this;setTimeout((function(){if(e._queue.length>0&&e._tokenCount>0){e._tokenCount--;null==e._intervalID&&(e._intervalID=setInterval((function(){return e._iterate()}),e._intervalPeriod));var t=e._queue.shift();null==t||t();e._processQueue()}
}),0)};t._iterate=function(){this._tokenCount=Math.min(this._capacity,this._tokenCount+1);if(this._tokenCount>=this._capacity&&null!=this._intervalID){clearInterval(this._intervalID);this._intervalID=null}this._processQueue()};t.process=function(){var e=this;return new Promise((function(t){e._queue.push(t);e._processQueue()}))};return e}();t.default=n},479049:(e,t)=>{var n,r;r=function(e){"use strict";e=e||{};var t,n,r,a,o,i,u,l,s,d,f,c,p,v,y,h,m={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1,win:window};(p={}).ff="undefined"!=typeof InstallTrigger;p.chrome=!!window.chrome;p.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0;p.ie=!1;p.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;p.supported=p.chrome||p.ff||p.opera;var _=[];f=function(){};l=c=!1;var g={ready:function(){l=!0;g.reset();f()},reset:function(){if(l){_=[];s=!1;d=!1
;i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);b.setIcon(o);window.clearTimeout(v);window.clearTimeout(y)}},start:function(){if(l&&!d&&_.length>0){d=!0;var e=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach((function(e){e in _[0].options&&(t[e]=_[0].options[e])}));T.run(_[0].options,(function(){!function(){s=_[0];d=!1;if(_.length>0){_.shift();g.start()}}()}),!1)};s?T.run(s.options,(function(){e()}),!0):e()}}},E={},S=function(e){e.n="number"==typeof e.n?Math.abs(0|e.n):e.n;e.x=a*e.x;e.y=r*e.y;e.w=a*e.w;e.h=r*e.h;e.len=(""+e.n).length;return e};E.circle=function(e){var n=!1;if(2===(e=S(e)).len){e.x=e.x-.4*e.w;e.w=1.4*e.w;n=!0}else if(e.len>=3){e.x=e.x-.65*e.w;e.w=1.65*e.w;n=!0}i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);i.beginPath();i.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.85:1))+"px "+t.fontFamily;i.textAlign="center";if(n){i.moveTo(e.x+e.w/2,e.y);i.lineTo(e.x+e.w-e.h/2,e.y);i.quadraticCurveTo(e.x+e.w,e.y,e.x+e.w,e.y+e.h/2)
;i.lineTo(e.x+e.w,e.y+e.h-e.h/2);i.quadraticCurveTo(e.x+e.w,e.y+e.h,e.x+e.w-e.h/2,e.y+e.h);i.lineTo(e.x+e.h/2,e.y+e.h);i.quadraticCurveTo(e.x,e.y+e.h,e.x,e.y+e.h-e.h/2);i.lineTo(e.x,e.y+e.h/2);i.quadraticCurveTo(e.x,e.y,e.x+e.h/2,e.y)}else i.arc(e.x+e.w/2,e.y+e.h/2,e.h/2,0,2*Math.PI);i.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")";i.fill();i.closePath();i.beginPath();i.stroke();i.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")";"number"==typeof e.n&&e.n>999?i.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):i.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h));i.closePath()};E.rectangle=function(e){if(2===(e=S(e)).len){e.x=e.x-.4*e.w;e.w=1.4*e.w}else if(e.len>=3){e.x=e.x-.65*e.w;e.w=1.65*e.w}i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);i.beginPath();i.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.9:1))+"px "+t.fontFamily;i.textAlign="center"
;i.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")";i.fillRect(e.x,e.y,e.w,e.h);i.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")";"number"==typeof e.n&&e.n>999?i.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):i.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h));i.closePath()};function O(e){if(e.paused||e.ended||c)return!1;try{i.clearRect(0,0,a,r);i.drawImage(e,0,0,a,r)}catch(e){}y=setTimeout((function(){O(e)}),T.duration);b.setIcon(o)}var b={getIcon:function(){var e=!1;if(t.element)e=t.element;else if(t.elementId)(e=h.getElementById(t.elementId)).setAttribute("href",e.getAttribute("src"));else{e=function(){for(var e=h.getElementsByTagName("head")[0].getElementsByTagName("link"),t=e.length-1;t>=0;t--)if(/(^|\s)icon(\s|$)/i.test(e[t].getAttribute("rel")))return e[t];return!1}();if(!1===e){(e=h.createElement("link")).setAttribute("rel","icon")
;h.getElementsByTagName("head")[0].appendChild(e)}}e.setAttribute("type","image/png");return e},setIcon:function(e){var r=e.toDataURL("image/png");t.dataUrl&&t.dataUrl(r);if(t.element){t.element.setAttribute("href",r);t.element.setAttribute("src",r)}else if(t.elementId){var a=h.getElementById(t.elementId);a.setAttribute("href",r);a.setAttribute("src",r)}else if(p.ff||p.opera){var o=n;n=h.createElement("link");p.opera&&n.setAttribute("rel","icon");n.setAttribute("rel","icon");n.setAttribute("type","image/png");h.getElementsByTagName("head")[0].appendChild(n);n.setAttribute("href",r);o.parentNode&&o.parentNode.removeChild(o)}else n.setAttribute("href",r)}};function I(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return!!t&&{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function C(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}var T={duration:40,
types:{}};T.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}]
;T.run=function(e,n,r,a){var i=T.types[h.hidden||h.msHidden||h.webkitHidden||h.mozHidden?"none":t.animation];a=!0===r?void 0!==a?a:i.length-1:void 0!==a?a:0;n=n||function(){};if(a<i.length&&a>=0){E[t.type](C(e,i[a]));v=setTimeout((function(){r?a-=1:a+=1;T.run(e,n,r,a)}),T.duration);b.setIcon(o)}else n()};!function(){(t=C(m,e)).bgColor=I(t.bgColor);t.textColor=I(t.textColor);t.position=t.position.toLowerCase();t.animation=T.types[""+t.animation]?t.animation:m.animation;h=t.win.document;var l=t.position.indexOf("up")>-1,s=t.position.indexOf("left")>-1;if(l||s)for(var d=0;d<T.types[""+t.animation].length;d++){var f=T.types[""+t.animation][d];l&&(f.y<.6?f.y=f.y-.4:f.y=f.y-2*f.y+(1-f.w));s&&(f.x<.6?f.x=f.x-.4:f.x=f.x-2*f.x+(1-f.h));T.types[""+t.animation][d]=f}t.type=E[""+t.type]?t.type:m.type;n=b.getIcon();o=document.createElement("canvas");u=document.createElement("img");if(n.hasAttribute("href")){u.setAttribute("crossOrigin","anonymous");u.onload=function(){r=u.height>0?u.height:32
;a=u.width>0?u.width:32;o.height=r;o.width=a;i=o.getContext("2d");g.ready()};u.setAttribute("src",n.getAttribute("href"))}else{u.onload=function(){r=32;a=32;u.height=r;u.width=a;o.height=r;o.width=a;i=o.getContext("2d");g.ready()};u.setAttribute("src","")}}();return{badge:function(e,t){t=("string"==typeof t?{animation:t}:t)||{};f=function(){try{if("number"==typeof e?e>0:""!==e){var n={type:"badge",options:{n:e}};"animation"in t&&T.types[""+t.animation]&&(n.options.animation=""+t.animation);"type"in t&&E[""+t.type]&&(n.options.type=""+t.type);["bgColor","textColor"].forEach((function(e){e in t&&(n.options[e]=I(t[e]))}));["fontStyle","fontFamily"].forEach((function(e){e in t&&(n.options[e]=t[e])}));_.push(n);if(_.length>100)throw new Error("Too many badges requests in queue.");g.start()}else g.reset()}catch(e){throw new Error("Error setting badge. Message: "+e.message)}};l&&f()},video:function(e){f=function(){try{if("stop"===e){c=!0;g.reset();c=!1;return}
e.addEventListener("play",(function(){O(this)}),!1)}catch(e){throw new Error("Error setting video. Message: "+e.message)}};l&&f()},image:function(e){f=function(){try{var t=e.width,n=e.height,u=document.createElement("img"),l=t/a<n/r?t/a:n/r;u.setAttribute("crossOrigin","anonymous");u.onload=function(){i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);b.setIcon(o)};u.setAttribute("src",e.getAttribute("src"));u.height=n/l;u.width=t/l}catch(e){throw new Error("Error setting image. Message: "+e.message)}};l&&f()},webcam:function(e){if(!window.URL||!window.URL.createObjectURL){window.URL=window.URL||{};window.URL.createObjectURL=function(e){return e}}if(p.supported){var t=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia;f=function(){try{if("stop"===e){c=!0;g.reset();c=!1;return}(t=document.createElement("video")).width=a;t.height=r;navigator.getUserMedia({video:!0,audio:!1},(function(e){
t.src=URL.createObjectURL(e);t.play();O(t)}),(function(){}))}catch(e){throw new Error("Error setting webcam. Message: "+e.message)}};l&&f()}},reset:g.reset,browser:{supported:p.supported}}},void 0!==(n=function(){return r}.apply(t,[]))&&(e.exports=n)},145911:(e,t,n)=>{e.exports=n.p+"e92599c3548209f77ec833c649f8939a.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},684795:(e,t,n)=>{e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},662325:(e,t,n)=>{e.exports=n.p+"ae046b62e28bb1ec1fbdde8185d32b9e.mp4"},15176:(e,t,n)=>{e.exports=n.p+"19ee7a767639c0af819b5976b493e9d8.png"},788557:(e,t,n)=>{e.exports=n.p+"230cd026d4bfdeb914b266938cc506a1.jpg"},22625:(e,t,n)=>{e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},603628:(e,t,n)=>{e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},879334:(e,t,n)=>{e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},133650:(e,t,n)=>{e.exports=n.p+"abaa70ae2be9f361759c60b2ee85ff12.png"},631896:(e,t,n)=>{
e.exports=n.p+"3522a06815d204da075ffda2431ef7f2.png"},931806:(e,t,n)=>{e.exports=n.p+"9acacf43b5dddb33196fa60a4a6c6b2f.jpg"},425058:(e,t,n)=>{e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},428915:(e,t,n)=>{e.exports=n.p+"1b9af825f3ccd5ffdf9580e338d4e5e7.png"},561323:(e,t,n)=>{e.exports=n.p+"bb867095876d3f6d81cc12e745ee9f58.png"},949223:(e,t,n)=>{e.exports=n.p+"8a5c84a9635d7e691e9276ff7ddfab31.svg"},412466:(e,t,n)=>{e.exports=n.p+"6b1abb79089f84d154f8a248dfb90b46.svg"},226586:(e,t,n)=>{e.exports=n.p+"0251a4f9294a3617de380fe28c486932.svg"},373135:(e,t,n)=>{e.exports=n.p+"fbef95afb1a9c8cf52e941375c360491.svg"},361850:(e,t,n)=>{e.exports=n.p+"06d8e21539e634cbc0f2ecf38f1bb2bb.svg"},15808:(e,t,n)=>{e.exports=n.p+"fe875f7f2f0c4869d155e7e487f570f2.png"},227227:(e,t,n)=>{e.exports=n.p+"7f9b927507a1c9321da58ab0fafffcd0.png"},999455:(e,t,n)=>{e.exports=n.p+"1c3ba8528a8f16c8cf0c55e286010420.png"},678811:(e,t,n)=>{e.exports=n.p+"831ba24f72b89cc77c325317372b7239.png"},236340:(e,t,n)=>{
e.exports=n.p+"3785e11ebe8fdcd64db5bb49f2e5299d.png"},359546:(e,t,n)=>{e.exports=n.p+"506bf478f5e1a271a27b673e6f25749a.png"},35448:(e,t,n)=>{e.exports=n.p+"07d9032e5d30865e0cc076396f0b027a.png"},404252:(e,t,n)=>{e.exports=n.p+"9d402086959fccbf418074a4b96f6d19.jpg"},123451:(e,t,n)=>{e.exports=n.p+"9f65387c814dd4cb5aff4e4e1e7e0446.svg"},16697:(e,t,n)=>{e.exports=n.p+"ed2007aab2da31a5436e70a28b4d59f9.svg"},105045:(e,t,n)=>{e.exports=n.p+"7ad95b56788fc31c3e5eec667129ba68.svg"},128112:(e,t,n)=>{e.exports=n.p+"9ae90b4dd4d7e4ddd9c8935dae4e87c4.svg"},876406:(e,t,n)=>{e.exports=n.p+"a92681efceabc4ee91964a7cef2571cf.svg"},937849:(e,t,n)=>{e.exports=n.p+"96ad9c7f6f636a7fb2028e2a07847776.svg"},772144:(e,t,n)=>{e.exports=n.p+"ef3a1ed683cfcf029971b12a26462072.svg"},492623:(e,t,n)=>{e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},399898:(e,t,n)=>{e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},74700:(e,t,n)=>{e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},607603:(e,t,n)=>{
e.exports=n.p+"02625ee29f851ec588c2020a88d82665.svg"},376354:(e,t,n)=>{e.exports=n.p+"b36de980b174d7b798c89f35c116e5c6.svg"},688224:(e,t,n)=>{e.exports=n.p+"fd879a28807b66b38d54e7db6ea18a69.svg"},96972:(e,t,n)=>{e.exports=n.p+"b36c705f790dad253981f1893085015a.svg"},540579:(e,t,n)=>{e.exports=n.p+"36c9a2fb7d0593a581a92373121c2848.svg"},572274:(e,t,n)=>{e.exports=n.p+"c8aeec4a5ee16aa9214b994f7355fea0.svg"},947079:(e,t,n)=>{e.exports=n.p+"3fba9b3d08682f3ce0344e289fe668cb.svg"},389515:(e,t,n)=>{e.exports=n.p+"816e71b3225c71bc105db7209fb4b796.svg"},785538:(e,t,n)=>{e.exports=n.p+"7866fb01d8b75b6fe9e6591373a0ddf2.svg"},534413:(e,t,n)=>{e.exports=n.p+"e73889dfe6cc46c9161dd9c1d19cc5ca.svg"},182105:(e,t,n)=>{e.exports=n.p+"109dff8689b0dcedc5485a0b26c647f2.svg"},500996:(e,t,n)=>{e.exports=n.p+"d1dab93347ab65e2b31d9dc39c9c5a9a.svg"},727869:(e,t,n)=>{e.exports=n.p+"5e690f4c63a19a36bff7f6364eaa6ea2.svg"},10439:(e,t,n)=>{e.exports=n.p+"fda43f574092d89177a4412046f51c44.svg"},755645:(e,t,n)=>{
e.exports=n.p+"6f35b2fc488e26dc1d56b253d01c7b75.svg"},928793:(e,t,n)=>{e.exports=n.p+"99c599a00313a16fa4babba64d461f34.svg"},324752:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},655916:(e,t,n)=>{e.exports=n.p+"c998fecc59ff94fe8e8e7f3557586c07.svg"},315879:(e,t,n)=>{e.exports=n.p+"255b326a18a4f8a078c90e6c35f6013b.svg"},80210:(e,t,n)=>{e.exports=n.p+"3ed9c7cdbea131bc485afa998a5ec93e.svg"},333993:(e,t,n)=>{e.exports=n.p+"1a23068e966efce6fb32ca9fecc65eed.svg"},694111:(e,t,n)=>{e.exports=n.p+"4aebeb85413bf3414671b2c138463909.svg"},987601:(e,t,n)=>{e.exports=n.p+"d61d4aa409613f4dcfb6163ef0d739de.svg"},192941:(e,t,n)=>{e.exports=n.p+"0d16e62fc3a84fc7e76b06584b646df9.svg"},232353:(e,t,n)=>{e.exports=n.p+"acb954ff414b98380056308d56efcbfd.svg"},802566:(e,t,n)=>{e.exports=n.p+"16770cd8548bce331bed7218db02fb4f.svg"},319927:(e,t,n)=>{e.exports=n.p+"779000e162efdb2fc8b14280e336ba02.svg"},484771:(e,t,n)=>{e.exports=n.p+"7de1e682a4fbf1483ad81f3872e5a9b2.png"},393270:(e,t,n)=>{
e.exports=n.p+"3928af68d4d1bc83af46a3159f126a66.svg"},746932:(e,t,n)=>{e.exports=n.p+"ed28635ce7d107f1a8b04379d009dd41.svg"},946137:(e,t,n)=>{e.exports=n.p+"a8007d2ecb3aec65119698bff7052451.svg"},692760:(e,t,n)=>{e.exports=n.p+"a50c50c963aab21b5c3d58e7fd06664e.svg"},698242:(e,t,n)=>{e.exports=n.p+"f3767d455e70dcdd1c8a3102e42c6d34.svg"},483683:(e,t,n)=>{e.exports=n.p+"72db7a1fbe5d3c861fe63c26f634b5d2.svg"},63685:(e,t,n)=>{e.exports=n.p+"a4e25b25c89b862150e6eeb520e67dd5.svg"},634737:(e,t,n)=>{e.exports=n.p+"8d224aa39e763dff664f330fdadeda3e.svg"},691634:(e,t,n)=>{e.exports=n.p+"2ebbb7dbd17b154a625b58b33738fc85.svg"},998240:(e,t,n)=>{e.exports=n.p+"3224278ae6dc432b7fbc0fc90b54686e.svg"},21845:(e,t,n)=>{e.exports=n.p+"7c5103d23ddf01df7ae30f52e4349837.svg"},705206:(e,t,n)=>{e.exports=n.p+"984b386302bacf7fb81985ab31c5beec.png"},567012:(e,t,n)=>{e.exports=n.p+"a9efd5e06b5616d39a6ee4232211f9b0.svg"},862470:(e,t,n)=>{e.exports=n.p+"dd1ac77c281d77cfa4061925981469e2.svg"},140561:(e,t,n)=>{
e.exports=n.p+"eeacc28d3c62a7cf1154a2bc11968ad8.svg"},237018:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},31890:(e,t,n)=>{e.exports=n.p+"c23a59030cd2583c8b8ae0e85bc99737.svg"},222917:(e,t,n)=>{e.exports=n.p+"ec499e7dcc451566caeda997fa9265db.svg"},153996:(e,t,n)=>{e.exports=n.p+"e3da44ce48e0ff29426d0cfb99c2580c.svg"},742918:(e,t,n)=>{e.exports=n.p+"05d41aa7d58d190b8f7944755540c09d.svg"},470661:e=>{"use strict";e.exports=function(e){var a,o;if((e=String(e).toLowerCase()).length<3)return e;if(e.charCodeAt(0)===t){a=!0;e="Y"+e.substr(1)}E.test(e)?e=e.substr(0,e.length-2):g.test(e)&&(e=e.substr(0,e.length-1));if(o=_.exec(e))u.test(o[1])&&(e=e.substr(0,e.length-1));else if((o=h.exec(e))&&d.test(o[1])){e=o[1];m.test(e)?e+="e":S.test(e)?e=e.substr(0,e.length-1):f.test(e)&&(e+="e")}(o=v.exec(e))&&d.test(o[1])&&(e=o[1]+"i");(o=O.exec(e))&&u.test(o[1])&&(e=o[1]+n[o[2]]);(o=b.exec(e))&&u.test(o[1])&&(e=o[1]+r[o[2]])
;(o=I.exec(e))?s.test(o[1])&&(e=o[1]):(o=y.exec(e))&&s.test(o[1])&&(e=o[1]);(o=p.exec(e))&&(s.test(o[1])||l.test(o[1])&&!f.test(o[1]))&&(e=o[1]);c.test(e)&&s.test(e)&&(e=e.substr(0,e.length-1));a&&(e="y"+e.substr(1));return e};var t="y".charCodeAt(0),n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},r={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""
},a="[aeiouy]",o="([^aeiou][^aeiouy]*)",i="([aeiouy][aeiou]*)",u=new RegExp("^([^aeiou][^aeiouy]*)?"+i+o),l=new RegExp("^([^aeiou][^aeiouy]*)?"+i+o+i+"?$"),s=new RegExp("^([^aeiou][^aeiouy]*)?("+i+o+"){2,}"),d=new RegExp("^([^aeiou][^aeiouy]*)?"+a),f=new RegExp("^"+o+a+"[^aeiouwxy]$"),c=/ll$/,p=/^(.+?)e$/,v=/^(.+?)y$/,y=/^(.+?(s|t))(ion)$/,h=/^(.+?)(ed|ing)$/,m=/(at|bl|iz)$/,_=/^(.+?)eed$/,g=/^.+?[^s]s$/,E=/^.+?(ss|i)es$/,S=/([^aeiouylsz])\1$/,O=new RegExp("^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$"),b=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,I=new RegExp("^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$")}}]);
//# sourceMappingURL=2897ee1f473e14cf5d78.js.map