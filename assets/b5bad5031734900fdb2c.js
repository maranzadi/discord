"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[37390],{186705:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},i=n(770348);var o={clearDraft:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.DRAFT_CLEAR,channelId:e,draftType:t})},saveDraft:function(e,t,n){a.default.dirtyDispatch({type:i.ActionTypes.DRAFT_SAVE,channelId:e,draft:t,draftType:n})},changeDraft:function(e,t,n){a.default.dirtyDispatch({type:i.ActionTypes.DRAFT_CHANGE,channelId:e,draft:t,draftType:n})},changeThreadSettings:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.THREAD_SETTINGS_DRAFT_CHANGE,channelId:e,draft:t})}};t.default=o},55189:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},i=n(770348);var o={startTyping:function(e){a.default.dirtyDispatch({type:i.ActionTypes.TYPING_START_LOCAL,channelId:e})},
stopTyping:function(e){a.default.dirtyDispatch({type:i.ActionTypes.TYPING_STOP_LOCAL,channelId:e})}};t.default=o},169549:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=r.useRef(null);null===e.current&&(e.current=new AbortController);r.useEffect((function(){return function(){var t;null===(t=e.current)||void 0===t||t.abort()}}),[]);return e.current.signal};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},
536487:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.getApplicationDiscoveryCommands=t.clearGuildDiscoveryCommands=void 0;t.getApplicationGuildCommandPermissions=function(e,t,n){return i.default.get(c.Endpoints.APPLICATION_BOT_GUILD_COMMAND_PERMISSIONS(e,t,n))};t.listApplicationGuildCommands=function(e,t,n,r,a,i){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_QUERY_LIST_REQUEST,applicationId:e,guildId:t,limit:n,commandType:r,nonce:a,scope:i})};t.performAutocomplete=function(e,t,n){var a;(0,r.default)(null!=t.autocomplete,"Missing autocomplete context");var p=t.autocomplete,f=p.query,m=p.name;if(null!=d.default.getAutocompleteChoices(t.channel.id,f))return;var A=s.default.fromTimestamp(Date.now());o.default.dirtyDispatch({type:"APPLICATION_COMMAND_AUTOCOMPLETE_REQUEST",nonce:A,channelId:t.channel.id,query:f,name:m});i.default.post({url:c.Endpoints.INTERACTIONS,body:{type:u.InteractionTypes.APPLICATION_COMMAND_AUTOCOMPLETE,application_id:e.applicationId,
guild_id:null===(a=t.guild)||void 0===a?void 0:a.id,channel_id:t.channel.id,session_id:l.default.getSessionId(),data:n,nonce:A},timeout:3e3}).catch((function(){o.default.dirtyDispatch({type:"INTERACTION_FAILURE",nonce:A})}))};t.queryDmApplicationCommands=function(e,t){return y.apply(this,arguments)};t.querySearchManager=t.queryGuildApplications=t.queryGuildApplicationCommands=void 0;t.setActiveCommand=function(e,t){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_SET_ACTIVE_COMMAND,channelId:e,command:t})};t.setPreferredCommandId=function(e,t){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_SET_PREFERRED_COMMAND,channelId:e,commandId:t})};t.updateApplicationGuildCommandPermissions=function(e,t,n,r){return i.default.put({body:{permissions:r},url:c.Endpoints.APPLICATION_BOT_GUILD_COMMAND_PERMISSIONS(e,t,n)})};t.updateChannelState=function(e,t,n,r){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_UPDATE_CHANNEL_STATE,channelId:e,command:t,
preferredCommandId:n,changedOptionStates:r})};t.updateOptionStates=_;t.updateOptionValidationStates=function(e,t){var n=Object.fromEntries(Object.entries(t).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(t,n)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return[r[0],{lastValidationResult:r[1]}]})));_(e,n)};var r=p(n(441143)),a=p(n(496486)),i=p(n(118915)),o=p(n(636602)),u=n(81069),l=p(n(423046)),s=p(n(71636)),d=p(n(373265)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){f(i,r,a,o,u,"next",e)}function u(e){f(i,r,a,o,u,"throw",e)}o(void 0)}))}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_UPDATE_OPTIONS,channelId:e,changedOptionStates:t})}function y(){
return(y=m(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return i.default.get(c.Endpoints.APPLICATION_BOT_COMMANDS(t));case 2:(r=e.sent).ok&&o.default.dirtyDispatch({type:c.ActionTypes.DM_APPLICATION_COMMANDS_UPDATE,botUserId:t,applicationCommands:r.body,commandType:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=a.default.debounce((function(e,t,n,r,a){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_QUERY_REQUEST,guildId:e,query:t,limit:n,nonce:s.default.fromTimestamp(Date.now()),includeApplications:a,commandType:r})}),250,{leading:!0,trailing:!0,maxWait:750});t.queryGuildApplicationCommands=T;t.querySearchManager=function(e,t,n,r){var a=s.default.fromTimestamp(Date.now());o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_QUERY_SEARCH_MANAGER,context:e,query:t,limit:n,commandType:r,nonce:a})};t.queryGuildApplications=function(e,t,n,r){
o.default.dirtyDispatch({type:c.ActionTypes.APPLICATIONS_REQUEST,guildId:e,nonce:s.default.fromTimestamp(Date.now()),commandLimit:t,commandType:n,commandIds:r})};t.getApplicationDiscoveryCommands=function(e,t,n,r,a,i,u){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_DISCOVERY_REQUEST,guildId:e,offset:t,limit:n,isBefore:r,commandType:i,applications:a,jumpDescriptor:u,nonce:s.default.fromTimestamp(Date.now())})};t.clearGuildDiscoveryCommands=function(){o.default.dirtyDispatch({type:c.ActionTypes.CLEAR_GUILD_DISCOVERY_COMMANDS})}},373265:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),i=s(n(636602)),o=s(n(211136)),u=s(n(572935)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var p=new Map,f=new Map;function m(e){if(!f.has(e)){var t;f.set(e,{commandId:null===(t=u.default.getActiveCommand(e))||void 0===t?void 0:t.id,optionName:u.default.getActiveOptionName(e),autocompleteQueries:new Map,autocompleteLastResults:new Map,optionNameToNonce:new Map,lastErrored:!1})}return f.get(e)}function A(){p.clear();f.clear();return!0}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e=this;u.default.addChangeListener((function(){var t,n=o.default.getChannelId();if(null!=n){var r=null===(t=u.default.getActiveCommand(n))||void 0===t?void 0:t.id,a=u.default.getActiveOptionName(n),i=f.get(n);if(null!=i&&(r!==i.commandId||a!==i.optionName)){if(null!=r&&r!==i.commandId){i.autocompleteLastResults.clear()
;i.optionNameToNonce.clear()}i.autocompleteQueries.clear();i.lastErrored=!1;i.commandId=r;i.optionName=a;e.emitChange()}}else A()}))};n.getLastErrored=function(e){return m(e).lastErrored};n.getAutocompleteChoices=function(e,t){return m(e).autocompleteQueries.get(t)};n.getAutocompleteLastChoices=function(e,t){return m(e).autocompleteLastResults.get(t)};return t}(a.default.Store);_.displayName="ApplicationCommandAutocompleteStore";var y=new _(i.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=A,r[l.ActionTypes.LOGOUT]=A,r[l.ActionTypes.CHANNEL_SELECT]=A,r[l.ActionTypes.APPLICATION_COMMAND_AUTOCOMPLETE_REQUEST]=function(e){var t=e.nonce,n=e.channelId,r=e.query,a=e.name,i=m(n),o=i.optionNameToNonce.get(a);null!=o&&p.delete(o);p.set(t,{channelId:n,query:r,name:a});i.optionNameToNonce.set(a,t);if(i.lastErrored){i.lastErrored=!1;return!0}},r[l.ActionTypes.APPLICATION_COMMAND_AUTOCOMPLETE_RESPONSE]=function(e){var t,n=e.choices,r=e.nonce,a=p.get(r);if(null==a)return!1;p.delete(r)
;var i=null!==(t=null==n?void 0:n.map((function(e){var t;return c({},e,{displayName:null!==(t=e.name_localized)&&void 0!==t?t:e.name})})))&&void 0!==t?t:[],o=m(a.channelId);o.lastErrored=!1;o.autocompleteQueries.set(a.query,i);o.autocompleteLastResults.set(a.name,i);return!0},r[l.ActionTypes.INTERACTION_FAILURE]=function(e){var t=e.nonce;if(null==t)return!1;var n=p.get(t);if(null==n)return!1;p.delete(t);m(n.channelId).lastErrored=!0;return!0},r));t.default=y},724833:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.UserExperiment=t.GuildExperiment=void 0;t.shouldUseBackendV2=function(e){if(null!=e.guild_id)return a.getCurrentConfig({guildId:e.guild_id}).enabled;return i.getCurrentConfig({}).enabled};var r=n(373505),a=(0,r.createExperiment)({kind:"guild",label:"App Commands V2 Guild",id:"2022-02_app_commands_v2_guild",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});t.GuildExperiment=a;var i=(0,r.createExperiment)({kind:"user",
label:"App Commands V2 DM",id:"2022-02_app_commands_v2_dm",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});t.UserExperiment=i},481414:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.getBuiltInCommands=t.BUILT_IN_SECTIONS=t.BUILT_IN_COMMANDS_ORIGINAL=t.BUILT_IN_COMMANDS=void 0;var r,a=N(n(441143)),i=N(n(730381)),o=N(n(616213)),u=N(n(709403)),l=N(n(415275)),s=N(n(786345)),d=n(81069),c=n(506309),p=N(n(614293)),f=N(n(887174)),m=n(819235),A=n(894826),_=N(n(644263)),y=N(n(689389)),T=N(n(663303)),I=N(n(728429)),v=n(65621),E=n(484278),C=n(770348),O=n(397769),M=N(n(247001));function N(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){g(i,r,a,o,u,"next",e)}function u(e){g(i,r,a,o,u,"throw",e)}o(void 0)}))}}function h(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=n(258938).Z,R=function(e,t){var n;return null===(n=e.find((function(e){return e.name===t})))||void 0===n?void 0:n.value},b=((r={})[E.BuiltInSectionId.BUILT_IN]={id:E.BuiltInSectionId.BUILT_IN,type:v.ApplicationCommandSectionType.BUILT_IN,get name(){return M.default.Messages.COMMAND_SECTION_BUILT_IN_NAME}},r[E.BuiltInSectionId.FRECENCY]={id:E.BuiltInSectionId.FRECENCY,type:v.ApplicationCommandSectionType.BUILT_IN,get name(){return M.default.Messages.FREQUENTLY_USED}},r);t.BUILT_IN_SECTIONS=b;var P,L=[].concat(function(e){if(Array.isArray(e))return h(e)}(P=D)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(P)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(P)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:"-1",name:"shrug",displayName:"shrug",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_SHRUG_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_SHRUG_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_SHRUG_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_SHRUG_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=R(e,"message"))&&void 0!==t?t:"")+" ¯\\_(ツ)_/¯").trim()}}},{
id:"-2",name:"tableflip",displayName:"tableflip",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_TABLEFLIP_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TABLEFLIP_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=R(e,"message"))&&void 0!==t?t:"")+" (╯°□°）╯︵ ┻━┻").trim()}}},{id:"-3",name:"unflip",displayName:"unflip",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},get displayDescription(){
return M.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_TABLEUNFLIP_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TABLEUNFLIP_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=R(e,"message"))&&void 0!==t?t:"")+" ┬─┬ ノ( ゜-゜ノ)").trim()}}},{id:"-4",name:"tts",displayName:"tts",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_TTS_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TTS_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_TTS_MESSAGE_DESCRIPTION},get displayDescription(){
return M.default.Messages.COMMAND_TTS_MESSAGE_DESCRIPTION},required:!0}],predicate:function(e){var t=e.channel;return!t.isPrivate()&&A.EnableTTSCommand.getSetting()&&y.default.can(C.Permissions.SEND_TTS_MESSAGES,t)},execute:function(e){var t;return{content:null!==(t=R(e,"message"))&&void 0!==t?t:"",tts:!0}}},{id:"-5",name:"me",displayName:"me",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_ME_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_ME_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_ME_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_ME_MESSAGE_DESCRIPTION},required:!0}],execute:function(e){var t;return{content:"_"+(null!==(t=R(e,"message"))&&void 0!==t?t:"")+"_"}}},{id:"-6",
name:"spoiler",displayName:"spoiler",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_SPOILER_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_SPOILER_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_SPOILER_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_SPOILER_MESSAGE_DESCRIPTION},required:!0}],execute:function(e){var t,n=null!==(t=R(e,"message"))&&void 0!==t?t:"";return{content:(0,C.MARKDOWN_SPOILER_WRAPPER)(n).trim()}}},{id:"-7",name:"nick",displayName:"nick",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_NICK_DESCRIPTION},get displayDescription(){
return M.default.Messages.COMMAND_NICK_DESCRIPTION},options:[{name:"new_nick",displayName:"new_nick",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_NICK_NEWNICK_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_NICK_NEWNICK_DESCRIPTION}}],predicate:function(e){var t=e.channel;return!t.isPrivate()&&(y.default.can(C.Permissions.CHANGE_NICKNAME,t)||y.default.can(C.Permissions.MANAGE_NICKNAMES,t))},execute:function(e,t){var n,r=t.guild,a=t.channel;if(null!=r){var i=null!==(n=R(e,"new_nick"))&&void 0!==n?n:"";o.default.changeNickname(r.id,a.id,C.ME,i||"")}}},{id:"-10",name:"thread",displayName:"thread",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_THREAD_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_THREAD_DESCRIPTION},options:[{name:"name",displayName:"name",
type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_THREAD_NAME_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_THREAD_NAME_DESCRIPTION},required:!0},{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_THREAD_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_THREAD_MESSAGE_DESCRIPTION},required:!0}],predicate:function(e){var t=e.channel;return(0,m.computeCanStartPublicThread)(t)},execute:function(e,t){var n,r,a=t.guild,i=t.channel,o=null!==(n=R(e,"name"))&&void 0!==n?n:"",u=null!==(r=R(e,"message"))&&void 0!==r?r:"";f.default.createThreadAndMessage(o,u,i,a,"Slash Command")}},{id:"-11",name:"kick",displayName:"kick",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_KICK_DESCRIPTION},
get displayDescription(){return M.default.Messages.COMMAND_KICK_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){return M.default.Messages.COMMAND_KICK_USER_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_KICK_USER_DESCRIPTION},required:!0},{name:"reason",displayName:"reason",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_KICK_REASON_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_KICK_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return y.default.can(C.Permissions.KICK_MEMBERS,t)},execute:function(e,t){var n,r=t.guild,a=t.channel;if(null!=r){var i=null!==(n=R(e,"user"))&&void 0!==n?n:"";if(y.default.canManageUser(C.Permissions.KICK_MEMBERS,i,r)){var o=function(){var t=S(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:
if(null!=(o=I.default.getUser(i))){t.next=3;break}throw new Error;case 3:t.next=5;return l.default.kickUser(r.id,i,null!==(n=R(e,"reason"))&&void 0!==n?n:"");case 5:s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_KICK_CONFIRMATION.format({user:T.default.hidePersonalInformation?o.username:o.tag}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o().catch((function(){s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_KICK_ERROR)}))}else s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_KICK_UNABLE)}}},{id:"-12",name:"ban",displayName:"ban",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_BAN_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_BAN_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){
return M.default.Messages.COMMAND_BAN_USER_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_BAN_USER_DESCRIPTION},required:!0},{name:"delete_messages",displayName:"delete_messages",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_BAN_DELETE_MESSAGES_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_BAN_DELETE_MESSAGES_DESCRIPTION},required:!0,get choices(){return[{name:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE,displayName:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE,value:"0"},{name:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR,displayName:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR,value:"1"},{name:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D,displayName:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D,value:"7"}]}},{name:"reason",displayName:"reason",type:d.ApplicationCommandOptionType.STRING,get description(){
return M.default.Messages.COMMAND_BAN_REASON_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_BAN_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return y.default.can(C.Permissions.BAN_MEMBERS,t)},execute:function(e,t){var n,r=t.guild,a=t.channel;if(null!=r){var i=null!==(n=R(e,"user"))&&void 0!==n?n:"";if(y.default.canManageUser(C.Permissions.BAN_MEMBERS,i,r)){var o=function(){var t=S(regeneratorRuntime.mark((function t(){var n,o,u,d,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==i){t.next=2;break}throw new Error;case 2:u=null!==(n=R(e,"delete_messages"))&&void 0!==n?n:"";d=null!==(o=R(e,"reason"))&&void 0!==o?o:"";c=I.default.getUser(i);t.next=7;return l.default.banUser(r.id,i,u,d);case 7:s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_BAN_CONFIRMATION.format({user:null!=c?T.default.hidePersonalInformation?c.username:c.tag:i}));case 8:case"end":return t.stop()}}),t)})));return function(){
return t.apply(this,arguments)}}();o().catch((function(){s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_BAN_ERROR)}))}else s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_BAN_UNABLE)}}},{id:"-13",name:"timeout",displayName:"timeout",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_TIMEOUT_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TIMEOUT_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){return M.default.Messages.COMMAND_TIMEOUT_USER_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TIMEOUT_USER_DESCRIPTION},required:!0},{name:"duration",displayName:"duration",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_TIMEOUT_DURATION_DESCRIPTION},get displayDescription(){
return M.default.Messages.COMMAND_TIMEOUT_DURATION_DESCRIPTION},required:!0,get choices(){return Object.keys(O.DisableCommunicationDuration).filter((function(e){return isNaN(Number(e))})).map((function(e){var t,n=null!==(t=(0,O.makeLabel)(O.DisableCommunicationDuration[e]))&&void 0!==t?t:"";return{name:n,displayName:n,value:""+O.DisableCommunicationDuration[e]}}))}},{name:"reason",displayName:"reason",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_TIMEOUT_REASON_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TIMEOUT_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return y.default.can(C.Permissions.MODERATE_MEMBERS,t)},execute:function(e,t){var n=t.guild,r=t.channel;if(null!=n){var a=R(e,"user");if((0,c.canToggleCommunicationDisableOnUser)(n.id,a)){var o=function(){var t=S(regeneratorRuntime.mark((function t(){var o,u,d,c,p;return regeneratorRuntime.wrap((function(t){
for(;;)switch(t.prev=t.next){case 0:d=null!==(o=R(e,"duration"))&&void 0!==o?o:"";c=null!==(u=R(e,"reason"))&&void 0!==u?u:"";if(null!=(p=I.default.getUser(a))){t.next=5;break}throw new Error;case 5:t.next=7;return l.default.setCommunicationDisabledUntil(n.id,a,(0,i.default)().add(d,"s").toISOString(),d,c);case 7:s.default.sendBotMessage(r.id,M.default.Messages.COMMAND_TIMEOUT_CONFIRMATION.format({user:T.default.hidePersonalInformation?p.username:p.tag,duration:d}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o().catch((function(){s.default.sendBotMessage(r.id,M.default.Messages.COMMAND_TIMEOUT_ERROR)}))}else s.default.sendBotMessage(r.id,M.default.Messages.COMMAND_TIMEOUT_UNABLE)}}},{id:"-14",name:"msg",displayName:"msg",type:d.ApplicationCommandType.CHAT,inputType:v.ApplicationCommandInputType.BUILT_IN,applicationId:E.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_MSG_DESCRIPTION},
get displayDescription(){return M.default.Messages.COMMAND_MSG_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){return M.default.Messages.COMMAND_MSG_USER_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_MSG_USER_DESCRIPTION},required:!0},{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_MSG_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_MSG_MESSAGE_DESCRIPTION},required:!0}],execute:function(e,t){var n,r=t.channel,i=R(e,"user"),o=null!==(n=R(e,"message"))&&void 0!==n?n:"",l=function(){var e=S(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return u.default.openPrivateChannel(i).then((function(e){var t=_.default.getChannel(e);(0,a.default)(null!=t,"Newly created PrivateChannel is null")
;s.default.sendMessage(t.id,p.default.parse(t,o))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l().catch((function(){s.default.sendBotMessage(r.id,M.default.Messages.COMMAND_MSG_ERROR)}))}}]);t.BUILT_IN_COMMANDS=L;var U=L.filter((function(e){return["giphy","tenor","tts","me","tableflip","unflip","shrug","spoiler","nick"].includes(e.name)}));t.BUILT_IN_COMMANDS_ORIGINAL=U;t.getBuiltInCommands=function(e,t,n){var r=t?L:U;return r=r.filter((function(t){return t.type===e&&(!n||t.inputType===v.ApplicationCommandInputType.BUILT_IN_TEXT||t.inputType===v.ApplicationCommandInputType.BUILT_IN_INTEGRATION)}))}},484278:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0})
;t.TRUE_OPTION_NAME=t.SUB_COMMAND_KEY_SEPARATOR=t.MAX_SUBCOMMAND_LEVEL=t.FALSE_OPTION_NAME=t.DISCOVERY_COMMAND_FRECENCY_GATEWAY_LIMIT=t.DISCOVERY_COMMANDS_QUERY_LIMIT_WEB=t.DISCOVERY_COMMANDS_QUERY_LIMIT_MOBILE=t.DISCOVERY_COMMANDS_QUERY_LIMIT=t.DISCOVERY_COMMANDS_FRECENCY_LIMIT=t.BuiltInSectionId=t.BOOLEAN_CHOICES=t.APPLICATION_COMMAND_PERMISSIONS_LIMIT=void 0;t.getValidationErrorText=function(e){if(null!=e.choices)return i.default.Messages.COMMAND_VALIDATION_CHOICE_ERROR;switch(e.type){case a.ApplicationCommandOptionType.BOOLEAN:return i.default.Messages.COMMAND_VALIDATION_BOOLEAN_ERROR;case a.ApplicationCommandOptionType.CHANNEL:return i.default.Messages.COMMAND_VALIDATION_CHANNEL_ERROR;case a.ApplicationCommandOptionType.INTEGER:return i.default.Messages.COMMAND_VALIDATION_INTEGER_ERROR;case a.ApplicationCommandOptionType.NUMBER:return i.default.Messages.COMMAND_VALIDATION_NUMBER_ERROR;case a.ApplicationCommandOptionType.ROLE:return i.default.Messages.COMMAND_VALIDATION_ROLE_ERROR
;case a.ApplicationCommandOptionType.USER:return i.default.Messages.COMMAND_VALIDATION_USER_ERROR;case a.ApplicationCommandOptionType.MENTIONABLE:return i.default.Messages.COMMAND_VALIDATION_MENTIONABLE_ERROR;default:return i.default.Messages.COMMAND_VALIDATION_GENERAL_ERROR}};var r,a=n(81069),i=(r=n(247001))&&r.__esModule?r:{default:r};var o="True";t.TRUE_OPTION_NAME=o;var u="False";t.FALSE_OPTION_NAME=u;var l,s=[{name:o,displayName:o,value:"true"},{name:u,displayName:u,value:"false"}];t.BOOLEAN_CHOICES=s;t.BuiltInSectionId=l;!function(e){e.BUILT_IN="-1";e.FRECENCY="-2"}(l||(t.BuiltInSectionId=l={}));t.DISCOVERY_COMMANDS_QUERY_LIMIT_WEB=10;t.DISCOVERY_COMMANDS_QUERY_LIMIT_MOBILE=5;t.DISCOVERY_COMMANDS_QUERY_LIMIT=10;t.DISCOVERY_COMMANDS_FRECENCY_LIMIT=5;t.DISCOVERY_COMMAND_FRECENCY_GATEWAY_LIMIT=25;t.SUB_COMMAND_KEY_SEPARATOR="\0";t.APPLICATION_COMMAND_PERMISSIONS_LIMIT=100;t.MAX_SUBCOMMAND_LEVEL=3},117883:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,i,o,u=m(n(536211)),l=m(n(636602)),s=m(n(644263)),d=m(n(211136)),c=m(n(728429)),p=n(153823),f=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}function _(e){var t=s.default.getChannel(e),n=null!=t&&t.type===f.ChannelTypes.DM?t.getRecipientId():null,r=c.default.getUser(n);null!=r&&r.bot||(n=null);if(a===n)return!1;a=n;i=null;o=null}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default)};n.getCommands=function(e,t){return a===e&&t===o?i:null};return t}(u.default.Store);y.displayName="ApplicationCommandDmStore";var T=new y(l.default,((r={})[f.ActionTypes.LOGOUT]=function(){a=null;i=null;o=null},r[f.ActionTypes.CONNECTION_OPEN]=function(){var e=d.default.getChannelId();null!=e&&_(e)},
r[f.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId;null!=t&&_(t)},r[f.ActionTypes.DM_APPLICATION_COMMANDS_UPDATE]=function(e){var t=e.botUserId,n=e.applicationCommands,r=e.commandType;if(t!==a)return!1;i=(0,p.buildApplicationCommands)(n).filter((function(e){return e.type===r}));o=r},r));t.default=T},166806:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.useTopCommands=function(e){r.useEffect((function(){i.FrecencyUserSettingsActionCreators.loadIfNecessary()}),[]);var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getTopCommandsWithoutLoadingLatest()}));return r.useMemo((function(){return(0,o.getFilteredTopCommands)(t,e)}),[t,e])};t.useTopRealCommands=function(e){r.useEffect((function(){i.FrecencyUserSettingsActionCreators.loadIfNecessary()}),[]);var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getTopCommandsWithoutLoadingLatest()}));return r.useMemo((function(){var n=(0,o.getFilteredTopCommands)(t,e);return(0,
o.getTopRealCommands)(n)}),[t,e])};var r=l(n(667294)),a=n(536211),i=n(828593),o=l(n(290760));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}},290760:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getFilteredTopCommands=function(e,t){return e.filter((function(e){return!e.includes(":")||null!=t.guild&&t.guild.id===e.split(":")[1]})).map((function(e){return e.split(":")[0]}))};t.getTopRealCommands=function(e){
for(var t,n=new Set,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=r()).done;){var a=t.value.split(d.SUB_COMMAND_KEY_SEPARATOR)[0];Number(a)>0&&n.add(a);if(n.size>=d.DISCOVERY_COMMAND_FRECENCY_GATEWAY_LIMIT)break}return i=n,function(e){if(Array.isArray(e))return y(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||_(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var i}
;var r,a=f(n(496486)),i=f(n(536211)),o=f(n(636602)),u=n(81069),l=f(n(71319)),s=f(n(960441)),d=n(484278),c=n(770348),p=n(840433);function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function _(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T={pendingUsages:[]},I=new l.default((function(){return 1}),(function(e){
return e<=3?100:e<=15?70:e<=30?50:e<=45?30:e<=80?10:0}),(function(e){return e}),(function(){}),500);function v(e,t){return Number(t.id)<0?t.id:null!=e.guild&&null!=t.guildId?t.id+":"+e.guild.id:t.id}function E(){var e,t,n=null!==(e=null===(t=s.default.frecencyWithoutFetchingLatest.applicationCommandFrecency)||void 0===t?void 0:t.applicationCommands)&&void 0!==e?e:{};I.overwriteHistory(a.default.mapValues(n,(function(e){return A({},e,{recentUses:e.recentUses.map(Number)})})),T.pendingUsages)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(T=e);this.syncWith([s.default],E)};n.getState=function(){return T};n.hasPendingUsage=function(){return T.pendingUsages.length>0};n.getCommandFrecencyWithoutLoadingLatest=function(){return I};n.getScoreWithoutLoadingLatest=function(e,t){var n
;return null!==(n=I.getScore(v(e,t)))&&void 0!==n?n:0};n.getTopCommandsWithoutLoadingLatest=function(){return I.frequently};return t}(i.default.PersistedStore);C.displayName="ApplicationCommandFrecencyStore";C.persistKey="ApplicationCommandFrecencyV2";var O=new C(o.default,((r={})[c.ActionTypes.APPLICATION_COMMAND_USED]=function(e){var t=e.command,n=e.context;if(t.type!==u.ApplicationCommandType.CHAT)return!1;var r=v(n,t);T.pendingUsages.push({key:r,timestamp:Date.now()});I.track(r);I.compute()},r[c.ActionTypes.USER_SETTINGS_PROTO_UPDATE]=function(e){var t=e.settings.type,n=e.wasSaved;if(t!==p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS||!n)return!1;T.pendingUsages=[]},r));t.default=O},400704:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NO_COMMANDS=void 0;var r,a=l(n(536211)),i=l(n(636602)),o=n(153823),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return s(e,t)}var d,c,p,f,m,A=Object.freeze([]);t.NO_COMMANDS=A;var _,y=[];var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getResultCommands=function(e){return e===m?y:A};n.hasResults=function(e,t){if(t!==m)return!1;e=e.trimEnd().split(" ")[0].toLocaleLowerCase();return!(null==f||0!==y.length||!e.startsWith(f))||f===e};return t}(a.default.Store);T.displayName="ApplicationCommandGuildQueryStore";var I=new T(i.default,((r={})[u.ActionTypes.LOGOUT]=function(){_=void 0;y=[];d=void 0;c=void 0;f=void 0;p=void 0;m=void 0},r[u.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.guildId;if(_===t)return!1;_=t;y=[];d=void 0;c=void 0;f=void 0;p=void 0;m=void 0},r[u.ActionTypes.GUILD_APPLICATION_COMMANDS_UPDATE]=function(e){var t,n=e.applicationCommands,r=e.applications;if(e.nonce!==d)return!1;var a=null!=r?(0,o.applicationPermissionsList)(r):void 0;y=(0,
o.buildApplicationCommands)(n,a);f=null===(t=c)||void 0===t?void 0:t.toLocaleLowerCase();m=p},r[u.ActionTypes.APPLICATION_COMMAND_QUERY_REQUEST]=function(e){var t=e.nonce,n=e.query,r=e.commandType;d=t;c=n;p=r},r));t.default=I},473517:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(536211)),i=f(n(636602)),o=n(81069),u=f(n(759027)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(536487)),s=n(65621),d=n(484278),c=n(770348);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}
function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function A(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=null,I=null,v=null,E={},C=[];function O(){T=null;I=null;v=null;E={}}function M(e,t,n,r){
var a,i=E[e];if(null==i)return!1;var o=i.find((function(e){return e.id===t}));if(null==o||void 0===o.commandCountByType)return!1;var u=null!==(a=o.commandCountByType[r])&&void 0!==a?a:0;o.commandCountByType[r]=u+n;E[e]=A(i)}var N=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getRemoteGuildApplications=function(e){return null==e?null:E[e]};n.getGuildSections=function(e){if(null==e)return C;var t=E[e];return null==t?C:t};n.getGuildSection=function(e,t){if(null==e)return null;var n=E[e];if(null!=n){var r;return null!==(r=n.find((function(e){return e.id===t})))&&void 0!==r?r:null}return null};n.getTotalGuildCommands=function(e,t){for(var n,r=0,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){
return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.getGuildSections(e));!(n=a()).done;){var i,o;r+=null!==(i=null===(o=n.value.commandCountByType)||void 0===o?void 0:o[t])&&void 0!==i?i:0}return r};return t}(a.default.Store);N.displayName="ApplicationGuildCommandSectionStore";var g=new N(i.default,((r={})[c.ActionTypes.CONNECTION_OPEN]=O,r[c.ActionTypes.LOGOUT]=O,r[c.ActionTypes.GUILD_APPLICATION_COMMANDS_UPDATE]=function(e){var t,n=e.applications;if(e.nonce!==T||null==I||null==n||null==v)return!1;var r={};null===(t=E[I])||void 0===t||t.forEach((function(e){r[e.id]=e}));E[I]=n.sort((function(e,t){var n=e.name,r=t.name;return n===r?0:n<r?-1:1})).map((function(e){var t,n,a=null!==(t=null===(n=r[e.id])||void 0===n?void 0:n.commandCountByType)&&void 0!==t?t:{};a[v]=e.command_count;return{
type:s.ApplicationCommandSectionType.GUILD,id:e.id,name:e.name,icon:e.icon,bot:null!=e.bot?new u.default(e.bot):void 0,applicationCommandPermissions:e.application_command_permissions,commandCountByType:a}}))},r[c.ActionTypes.APPLICATIONS_REQUEST]=function(e){var t=e.nonce,n=e.guildId,r=e.commandType;T=t;I=n;v=r},r[c.ActionTypes.APPLICATION_COMMAND_QUERY_REQUEST]=function(e){var t=e.nonce,n=e.guildId,r=e.commandType;if(e.includeApplications){T=t;I=n;v=r}},r[c.ActionTypes.INTEGRATION_CREATE]=function(e){var t=e.guildId;if(null==e.integration.application)return!1;I===t&&null!=v&&l.queryGuildApplications(t,d.DISCOVERY_COMMANDS_QUERY_LIMIT,v);return!1},r[c.ActionTypes.INTEGRATION_DELETE]=function(e){var t=e.guildId,n=e.applicationId,r=E[t];if(null==n||null==r)return!1;var a=r.findIndex((function(e){return e.id===n}));if(a<0)return!1;r.splice(a,1);E[t]=A(r)},r[c.ActionTypes.APPLICATION_COMMAND_CREATE]=function(e){var t
;M(e.guildId,e.applicationId,1,null!==(t=e.command.type)&&void 0!==t?t:o.ApplicationCommandType.CHAT)},r[c.ActionTypes.APPLICATION_COMMAND_DELETE]=function(e){var t;M(e.guildId,e.applicationId,-1,null!==(t=e.command.type)&&void 0!==t?t:o.ApplicationCommandType.CHAT)},r));t.default=g},905043:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.getCommandSection=y;t.getContextCommands=_;t.useCommandSection=function(e,t){return(0,r.useStateFromStores)([d.default,i.default],(function(){return y(t,d.default,i.default,e)}),[t,e])};t.useContextCommands=function(e,t,n){return(0,r.useStateFromStores)([l.default,s.default,a.default,c.SearchManagerStore],(function(){return _(e,t,n,l.default,s.default,a.default,c.SearchManagerStore)}),[t,n,e])};var r=n(536211),a=A(n(689389)),i=A(n(728429)),o=n(724833),u=n(481414),l=A(n(117883)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(400704)),d=A(n(473517)),c=n(375543),p=n(65621),f=n(770348);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function A(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r,a,i,u){if(null!=e&&(0,o.shouldUseBackendV2)(t)){var l;return null!==(l=u.getQueryCommands(t.id,e))&&void 0!==l?l:s.NO_COMMANDS}if(t.type===f.ChannelTypes.DM){var d,c=t.getRecipientId();return null!==(d=r.getCommands(c,n))&&void 0!==d?d:s.NO_COMMANDS}if(null!=t.guild_id){return i.can(f.Permissions.USE_APPLICATION_COMMANDS,t)?a.getResultCommands(n):s.NO_COMMANDS}return s.NO_COMMANDS}function y(e,t,n,r,a){var i=u.BUILT_IN_SECTIONS[e];if(null!=i)return i
;if(null!=a)return t.getGuildSection(a,e);if(null!=(null==r?void 0:r.guild_id))return t.getGuildSection(null==r?void 0:r.guild_id,e);if((null==r?void 0:r.type)===f.ChannelTypes.DM){var o=n.getUser(r.getRecipientId());return null==o?null:{id:e,type:p.ApplicationCommandSectionType.DM,name:o.username,icon:o.avatar}}return null}},375543:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.SearchManagerStore=void 0;t.scoreCommand=q;t.useSearchManager=function(e,t,n,r,i){var u=void 0===i?{}:i,d=u.canOnlyUseTextCommands,c=u.canUseFrecency,p=(0,o.useStateFromStores)([j],(function(){return j.getChannelState(e.id)}),[e.id]),m=p.initialized,A=p.topCursor,v=p.scrollDownCursor,E=p.applicationSections,M=p.applicationCommands,N=p.filteredSectionId,g=a.useCallback((function(t){l.default.dirtyDispatch({type:O.ActionTypes.APPLICATION_COMMAND_SEARCH_MANAGER_UPDATE,channelId:e.id,state:t})}),[e.id]),h=a.useRef(!1),D=(0,s.default)(),b=a.useCallback((function(n,r){if(!h.current){
h.current=!0;U(e.id,S({type:t},n),D).then((function(e){h.current=!1;r(e)}))}}),[e.id,t,D]),P=a.useMemo((function(){return{channel:e,guild:null!=e.guild_id?f.default.getGuild(e.guild_id):null}}),[e]),L=(0,T.useTopRealCommands)(P);a.useEffect((function(){if(!m){g({initialized:!0});if(F(e)){var t=_.default.fromTimestamp(Date.now());W(t,"http","discovery");var n=e.isDM()?{applicationId:e.getRecipientId()}:{limit:r,includeApplications:null==A,commandIds:m?void 0:L,cursor:A};b(n,(function(n){Q(t);if(null!=n){var r={applicationCommands:B([],n.applicationCommands),topCursor:n.prevCursor,scrollDownCursor:n.nextCursor};if(e.isDM()||null!=n.applications){var a;r.applicationSections=G(e,null!==(a=n.applications)&&void 0!==a?a:[])}g(r)}}))}}}),[e,r,m,A,b,L,g]);var V=a.useCallback((function(){if(null!=v){var e=_.default.fromTimestamp(Date.now());W(e,"http","discovery");b({limit:r,cursor:v},(function(t){Q(e);if(null!=t){
var n=!1===t.repaired?B([],t.applicationCommands):B(null!=M?M:[],t.applicationCommands);g({applicationCommands:n,scrollDownCursor:t.nextCursor})}}))}}),[r,b,v,M,g]),x=a.useCallback((function(t){if(!h.current)if(null!=t){g({filteredSectionId:t,scrollDownCursor:null});t in y.BUILT_IN_SECTIONS||e.isDM()||b({applicationId:t},(function(e){D.aborted||null!=e&&g({applicationCommands:B([],e.applicationCommands)})}))}else g({filteredSectionId:null,initialized:e.isDM()})}),[e,D,b,g]);a.useEffect((function(){return function(){var t;null!=(null===(t=j.channelStates.get(e.id))||void 0===t?void 0:t.filteredSectionId)&&x(null)}}),[]);var Y=a.useMemo((function(){return w(P,t,d)}),[P,t,d]),k=(0,T.useTopCommands)(P),q=a.useMemo((function(){return c?(null!=M?M:[]).concat(Y).filter((function(e){return k.includes(e.id)})).sort((function(e,t){var n=I.default.getScoreWithoutLoadingLatest(P,e);return I.default.getScoreWithoutLoadingLatest(P,t)-n})).slice(0,C.DISCOVERY_COMMANDS_FRECENCY_LIMIT):[]
}),[c,Y,P,k,M]),K=a.useMemo((function(){if(d)return[y.BUILT_IN_SECTIONS[C.BuiltInSectionId.BUILT_IN]];var e=q.length>0?[y.BUILT_IN_SECTIONS[C.BuiltInSectionId.FRECENCY]]:[],t=[y.BUILT_IN_SECTIONS[C.BuiltInSectionId.BUILT_IN]];return[].concat(e,R(null!=E?E:[]),t)}),[d,E,q]),z=!m||h.current||null!=v,$=a.useMemo((function(){if(!z)return[];for(var e=[],r=0;r<n;r++)e.push(H("after",r,t));return e}),[z,n,t]),X=a.useMemo((function(){var e=[],t=[];K.forEach((function(n){if(null==N||n.id===N){var r;if((r=n.id===C.BuiltInSectionId.BUILT_IN?z?[]:R(Y):n.id===C.BuiltInSectionId.FRECENCY?R(q):(null!=M?M:[]).filter((function(e){return e.applicationId===n.id}))).length>0||n.id===N){e.push(n);t.push({section:n,data:r})}}}));if(t.length>0&&$.length>0){var n;(n=t[t.length-1].data).push.apply(n,R($))}return{activeSections:e,commandsByActiveSection:t}}),[K,q,M,Y,$,z,N]),Z=X.activeSections,J=X.commandsByActiveSection,ee=a.useMemo((function(){return d?Y:[].concat(R(q),R(null!=M?M:[]),R(Y))}),[d,q,M,Y])
;return{filterSection:x,scrollDown:V,loading:h,filteredSectionId:N,hasMoreAfter:z,commands:ee,sectionDescriptors:K,activeSections:Z,commandsByActiveSection:J,placeholders:$}};var r,a=g(n(667294)),i=M(n(23279)),o=g(n(536211)),u=M(n(118915)),l=M(n(636602)),s=M(n(169549)),d=M(n(177230)),c=n(828593),p=M(n(759027)),f=M(n(30098)),m=M(n(728429)),A=M(n(308920)),_=M(n(71636)),y=n(481414),T=n(166806),I=M(n(290760)),v=n(65621),E=n(153823),C=n(484278),O=n(770348);function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null
;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}function R(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function U(e,t,n){if(null==n?void 0:n.aborted)return Promise.resolve(null);var r={type:t.type};if("query"in t){r.query=t.query;r.limit=t.limit;r.include_applications=t.includeApplications}else if("applicationId"in t)r.application_id=t.applicationId;else{r.limit=t.limit;r.cursor=t.cursor;r.command_ids=t.commandIds;r.include_applications=t.includeApplications}var a=function(){var r,a=(r=regeneratorRuntime.mark((function r(a){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return new Promise((function(e){setTimeout(e,a)}));case 2:
return r.abrupt("return",U(e,t,n));case 3:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=r.apply(e,t);function o(e){L(i,n,a,o,u,"next",e)}function u(e){L(i,n,a,o,u,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}();return u.default.get({url:O.Endpoints.APPLICATION_COMMANDS_SEARCH(e),query:r,signal:n}).then((function(e){var t,n,r;return 202===e.status?a(5e3):{applicationCommands:e.body.application_commands,applications:e.body.applications,nextCursor:null===(t=e.body.cursor)||void 0===t?void 0:t.next,prevCursor:null===(n=e.body.cursor)||void 0===n?void 0:n.previous,repaired:null===(r=e.body.cursor)||void 0===r?void 0:r.repaired}}),(function(e){return(null==n?void 0:n.aborted)?null:429===e.status?a(1e3*e.body.retry_after):null}))}var w=function(e,t,n){var r=e.channel,a=e.guild;return null!=r?(0,y.getBuiltInCommands)(t,!0,n).filter((function(e){return null==e.predicate||e.predicate({channel:r,guild:a
})})):[]};function B(e,t){if(0===t.length)return e;var n=R(e),r=(0,E.buildApplicationCommands)(t).filter((function(e){var t=n.findIndex((function(t){return t.id===e.id}));if(t>=0){n[t]=e;return!1}return!0}));return[].concat(R(n),R(r))}function G(e,t){if(e.isDM()){var n=m.default.getUser(e.getRecipientId());return[{type:v.ApplicationCommandSectionType.DM,id:n.id,name:n.username,icon:n.avatar,bot:n}]}return t.map((function(e){return{type:v.ApplicationCommandSectionType.GUILD,id:e.id,name:e.name,icon:e.icon,bot:null!=e.bot?new p.default(e.bot):void 0}}))}var H=function(e,t,n){return{type:n,inputType:v.ApplicationCommandInputType.PLACEHOLDER,id:"placeholder-"+e+"-"+t,name:"",displayName:"",description:"",displayDescription:"",applicationId:""}},j=new(function(e){h(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).displayName="SearchManagerStore";t.channelStates=new Map;return t}var n=t.prototype
;n.getChannelState=function(e){j.channelStates.has(e)||j.channelStates.set(e,{initialized:!1,topCursor:null,scrollDownCursor:null,applicationSections:null,applicationCommands:null,filteredSectionId:null,pendingQueries:new Map,queries:new Map});return j.channelStates.get(e)};n.getApplicationSections=function(e){return this.getChannelState(e).applicationSections};n.getQueryCommands=function(e,t){var n,r,a=this.getChannelState(e),i=a.queries,o=a.pendingQueries;return null!==(n=i.get(t))&&void 0!==n?n:null===(r=o.get(t))||void 0===r?void 0:r.commands};return t}(o.default.Store))(l.default,((r={})[O.ActionTypes.LOGOUT]=function(){j.channelStates.clear()},r[O.ActionTypes.CHANNEL_SELECT]=function(e){if(null==e.channelId)return!1;j.channelStates.clear()},r[O.ActionTypes.APPLICATION_COMMAND_SEARCH_MANAGER_UPDATE]=function(e){var t=e.channelId,n=e.state,r=j.channelStates.get(t);if(null==r)return!1;var a=S({},r,{},n);j.channelStates.set(t,a)
;null==r.applicationCommands&&null!=a.applicationCommands&&a.pendingQueries.forEach((function(e,t){K(e.context,e.commandType,t,e.limit)}))},r));t.SearchManagerStore=j;var F=function(e){return!e.isMultiUserDM()&&!e.isSystemDM()&&(!e.isDM()||null!=e.rawRecipients.find((function(e){return e.bot})))};var V,x,Y,k=0,W=function(e,t,n){k=Date.now();V=e;x=t;Y=n},Q=function(e){if(null!=e&&e===V){var t=Date.now()-k;A.default.track(O.AnalyticEvents.APPLICATION_COMMAND_LOAD_TIMING,{duration_ms:t,method:x,area:Y});k=0;V=null;x=null;Y=null}};function q(e,t){var n=t.name,r=t.serverLocalizedName;if(n.startsWith(e))return 4;if(null==r?void 0:r.startsWith(e))return 4;if(n.includes(e))return 3;if(null==r?void 0:r.includes(e))return 3;for(var a,i=!1,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,
value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(null!==(u=t.options)&&void 0!==u?u:[]);!(a=o()).done;){var u,l=a.value,s=l.name,d=l.serverLocalizedName;if(s.startsWith(e))return 2;if((n+" "+s).startsWith(e))return 2;if(null!=r&&(r+" "+s).startsWith(e))return 2;if(null!=d){if(d.startsWith(e))return 2;if((n+" "+d).startsWith(e))return 2;if(null!=r&&(r+" "+d).startsWith(e))return 2}(s.includes(e)||(null==d?void 0:d.includes(e)))&&(i=!0)}return i?1:0}function K(e,t,n,r,a,i){var o,u=j.getChannelState(e.channel.id);null!=i&&(u.applicationSections=G(e.channel,i));var l=e.channel.isDM()?null!==(o=u.applicationCommands)&&void 0!==o?o:[]:B([],null!=a?a:[]),s=w(e,t,!1),d=[];[].concat(R(l),R(s)).forEach((function(e){var t=q(n,e);t>0&&d.push(S({},e,{score:t}))}));c.FrecencyUserSettingsActionCreators.loadIfNecessary();d.sort((function(t,n){
if(t.score!==n.score)return n.score-t.score;var r=I.default.getScoreWithoutLoadingLatest(e,t);return I.default.getScoreWithoutLoadingLatest(e,n)-r}));var p=F(e.channel)&&(e.channel.isDM()?null==u.applicationCommands:null==a);if(p)for(var f=d.length;f<r;f+=1)d.push(S({},H("after",f,t),{score:0}));if(p){u.pendingQueries.set(n,{context:e,commandType:t,limit:r,commands:d.slice(0,r)});u.queries.delete(n)}else{u.pendingQueries.delete(n);u.queries.set(n,d.slice(0,r))}}var z=(0,i.default)((function(e,t,n,r,a){if(F(e.channel)){var i=j.getChannelState(e.channel.id);if(e.channel.isDM())i.initialized||null!=i.applicationCommands||U(e.channel.id,{type:t,applicationId:e.channel.getRecipientId()}).then((function(t){var n;null!=t&&l.default.dispatch({type:O.ActionTypes.APPLICATION_COMMAND_SEARCH_MANAGER_UPDATE,channelId:e.channel.id,state:{applicationCommands:B([],null!==(n=t.applicationCommands)&&void 0!==n?n:[])}})}));else{W(a,"http","query");U(e.channel.id,{type:t,query:n,limit:r,
includeApplications:!i.initialized&&null==i.applicationSections}).then((function(i){Q(a);if(null!=i&&j.channelStates.has(e.channel.id)){K(e,t,n,r,i.applicationCommands,i.applications);j.emitChange()}}))}}}),250,{leading:!0,trailing:!0,maxWait:750});function $(e){var t,n=e.context,r=e.commandType,a=e.query,i=e.limit,o=e.nonce;if(!(null===(t=j.channelStates.get(n.channel.id))||void 0===t?void 0:t.queries.has(a))){K(n,r,a,i);j.emitChange();z(n,r,a,i,o)}}function X(e){var t=e.nonce;W(t,"gateway","query")}function Z(e){var t=e.nonce;W(t,"gateway","discovery")}function J(e){var t=e.nonce;W(t,"gateway","discovery-scroll")}function ee(e){var t=e.nonce;Q(t)}var te=new(function(e){h(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){l.default.subscribe(O.ActionTypes.APPLICATION_COMMAND_QUERY_SEARCH_MANAGER,$);l.default.subscribe(O.ActionTypes.APPLICATION_COMMAND_QUERY_REQUEST,X);l.default.subscribe(O.ActionTypes.APPLICATIONS_REQUEST,Z)
;l.default.subscribe(O.ActionTypes.APPLICATION_COMMAND_DISCOVERY_REQUEST,J);l.default.subscribe(O.ActionTypes.GUILD_APPLICATION_COMMANDS_UPDATE,ee)};n._terminate=function(){l.default.unsubscribe(O.ActionTypes.APPLICATION_COMMAND_QUERY_SEARCH_MANAGER,$);l.default.unsubscribe(O.ActionTypes.APPLICATION_COMMAND_QUERY_REQUEST,X);l.default.unsubscribe(O.ActionTypes.APPLICATIONS_REQUEST,Z);l.default.unsubscribe(O.ActionTypes.APPLICATION_COMMAND_DISCOVERY_REQUEST,J);l.default.unsubscribe(O.ActionTypes.GUILD_APPLICATION_COMMANDS_UPDATE,ee)};return t}(d.default));t.default=te},572935:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),i=d(n(636602)),o=n(844784),u=d(n(502546)),l=d(n(211136)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var A={};function _(){A={};return!0}function y(e){e in A||(A[e]={activeCommand:null,activeOptionName:null,preferredCommandId:null,optionStates:{}});return A[e]}function T(e){var t,n=e.channelId,r=e.command,a=y(n);if((null==r?void 0:r.id)===(null===(t=a.activeCommand)||void 0===t?void 0:t.id))return!1;a.activeCommand=r;a.activeOptionName=null;a.preferredCommandId=null;var i={};null!=(null==r?void 0:r.options)&&r.options.forEach((function(e){i[e.name]={isActive:!1,hasValue:!1,lastValidationResult:null,optionValue:null}}));a.optionStates=i;if(null!=r){var u,l;(0,o.trackWithMetadata)(s.AnalyticEvents.APPLICATION_COMMAND_SELECTED,{command_id:null!==(u=null===(l=r.rootCommand)||void 0===l?void 0:l.id)&&void 0!==u?u:r.id,application_id:r.applicationId})}return!0}function I(e){var t,n,r=e.channelId,a=e.commandId,i=y(r)
;if(a===i.preferredCommandId||null===i.preferredCommandId&&a===(null!==(t=null===(n=i.activeCommand)||void 0===n?void 0:n.id)&&void 0!==t?t:null))return!1;i.activeCommand=null;i.activeOptionName=null;i.preferredCommandId=a;i.optionStates={};return!0}function v(e){for(var t=e.channelId,n=e.changedOptionStates,r=y(t),a=m({},r.optionStates),i=0,o=Object.entries(n);i<o.length;i++){var u,l,s,d=p(o[i],2),c=d[0],f=d[1];if(c in r.optionStates){if(void 0!==f.hasValue?f.hasValue:a[c].hasValue){var A=a[c];a[c]={hasValue:!0,isActive:void 0!==f.isActive?f.isActive:A.isActive,lastValidationResult:void 0!==f.lastValidationResult?f.lastValidationResult:A.lastValidationResult,optionValue:null!==(u=f.optionValue)&&void 0!==u?u:A.optionValue,location:null!==(l=f.location)&&void 0!==l?l:A.location,length:null!==(s=f.length)&&void 0!==s?s:A.length};if(void 0!==f.isActive)if(f.isActive){if(null!=r.activeOptionName&&r.activeOptionName!==c){a[r.activeOptionName]=m({},a[r.activeOptionName])
;a[r.activeOptionName].isActive=!1}r.activeOptionName=c}else c===r.activeOptionName&&(r.activeOptionName=null)}else{a[c]={hasValue:!1,isActive:!1,lastValidationResult:null,optionValue:null,location:void 0,length:void 0};r.activeOptionName===c&&(r.activeOptionName=null)}}}r.optionStates=a;return!0}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){u.default.addChangeListener((function(){var e=l.default.getChannelId();if(null==e){A={};return!0}var t=u.default.getCurrentSidebarChannelId(e);if(null!=t&&t in A)return!1;if(e in A){var n;A=((n={})[e]=A[e],n)}else A={}}))};n.getActiveCommand=function(e){return y(e).activeCommand};n.getActiveOptionName=function(e){return y(e).activeOptionName};n.getActiveOption=function(e){var t,n,r,a=y(e)
;return null!==(t=null===(n=a.activeCommand)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.find((function(e){return e.name===a.activeOptionName})))&&void 0!==t?t:null};n.getPreferredCommandId=function(e){return y(e).preferredCommandId};n.getOptionStates=function(e){return y(e).optionStates};n.getOptionState=function(e,t){return y(e).optionStates[t]};n.getOption=function(e,t){var n,r;return null===(n=y(e).activeCommand)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.find((function(e){return e.name===t}))};return t}(a.default.Store);E.displayName="ApplicationCommandStore";var C=new E(i.default,((r={})[s.ActionTypes.CONNECTION_OPEN]=_,r[s.ActionTypes.CHANNEL_SELECT]=_,r[s.ActionTypes.LOGOUT]=_,r[s.ActionTypes.APPLICATION_COMMAND_SET_ACTIVE_COMMAND]=T,r[s.ActionTypes.APPLICATION_COMMAND_SET_PREFERRED_COMMAND]=I,r[s.ActionTypes.APPLICATION_COMMAND_UPDATE_OPTIONS]=v,r[s.ActionTypes.APPLICATION_COMMAND_UPDATE_CHANNEL_STATE]=function(e){
var t=e.channelId,n=e.preferredCommandId,r=e.command,a=e.changedOptionStates,i=T({type:"APPLICATION_COMMAND_SET_ACTIVE_COMMAND",channelId:t,command:r}),o=I({type:"APPLICATION_COMMAND_SET_PREFERRED_COMMAND",channelId:t,commandId:n}),u=v({type:"APPLICATION_COMMAND_UPDATE_OPTIONS",channelId:t,changedOptionStates:a});return i||o||u},r));t.default=C},65621:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.ApplicationCommandSectionType=t.ApplicationCommandPermissionType=t.ApplicationCommandInputType=void 0;var n,r,a;t.ApplicationCommandSectionType=n;!function(e){e[e.BUILT_IN=0]="BUILT_IN";e[e.GUILD=1]="GUILD";e[e.DM=2]="DM"}(n||(t.ApplicationCommandSectionType=n={}));t.ApplicationCommandInputType=r;!function(e){e[e.BUILT_IN=0]="BUILT_IN";e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT";e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION";e[e.BOT=3]="BOT";e[e.PLACEHOLDER=4]="PLACEHOLDER"}(r||(t.ApplicationCommandInputType=r={}));t.ApplicationCommandPermissionType=a;!function(e){e[e.ROLE=1]="ROLE"
;e[e.USER=2]="USER";e[e.CHANNEL=3]="CHANNEL"}(a||(t.ApplicationCommandPermissionType=a={}))},153823:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.allChannelsSentinel=j;t.applicationPermissionsList=function(e){return null==e?void 0:e.reduce((function(e,t){null!=t.applicationCommandPermissions&&e.push({id:t.id,permissions:t.applicationCommandPermissions});return e}),[])};t.buildApplicationCommands=function(e,t){return i.default.flatMap(e,(function(e){(0,a.default)(null!=e.id,"Missing command id");return w(e,e,e.application_id,void 0,t)}))};t.buildCommand=L;t.getApplicationCommandOptionQueryOptions=function(e){var t=e.type===u.ApplicationCommandOptionType.STRING,n=e.type===u.ApplicationCommandOptionType.CHANNEL,r=e.type===u.ApplicationCommandOptionType.USER||e.type===u.ApplicationCommandOptionType.MENTIONABLE,a=e.type===u.ApplicationCommandOptionType.ROLE||e.type===u.ApplicationCommandOptionType.MENTIONABLE;return{canMentionEveryone:t||a,canMentionHere:t,
canMentionChannels:t||n,canMentionUsers:t||r,canMentionRoles:t||a,canMentionAnyGuildUser:r,canMentionNonMentionableRoles:a}};t.getApplicationCommandSectionName=function(e){return null!=e.bot?e.bot.username:e.name};t.getInteractionAuthor=function(e,t){if(null!=e.guild){var n=v.default.getGuildSection(e.guild.id,t);if(null!=n){var r;if(null!=n.bot)return[n.bot,null];var a={id:n.id,username:n.name,discriminator:"0000",avatar:null,bot:!0},i={id:n.id,name:n.name,icon:null!==(r=n.icon)&&void 0!==r?r:void 0};return[a,i]}}var o=_.default.getUser(t);if(null!=o)return[o,null];return[null,null]};t.hasAccess=H;t.isSnowflake=function(e){return M.ID_REGEX.test(e.trim())};t.queryCommands=function(e,t,n,r,a,i,o,u,s){void 0===i&&(i=10);void 0===o&&(o=!0);void 0===u&&(u=!1);void 0===s&&(s=!1);var d=[],c=a?new RegExp("^"+y.default.escape(n)+"\\s*$","i"):new RegExp("^"+y.default.escape(n),"i");u||(d=d.concat(B(t,c,e,i)));var p=(0,T.getBuiltInCommands)(r,o,u);d=d.concat(B(p,c,e,i))
;s&&(d=d.filter((function(e){return H(e)})));l.FrecencyUserSettingsActionCreators.loadIfNecessary();d.sort((function(t,n){var r=I.default.getScoreWithoutLoadingLatest(e,t);return I.default.getScoreWithoutLoadingLatest(e,n)-r}));return d.slice(0,i)};var r=S(n(224736)),a=S(n(441143)),i=S(n(496486)),o=S(n(267258)),u=n(81069),l=n(828593),s=S(n(686305)),d=S(n(502546)),c=S(n(644263)),p=S(n(876874)),f=S(n(689389)),m=S(n(211136)),A=S(n(790597)),_=S(n(728429)),y=S(n(827513)),T=n(481414),I=S(n(290760)),v=S(n(473517)),E=n(65621),C=S(n(682404)),O=n(484278),M=n(770348),N=n(173652),g=n(478036);function S(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function R(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,r,a){var i,l,s,d,c=null!=e.permissions&&e.permissions.length>0?e.permissions:a;if(null!=c&&c.length>0){d={};c.forEach((function(e){d[e.id]=e}))}var p=(null!=r?r:[]).map((function(e){return e.name})),f=(null!=r?r:[]).map((function(e){return e.displayName}));return{version:e.version,guildId:e.guild_id,id:[e.id].concat(R(p)).join(O.SUB_COMMAND_KEY_SEPARATOR),name:[e.name].concat(R(p)).join(" "),serverLocalizedName:t.name_localized,applicationId:n,type:null!==(i=e.type)&&void 0!==i?i:u.ApplicationCommandType.CHAT,inputType:E.ApplicationCommandInputType.BOT,description:t.description,options:U(t.options),rootCommand:e,subCommandPath:r,
defaultMemberPermissions:null==e.default_member_permissions?void 0:o.default.deserialize(e.default_member_permissions),defaultPermission:e.default_permission,dmPermission:e.dm_permission,permissions:d,listed:!1!==e.listed,displayName:[null!==(l=e.name_localized)&&void 0!==l?l:e.name].concat(R(f)).join(" "),displayDescription:null!==(s=t.description_localized)&&void 0!==s?s:t.description}}function U(e){return null==e?void 0:e.map((function(e){var t,n,r,a=D({},e,{choices:(r=e.choices,null==r?void 0:r.map((function(e){var t;return D({},e,{displayName:null!==(t=e.name_localized)&&void 0!==t?t:e.name})}))),options:U(e.options),serverLocalizedName:e.name_localized,displayName:null!==(t=e.name_localized)&&void 0!==t?t:e.name,displayDescription:null!==(n=e.description_localized)&&void 0!==n?n:e.description});return e.type===u.ApplicationCommandOptionType.CHANNEL&&null!=e.channel_types?D({},a,{channelTypes:e.channel_types
}):e.type!==u.ApplicationCommandOptionType.NUMBER&&e.type!==u.ApplicationCommandOptionType.INTEGER||null==e.min_value&&null==e.max_value?a:D({},a,{minValue:e.min_value,maxValue:e.max_value})}))}function w(e,t,n,r,a){var i=null==a?void 0:a.find((function(e){return e.id===n}));if(t.hasOwnProperty("id")){if(null==(t=t).options||0===t.options.length)return[L(e,t,n,r,null==i?void 0:i.permissions)]}else if((t=t).type!==u.ApplicationCommandOptionType.SUB_COMMAND&&t.type!==u.ApplicationCommandOptionType.SUB_COMMAND_GROUP&&(null==t.options||0===t.options.length))return[L(e,t,n,r,null==i?void 0:i.permissions)];var o=[];if(null==t.options)return o;for(var l=t.options.filter((function(e){return e.type===u.ApplicationCommandOptionType.SUB_COMMAND_GROUP})),s=0;s<l.length;s++){var d;o.push.apply(o,R(w(e,l[s],n,(null!=r?r:[]).concat([{name:l[s].name,type:u.ApplicationCommandOptionType.SUB_COMMAND_GROUP,displayName:null!==(d=l[s].name_localized)&&void 0!==d?d:l[s].name}]),a)))}
for(var c=t.options.filter((function(e){return e.type===u.ApplicationCommandOptionType.SUB_COMMAND})),p=0;p<c.length;p++){var f;o.push(L(e,c[p],n,(null!=r?r:[]).concat([{name:c[p].name,type:u.ApplicationCommandOptionType.SUB_COMMAND,displayName:null!==(f=c[p].name_localized)&&void 0!==f?f:c[p].name}]),null==i?void 0:i.permissions))}0===l.length&&0===c.length&&o.push(L(e,t,n,r,null==i?void 0:i.permissions));return o}function B(e,t,n,r){var a=[];(0,i.default)(e).forEach((function(e){t.test(e.displayName)&&(null==e.predicate||e.predicate(n))&&a.push(e)}));return a.slice(0,r)}function G(e,t){var n,r=_.default.getCurrentUser();(0,a.default)(null!=r,"hasAccess: user cannot be undefined");var i=p.default.getMember(t,r.id);if(null==i){var u;return null===(u=e.dmPermission)||void 0===u||u}var l=m.default.getChannelId(),A=c.default.getChannel(l),y=d.default.getSidebarState(l),T=null!=y&&"channelId"in y?y.channelId:null,I=c.default.getChannel(T),v=(0,N.isGuildHomeChannel)(l)?T:l;(0,
a.default)(null!=v,"hasAccess: channelId cannot be undefined");var C=(0,N.isGuildHomeChannel)(l)?I:A;(0,a.default)(null!=C,"hasAccess: channel cannot be undefined");var O,M,S=s.default.getViewingRoles(t),D=f.default.computePermissions(C,void 0,null==S?void 0:S);if(o.default.has(D,g.Permissions.ADMINISTRATOR))return!0;if(!o.default.has(D,g.Permissions.VIEW_CHANNEL))return!1;if(null!=S)O=Object.values(S).map((function(e){return e.id}));else{O=i.roles;M=i.userId}var R=e.defaultMemberPermissions,b=null!=R?o.default.has(D,R):void 0;return function(e,t,n,r,a,i){var o=e,u=!0,l=n[j(e)];null!=l&&(u=l.permission);var s=n[t];null!=s&&(u=s.permission);if(!u)return u;if(null!=i){var d=[E.ApplicationCommandPermissionType.ROLE,E.ApplicationCommandPermissionType.USER];if(!Object.values(n).some((function(e){return d.includes(e.type)})))return i}var c=n[o];null!=c&&(u=c.permission);for(var p,f=null,m=h(r);!(p=m()).done;){var A=n[p.value];if(null!=A&&(f=A.permission))break}f&&(u=f);if(null!=a){var _=n[a]
;null!=_&&(u=_.permission)}return u}(t,v,null!==(n=e.permissions)&&void 0!==n?n:{},O,M,b)}function H(e){if(null==e.defaultPermission)return!0;var t=A.default.getGuildId();if(null==t){var n;return null!==(n=e.dmPermission)&&void 0!==n?n:e.defaultPermission}return C.default.getCurrentConfig({guildId:t}).enable?G(e,t):function(e,t){if(null!=e){var n=_.default.getCurrentUser();(0,a.default)(null!=n,"hasAccess: currentUser cannot be undefined");var r=e[n.id];if(null!=r)return r.permission;var i=A.default.getGuildId(),o=null!=i?p.default.getMember(i,n.id):null;if(null!=o){var u=null,l=R(o.roles);null!=i&&l.push(i);for(var s,d=h(l);!(s=d()).done;){var c=e[s.value];if(null!=c&&(u=c.permission))break}if(null!==u)return u}}return t}(e.permissions,e.defaultPermission)}function j(e){return(0,r.default)(e).subtract(1).toString()}},682404:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"guild",id:"2021-09_command_permissions_v2",
label:"Command Permissions V2",defaultConfig:{enable:!1},treatments:[{id:1,label:"Enables command permissions v2.",config:{enable:!0}}]});t.default=r},258938:(e,t,n)=>{({value:!0});t.Z=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=T(n(496486)),o=T(n(709403)),u=T(n(786345)),l=n(81069),s=n(678928),d=T(n(290629)),c=T(n(728429)),p=n(194322),f=T(n(776360)),m=n(65621),A=n(484278),_=n(770348),y=T(n(247001));function T(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){
return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){C(i,r,a,o,u,"next",e)}function u(e){C(i,r,a,o,u,"throw",e)}o(void 0)}))}}function M(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){switch(e){case _.ChannelTextAreaIntegrations.GIPHY.title:case _.ChannelTextAreaIntegrations.TENOR.title:return y.default.Messages.COMMAND_GIPHY_DESCRIPTION;default:return""}}var g,S=[].concat(function(e){if(Array.isArray(e))return M(e)}(g=(0,i.default)(_.ChannelTextAreaIntegrations).values().map((function(e){return{id:e.commandId,name:e.command,displayName:e.command,type:l.ApplicationCommandType.CHAT,inputType:m.ApplicationCommandInputType.BUILT_IN_INTEGRATION,applicationId:A.BuiltInSectionId.BUILT_IN,get description(){return N(e.title)},get displayDescription(){return N(e.title)},options:e.type===_.ChannelTextAreaIntegrationTypes.GIF?[{name:"query",displayName:"query",type:l.ApplicationCommandOptionType.STRING,get description(){return y.default.Messages.COMMAND_GIPHY_QUERY_DESCRIPTION},get displayDescription(){return y.default.Messages.COMMAND_GIPHY_QUERY_DESCRIPTION},required:!0
}]:[],integrationType:e.type,integrationTitle:e.title}})).value())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(g)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:"-15",name:"leave",displayName:"leave",type:l.ApplicationCommandType.CHAT,inputType:m.ApplicationCommandInputType.BUILT_IN,applicationId:A.BuiltInSectionId.BUILT_IN,get description(){return y.default.Messages.LEAVE_GROUP_DM},get displayDescription(){return y.default.Messages.LEAVE_GROUP_DM},predicate:function(e){return e.channel.isGroupDM()},
execute:function(e,t){var r=t.channel,i=(0,s.computeChannelName)(r,c.default,d.default),l=y.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:i}),m=y.default.Messages.LEAVE_GROUP_DM_BODY.format({name:i});if(r.isManaged()){l=y.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:i});m=y.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:i})}(0,p.openModalLazy)(O(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,502197));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,v({header:l,confirmText:y.default.Messages.LEAVE_GROUP_DM,cancelText:y.default.Messages.CANCEL,onConfirm:A},e),E(f.default,{size:f.default.Sizes.SIZE_16},void 0,m))}));case 5:case"end":return e.stop()}}),e)}))));function A(){return _.apply(this,arguments)}function _(){return(_=O(regeneratorRuntime.mark((function e(){
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.closePrivateChannel(r.id);case 3:e.next=8;break;case 5:e.prev=5;e.t0=e.catch(0);u.default.sendBotMessage(r.id,y.default.Messages.LEAVE_GROUP_DM_ERROR);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}}}]);t.Z=S},649563:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(118915)),a=o(n(636602)),i=n(770348);function o(e){return e&&e.__esModule?e:{default:e}}var u={resort:function(e){a.default.dirtyDispatch({type:i.ActionTypes.RESORT_THREADS,channelId:e})},createForumTag:function(e,t){return r.default.post({url:i.Endpoints.FORUM_TAGS(t),body:{name:e.name,emoji_id:e.emojiId,emoji_name:null!=e.emojiId?void 0:e.emojiName}})},updateForumTag:function(e,t){return r.default.put({url:i.Endpoints.FORUM_TAG(t,e.id),body:{name:e.name,emoji_id:e.emojiId,emoji_name:e.emojiName}})},deleteForumTag:function(e,t){
return r.default.delete({url:i.Endpoints.FORUM_TAG(e,t)})},updateForumPostTags:function(e,t){return r.default.patch({url:i.Endpoints.CHANNEL(e),body:{applied_tags:t}})}};t.default=u},506309:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.canToggleCommunicationDisableOnUser=p;t.default=function(e,t){return(0,r.useStateFromStores)([o.default,a.default,i.default],(function(){return p(e,t,[o.default,a.default,i.default])}),[e,t])};var r=n(536211),a=s(n(30098)),i=s(n(689389)),o=s(n(728429)),u=s(n(656016)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){var r=d(void 0===n?[o.default,a.default,i.default]:n,3),s=r[0],c=r[1],p=r[2],f=c.getGuild(e),m=s.getUser(t);return null!=f&&null!=m&&(!m.isNonUserBot()&&(!(f.isOwner(m)||u.default.can(l.Permissions.ADMINISTRATOR,m,f))&&p.canManageUser(l.Permissions.MODERATE_MEMBERS,m,f)))}},514756:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=l;t.useCurrentUserCommunicationDisabled=function(e){
var t=(0,r.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()}));return l(null==t?void 0:t.id,e)};var r=n(536211),a=u(n(876874)),i=u(n(728429)),o=n(457676);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n,i=(0,r.useStateFromStores)([a.default],(function(){return null!=t&&null!=e?a.default.getMember(t,e):null}),[t,e]);return[null!==(n=null==i?void 0:i.communicationDisabledUntil)&&void 0!==n?n:null,(0,o.isMemberCommunicationDisabled)(i)]}},741464:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.addQueued=function(e,t){var n=t.data,r=t.messageId,o=t.onCreate,u=t.onSuccess,l=t.onFailure;a.default.dirtyDispatch({type:i.ActionTypes.INTERACTION_QUEUE,data:n,nonce:e,messageId:r,onCreate:o,onSuccess:u,onFailure:l})};t.fetchMessageInteractionData=function(e,t){return s.apply(this,arguments)};t.queueInteractionComponentState=function(e,t,n,r){a.default.dirtyDispatch({type:i.ActionTypes.QUEUE_INTERACTION_COMPONENT_STATE,messageId:e,
nonce:t,state:n,indices:r})};t.setFailed=function(e,t,n){a.default.dirtyDispatch({type:i.ActionTypes.INTERACTION_FAILURE,nonce:e,errorMessage:n,errorCode:t})};var r=o(n(118915)),a=o(n(636602)),i=n(770348);function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,l,"next",e)}function l(e){u(i,r,a,o,l,"throw",e)}o(void 0)}))}}function s(){return(s=l(regeneratorRuntime.mark((function e(t,n){var o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get({url:i.Endpoints.MESSAGE_INTERACTION_DATA(t,n),oldFormErrors:!0});case 2:if((o=e.sent).ok){u=o.body;a.default.dirtyDispatch({type:i.ActionTypes.LOAD_MESSAGE_INTERACTION_DATA_SUCCESS,channelId:t,messageId:n,interactionData:u})}case 4:case"end":
return e.stop()}}),e)})))).apply(this,arguments)}},814142:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),i=d(n(636602)),o=n(81069),u=d(n(644263)),l=n(190900),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var A={},_={},y={};function T(e){delete A[e];var t=y[e];null!=t&&delete _[t];delete y[e]}var I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getInteraction=function(e){var t=_[e.id];return null!=t?A[t]:null};n.getMessageInteractionStates=function(){
for(var e={},t=0,n=Object.entries(A);t<n.length;t++){var r=p(n[t],2),a=r[0],i=r[1],o=y[a];null!=o&&(e[o]=i.state)}return e};n.canQueueInteraction=function(e,t){var n=_[e];return!(null!=n&&null!=A[n]&&A[n].state!==l.InteractionState.FAILED||null!=A[t]&&A[t].state!==l.InteractionState.FAILED)};return t}(a.default.Store);I.displayName="InteractionStore";var v=new I(i.default,((r={})[s.ActionTypes.LOGOUT]=function(){A={};_={};y={}},r[s.ActionTypes.INTERACTION_QUEUE]=function(e){var t=e.nonce,n=e.messageId,r=e.data,a=e.onCreate,i=e.onCancel,o=e.onSuccess,u=e.onFailure;if(null!=n){_[n]=t;y[t]=n}A[t]={state:l.InteractionState.QUEUED,data:r,onCreate:a,onCancel:i,onSuccess:o,onFailure:u}},r[s.ActionTypes.INTERACTION_CREATE]=function(e){var t,n=e.nonce,r=e.interactionId;if(null==n)return!1;var a=A[n];if(null==a||a.state!==l.InteractionState.QUEUED)return!1;a.state=l.InteractionState.CREATED;null===(t=a.onCreate)||void 0===t||t.call(a,r)},r[s.ActionTypes.INTERACTION_SUCCESS]=function(e){
var t,n=e.nonce;if(null==n)return!1;var r=A[n];if(null==r)return!1;null===(t=r.onSuccess)||void 0===t||t.call(r);T(n)},r[s.ActionTypes.INTERACTION_FAILURE]=function(e){var t,n=e.nonce,r=e.errorCode,a=e.errorMessage;if(null==n)return!1;var i=A[n];if(null==i)return!1;null===(t=i.onFailure)||void 0===t||t.call(i,r,a);i.data.interactionType===o.InteractionTypes.APPLICATION_COMMAND?T(n):A[n]=m({},i,{state:l.InteractionState.FAILED,errorCode:r,errorMessage:a})},r[s.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.message;if(null==t.nonce)return!1;var n,r=A[t.nonce];if(null==r)return!1;null===(n=r.onSuccess)||void 0===n||n.call(r);T(t.nonce)},r[s.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId;if(null==u.default.getChannel(t))return!1;for(var n=0,r=Object.entries(A);n<r.length;n++){var a=p(r[n],2),i=a[0];a[1].state===l.InteractionState.FAILED&&T(i)}},r));t.default=v},190900:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.InteractionState=void 0;var n;t.InteractionState=n
;!function(e){e[e.QUEUED=0]="QUEUED";e[e.CREATED=1]="CREATED";e[e.FAILED=2]="FAILED"}(n||(t.InteractionState=n={}))},632341:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.InteractionStatusViewState=void 0;t.canRetryInteractionData=function(e){var t=e.options;for(;1===(null===(n=t)||void 0===n?void 0:n.length)&&(t[0].type===o.ApplicationCommandOptionType.SUB_COMMAND_GROUP||t[0].type===o.ApplicationCommandOptionType.SUB_COMMAND);){var n;t=t[0].options}for(var r,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){
return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(null!==(i=t)&&void 0!==i?i:[]);!(r=a()).done;){var i;if(r.value.type===o.ApplicationCommandOptionType.ATTACHMENT)return!1}return!0};t.getFirstSkemaErrorMessage=t.executeMessageComponentInteraction=void 0;t.getInteractionInitialResponseDeadlineTimestamp=_;t.getInteractionStatusViewState=void 0;t.getInteractionTimeoutTimestamp=A;t.handleInteractionResponse=void 0;var r=p(n(795715)),a=p(n(118915)),i=p(n(786345)),o=n(81069),u=p(n(423046)),l=n(741464),s=p(n(814142)),d=n(190900),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function A(e){return null==e||""===e||Number.isNaN(e)?Date.now():r.default.extractTimestamp(e)+9e5}function _(e){return null==e||""===e||Number.isNaN(e)?Date.now():r.default.extractTimestamp(e)+3e3}t.executeMessageComponentInteraction=function(e){var t=e.componentType,n=e.messageId,i=e.messageFlags,d=e.customId,p=e.indices,f=e.applicationId,A=e.channelId,_=e.guildId,I=e.localState,v=r.default.fromTimestamp(Date.now());if(s.default.canQueueInteraction(n,v)){(0,l.addQueued)(v,{messageId:n,data:{interactionType:o.InteractionTypes.MESSAGE_COMPONENT,customId:d,indices:p},onFailure:function(e,t){return T(A,e,t)}});null!=I&&(0,l.queueInteractionComponentState)(n,v,I,p);var C={type:o.InteractionTypes.MESSAGE_COMPONENT,nonce:v,guild_id:_,channel_id:A,message_flags:i,message_id:n,application_id:f,session_id:u.default.getSessionId(),data:m({component_type:t,custom_id:d},y(I))}
;a.default.post({url:c.Endpoints.INTERACTIONS,body:C,timeout:3e3},(function(e){return E(v,e)}))}};function y(e){if(null==e)return null;if(e.type===o.ComponentType.STRING_SELECT||e.type===o.ComponentType.INPUT_TEXT)return e;var t=e.selectedOptions.map((function(e){return e.value}));return{type:e.type,values:t}}var T=function(e,t,n){null==n&&null!=t&&i.default.sendClydeError(e,t)},I=function e(t){for(var n in t){var r=t[n];if(null!=r){if("_errors"===n&&Array.isArray(r)){var a,i;return null!==(a=null===(i=r[0])||void 0===i?void 0:i.message)&&void 0!==a?a:null}if("object"==typeof r)return e(r)}}return null};t.getFirstSkemaErrorMessage=I;var v,E=function(e,t){if(!t.ok){if(!t.hasErr){if(t.status>=400&&t.status<500&&t.body){var n,r=null;if(t.body.code===c.AbortCodes.INVALID_FORM_BODY&&t.body.errors){r=I(t.body.errors);(0,l.setFailed)(e,void 0,r);return}(0,l.setFailed)(e,t.status,null===(n=t.body)||void 0===n?void 0:n.message);return}(0,l.setFailed)(e,t.body.code);return}(0,l.setFailed)(e)}}
;t.handleInteractionResponse=E;t.InteractionStatusViewState=v;!function(e){e[e.SENDING=0]="SENDING";e[e.CREATED=1]="CREATED";e[e.FAILED=2]="FAILED";e[e.TIMED_OUT=3]="TIMED_OUT"}(v||(t.InteractionStatusViewState=v={}));t.getInteractionStatusViewState=function(e,t){var n=null==t?void 0:t.state,r=e.state===c.MessageStates.SENT&&A(e.id)<Date.now(),a=e.state===c.MessageStates.SEND_FAILED&&_(e.id)<Date.now(),i=(null==t?void 0:t.data.interactionType)===o.InteractionTypes.APPLICATION_COMMAND,u=e.isCommandType();return i&&n===d.InteractionState.QUEUED||u&&e.state===c.MessageStates.SENDING?v.SENDING:i&&n===d.InteractionState.CREATED||e.hasFlag(c.MessageFlags.LOADING)&&!r?v.CREATED:null!=e.interaction&&e.hasFlag(c.MessageFlags.LOADING)&&r||null!=e.interaction&&!e.hasFlag(c.MessageFlags.LOADING)&&a?v.TIMED_OUT:u&&e.state===c.MessageStates.SEND_FAILED?v.FAILED:void 0}},612548:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ArchivedThreadListTypeAdapters=void 0
;var r,a,i=m(n(441143)),o=m(n(496486)),u=m(n(536211)),l=m(n(636602)),s=n(567186),d=m(n(644263)),c=m(n(730451)),p=n(64072),f=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var y=!1,T=!1,I=!1,v=null,E=p.ArchivedThreadListType.ALL_PUBLIC_THREADS,C=[],O=((r={})[p.ArchivedThreadListType.ALL_PUBLIC_THREADS]={matches:function(e){var t;return e.type!==f.ChannelTypes.PRIVATE_THREAD&&!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)},sortKey:function(e){var t;return null===(t=e.threadMetadata)||void 0===t?void 0:t.archiveTimestamp},endpoint:function(e){return f.Endpoints.ALL_ARCHIVED_THREADS(e,"public")}},r[p.ArchivedThreadListType.ALL_PRIVATE_THREADS]={matches:function(e){var t
;return e.type===f.ChannelTypes.PRIVATE_THREAD&&!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)},sortKey:function(e){var t;return null===(t=e.threadMetadata)||void 0===t?void 0:t.archiveTimestamp},endpoint:function(e){return f.Endpoints.ALL_ARCHIVED_THREADS(e,"private")}},r[p.ArchivedThreadListType.MY_PRIVATE_THREADS]={matches:function(e){var t;return e.type===f.ChannelTypes.PRIVATE_THREAD&&!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)&&c.default.hasJoined(e.id)},sortKey:function(e){return e.id},endpoint:function(e){return f.Endpoints.MY_ARCHIVED_THREADS(e)}},r);t.ArchivedThreadListTypeAdapters=O;function M(){y=!1;T=!1;I=!1;v=null;E=p.ArchivedThreadListType.ALL_PUBLIC_THREADS;C=[]}function N(){if(0===C.length||null==v)return!1;var e=!T,t=d.default.getChannel(C[C.length-1]),n=null==t?null:O[E].sortKey(t);C=(0,o.default)(d.default.getAllThreadsForParent(v)).filter((function(e){return e.isArchivedThread()})).filter((function(t){if(e||null==n)return!0
;var r=O[E].sortKey(t);return null!=r&&r>=n})).sortBy((function(e){return O[E].sortKey(e)})).map((function(e){return e.id})).reverse().value()}var g=[],S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(d.default,c.default)};n.isLoading=function(e,t){return v===e&&E===t&&y};n.getThreads=function(e,t){return v===e&&E===t?C:g};!function(e,t,n){t&&A(e.prototype,t);n&&A(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"canLoadMore",get:function(){return T&&!y&&!I}}]);return t}(u.default.Store);S.displayName="ArchivedThreadsStore";var h=new S(l.default,((a={})[f.ActionTypes.CONNECTION_OPEN]=M,a[f.ActionTypes.THREAD_DELETE]=function(e){return function(e){if(!(C.indexOf(e)>=0))return!1;C=C.filter((function(t){return t!==e}))}(e.channel.id)},a[f.ActionTypes.CHANNEL_DELETE]=function(e){if(e.channel.id!==v)return!1;M()},
a[f.ActionTypes.LOAD_ARCHIVED_THREADS]=function(e){e.channelId===v&&e.listType===E||M();v=e.channelId;E=e.listType;y=!0},a[f.ActionTypes.LOAD_ARCHIVED_THREADS_SUCCESS]=function(e){if(e.channelId!==v||e.listType!==E)return!1;var t=e.threads.filter((function(e){return s.ALL_CHANNEL_TYPES.has(e.type)})).map((function(e){return e.id})),n=C.length>0?d.default.getChannel(C[C.length-1]):null,r=null!=n?O[E].sortKey(n):null;if(null!=e.before&&null!=r){(0,i.default)(e.before<=r,"handleLoadArchivedThreadsSuccess - It is illegal use a `before` time that is more recent than an existing archived thread");C=C.concat(t)}else C=t;N();T=e.hasMore;y=!1},a[f.ActionTypes.LOAD_ARCHIVED_THREADS_FAIL]=function(e){if(e.channelId!==v||e.listType!==E)return!1;y=!1;I=!0},a[f.ActionTypes.RESORT_THREADS]=function(e){return(null==v||null==e.channelId||v===e.channelId)&&N()},a));t.default=h},887174:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=R(n(441143)),a=R(n(118915)),i=R(n(636602)),o=R(n(190040)),u=R(n(186705)),l=R(n(786345)),s=n(205562),d=n(844784),c=R(n(649563)),p=R(n(614293)),f=n(391869),m=n(894826),A=R(n(567186)),_=R(n(644263)),y=D(n(687549)),T=R(n(211136)),I=n(249875),v=n(956506),E=D(n(612548)),C=R(n(730451)),O=n(192751),M=n(566142),N=n(770348),g=n(173652),S=R(n(247001));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}function R(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,r,a,i,o){
try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){b(i,r,a,o,u,"next",e)}function u(e){b(i,r,a,o,u,"throw",e)}o(void 0)}))}}function L(e,t){return a.default.patch({url:N.Endpoints.CHANNEL(e.id),body:t}).then((function(t){i.default.dispatch({type:N.ActionTypes.THREAD_UPDATE,channel:A.default.fromServer(t.body),guildHashes:void 0});c.default.resort(e.parent_id);return t}))}var U={archiveThread:function(e,t){var n={archived:!0};t&&(n.locked=!0);return L(e,n)},unarchiveThread:function(e,t){return P(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r={archived:!1};t&&(r.locked=!1);n.prev=2;n.next=5;return L(e,r);case 5:return n.abrupt("return",n.sent);case 8:n.prev=8;n.t0=n.catch(2)
;(null===(a=n.t0.body)||void 0===a?void 0:a.code)===N.AbortCodes.TOO_MANY_THREADS?o.default.show({title:S.default.Messages.CANNOT_UNARCHIVE_THREAD,body:S.default.Messages.TOO_MANY_THREADS_MESSAGE}):(null===(i=n.t0.body)||void 0===i?void 0:i.code)===N.AbortCodes.TOO_MANY_ANNOUNCEMENT_THREADS?o.default.show({title:S.default.Messages.CANNOT_UNARCHIVE_THREAD,body:S.default.Messages.TOO_MANY_ANNOUNCEMENT_THREADS_MESSAGE}):429===n.t0.status?o.default.show({title:S.default.Messages.CANNOT_UNARCHIVE_THREAD,body:S.default.Messages.RATE_LIMITED}):o.default.show({title:S.default.Messages.ERROR,body:S.default.Messages.ERROR_OCCURRED_TRY_AGAIN});throw n.t0;case 12:case"end":return n.stop()}}),n,null,[[2,8]])})))()},setInvitable:function(e,t){return L(e,{invitable:t})},createThread:function(e,t,n,r,u,l,s){return P(regeneratorRuntime.mark((function d(){var c,p,f,m,A,y,T;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:
c=null!=t?N.Endpoints.CHANNEL_MESSAGE_THREADS(e.id,t):N.Endpoints.CHANNEL_THREADS(e.id);d.prev=1;d.next=4;return a.default.post({url:c,body:{name:n,type:r,auto_archive_duration:l,location:u,applied_tags:s}});case 4:p=d.sent;i.default.dispatch({type:N.ActionTypes.SLOWMODE_RESET_COOLDOWN,slowmodeType:I.SlowmodeType.CreateThread,channelId:e.id});i.default.dispatch({type:N.ActionTypes.THREAD_CREATE_LOCAL,channelId:p.body.id});d.next=13;break;case 9:d.prev=9;d.t0=d.catch(1);(null===(f=d.t0.body)||void 0===f?void 0:f.code)===N.AbortCodes.TOO_MANY_THREADS?o.default.show({title:S.default.Messages.CANNOT_CREATE_THREAD,body:S.default.Messages.TOO_MANY_THREADS_MESSAGE}):(null===(m=d.t0.body)||void 0===m?void 0:m.code)===N.AbortCodes.TOO_MANY_ANNOUNCEMENT_THREADS?o.default.show({title:S.default.Messages.CANNOT_CREATE_THREAD,body:S.default.Messages.TOO_MANY_ANNOUNCEMENT_THREADS_MESSAGE
}):(null===(A=d.t0.body)||void 0===A?void 0:A.code)===N.AbortCodes.SLOWMODE_RATE_LIMITED?(T=null!==(y=d.t0.body.retry_after)&&void 0!==y?y:0)>0&&i.default.dispatch({type:N.ActionTypes.SLOWMODE_SET_COOLDOWN,channelId:e.id,slowmodeType:I.SlowmodeType.CreateThread,cooldownMs:1e3*T}):429===d.t0.status?o.default.show({title:S.default.Messages.CANNOT_CREATE_THREAD,body:S.default.Messages.RATE_LIMITED}):o.default.show({title:S.default.Messages.ERROR,body:S.default.Messages.ERROR_OCCURRED_TRY_AGAIN});throw d.t0;case 13:return d.abrupt("return",new Promise((function(e){_.default.addConditionalChangeListener((function(){var t=_.default.getChannel(p.body.id);if(null!=t){i.default.wait((function(){e(t)}));return!1}}))})));case 14:case"end":return d.stop()}}),d,null,[[1,9]])})))()},createThreadAndMessage:function(e,t,n,r,a){var i=this;return P(regeneratorRuntime.mark((function o(){var u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:o.next=2
;return i.createThread(n,null,e,N.ChannelTypes.PUBLIC_THREAD,a,(0,O.getAutoArchiveDuration)(n,r,null));case 2:u=o.sent;l.default.sendMessage(u.id,p.default.parse(u,t));case 4:case"end":return o.stop()}}),o)})))()},joinThread:function(e,t){return P(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return a.default.post({url:N.Endpoints.THREAD_MEMBER(e.id),query:{location:t}});case 3:return n.abrupt("return",n.sent);case 6:n.prev=6;n.t0=n.catch(0);(null===(r=n.t0.body)||void 0===r?void 0:r.code)===N.AbortCodes.TOO_MANY_THREAD_MEMBERS?o.default.show({title:S.default.Messages.CANNOT_JOIN_THREAD,body:S.default.Messages.TOO_MANY_MEMBERS_MESSAGE}):o.default.show({title:S.default.Messages.ERROR,body:S.default.Messages.ERROR_OCCURRED_TRY_AGAIN});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},addMember:function(e,t,n){return P(regeneratorRuntime.mark((function r(){var i
;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return a.default.post({url:N.Endpoints.THREAD_MEMBER(e.id,t),query:{location:n}});case 3:return r.abrupt("return",r.sent);case 6:r.prev=6;r.t0=r.catch(0);(null===(i=r.t0.body)||void 0===i?void 0:i.code)===N.AbortCodes.TOO_MANY_THREAD_MEMBERS?o.default.show({title:S.default.Messages.CANNOT_ADD_USER_TO_THREAD,body:S.default.Messages.TOO_MANY_MEMBERS_MESSAGE}):o.default.show({title:S.default.Messages.ERROR,body:S.default.Messages.ERROR_OCCURRED_TRY_AGAIN});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},leaveThread:function(e,t){return a.default.delete({url:N.Endpoints.THREAD_MEMBER(e.id),query:{location:t}})},removeMember:function(e,t,n){return a.default.delete({url:N.Endpoints.THREAD_MEMBER(e.id,t),query:{location:n}})},setAutoArchiveDuration:function(e,t){return a.default.patch({url:N.Endpoints.CHANNEL(e.id),body:{auto_archive_duration:t}})},pin:function(e){
var t=e.flags|g.ChannelFlags.PINNED;return a.default.patch({url:N.Endpoints.CHANNEL(e.id),body:{flags:t}})},unpin:function(e){var t=e.flags&~g.ChannelFlags.PINNED;return a.default.patch({url:N.Endpoints.CHANNEL(e.id),body:{flags:t}})},openThreadSidebarForViewing:function(e){s.MainWindowDispatch.dispatch(N.ComponentActions.POPOUT_CLOSE);if(m.UseThreadSidebar.getSetting()&&!__OVERLAY__){(0,r.default)(null!=e.parent_id,"all threads must have parents");var t=T.default.getChannelId();e.parent_id===t||(0,g.isGuildHomeChannel)(t)||(0,f.transitionToChannel)(e.parent_id);i.default.dispatch({type:N.ActionTypes.SIDEBAR_VIEW_THREAD,baseChannelId:(0,g.isGuildHomeChannel)(t)?g.StaticChannelRoute.GUILD_HOME:e.parent_id,channelId:e.id,initialMessageId:e.id});setTimeout((function(){v.ComponentDispatch.dispatch(N.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:e.id})}),0)}else{i.default.dispatch({type:N.ActionTypes.SIDEBAR_CLOSE,baseChannelId:e.parent_id});(0,f.transitionToChannel)(e.id)}},
openThreadSidebarForCreating:function(e,t,n){(0,r.default)(!e.isForumChannel(),"cannot open thread creation sidebar in forums");(0,r.default)(!__OVERLAY__,"Cannot create threads in the overlay.");(0,d.trackWithMetadata)(N.AnalyticEvents.THREAD_CREATION_STARTED,{location:n,channel_id:e.id,guild_id:e.guild_id});s.MainWindowDispatch.dispatch(N.ComponentActions.POPOUT_CLOSE);T.default.getChannelId()!==e.id&&(0,f.transitionToChannel)(e.id);if(""===y.default.getDraft(e.id,y.DraftType.FirstThreadMessage)){var a=y.default.getDraft(e.id,y.DraftType.ChannelMessage);u.default.saveDraft(e.id,"",y.DraftType.ChannelMessage);u.default.saveDraft(e.id,a,y.DraftType.FirstThreadMessage)}setTimeout((function(){i.default.dispatch({type:N.ActionTypes.SIDEBAR_CREATE_THREAD,parentChannelId:e.id,parentMessageId:null==t?void 0:t.id,location:n})}),0)},openThreadCreationForMobile:function(e,t,n){(0,d.trackWithMetadata)(N.AnalyticEvents.THREAD_CREATION_STARTED,{location:n,channel_id:e.id,guild_id:e.guild_id})
;u.default.changeThreadSettings(e.id,{parentMessageId:t,isPrivate:!1,location:n})},closeThreadSidebar:function(e){i.default.dispatch({type:N.ActionTypes.SIDEBAR_CLOSE,baseChannelId:e})},closeAndClearThreadSidebar:function(e){i.default.dispatch({type:N.ActionTypes.SIDEBAR_CLOSE,baseChannelId:e});i.default.dispatch({type:N.ActionTypes.DRAFT_CLEAR,channelId:e,draftType:y.DraftType.FirstThreadMessage});i.default.dispatch({type:N.ActionTypes.DRAFT_CLEAR,channelId:e,draftType:y.DraftType.ThreadSettings})},setNotificationSettings:function(e,t){var n=this;return P(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(0,M.trackThreadNotificationSettingsUpdated)(e,t);if(C.default.hasJoined(e.id)){r.next=4;break}r.next=4;return n.joinThread(e,"Change Notification Settings");case 4:return r.abrupt("return",a.default.patch({url:N.Endpoints.THREAD_MEMBER_SETTINGS(e.id),body:t}));case 5:case"end":return r.stop()}}),r)})))()},
loadArchivedThreads:function(e,t,n,r){if(!E.default.isLoading(t,n)){i.default.dirtyDispatch({type:N.ActionTypes.LOAD_ARCHIVED_THREADS,channelId:t,listType:n,before:r});a.default.get({url:E.ArchivedThreadListTypeAdapters[n].endpoint(t),query:{before:r},retries:2}).then((function(a){var o=a.body,u=o.threads,l=o.members,s=o.has_more,d=o.first_messages;i.default.dispatch({type:N.ActionTypes.LOAD_ARCHIVED_THREADS_SUCCESS,guildId:e,channelId:t,listType:n,before:r,threads:u,firstMessages:d,members:(null!=l?l:[]).map((function(e){return(0,M.convertServerThreadMember)(e)})),hasMore:s})}),(function(){i.default.dispatch({type:N.ActionTypes.LOAD_ARCHIVED_THREADS_FAIL,channelId:t,listType:n,before:r})}))}}};t.default=U},192751:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.THREE_DAYS=void 0;t.getAutoArchiveDuration=function(e,t,n){
var r,a=null==e?void 0:e.isForumChannel(),i=a?c:u.DEFAULT_AUTO_ARCHIVE_DURATION,s=null!==(r=null!=n?n:null==e?void 0:e.defaultAutoArchiveDuration)&&void 0!==r?r:i,d=null!=t&&o.ThreadDurationExperiment.getCurrentConfig({guildId:t.id});if(!(s!==c||null!=t&&t.hasFeature(l.GuildFeatures.THREE_DAY_THREAD_ARCHIVE)||a||d))return u.DEFAULT_AUTO_ARCHIVE_DURATION;if(!(s!==p||null!=t&&t.hasFeature(l.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE)||d))return u.DEFAULT_AUTO_ARCHIVE_DURATION;return s};t.getAutoArchiveDurationRequiresPremiumGuildTier=function(e){var t=f(null,!0).find((function(t){return t.value===e}));return null!=(null==t?void 0:t.guildFeature)&&null!=(0,i.minimumRequiredTierForGuildFeature)(t.guildFeature)};t.getAutoArchiveDurationText=function(e){var t,n=f(null,!0).find((function(t){return t.value===e}));return null!==(t=null==n?void 0:n.label)&&void 0!==t?t:a.default.duration(e,"minutes").humanize()};t.getAutoArchiveDurations=void 0;t.getAutoArchiveOptions=f
;t.getPostAutoArchiveDuration=function(e,t){var n,r=u.DEFAULT_AUTO_ARCHIVE_DURATION;(null==t?void 0:t.hasFeature(l.GuildFeatures.THREE_DAY_THREAD_ARCHIVE))&&(r=c);var a=null!=t&&o.ThreadDurationExperiment.getCurrentConfig({guildId:t.id}),i=null!==(n=null==e?void 0:e.defaultAutoArchiveDuration)&&void 0!==n?n:r;if(!(i!==c||null!=t&&t.hasFeature(l.GuildFeatures.THREE_DAY_THREAD_ARCHIVE)||a))return r;if(!(i!==p||null!=t&&t.hasFeature(l.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE)||a))return r;return i};var r=d(n(288306)),a=d(n(730381)),i=n(682937),o=n(819235),u=n(64072),l=n(770348),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}var c=4320;t.THREE_DAYS=c;var p=10080;function f(e,t,n){var r=[{label:s.default.Messages.AUTO_ARCHIVE_DURATION_1_HOUR,value:60,guildFeature:null,enabled:!0},{label:s.default.Messages.AUTO_ARCHIVE_DURATION_24_HOURS,value:1440,guildFeature:null,enabled:!0}];return null!=e||t?[].concat(r,[{label:s.default.Messages.AUTO_ARCHIVE_DURATION_3_DAYS,value:c,
guildFeature:n?null:l.GuildFeatures.THREE_DAY_THREAD_ARCHIVE,enabled:!!n||null!=e&&e.hasFeature(l.GuildFeatures.THREE_DAY_THREAD_ARCHIVE)},{label:s.default.Messages.AUTO_ARCHIVE_DURATION_1_WEEK,value:p,guildFeature:n?null:l.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE,enabled:!!n||null!=e&&e.hasFeature(l.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE)}]):r}var m=(0,r.default)((function(e){return f(e).map((function(e){return e.value}))}));t.getAutoArchiveDurations=m},338641:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=v;t.mentionUser=I;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),i=m(n(55189)),o=n(145122),u=m(n(644263)),l=m(n(689389)),s=m(n(211136)),d=m(n(663303)),c=n(956506),p=n(770348),f=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{
for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=e.id,r=e.username,a=e.tag,o="@"+(d.default.hidePersonalInformation?r:a),u="<@!"+n+">";c.ComponentDispatch.dispatchToLastSubscribed(p.ComponentActions.INSERT_TEXT,{plainText:o,rawText:u})
;null!=t&&i.default.startTyping(t)}function v(e,t,n){var r=(0,a.useStateFromStoresArray)([s.default,u.default,l.default],(function(){var e=s.default.getChannelId(t),n=u.default.getChannel(e);return[e,null!=n&&(n.isMultiUserDM()||l.default.can(p.Permissions.SEND_MESSAGES,n))]}),[t]),i=y(r,2),d=i[0],c=i[1],m=n===p.AppContext.POPOUT;if(!c||m)return null;return _(o.MenuItem,{id:"mention",label:f.default.Messages.MENTION,action:function(){I(e,d)}})}v.displayName="useMentionUserItem"}}]);
//# sourceMappingURL=b5bad5031734900fdb2c.js.map